[{"title":"JavaScriptå•è¡Œä»£ç ","url":"/LittleWhiteRabbit/2022/04/26/1js%20%E7%AE%80%E4%BB%8B%E4%BB%A3%E7%A0%81%E6%93%8D%E4%BD%9C/","content":"<p>JavaScriptå•è¡Œä»£ç </p>\n<h2 id=\"01-éšæœºè·å–å¸ƒå°”å€¼\"><a href=\"#01-éšæœºè·å–å¸ƒå°”å€¼\" class=\"headerlink\" title=\"01-éšæœºè·å–å¸ƒå°”å€¼\"></a>01-éšæœºè·å–å¸ƒå°”å€¼</h2><p>æ­¤å‡½æ•°å°†ä½¿ç”¨Math.random()æ–¹æ³•è¿”å›å¸ƒå°”å€¼ï¼ˆçœŸæˆ–å‡ï¼‰ã€‚<br>Math.randomåˆ›å»ºä¸€ä¸ªä»‹äº0å’Œ1ä¹‹é—´çš„éšæœºæ•°ï¼Œç„¶åæˆ‘ä»¬æ£€æŸ¥å®ƒæ˜¯å¦å¤§äºæˆ–å°äº0.5ã€‚<br>è¿™æ„å‘³ç€æœ‰50&#x2F;50çš„æœºä¼šä¼šå¾—åˆ°å¯¹æˆ–é”™ã€‚</p>\n<span id=\"more\"></span>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">getRandomBoolean</span> = (<span class=\"params\"></span>) =&gt; <span class=\"title class_\">Math</span>.<span class=\"title function_\">random</span>() &gt;= <span class=\"number\">0.5</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">getRandomBoolean</span>());</span><br><span class=\"line\"><span class=\"comment\">// a 50/50 chance of returning true or false</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"02-æ£€æŸ¥æ—¥æœŸæ˜¯å¦ä¸ºå‘¨æœ«\"><a href=\"#02-æ£€æŸ¥æ—¥æœŸæ˜¯å¦ä¸ºå‘¨æœ«\" class=\"headerlink\" title=\"02-æ£€æŸ¥æ—¥æœŸæ˜¯å¦ä¸ºå‘¨æœ«\"></a>02-æ£€æŸ¥æ—¥æœŸæ˜¯å¦ä¸ºå‘¨æœ«</h2><p>é€šè¿‡æ­¤åŠŸèƒ½ï¼Œä½ å°†èƒ½å¤Ÿæ£€æŸ¥æä¾›çš„æ—¥æœŸæ˜¯å·¥ä½œæ—¥è¿˜æ˜¯å‘¨æœ«ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">isWeekend</span> = (<span class=\"params\">date</span>) =&gt; [<span class=\"number\">0</span>, <span class=\"number\">6</span>].<span class=\"title function_\">indexOf</span>(date.<span class=\"title function_\">getDay</span>()) !== -<span class=\"number\">1</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">isWeekend</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>(<span class=\"number\">2021</span>, <span class=\"number\">4</span>, <span class=\"number\">14</span>)));</span><br><span class=\"line\"><span class=\"comment\">// false (Friday)</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">isWeekend</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>(<span class=\"number\">2021</span>, <span class=\"number\">4</span>, <span class=\"number\">15</span>)));</span><br><span class=\"line\"><span class=\"comment\">// true (Saturday)</span></span><br></pre></td></tr></table></figure>\n<p>  ##03-æ£€æŸ¥æ•°å­—æ˜¯å¶æ•°è¿˜æ˜¯å¥‡æ•°<br>ç®€å•çš„å®ç”¨ç¨‹åºåŠŸèƒ½ï¼Œç”¨äºæ£€æŸ¥æ•°å­—æ˜¯å¶æ•°è¿˜æ˜¯å¥‡æ•°ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">isEven</span> = (<span class=\"params\">num</span>) =&gt; num % <span class=\"number\">2</span> === <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">isEven</span>(<span class=\"number\">5</span>));</span><br><span class=\"line\"><span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">isEven</span>(<span class=\"number\">4</span>));</span><br><span class=\"line\"><span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"04-è·å–æ•°ç»„ä¸­çš„å”¯ä¸€å€¼-æ•°ç»„å»é‡\"><a href=\"#04-è·å–æ•°ç»„ä¸­çš„å”¯ä¸€å€¼-æ•°ç»„å»é‡\" class=\"headerlink\" title=\"04-è·å–æ•°ç»„ä¸­çš„å”¯ä¸€å€¼(æ•°ç»„å»é‡)\"></a>04-è·å–æ•°ç»„ä¸­çš„å”¯ä¸€å€¼(æ•°ç»„å»é‡)</h2><p>ä»æ•°ç»„ä¸­åˆ é™¤æ‰€æœ‰é‡å¤å€¼çš„éå¸¸ç®€å•çš„æ–¹æ³•ã€‚æ­¤å‡½æ•°å°†æ•°ç»„è½¬æ¢ä¸ºSetï¼Œç„¶åè¿”å›æ•°ç»„ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">uniqueArr</span> = (<span class=\"params\">arr</span>) =&gt; [...<span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>(arr)];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">uniqueArr</span>([<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>]));</span><br><span class=\"line\"><span class=\"comment\">// [1, 2, 3, 4, 5]</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"05-æ£€æŸ¥å˜é‡æ˜¯å¦ä¸ºæ•°ç»„\"><a href=\"#05-æ£€æŸ¥å˜é‡æ˜¯å¦ä¸ºæ•°ç»„\" class=\"headerlink\" title=\"05-æ£€æŸ¥å˜é‡æ˜¯å¦ä¸ºæ•°ç»„\"></a>05-æ£€æŸ¥å˜é‡æ˜¯å¦ä¸ºæ•°ç»„</h2><p>ä¸€ç§æ£€æŸ¥å˜é‡æ˜¯å¦ä¸ºæ•°ç»„çš„å¹²å‡€ç®€ä¾¿çš„æ–¹æ³•ã€‚</p>\n<p>å½“ç„¶ï¼Œä¹Ÿå¯ä»¥æœ‰å…¶ä»–æ–¹æ³•ğŸ˜‰</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">isArray</span> = (<span class=\"params\">arr</span>) =&gt; <span class=\"title class_\">Array</span>.<span class=\"title function_\">isArray</span>(arr);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">isArray</span>([<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>]));</span><br><span class=\"line\"><span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">isArray</span>(&#123; <span class=\"attr\">name</span>: <span class=\"string\">&#x27;Ovi&#x27;</span> &#125;));</span><br><span class=\"line\"><span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">isArray</span>(<span class=\"string\">&#x27;Hello World&#x27;</span>));</span><br><span class=\"line\"><span class=\"comment\">// false</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"06-åœ¨ä¸¤ä¸ªæ•°å­—ä¹‹é—´ç”Ÿæˆä¸€ä¸ªéšæœºæ•°\"><a href=\"#06-åœ¨ä¸¤ä¸ªæ•°å­—ä¹‹é—´ç”Ÿæˆä¸€ä¸ªéšæœºæ•°\" class=\"headerlink\" title=\"06-åœ¨ä¸¤ä¸ªæ•°å­—ä¹‹é—´ç”Ÿæˆä¸€ä¸ªéšæœºæ•°\"></a>06-åœ¨ä¸¤ä¸ªæ•°å­—ä¹‹é—´ç”Ÿæˆä¸€ä¸ªéšæœºæ•°</h2><p>è¿™å°†ä»¥ä¸¤ä¸ªæ•°å­—ä¸ºå‚æ•°ï¼Œå¹¶å°†åœ¨è¿™ä¸¤ä¸ªæ•°å­—ä¹‹é—´ç”Ÿæˆä¸€ä¸ªéšæœºæ•°ï¼</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">random</span> = (<span class=\"params\">min, max</span>) =&gt; <span class=\"title class_\">Math</span>.<span class=\"title function_\">floor</span>(<span class=\"title class_\">Math</span>.<span class=\"title function_\">random</span>() * (max - min + <span class=\"number\">1</span>) + min);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">random</span>(<span class=\"number\">1</span>, <span class=\"number\">50</span>));</span><br><span class=\"line\"><span class=\"comment\">// could be anything from 1 - 50</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"07-ç”Ÿæˆéšæœºå­—ç¬¦ä¸²ï¼ˆå”¯ä¸€IDï¼Ÿï¼‰\"><a href=\"#07-ç”Ÿæˆéšæœºå­—ç¬¦ä¸²ï¼ˆå”¯ä¸€IDï¼Ÿï¼‰\" class=\"headerlink\" title=\"07-ç”Ÿæˆéšæœºå­—ç¬¦ä¸²ï¼ˆå”¯ä¸€IDï¼Ÿï¼‰\"></a>07-ç”Ÿæˆéšæœºå­—ç¬¦ä¸²ï¼ˆå”¯ä¸€IDï¼Ÿï¼‰</h2><p>ä¹Ÿè®¸ä½ éœ€è¦ä¸´æ—¶çš„å”¯ä¸€IDï¼Œè¿™æ˜¯ä¸€ä¸ªæŠ€å·§ï¼Œä½ å¯ä»¥ä½¿ç”¨å®ƒåœ¨æ—…é€”ä¸­ç”Ÿæˆéšæœºå­—ç¬¦ä¸²ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">randomString</span> = (<span class=\"params\"></span>) =&gt; <span class=\"title class_\">Math</span>.<span class=\"title function_\">random</span>().<span class=\"title function_\">toString</span>(<span class=\"number\">36</span>).<span class=\"title function_\">slice</span>(<span class=\"number\">2</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">randomString</span>());</span><br><span class=\"line\"><span class=\"comment\">// could be anything!!!</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"08-æ»šåŠ¨åˆ°é¡µé¢é¡¶éƒ¨\"><a href=\"#08-æ»šåŠ¨åˆ°é¡µé¢é¡¶éƒ¨\" class=\"headerlink\" title=\"08-æ»šåŠ¨åˆ°é¡µé¢é¡¶éƒ¨\"></a>08-æ»šåŠ¨åˆ°é¡µé¢é¡¶éƒ¨</h2><p>æ‰€è¿°window.scrollToï¼ˆï¼‰æ–¹æ³•æŠŠä¸€ä¸ªXå’ŒYåæ ‡æ»šåŠ¨åˆ°ã€‚<br>å¦‚æœå°†å®ƒä»¬è®¾ç½®ä¸ºé›¶å’Œé›¶ï¼Œæˆ‘ä»¬å°†æ»šåŠ¨åˆ°é¡µé¢é¡¶éƒ¨ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">image.<span class=\"property\">png</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">scrollToTop</span> = (<span class=\"params\"></span>) =&gt; <span class=\"variable language_\">window</span>.<span class=\"title function_\">scrollTo</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">scrollToTop</span>();</span><br></pre></td></tr></table></figure>\n<h2 id=\"09-åˆ‡æ¢å¸ƒå°”\"><a href=\"#09-åˆ‡æ¢å¸ƒå°”\" class=\"headerlink\" title=\"09-åˆ‡æ¢å¸ƒå°”\"></a>09-åˆ‡æ¢å¸ƒå°”</h2><p>åˆ‡æ¢å¸ƒå°”å€¼æ˜¯éå¸¸åŸºæœ¬çš„ç¼–ç¨‹é—®é¢˜ä¹‹ä¸€ï¼Œå¯ä»¥é€šè¿‡è®¸å¤šä¸åŒçš„æ–¹æ³•æ¥è§£å†³ã€‚<br>ä»£æ›¿ä½¿ç”¨ifè¯­å¥æ¥ç¡®å®šå°†å¸ƒå°”å€¼è®¾ç½®ä¸ºå“ªä¸ªå€¼ï¼Œä½ å¯ä»¥ä½¿ç”¨å‡½æ•°ä½¿ç”¨ï¼ç¿»è½¬å½“å‰å€¼ã€‚éè¿ç®—ç¬¦ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// bool is stored somewhere in the upperscope</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">toggleBool</span> = (<span class=\"params\"></span>) =&gt; (bool = !bool);</span><br><span class=\"line\"><span class=\"comment\">//or</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">toggleBool</span> = b =&gt; !b;</span><br></pre></td></tr></table></figure>\n<h2 id=\"10-äº¤æ¢ä¸¤ä¸ªå˜é‡\"><a href=\"#10-äº¤æ¢ä¸¤ä¸ªå˜é‡\" class=\"headerlink\" title=\"10-äº¤æ¢ä¸¤ä¸ªå˜é‡\"></a>10-äº¤æ¢ä¸¤ä¸ªå˜é‡</h2><p>ä¸‹é¢çš„ä»£ç æ˜¯ä¸ä½¿ç”¨ç¬¬ä¸‰ä¸ªå˜é‡è€Œä»…ä½¿ç”¨ä¸€è¡Œä»£ç å³å¯äº¤æ¢ä¸¤ä¸ªå˜é‡çš„æ›´ç®€å•æ–¹æ³•ä¹‹ä¸€ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">[foo, bar] = [bar, foo];</span><br></pre></td></tr></table></figure>\n<h2 id=\"11-è®¡ç®—ä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„å¤©æ•°\"><a href=\"#11-è®¡ç®—ä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„å¤©æ•°\" class=\"headerlink\" title=\"11-è®¡ç®—ä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„å¤©æ•°\"></a>11-è®¡ç®—ä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„å¤©æ•°</h2><p>è¦è®¡ç®—ä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„å¤©æ•°ï¼Œ<br>æˆ‘ä»¬é¦–å…ˆæ‰¾åˆ°ä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„ç»å¯¹å€¼ï¼Œç„¶åå°†å…¶é™¤ä»¥86400000ï¼ˆç­‰äºä¸€å¤©ä¸­çš„æ¯«ç§’æ•°ï¼‰ï¼Œæœ€åå°†ç»“æœå››èˆäº”å…¥å¹¶è¿”å›ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">daysDiff</span> = (<span class=\"params\">date, date2</span>) =&gt; <span class=\"title class_\">Math</span>.<span class=\"title function_\">ceil</span>(<span class=\"title class_\">Math</span>.<span class=\"title function_\">abs</span>(date - date2) / <span class=\"number\">86400000</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">daysDiff</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>(<span class=\"string\">&#x27;2021-05-10&#x27;</span>), <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>(<span class=\"string\">&#x27;2021-11-25&#x27;</span>)));</span><br><span class=\"line\"><span class=\"comment\">// 199</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"12-å°†æ–‡å­—å¤åˆ¶åˆ°å‰ªè´´æ¿\"><a href=\"#12-å°†æ–‡å­—å¤åˆ¶åˆ°å‰ªè´´æ¿\" class=\"headerlink\" title=\"12-å°†æ–‡å­—å¤åˆ¶åˆ°å‰ªè´´æ¿\"></a>12-å°†æ–‡å­—å¤åˆ¶åˆ°å‰ªè´´æ¿</h2><p>PSï¼šä½ å¯èƒ½éœ€è¦æ·»åŠ æ£€æŸ¥ä»¥æŸ¥çœ‹æ˜¯å¦å­˜åœ¨navigator.clipboard.writeText</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">copyTextToClipboard</span> = <span class=\"keyword\">async</span> (<span class=\"params\">text</span>) =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">await</span> navigator.<span class=\"property\">clipboard</span>.<span class=\"title function_\">writeText</span>(text);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<h2 id=\"13-åˆå¹¶å¤šä¸ªæ•°ç»„çš„ä¸åŒæ–¹æ³•\"><a href=\"#13-åˆå¹¶å¤šä¸ªæ•°ç»„çš„ä¸åŒæ–¹æ³•\" class=\"headerlink\" title=\"13-åˆå¹¶å¤šä¸ªæ•°ç»„çš„ä¸åŒæ–¹æ³•\"></a>13-åˆå¹¶å¤šä¸ªæ•°ç»„çš„ä¸åŒæ–¹æ³•</h2><p>æœ‰ä¸¤ç§åˆå¹¶æ•°ç»„çš„æ–¹æ³•ã€‚å…¶ä¸­ä¹‹ä¸€æ˜¯ä½¿ç”¨concatæ–¹æ³•ã€‚å¦ä¸€ä¸ªä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦ï¼ˆâ€¦ï¼‰ã€‚</p>\n<p>PSï¼šæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨â€œè®¾ç½®â€å¯¹è±¡ä»æœ€ç»ˆæ•°ç»„ä¸­å¤åˆ¶ä»»ä½•å†…å®¹ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Merge but don&#x27;t remove the duplications</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">merge</span> = (<span class=\"params\">a, b</span>) =&gt; a.<span class=\"title function_\">concat</span>(b);</span><br><span class=\"line\"><span class=\"comment\">// Or</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">merge</span> = (<span class=\"params\">a, b</span>) =&gt; [...a, ...b];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Merge and remove the duplications</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> merge = [...<span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>(a.<span class=\"title function_\">concat</span>(b))];</span><br><span class=\"line\"><span class=\"comment\">// Or</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> merge = [...<span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>([...a, ...b])];</span><br></pre></td></tr></table></figure>\n<h2 id=\"14-è·å–javascriptè¯­è¨€çš„å®é™…ç±»å‹\"><a href=\"#14-è·å–javascriptè¯­è¨€çš„å®é™…ç±»å‹\" class=\"headerlink\" title=\"14-è·å–javascriptè¯­è¨€çš„å®é™…ç±»å‹\"></a>14-è·å–javascriptè¯­è¨€çš„å®é™…ç±»å‹</h2><p>äººä»¬æœ‰æ—¶ä¼šä½¿ç”¨åº“æ¥æŸ¥æ‰¾JavaScriptä¸­æŸäº›å†…å®¹çš„å®é™…ç±»å‹ï¼Œè¿™ä¸€å°æŠ€å·§å¯ä»¥èŠ‚çœä½ çš„æ—¶é—´ï¼ˆå’Œä»£ç å¤§å°ï¼‰ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">trueTypeOf</span> = (<span class=\"params\">obj</span>) =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"title class_\">Object</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">toString</span>.<span class=\"title function_\">call</span>(obj).<span class=\"title function_\">slice</span>(<span class=\"number\">8</span>, -<span class=\"number\">1</span>).<span class=\"title function_\">toLowerCase</span>();</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">trueTypeOf</span>(<span class=\"string\">&#x27;&#x27;</span>));</span><br><span class=\"line\"><span class=\"comment\">// string</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">trueTypeOf</span>(<span class=\"number\">0</span>));</span><br><span class=\"line\"><span class=\"comment\">// number</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">trueTypeOf</span>());</span><br><span class=\"line\"><span class=\"comment\">// undefined</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">trueTypeOf</span>(<span class=\"literal\">null</span>));</span><br><span class=\"line\"><span class=\"comment\">// null</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">trueTypeOf</span>(&#123;&#125;));</span><br><span class=\"line\"><span class=\"comment\">// object</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">trueTypeOf</span>([]));</span><br><span class=\"line\"><span class=\"comment\">// array</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">trueTypeOf</span>(<span class=\"number\">0</span>));</span><br><span class=\"line\"><span class=\"comment\">// number</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">trueTypeOf</span>(<span class=\"function\">() =&gt;</span> &#123;&#125;));</span><br><span class=\"line\"><span class=\"comment\">// function</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"15-åœ¨ç»“å°¾å¤„æˆªæ–­å­—ç¬¦ä¸²\"><a href=\"#15-åœ¨ç»“å°¾å¤„æˆªæ–­å­—ç¬¦ä¸²\" class=\"headerlink\" title=\"15-åœ¨ç»“å°¾å¤„æˆªæ–­å­—ç¬¦ä¸²\"></a>15-åœ¨ç»“å°¾å¤„æˆªæ–­å­—ç¬¦ä¸²</h2><p>éœ€è¦ä»å¤´å¼€å§‹æˆªæ–­å­—ç¬¦ä¸²ï¼Œè¿™ä¸æ˜¯é—®é¢˜ï¼</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">truncateString</span> = (<span class=\"params\">string, length</span>) =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> string.<span class=\"property\">length</span> &lt; length ? string : <span class=\"string\">`<span class=\"subst\">$&#123;string.slice(<span class=\"number\">0</span>, length - <span class=\"number\">3</span>)&#125;</span>...`</span>;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(</span><br><span class=\"line\">  <span class=\"title function_\">truncateString</span>(<span class=\"string\">&#x27;Hi, I should be truncated because I am too loooong!&#x27;</span>, <span class=\"number\">36</span>),</span><br><span class=\"line\">);</span><br><span class=\"line\"><span class=\"comment\">// Hi, I should be truncated because...</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"16-ä»ä¸­é—´æˆªæ–­å­—ç¬¦ä¸²\"><a href=\"#16-ä»ä¸­é—´æˆªæ–­å­—ç¬¦ä¸²\" class=\"headerlink\" title=\"16-ä»ä¸­é—´æˆªæ–­å­—ç¬¦ä¸²\"></a>16-ä»ä¸­é—´æˆªæ–­å­—ç¬¦ä¸²</h2><p>ä»ä¸­é—´æˆªæ–­å­—ç¬¦ä¸²æ€ä¹ˆæ ·ï¼Ÿ</p>\n<p>è¯¥å‡½æ•°å°†ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œç„¶åå°†æˆ‘ä»¬éœ€è¦çš„å­—ç¬¦ä¸²å¤§å°ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ï¼Œç„¶åä»ç¬¬3ä¸ªå’Œç¬¬4ä¸ªå‚æ•°å¼€å§‹å’Œç»“æŸéœ€è¦å¤šå°‘ä¸ªå­—ç¬¦</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">truncateStringMiddle</span> = (<span class=\"params\">string, length, start, end</span>) =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"string\">`<span class=\"subst\">$&#123;string.slice(<span class=\"number\">0</span>, start)&#125;</span>...<span class=\"subst\">$&#123;string.slice(string.length - end)&#125;</span>`</span>;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(</span><br><span class=\"line\">  <span class=\"title function_\">truncateStringMiddle</span>(</span><br><span class=\"line\">    <span class=\"string\">&#x27;A long story goes here but then eventually ends!&#x27;</span>, <span class=\"comment\">// string</span></span><br><span class=\"line\">    <span class=\"number\">25</span>, <span class=\"comment\">// éœ€è¦çš„å­—ç¬¦ä¸²å¤§å°</span></span><br><span class=\"line\">    <span class=\"number\">13</span>, <span class=\"comment\">// ä»åŸå§‹å­—ç¬¦ä¸²ç¬¬å‡ ä½å¼€å§‹æˆªå–</span></span><br><span class=\"line\">    <span class=\"number\">17</span>, <span class=\"comment\">// ä»åŸå§‹å­—ç¬¦ä¸²ç¬¬å‡ ä½åœæ­¢æˆªå–</span></span><br><span class=\"line\">  ),</span><br><span class=\"line\">);</span><br><span class=\"line\"><span class=\"comment\">// A long story ... eventually ends!</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"17-å¤§å†™å­—ç¬¦ä¸²\"><a href=\"#17-å¤§å†™å­—ç¬¦ä¸²\" class=\"headerlink\" title=\"17-å¤§å†™å­—ç¬¦ä¸²\"></a>17-å¤§å†™å­—ç¬¦ä¸²</h2><p>å¥½å§ï¼Œä¸å¹¸çš„æ˜¯ï¼ŒJavaScriptæ²¡æœ‰å†…ç½®å‡½æ•°æ¥å¤§å†™å­—ç¬¦ä¸²ï¼Œä½†æ˜¯è¿™ç§è§£å†³æ–¹æ³•å¯ä»¥å®ç°ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">capitalize</span> = (<span class=\"params\">str</span>) =&gt; str.<span class=\"title function_\">charAt</span>(<span class=\"number\">0</span>).<span class=\"title function_\">toUpperCase</span>() + str.<span class=\"title function_\">slice</span>(<span class=\"number\">1</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">capitalize</span>(<span class=\"string\">&#x27;hello world&#x27;</span>));</span><br><span class=\"line\"><span class=\"comment\">// Hello world</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"18-æ£€æŸ¥å½“å‰é€‰é¡¹å¡æ˜¯å¦åœ¨è§†å›¾-x2F-ç„¦ç‚¹å†…\"><a href=\"#18-æ£€æŸ¥å½“å‰é€‰é¡¹å¡æ˜¯å¦åœ¨è§†å›¾-x2F-ç„¦ç‚¹å†…\" class=\"headerlink\" title=\"18-æ£€æŸ¥å½“å‰é€‰é¡¹å¡æ˜¯å¦åœ¨è§†å›¾&#x2F;ç„¦ç‚¹å†…\"></a>18-æ£€æŸ¥å½“å‰é€‰é¡¹å¡æ˜¯å¦åœ¨è§†å›¾&#x2F;ç„¦ç‚¹å†…</h2><p>æ­¤ç®€å•çš„å¸®åŠ©ç¨‹åºæ–¹æ³•æ ¹æ®é€‰é¡¹å¡æ˜¯å¦å¤„äºè§†å›¾&#x2F;ç„¦ç‚¹çŠ¶æ€è€Œè¿”å›trueæˆ–false</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">isTabInView</span> = (<span class=\"params\"></span>) =&gt; !<span class=\"variable language_\">document</span>.<span class=\"property\">hidden</span>;  <span class=\"comment\">// Not hidden</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">isTabInView</span>();</span><br><span class=\"line\"><span class=\"comment\">// true/false</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"19-æ£€æŸ¥ç”¨æˆ·æ˜¯å¦åœ¨Appleè®¾å¤‡ä¸Š\"><a href=\"#19-æ£€æŸ¥ç”¨æˆ·æ˜¯å¦åœ¨Appleè®¾å¤‡ä¸Š\" class=\"headerlink\" title=\"19-æ£€æŸ¥ç”¨æˆ·æ˜¯å¦åœ¨Appleè®¾å¤‡ä¸Š\"></a>19-æ£€æŸ¥ç”¨æˆ·æ˜¯å¦åœ¨Appleè®¾å¤‡ä¸Š</h2><p>å¦‚æœç”¨æˆ·ä½¿ç”¨çš„æ˜¯Appleè®¾å¤‡ï¼Œåˆ™è¿”å›true</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">isAppleDevice</span> = (<span class=\"params\"></span>) =&gt; <span class=\"regexp\">/Mac|iPod|iPhone|iPad/</span>.<span class=\"title function_\">test</span>(navigator.<span class=\"property\">platform</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(isAppleDevice);</span><br><span class=\"line\"><span class=\"comment\">// true/false</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"20-ä¸‰å…ƒè¿ç®—ç¬¦\"><a href=\"#20-ä¸‰å…ƒè¿ç®—ç¬¦\" class=\"headerlink\" title=\"20-ä¸‰å…ƒè¿ç®—ç¬¦\"></a>20-ä¸‰å…ƒè¿ç®—ç¬¦</h2><p>å½“ä½ åªæƒ³åœ¨ä¸€è¡Œä¸­ç¼–å†™if..elseè¯­å¥æ—¶ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä»£ç ä¿æŠ¤ç¨‹åºã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Longhand</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> age = <span class=\"number\">18</span>;</span><br><span class=\"line\"><span class=\"keyword\">let</span> greetings;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> (age &lt; <span class=\"number\">18</span>) &#123;</span><br><span class=\"line\">  greetings = <span class=\"string\">&#x27;You are not old enough&#x27;</span>;</span><br><span class=\"line\">&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">  greetings = <span class=\"string\">&#x27;You are young!&#x27;</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Shorthand</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> greetings = age &lt; <span class=\"number\">18</span> ? <span class=\"string\">&#x27;You are not old enough&#x27;</span> : <span class=\"string\">&#x27;You are young!&#x27;</span>;</span><br></pre></td></tr></table></figure>\n<h2 id=\"21-çŸ­è·¯è¯„ä¼°é€Ÿè®°\"><a href=\"#21-çŸ­è·¯è¯„ä¼°é€Ÿè®°\" class=\"headerlink\" title=\"21-çŸ­è·¯è¯„ä¼°é€Ÿè®°\"></a>21-çŸ­è·¯è¯„ä¼°é€Ÿè®°</h2><p>åœ¨å°†å˜é‡å€¼åˆ†é…ç»™å¦ä¸€ä¸ªå˜é‡æ—¶ï¼Œå¯èƒ½è¦ç¡®ä¿æºå˜é‡ä¸ä¸ºnullï¼Œæœªå®šä¹‰æˆ–ä¸ºç©ºã€‚<br>å¯ä»¥ç¼–å†™å¸¦æœ‰å¤šä¸ªæ¡ä»¶çš„long ifè¯­å¥ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨çŸ­è·¯è¯„ä¼°ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Longhand</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (name !== <span class=\"literal\">null</span> || name !== <span class=\"literal\">undefined</span> || name !== <span class=\"string\">&#x27;&#x27;</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> fullName = name;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Shorthand</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> fullName = name || <span class=\"string\">&#x27;buddy&#x27;</span>;</span><br></pre></td></tr></table></figure>\n"},{"title":"2020å¹´ä½ ä¸èƒ½ä¸çŸ¥é“çš„webpackåŸºæœ¬é…ç½®","url":"/LittleWhiteRabbit/2022/04/26/2020%E5%B9%B4%E4%BD%A0%E4%B8%8D%E8%83%BD%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84webpack%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE/","content":"<h3 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h3><p>åœ¨å¾ˆä¹…å¾ˆä¹…ä»¥å‰ï¼Œåœ¨æˆ‘ä»¬å‰ç«¯è¿˜åªæ˜¯é¡µé¢åˆ‡å›¾ä»”çš„å¹´ä»£ï¼Œæˆ‘ä»¬å¼€å‘ä¸€ä¸ªhtmlé¡µé¢ï¼Œé€šå¸¸ä¼šé‡åˆ°è¿™äº›æƒ…å†µï¼š</p>\n<ul>\n<li>éœ€è¦å¼•å…¥åå‡ ä¸ªcsså’Œjsæ–‡ä»¶ï¼Œè€Œä¸”å› ä¸ºä»–ä»¬å½¼æ­¤é—´æœ‰ç€ä¾èµ–å…³ç³»ï¼Œæ‰€ä»¥å¼•å…¥çš„é¡ºåºè¿˜ä¸èƒ½ä¹±ã€‚</li>\n<li>ä¼ ç»Ÿçš„<code>html+css+js</code>å¼€å‘æ–¹å¼ä¸èƒ½ä¸èƒ½å¾ˆå¥½åœ°è¿ç”¨<code>less/scss</code>ç­‰cssé¢„å¤„ç†å™¨ä»¥åŠ<code>ES6+</code>çš„é«˜çº§è¯­æ³•ã€‚</li>\n<li>ä»£ç å¤ç”¨æ€§å·®ï¼Œå¯ç»´æŠ¤æ€§å·®ã€‚  <span id=\"more\"></span>\næ­¤æ—¶å°±éœ€è¦ä¸€ä¸ªå¤„ç†è¿™äº›é—®é¢˜çš„å·¥å…·ï¼Œwebpackåº”è¿è€Œç”Ÿã€‚</li>\n</ul>\n<p>webpackå¯ä»¥çœ‹åšæ˜¯æ¨¡å—æ‰“åŒ…å·¥å…·ï¼šå®ƒå°†å„ç§é™æ€èµ„æºï¼ˆæ¯”å¦‚ï¼š<code>javaScript</code> æ–‡ä»¶ï¼Œå›¾ç‰‡æ–‡ä»¶ï¼Œ<code>css</code>æ–‡ä»¶ç­‰ï¼‰è§†ä¸ºæ¨¡å—ï¼Œå®ƒèƒ½å¤Ÿå¯¹è¿™äº›æ¨¡å—è¿›è¡Œè§£æä¼˜åŒ–å’Œè½¬æ¢ç­‰æ“ä½œï¼Œæœ€åå°†å®ƒä»¬æ‰“åŒ…åœ¨ä¸€èµ·ï¼Œæ‰“åŒ…åçš„æ–‡ä»¶å¯ç”¨äºåœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨ã€‚</p>\n<h3 id=\"webpackçš„ä¼˜ç‚¹ï¼š\"><a href=\"#webpackçš„ä¼˜ç‚¹ï¼š\" class=\"headerlink\" title=\"webpackçš„ä¼˜ç‚¹ï¼š\"></a>webpackçš„ä¼˜ç‚¹ï¼š</h3><ul>\n<li>ä»£ç è½¬æ¢: <code>typeScript</code> ç¼–è¯‘æˆ <code>javaScript</code>ã€<code>scssï¼Œless</code> ç¼–è¯‘æˆ <code>css</code>.</li>\n<li>æ–‡ä»¶ä¼˜åŒ–ï¼šå‹ç¼© <code>javaScript</code>ã€<code>css</code>ã€<code>html</code> ä»£ç ï¼Œå‹ç¼©åˆå¹¶å›¾ç‰‡ã€‚</li>\n<li>ä»£ç åˆ†å‰²ï¼šæå–å¤šä¸ªé¡µé¢çš„å…¬å…±ä»£ç ã€æå–é¦–å±ä¸éœ€è¦æ‰§è¡Œéƒ¨åˆ†çš„ä»£ç è®©å…¶å¼‚æ­¥åŠ è½½ã€‚</li>\n<li>æ¨¡å—åˆå¹¶ï¼šåœ¨é‡‡ç”¨æ¨¡å—åŒ–çš„é¡¹ç›®é‡Œä¼šæœ‰å¾ˆå¤šä¸ªæ¨¡å—å’Œæ–‡ä»¶ï¼Œéœ€è¦æ„å»ºåŠŸèƒ½æŠŠæ¨¡å—åˆ†ç±»åˆå¹¶æˆä¸€ä¸ªæ–‡ä»¶ã€‚</li>\n<li>è‡ªåŠ¨åˆ·æ–°ï¼šç›‘å¬æœ¬åœ°æºä»£ç çš„å˜åŒ–ï¼Œè‡ªåŠ¨é‡æ–°æ„å»ºã€åˆ·æ–°æµè§ˆå™¨ã€‚</li>\n<li>æ‰©å±•æ€§å¼ºï¼Œæ’ä»¶æœºåˆ¶å®Œå–„ã€‚</li>\n</ul>\n<h3 id=\"webpackæ‰“åŒ…è¿‡ç¨‹ï¼š\"><a href=\"#webpackæ‰“åŒ…è¿‡ç¨‹ï¼š\" class=\"headerlink\" title=\"webpackæ‰“åŒ…è¿‡ç¨‹ï¼š\"></a>webpackæ‰“åŒ…è¿‡ç¨‹ï¼š</h3><ol>\n<li>åˆ©ç”¨babelå®Œæˆä»£ç è½¬æ¢,å¹¶ç”Ÿæˆå•ä¸ªæ–‡ä»¶çš„ä¾èµ–</li>\n<li>ä»å…¥å£å¼€å§‹é€’å½’åˆ†æï¼Œå¹¶ç”Ÿæˆä¾èµ–å›¾è°±</li>\n<li>å°†å„ä¸ªå¼•ç”¨æ¨¡å—æ‰“åŒ…ä¸ºä¸€ä¸ªç«‹å³æ‰§è¡Œå‡½æ•°</li>\n<li>å°†æœ€ç»ˆçš„bundleæ–‡ä»¶å†™å…¥bundle.jsä¸­</li>\n</ol>\n<h3 id=\"Webpack-çš„å››å¤§æ ¸å¿ƒï¼š\"><a href=\"#Webpack-çš„å››å¤§æ ¸å¿ƒï¼š\" class=\"headerlink\" title=\"Webpack çš„å››å¤§æ ¸å¿ƒï¼š\"></a>Webpack çš„å››å¤§æ ¸å¿ƒï¼š</h3><ul>\n<li>entryï¼šjs å…¥å£æºæ–‡ä»¶</li>\n<li>outputï¼šç”Ÿæˆæ–‡ä»¶</li>\n<li>loaderï¼šè¿›è¡Œæ–‡ä»¶å¤„ç†</li>\n<li>pluginsï¼šæ’ä»¶ï¼Œæ¯” loader æ›´å¼ºå¤§ï¼Œèƒ½ä½¿ç”¨æ›´å¤š webpack çš„ api</li>\n</ul>\n<h2 id=\"Entry\"><a href=\"#Entry\" class=\"headerlink\" title=\"Entry\"></a>Entry</h2><p>webpack åº”è¯¥ä½¿ç”¨å“ªä¸ªæ¨¡å—åšä¸ºå…¥å£æ–‡ä»¶ï¼Œæ¥ä½œä¸ºæ„å»ºå…¶å†…éƒ¨ä¾èµ–å›¾çš„å¼€å§‹ã€‚è¿›å»å…¥å£èµ·ç‚¹åï¼Œwebpack ä¼šæ‰¾å‡ºæœ‰å“ªäº›æ¨¡å—å’Œåº“æ˜¯å…¥å£èµ·ç‚¹ï¼ˆç›´æ¥å’Œé—´æ¥ï¼‰ä¾èµ–çš„ï¼Œæ¯ä¸ªä¾èµ–é¡¹éšå³è¢«å¤„ç†ï¼Œæœ€åè¾“å‡ºåˆ°ç§°ä¹‹ä¸º bundles çš„æ–‡ä»¶ä¸­ã€‚  </p>\n<p>å•â¼Šâ¼ï¼šentry æ˜¯â¼€ä¸ªå­—ç¬¦ä¸²</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">entry</span>: <span class=\"string\">&#x27;./src/index.js&#x27;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>å¤šâ¼Šâ¼ï¼šentry æ˜¯â¼€ä¸ªå¯¹è±¡</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">entry</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">index</span>: <span class=\"string\">&#x27;./src/index.js&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">manager</span>: <span class=\"string\">&#x27;./src/manager.js&#x27;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Output\"><a href=\"#Output\" class=\"headerlink\" title=\"Output\"></a>Output</h2><p>å‘Šè¯‰ webpack åœ¨å“ªé‡Œè¾“å‡ºå®ƒæ‰€åˆ›å»ºçš„ bundlesï¼Œä»¥åŠå¦‚ä½•å‘½åè¿™äº›æ–‡ä»¶ï¼Œè¿™äº›éƒ½å¯ä»¥åœ¨webpackçš„é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šã€‚</p>\n<p>å•â¼Šâ¼é…ç½®</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">    <span class=\"attr\">entry</span>: <span class=\"string\">&#x27;./src/index.js&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">output</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">filename</span>: <span class=\"string\">&#x27;bundle.jsâ€™,</span></span><br><span class=\"line\"><span class=\"string\">        path: __dirname + &#x27;</span>/dist<span class=\"string\">&#x27;</span></span><br><span class=\"line\"><span class=\"string\">    &#125;</span></span><br><span class=\"line\"><span class=\"string\">&#125;;</span></span><br></pre></td></tr></table></figure>\n\n<p>å¤šâ¼Šâ¼é…ç½®</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">entry</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">app</span>: <span class=\"string\">&#x27;./src/app.js&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">search</span>: <span class=\"string\">&#x27;./src/search.js&#x27;</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">output</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">filename</span>: <span class=\"string\">&#x27;[name].js&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">path</span>: __dirname + <span class=\"string\">&#x27;/dist&#x27;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>é€šè¿‡[name]å ä½ç¬¦ç¡®ä¿â½‚ä»¶åç§°çš„å”¯â¼€</p>\n<h2 id=\"Loader\"><a href=\"#Loader\" class=\"headerlink\" title=\"Loader\"></a>Loader</h2><p><code>loader</code> è®© <code>webpack</code> èƒ½å¤Ÿå»å¤„ç†é‚£äº›é <code>javaScript</code> æ–‡ä»¶ï¼ˆ<code>webpack</code> è‡ªèº«åªç†è§£ <code>javaScript</code>ï¼‰ã€‚<code>loader</code> å¯ä»¥å°†æ‰€æœ‰ç±»å‹çš„æ–‡ä»¶è½¬æ¢ä¸º <code>webpack</code> èƒ½å¤Ÿå¤„ç†çš„æœ‰æ•ˆæ¨¡å—ï¼Œç„¶åä½ å°±å¯ä»¥åˆ©ç”¨ <code>webpack</code> çš„æ‰“åŒ…èƒ½åŠ›ï¼Œå¯¹å®ƒä»¬è¿›è¡Œå¤„ç†ã€‚</p>\n<h3 id=\"loaderçš„ç‰¹ç‚¹\"><a href=\"#loaderçš„ç‰¹ç‚¹\" class=\"headerlink\" title=\"loaderçš„ç‰¹ç‚¹\"></a>loaderçš„ç‰¹ç‚¹</h3><ul>\n<li>ä¸€ä¸ªLoader çš„èŒè´£æ˜¯å•ä¸€çš„ï¼Œåªéœ€è¦å®Œæˆä¸€ç§è½¬æ¢</li>\n<li>ä¸€ä¸ªLoader å…¶å®å°±æ˜¯ä¸€ä¸ªNode.js æ¨¡å—ï¼Œè¿™ä¸ªæ¨¡å—éœ€è¦å¯¼å‡ºä¸€ä¸ªå‡½æ•°</li>\n<li>loader æ€»æ˜¯ä»å³åˆ°å·¦åœ°è¢«è°ƒç”¨ã€‚</li>\n</ul>\n<h3 id=\"å¸¸ç”¨çš„loader\"><a href=\"#å¸¸ç”¨çš„loader\" class=\"headerlink\" title=\"å¸¸ç”¨çš„loader\"></a>å¸¸ç”¨çš„loader</h3><h4 id=\"å¤„ç†æ ·å¼\"><a href=\"#å¤„ç†æ ·å¼\" class=\"headerlink\" title=\"å¤„ç†æ ·å¼\"></a>å¤„ç†æ ·å¼</h4><ul>\n<li><code>css-loader</code>: åŠ è½½.css æ–‡ä»¶ï¼Œ</li>\n<li><code>style-loader</code>:ä½¿ç”¨ style æ ‡ç­¾å°† <code>css-loader</code> å†…éƒ¨æ ·å¼æ³¨å…¥åˆ°æˆ‘ä»¬çš„ html é¡µé¢</li>\n<li><code>less-loader, sass-loader</code>: è§£æcssé¢„å¤„ç†å™¨</li>\n</ul>\n<h4 id=\"å¤„ç†-js\"><a href=\"#å¤„ç†-js\" class=\"headerlink\" title=\"å¤„ç† js\"></a>å¤„ç† js</h4><ul>\n<li>è®©ä½ èƒ½ä½¿ç”¨æœ€æ–°çš„jsä»£ç ï¼ˆES6ï¼ŒES7â€¦ï¼‰</li>\n<li>è®©ä½ èƒ½ä½¿ç”¨åŸºäºjsè¿›è¡Œäº†æ‹“å±•çš„è¯­è¨€ï¼Œæ¯”å¦‚Reactçš„JSXï¼›</li>\n</ul>\n<h4 id=\"å¤„ç†æ–‡ä»¶\"><a href=\"#å¤„ç†æ–‡ä»¶\" class=\"headerlink\" title=\"å¤„ç†æ–‡ä»¶\"></a>å¤„ç†æ–‡ä»¶</h4><p>å¤„ç†å›¾ç‰‡èµ„æºæ—¶ï¼Œæˆ‘ä»¬å¸¸ç”¨çš„ä¸¤ç§loaderæ˜¯<code>file-loader</code>æˆ–è€…<code>url-loader</code>ï¼Œä¸¤è€…çš„ä¸»è¦å·®å¼‚åœ¨äºã€‚<code>url-loader</code>å¯ä»¥è®¾ç½®å›¾ç‰‡å¤§å°é™åˆ¶ï¼Œå½“å›¾ç‰‡è¶…è¿‡é™åˆ¶æ—¶ï¼Œå…¶è¡¨ç°è¡Œä¸ºç­‰åŒäº<code>file-loader</code>ï¼Œè€Œå½“å›¾ç‰‡ä¸è¶…è¿‡é™åˆ¶æ—¶ï¼Œåˆ™ä¼šå°†å›¾ç‰‡ä»¥<code>base64</code>çš„å½¢å¼æ‰“åŒ…è¿›cssæ–‡ä»¶ï¼Œä»¥å‡å°‘è¯·æ±‚æ¬¡æ•°</p>\n<h4 id=\"å¤„ç†-vueæ–‡ä»¶\"><a href=\"#å¤„ç†-vueæ–‡ä»¶\" class=\"headerlink\" title=\"å¤„ç†.vueæ–‡ä»¶\"></a>å¤„ç†.vueæ–‡ä»¶</h4><p><code>vue-loader</code> æ˜¯ <code>webpack</code> çš„åŠ è½½å™¨æ¨¡å—ï¼Œå®ƒä½¿æˆ‘ä»¬å¯ä»¥ç”¨ <code>.vue</code> æ–‡ä»¶æ ¼å¼ç¼–å†™å•æ–‡ä»¶ç»„ä»¶ã€‚å•æ–‡ä»¶ç»„ä»¶æ–‡ä»¶æœ‰ä¸‰ä¸ªéƒ¨åˆ†ï¼Œå³æ¨¡æ¿ã€è„šæœ¬å’Œæ ·å¼ã€‚ <code>vue-loader</code> æ¨¡å—å…è®¸ <code>webpack</code> ä½¿ç”¨å•ç‹¬çš„åŠ è½½å™¨æ¨¡å—ï¼ˆä¾‹å¦‚ <code>sass æˆ– scss åŠ è½½å™¨</code>ï¼‰æå–å’Œå¤„ç†æ¯ä¸ªéƒ¨åˆ†ã€‚è¯¥è®¾ç½®ä½¿æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>.vue</code> æ–‡ä»¶æ— ç¼ç¼–å†™ç¨‹åºã€‚</p>\n<h3 id=\"å¼€å‘ä¸€ä¸ªloader\"><a href=\"#å¼€å‘ä¸€ä¸ªloader\" class=\"headerlink\" title=\"å¼€å‘ä¸€ä¸ªloader\"></a>å¼€å‘ä¸€ä¸ªloader</h3><!-- 1. åŸºæœ¬å½¢å¼\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = <span class=\"keyword\">function</span> (<span class=\"params\">source </span>) &#123; </span><br><span class=\"line\">  <span class=\"keyword\">return</span> source; </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li>è°ƒç”¨ç¬¬ä¸‰æ–¹æ¨¡å—<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> sass= <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;node-sass&#x27;</span>); </span><br><span class=\"line\">  <span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = <span class=\"keyword\">function</span> (<span class=\"params\">source</span>) &#123; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"title function_\">sass</span>(source);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"string\">``</span><span class=\"string\">` --&gt;</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">éœ€æ±‚ï¼šæ‰‹å†™ä¸€ä¸ª `</span><span class=\"string\">`loader`</span><span class=\"string\">`ï¼Œå°† `</span><span class=\"string\">`&#x27;kobe&#x27;`</span><span class=\"string\">` è½¬æ¢æˆ `</span><span class=\"string\">`&#x27;Black Mamba&#x27;`</span><span class=\"string\">`ã€‚å½“ç„¶å¤§å®¶å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚è¿›è¡Œè®¾è®¡ã€‚è¿™é‡Œåªæ˜¯è®²è§£æ–¹æ³•ã€‚</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">#### 1ã€ç¼–å†™ loader</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">åœ¨æ ¹ç›®å½•ä¸‹ï¼Œæ–°å»ºç›®å½• `</span><span class=\"string\">`kobe-loader`</span><span class=\"string\">` ä½œä¸ºæˆ‘ä»¬ç¼–å†™ `</span><span class=\"string\">`loader`</span><span class=\"string\">` çš„åç§°ï¼Œæ‰§è¡Œ `</span><span class=\"string\">`npm init -y`</span><span class=\"string\">` å‘½ä»¤ï¼Œæ–°å»ºä¸€ä¸ªæ¨¡å—åŒ–é¡¹ç›®ï¼Œç„¶åæ–°å»º `</span><span class=\"string\">`index.js`</span><span class=\"string\">` æ–‡ä»¶ï¼Œç›¸å…³æºç å¦‚ä¸‹ï¼š</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">`</span><span class=\"string\">``</span>js</span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = <span class=\"keyword\">function</span>(<span class=\"params\">content</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> content &amp;&amp; content.<span class=\"title function_\">replace</span>(<span class=\"regexp\">/kobe/gi</span>, <span class=\"string\">&#x27;Black Mamba&#x27;</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n</ol>\n<h4 id=\"2ã€æ³¨å†Œæ¨¡å—\"><a href=\"#2ã€æ³¨å†Œæ¨¡å—\" class=\"headerlink\" title=\"2ã€æ³¨å†Œæ¨¡å—\"></a>2ã€æ³¨å†Œæ¨¡å—</h4><p>æ­£å¸¸æˆ‘ä»¬å®‰è£…çš„ <code>loader</code> æ˜¯ä» <code>npm</code> ä¸‹è½½å®‰è£…ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥åœ¨ <code>kobe-loader</code> ç›®å½•åº•ä¸‹ä½¿ç”¨ <code>npm link</code> åšåˆ°åœ¨ä¸å‘å¸ƒæ¨¡å—çš„æƒ…å†µä¸‹ï¼Œå°†æœ¬åœ°çš„ä¸€ä¸ªæ­£åœ¨å¼€å‘çš„æ¨¡å—çš„æºç é“¾æ¥åˆ°é¡¹ç›®çš„ <code>node_modules</code> ç›®å½•ä¸‹ï¼Œè®©é¡¹ç›®å¯ä»¥ç›´æ¥ä½¿ç”¨æœ¬åœ°çš„ <code>npm</code> æ¨¡å—ã€‚</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm link</span><br></pre></td></tr></table></figure>\n\n<p>ç„¶ååœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå°†æ³¨å†Œåˆ°å…¨å±€çš„æœ¬åœ° <code>npm</code> æ¨¡å—é“¾æ¥åˆ°é¡¹ç›®çš„ <code>node_modules</code> ä¸‹</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">$ npm link kobe-loader</span><br></pre></td></tr></table></figure>\n\n<p>æ³¨å†ŒæˆåŠŸåï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ <code>node_modules</code> ç›®å½•ä¸‹èƒ½æŸ¥æ‰¾åˆ°å¯¹åº”çš„ <code>loader</code>ã€‚</p>\n<h4 id=\"3ã€åœ¨-webpack-ä¸­é…ç½®-loader\"><a href=\"#3ã€åœ¨-webpack-ä¸­é…ç½®-loader\" class=\"headerlink\" title=\"3ã€åœ¨ webpack ä¸­é…ç½® loader\"></a>3ã€åœ¨ webpack ä¸­é…ç½® loader</h4><p>åœ¨ <code>webpack.base.conf.js</code> åŠ ä¸Šå¦‚ä¸‹é…ç½®</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">test</span>:<span class=\"regexp\">/\\.js/</span>,</span><br><span class=\"line\">  <span class=\"attr\">loader</span>: <span class=\"string\">&#x27;kobe-loader&#x27;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æ­¤æ—¶ï¼Œæˆ‘ä»¬åœ¨æ‰€æœ‰ js æ–‡ä»¶ä¸‹ä¹¦å†™çš„ <code>&#39;kobe&#39;</code> å°±å…¨éƒ¨æ›¿æ¢æˆ <code>&#39;Black Mamba&#39;</code>äº†ã€‚</p>\n<h4 id=\"4ã€é…ç½®å‚æ•°\"><a href=\"#4ã€é…ç½®å‚æ•°\" class=\"headerlink\" title=\"4ã€é…ç½®å‚æ•°\"></a>4ã€é…ç½®å‚æ•°</h4><p>ä¸Šé¢æˆ‘ä»¬æ˜¯å†™æ­»çš„æ›¿æ¢æ–‡æ¡ˆï¼Œå‡å¦‚æˆ‘æƒ³é€šè¿‡é…ç½®é¡¹æ¥æ”¹å˜ï¼Œå¯ä»¥åœ¨ loader ä¸­åšä»¥ä¸‹è°ƒæ•´</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// custom-loader/index.js</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> utils = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;loader-utils&#x27;</span>)</span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = <span class=\"keyword\">function</span> (<span class=\"params\">content</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> options = utils.<span class=\"title function_\">getOptions</span>(<span class=\"variable language_\">this</span>)</span><br><span class=\"line\">  <span class=\"keyword\">return</span> content &amp;&amp; content.<span class=\"title function_\">replace</span>(<span class=\"regexp\">/kobe/gi</span>, options.<span class=\"property\">name</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// webpack.base.conf.js</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">test</span>:<span class=\"regexp\">/\\.js/</span>,</span><br><span class=\"line\">  <span class=\"attr\">use</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">loader</span>: <span class=\"string\">&#x27;kobe-loader&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">options</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">name</span>: <span class=\"string\">&#x27;kobe&#x27;</span>,</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n<h2 id=\"Plugin\"><a href=\"#Plugin\" class=\"headerlink\" title=\"Plugin\"></a>Plugin</h2><p>ä¸“æ³¨å¤„ç† webpack åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­çš„æŸä¸ªç‰¹å®šçš„ä»»åŠ¡çš„åŠŸèƒ½æ¨¡å—ï¼Œå¯ä»¥ç§°ä¸ºæ’ä»¶ã€‚</p>\n<h3 id=\"Plugin-çš„ç‰¹ç‚¹\"><a href=\"#Plugin-çš„ç‰¹ç‚¹\" class=\"headerlink\" title=\"Plugin çš„ç‰¹ç‚¹\"></a>Plugin çš„ç‰¹ç‚¹</h3><ul>\n<li>æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æ¨¡å—</li>\n<li>æ¨¡å—å¯¹å¤–æš´éœ²ä¸€ä¸ª js å‡½æ•°</li>\n<li>å‡½æ•°çš„åŸå‹ <code>(prototype)</code> ä¸Šå®šä¹‰äº†ä¸€ä¸ªæ³¨å…¥ <code>compiler</code> å¯¹è±¡çš„ <code>apply </code>æ–¹æ³• <code>apply</code> å‡½æ•°ä¸­éœ€è¦æœ‰é€šè¿‡ <code>compiler</code> å¯¹è±¡æŒ‚è½½çš„ <code>webpack</code> äº‹ä»¶é’©å­ï¼Œé’©å­çš„å›è°ƒä¸­èƒ½æ‹¿åˆ°å½“å‰ç¼–è¯‘çš„ <code>compilation</code> å¯¹è±¡ï¼Œå¦‚æœæ˜¯å¼‚æ­¥ç¼–è¯‘æ’ä»¶çš„è¯å¯ä»¥æ‹¿åˆ°å›è°ƒ <code>callback</code></li>\n<li>å®Œæˆè‡ªå®šä¹‰å­ç¼–è¯‘æµç¨‹å¹¶å¤„ç† <code>complition</code> å¯¹è±¡çš„å†…éƒ¨æ•°æ®</li>\n<li>å¦‚æœå¼‚æ­¥ç¼–è¯‘æ’ä»¶çš„è¯ï¼Œæ•°æ®å¤„ç†å®Œæˆåæ‰§è¡Œ <code>callback</code> å›è°ƒã€‚</li>\n</ul>\n<h3 id=\"å¸¸ç”¨Plugin\"><a href=\"#å¸¸ç”¨Plugin\" class=\"headerlink\" title=\"å¸¸ç”¨Plugin\"></a>å¸¸ç”¨Plugin</h3><ul>\n<li><p><code>HotModuleReplacementPlugin</code> ä»£ç çƒ­æ›¿æ¢ã€‚å› ä¸º <code>Hot-Module-Replacement</code> çš„çƒ­æ›´æ–°æ˜¯ä¾èµ–äº <code>webpack-dev-server</code>ï¼Œåè€…æ˜¯åœ¨æ‰“åŒ…æ–‡ä»¶æ”¹å˜æ—¶æ›´æ–°æ‰“åŒ…æ–‡ä»¶æˆ–è€… reload åˆ·æ–°æ•´ä¸ªé¡µé¢ï¼Œ<code>HRM</code> æ˜¯åªæ›´æ–°ä¿®æ”¹çš„éƒ¨åˆ†ã€‚</p>\n</li>\n<li><p><code>HtmlWebpackPlugin</code>, ç”Ÿæˆ html æ–‡ä»¶ã€‚å°† webpack ä¸­<code>entry</code>é…ç½®çš„ç›¸å…³å…¥å£ chunk å’Œ <code>extract-text-webpack-plugin</code>æŠ½å–çš„ css æ ·å¼ æ’å…¥åˆ°è¯¥æ’ä»¶æä¾›çš„<code>template</code>æˆ–è€…<code>templateContent</code>é…ç½®é¡¹æŒ‡å®šçš„å†…å®¹åŸºç¡€ä¸Šç”Ÿæˆä¸€ä¸ª html æ–‡ä»¶ï¼Œå…·ä½“æ’å…¥æ–¹å¼æ˜¯å°†æ ·å¼<code>link</code>æ’å…¥åˆ°<code>head</code>å…ƒç´ ä¸­ï¼Œ<code>script</code>æ’å…¥åˆ°<code>head</code>æˆ–è€…<code>body</code>ä¸­ã€‚</p>\n</li>\n<li><p><code>ExtractTextPlugin</code>, å°† css æˆç”Ÿæ–‡ä»¶ï¼Œè€Œéå†…è” ã€‚è¯¥æ’ä»¶çš„ä¸»è¦æ˜¯ä¸ºäº†æŠ½ç¦» css æ ·å¼,é˜²æ­¢å°†æ ·å¼æ‰“åŒ…åœ¨ js ä¸­å¼•èµ·é¡µé¢æ ·å¼åŠ è½½é”™ä¹±çš„ç°è±¡ã€‚</p>\n</li>\n<li><p><code>NoErrorsPlugin</code>æŠ¥é”™ä½†ä¸é€€å‡º webpack è¿›ç¨‹</p>\n</li>\n<li><p><code>UglifyJsPlugin</code>ï¼Œä»£ç ä¸‘åŒ–ï¼Œå¼€å‘è¿‡ç¨‹ä¸­ä¸å»ºè®®æ‰“å¼€ã€‚ <code>uglifyJsPlugin</code> ç”¨æ¥å¯¹ js æ–‡ä»¶è¿›è¡Œå‹ç¼©ï¼Œä»è€Œå‡å° js æ–‡ä»¶çš„å¤§å°ï¼ŒåŠ é€Ÿ load é€Ÿåº¦ã€‚<code>uglifyJsPlugin</code> ä¼šæ‹–æ…¢ webpack çš„ç¼–è¯‘é€Ÿåº¦ï¼Œæ‰€æœ‰å»ºè®®åœ¨å¼€å‘ç®€å•å°†å…¶å…³é—­ï¼Œéƒ¨ç½²çš„æ—¶å€™å†å°†å…¶æ‰“å¼€ã€‚å¤šä¸ª html å…±ç”¨ä¸€ä¸ª js æ–‡ä»¶(chunk)ï¼Œå¯ç”¨ <code>CommonsChunkPlugin</code></p>\n</li>\n<li><p><code>purifycss-webpack</code>Â  ã€‚æ‰“åŒ…ç¼–è¯‘æ—¶ï¼Œå¯å‰”é™¤é¡µé¢å’Œ js ä¸­æœªè¢«ä½¿ç”¨çš„ cssï¼Œè¿™æ ·ä½¿ç”¨ç¬¬ä¸‰æ–¹çš„ç±»åº“æ—¶ï¼ŒåªåŠ è½½è¢«ä½¿ç”¨çš„ç±»ï¼Œå¤§å¤§å‡å° css ä½“ç§¯</p>\n</li>\n<li><p><code>optimize-css-assets-webpack-plugin</code> Â  å‹ç¼© cssï¼Œä¼˜åŒ– css ç»“æ„ï¼Œåˆ©äºç½‘é¡µåŠ è½½å’Œæ¸²æŸ“</p>\n</li>\n<li><p><code>webpack-parallel-uglify-plugin</code> Â  å¯ä»¥å¹¶è¡Œè¿è¡Œ UglifyJS æ’ä»¶ï¼Œè¿™å¯ä»¥æœ‰æ•ˆå‡å°‘æ„å»ºæ—¶é—´</p>\n</li>\n</ul>\n<h3 id=\"å¼€å‘ä¸€ä¸ª-plugin\"><a href=\"#å¼€å‘ä¸€ä¸ª-plugin\" class=\"headerlink\" title=\"å¼€å‘ä¸€ä¸ª plugin\"></a>å¼€å‘ä¸€ä¸ª plugin</h3><ul>\n<li>Webpack åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­ï¼Œä¼šå¹¿æ’­å¾ˆå¤šäº‹ä»¶ï¼Œä¾‹å¦‚ runã€compileã€doneã€fail ç­‰ç­‰ï¼Œå¯ä»¥æŸ¥çœ‹å®˜ç½‘ï¼›</li>\n<li>Webpack çš„äº‹ä»¶æµæœºåˆ¶åº”ç”¨äº†è§‚å¯Ÿè€…æ¨¡å¼ï¼Œæˆ‘ä»¬ç¼–å†™çš„æ’ä»¶å¯ä»¥ç›‘å¬ Webpack äº‹ä»¶æ¥è§¦å‘å¯¹åº”çš„å¤„ç†é€»è¾‘ï¼›</li>\n<li>æ’ä»¶ä¸­å¯ä»¥ä½¿ç”¨å¾ˆå¤š Webpack æä¾›çš„ APIï¼Œä¾‹å¦‚è¯»å–è¾“å‡ºèµ„æºã€ä»£ç å—ã€æ¨¡å—åŠä¾èµ–ç­‰ï¼›</li>\n</ul>\n<h4 id=\"1ã€ç¼–å†™æ’ä»¶\"><a href=\"#1ã€ç¼–å†™æ’ä»¶\" class=\"headerlink\" title=\"1ã€ç¼–å†™æ’ä»¶\"></a>1ã€ç¼–å†™æ’ä»¶</h4><p>åœ¨æ ¹ç›®å½•ä¸‹ï¼Œæ–°å»ºç›®å½• my-plugin ä½œä¸ºæˆ‘ä»¬ç¼–å†™æ’ä»¶çš„åç§°ï¼Œæ‰§è¡Œ npm init -y å‘½ä»¤ï¼Œæ–°å»ºä¸€ä¸ªæ¨¡å—åŒ–é¡¹ç›®ï¼Œç„¶åæ–°å»º index.js æ–‡ä»¶ï¼Œç›¸å…³æºç å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">MyPlugin</span> &#123;</span><br><span class=\"line\">  <span class=\"title function_\">constructor</span>(<span class=\"params\">doneCallback, failCallback</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// ä¿å­˜åœ¨åˆ›å»ºæ’ä»¶å®ä¾‹æ—¶ä¼ å…¥çš„å›è°ƒå‡½æ•°</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">doneCallback</span> = doneCallback</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">failCallback</span> = failCallback</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"title function_\">apply</span>(<span class=\"params\">compiler</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// æˆåŠŸå®Œæˆä¸€æ¬¡å®Œæ•´çš„ç¼–è¯‘å’Œè¾“å‡ºæµç¨‹æ—¶ï¼Œä¼šè§¦å‘ done äº‹ä»¶</span></span><br><span class=\"line\">    compiler.<span class=\"title function_\">plugin</span>(<span class=\"string\">&#x27;done&#x27;</span>, <span class=\"function\"><span class=\"params\">stats</span> =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"title function_\">doneCallback</span>(stats)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    <span class=\"comment\">// åœ¨ç¼–è¯‘å’Œè¾“å‡ºçš„æµç¨‹ä¸­é‡åˆ°å¼‚å¸¸æ—¶ï¼Œä¼šè§¦å‘ failed äº‹ä»¶</span></span><br><span class=\"line\">    compiler.<span class=\"title function_\">plugin</span>(<span class=\"string\">&#x27;failed&#x27;</span>, <span class=\"function\"><span class=\"params\">err</span> =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"title function_\">failCallback</span>(err)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = <span class=\"title class_\">MyPlugin</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"2ã€æ³¨å†Œæ¨¡å—-1\"><a href=\"#2ã€æ³¨å†Œæ¨¡å—-1\" class=\"headerlink\" title=\"2ã€æ³¨å†Œæ¨¡å—\"></a>2ã€æ³¨å†Œæ¨¡å—</h4><p>æŒ‰ç…§ä»¥ä¸Šçš„æ–¹æ³•ï¼Œæˆ‘ä»¬åœ¨ my-plugin ç›®å½•åº•ä¸‹ä½¿ç”¨ npm link åšåˆ°åœ¨ä¸å‘å¸ƒæ¨¡å—çš„æƒ…å†µä¸‹ï¼Œå°†æœ¬åœ°çš„ä¸€ä¸ªæ­£åœ¨å¼€å‘çš„æ¨¡å—çš„æºç é“¾æ¥åˆ°é¡¹ç›®çš„ node_modules ç›®å½•ä¸‹ï¼Œè®©é¡¹ç›®å¯ä»¥ç›´æ¥ä½¿ç”¨æœ¬åœ°çš„ npm æ¨¡å—ã€‚</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm link</span><br></pre></td></tr></table></figure>\n\n<p>ç„¶ååœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå°†æ³¨å†Œåˆ°å…¨å±€çš„æœ¬åœ° npm æ¨¡å—é“¾æ¥åˆ°é¡¹ç›®çš„ node_modules ä¸‹</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">$ npm link my-plugin</span><br></pre></td></tr></table></figure>\n\n<p>æ³¨å†ŒæˆåŠŸåï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ node_modules ç›®å½•ä¸‹èƒ½æŸ¥æ‰¾åˆ°å¯¹åº”çš„æ’ä»¶äº†ã€‚</p>\n<h4 id=\"3ã€é…ç½®æ’ä»¶\"><a href=\"#3ã€é…ç½®æ’ä»¶\" class=\"headerlink\" title=\"3ã€é…ç½®æ’ä»¶\"></a>3ã€é…ç½®æ’ä»¶</h4><p>åœ¨ webpack.base.conf.js åŠ ä¸Šå¦‚ä¸‹é…ç½®</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">  <span class=\"keyword\">new</span> <span class=\"title class_\">MyPlugin</span>(</span><br><span class=\"line\">    <span class=\"function\"><span class=\"params\">stats</span> =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">info</span>(<span class=\"string\">&#x27;ç¼–è¯‘æˆåŠŸ!&#x27;</span>)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"function\"><span class=\"params\">err</span> =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">error</span>(<span class=\"string\">&#x27;ç¼–è¯‘å¤±è´¥!&#x27;</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  )</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n<p>æ‰§è¡Œè¿è¡Œ or ç¼–è¯‘å‘½ä»¤ï¼Œå°±èƒ½çœ‹åˆ°æˆ‘ä»¬çš„ plugin èµ·ä½œç”¨äº†ã€‚</p>\n"},{"title":"css","url":"/LittleWhiteRabbit/2022/04/26/CSS%E7%9B%92%E6%A8%A1%E5%9E%8B%E5%8F%8ABFC/","content":"<h2 id=\"é¢˜ç›®ï¼šè°ˆä¸€è°ˆä½ å¯¹CSSç›’æ¨¡å‹çš„è®¤è¯†\"><a href=\"#é¢˜ç›®ï¼šè°ˆä¸€è°ˆä½ å¯¹CSSç›’æ¨¡å‹çš„è®¤è¯†\" class=\"headerlink\" title=\"é¢˜ç›®ï¼šè°ˆä¸€è°ˆä½ å¯¹CSSç›’æ¨¡å‹çš„è®¤è¯†\"></a>é¢˜ç›®ï¼šè°ˆä¸€è°ˆä½ å¯¹CSSç›’æ¨¡å‹çš„è®¤è¯†</h2><blockquote>\n<p>ä¸“ä¸šçš„é¢è¯•ï¼Œä¸€å®šä¼šé—® <code>CSS</code> ç›’æ¨¡å‹ã€‚å¯¹äºè¿™ä¸ªé¢˜ç›®ï¼Œæˆ‘ä»¬è¦å›ç­”ä¸€ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p>\n</blockquote>\n<ol>\n<li><p>åŸºæœ¬æ¦‚å¿µï¼š<code>content</code>ã€<code>padding</code>ã€<code>margin</code></p>\n</li>\n<li><p>æ ‡å‡†ç›’æ¨¡å‹ã€<code>IE</code>ç›’æ¨¡å‹çš„åŒºåˆ«ã€‚ä¸è¦æ¼è¯´äº†<code>IE</code>ç›’æ¨¡å‹ï¼Œé€šè¿‡è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥ç­›é€‰ä¸€éƒ¨åˆ†äºº</p>\n</li>\n<li><p><code>CSS</code>å¦‚ä½•è®¾ç½®è¿™ä¸¤ç§æ¨¡å‹ï¼ˆå³ï¼šå¦‚ä½•è®¾ç½®æŸä¸ªç›’å­ä¸ºå…¶ä¸­ä¸€ä¸ªæ¨¡å‹ï¼‰ï¼Ÿå¦‚æœå›ç­”äº†ä¸Šé¢çš„ç¬¬äºŒæ¡ï¼Œè¿˜ä¼šç»§ç»­è¿½é—®è¿™ä¸€æ¡ã€‚</p>\n</li>\n<li><p><code>JS</code>å¦‚ä½•è®¾ç½®ã€è·å–ç›’æ¨¡å‹å¯¹åº”çš„å®½å’Œé«˜ï¼Ÿè¿™ä¸€æ­¥ï¼Œå·²ç»æœ‰å¾ˆå¤šäººç­”ä¸ä¸Šæ¥äº†ã€‚</p>\n</li>\n<li><p>å®ä¾‹é¢˜ï¼šæ ¹æ®ç›’æ¨¡å‹è§£é‡Š<strong>è¾¹è·é‡å </strong>ã€‚</p>\n<span id=\"more\"></span>\n<blockquote>\n<p>å‰å››ä¸ªæ–¹é¢æ˜¯é€æ¸é€’å¢ï¼Œç¬¬äº”ä¸ªæ–¹é¢ï¼Œå´é²œæœ‰äººçŸ¥ã€‚</p>\n</blockquote>\n</li>\n<li><p><code>BFC</code>ï¼ˆè¾¹è·é‡å è§£å†³æ–¹æ¡ˆï¼‰æˆ–<code>IFC</code>ã€‚</p>\n</li>\n</ol>\n<blockquote>\n<p>å¦‚æœèƒ½å›ç­”ç¬¬äº”æ¡ï¼Œå°±ä¼šå¼•å‡ºç¬¬å…­æ¡ã€‚<code>BFC</code>æ˜¯é¢è¯•é¢‘ç‡è¾ƒé«˜çš„ã€‚</p>\n</blockquote>\n<p><strong>æ€»ç»“</strong>ï¼šä»¥ä¸Šå‡ ç‚¹ï¼Œä»ä¸Šåˆ°ä¸‹ï¼ŒçŸ¥è¯†ç‚¹é€æ¸é€’å¢ï¼ŒçŸ¥è¯†é¢ä»ç†è®ºã€<code>CSS</code>ã€<code>JS</code>ï¼Œåˆå›åˆ°<code>CSS</code>ç†è®º</p>\n<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æŠŠä¸Šé¢çš„å…­æ¡ï¼Œä¾æ¬¡è®²è§£ã€‚</p>\n<p><strong>æ ‡å‡†ç›’æ¨¡å‹å’ŒIEç›’å­æ¨¡å‹</strong></p>\n<p>æ ‡å‡†ç›’å­æ¨¡å‹ï¼š</p>\n<p><img src=\"http://img.smyhvae.com/2015-10-03-css-27.jpg\"></p>\n<p><code>IE</code>ç›’å­æ¨¡å‹ï¼š</p>\n<p><img src=\"http://img.smyhvae.com/2015-10-03-css-30.jpg\"></p>\n<p>ä¸Šå›¾æ˜¾ç¤ºï¼š</p>\n<blockquote>\n<p>åœ¨ <code>CSS</code> ç›’å­æ¨¡å‹ (<code>Box Model</code>) è§„å®šäº†å…ƒç´ å¤„ç†å…ƒç´ çš„å‡ ç§æ–¹å¼ï¼š</p>\n</blockquote>\n<ul>\n<li><code>width</code>å’Œ<code>height</code>ï¼š<strong>å†…å®¹</strong>çš„å®½åº¦ã€é«˜åº¦ï¼ˆä¸æ˜¯ç›’å­çš„å®½åº¦ã€é«˜åº¦ï¼‰ã€‚</li>\n<li><code>padding</code>ï¼šå†…è¾¹è·ã€‚</li>\n<li><code>border</code>ï¼šè¾¹æ¡†ã€‚</li>\n<li><code>margin</code>ï¼šå¤–è¾¹è·ã€‚</li>\n</ul>\n<blockquote>\n<p><code>CSS</code>ç›’æ¨¡å‹å’Œ<code>IE</code>ç›’æ¨¡å‹çš„åŒºåˆ«ï¼š</p>\n</blockquote>\n<ul>\n<li><p>åœ¨<strong>æ ‡å‡†ç›’å­æ¨¡å‹</strong>ä¸­ï¼Œ<strong>width å’Œ height æŒ‡çš„æ˜¯å†…å®¹åŒºåŸŸ</strong>çš„å®½åº¦å’Œé«˜åº¦ã€‚å¢åŠ å†…è¾¹è·ã€è¾¹æ¡†å’Œå¤–è¾¹è·ä¸ä¼šå½±å“å†…å®¹åŒºåŸŸçš„å°ºå¯¸ï¼Œä½†æ˜¯ä¼šå¢åŠ å…ƒç´ æ¡†çš„æ€»å°ºå¯¸ã€‚</p>\n</li>\n<li><p><strong>IEç›’å­æ¨¡å‹</strong>ä¸­ï¼Œ<strong>width å’Œ height æŒ‡çš„æ˜¯å†…å®¹åŒºåŸŸ+border+padding</strong>çš„å®½åº¦å’Œé«˜åº¦ã€‚</p>\n</li>\n</ul>\n<p><strong>CSSå¦‚ä½•è®¾ç½®è¿™ä¸¤ç§æ¨¡å‹</strong></p>\n<p>ä»£ç å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* è®¾ç½®å½“å‰ç›’å­ä¸º æ ‡å‡†ç›’æ¨¡å‹ï¼ˆé»˜è®¤ï¼‰ */</span></span><br><span class=\"line\">box-<span class=\"attr\">sizing</span>: content-box;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* è®¾ç½®å½“å‰ç›’å­ä¸º IEç›’æ¨¡å‹ */</span></span><br><span class=\"line\">box-<span class=\"attr\">sizing</span>: border-box;</span><br></pre></td></tr></table></figure>\n\n\n<blockquote>\n<p>å¤‡æ³¨ï¼šç›’å­é»˜è®¤ä¸ºæ ‡å‡†ç›’æ¨¡å‹ã€‚</p>\n</blockquote>\n<p><strong>JSå¦‚ä½•è®¾ç½®ã€è·å–ç›’æ¨¡å‹å¯¹åº”çš„å®½å’Œé«˜</strong></p>\n<blockquote>\n<p>æ–¹å¼ä¸€ï¼šé€šè¿‡<code>DOM</code>èŠ‚ç‚¹çš„ <code>style</code> æ ·å¼è·å–</p>\n</blockquote>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">element.<span class=\"property\">style</span>.<span class=\"property\">width</span>/height;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>ç¼ºç‚¹ï¼šé€šè¿‡è¿™ç§æ–¹å¼ï¼Œåªèƒ½è·å–<strong>è¡Œå†…æ ·å¼</strong>ï¼Œä¸èƒ½è·å–<code>å†…åµŒ</code>çš„æ ·å¼å’Œ<code>å¤–é“¾</code>çš„æ ·å¼ã€‚</p>\n</blockquote>\n<p>è¿™ç§æ–¹å¼æœ‰å±€é™æ€§ï¼Œä½†åº”è¯¥äº†è§£ã€‚</p>\n<blockquote>\n<p>æ–¹å¼äºŒï¼ˆé€šç”¨å‹ï¼‰</p>\n</blockquote>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"title function_\">getComputedStyle</span>(element).<span class=\"property\">width</span>/height;</span><br></pre></td></tr></table></figure>\n\n\n<blockquote>\n<p>æ–¹å¼äºŒèƒ½å…¼å®¹ <code>Chrome</code>ã€ç«ç‹ã€‚æ˜¯é€šç”¨å‹æ–¹å¼ã€‚</p>\n</blockquote>\n<blockquote>\n<p>æ–¹å¼ä¸‰ï¼ˆIEç‹¬æœ‰çš„ï¼‰</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\">element.<span class=\"property\">currentStyle</span>.<span class=\"property\">width</span>/height;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>å’Œæ–¹å¼äºŒç›¸åŒï¼Œä½†è¿™ç§æ–¹å¼åªæœ‰IEç‹¬æœ‰ã€‚è·å–åˆ°çš„å³æ—¶è¿è¡Œå®Œä¹‹åçš„å®½é«˜ï¼ˆä¸‰ç§cssæ ·å¼éƒ½å¯ä»¥è·å–ï¼‰ã€‚</p>\n</blockquote>\n<blockquote>\n<p>æ–¹å¼å››</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\">element.<span class=\"title function_\">getBoundingClientRect</span>().<span class=\"property\">width</span>/height;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>æ­¤ <code>api</code> çš„ä½œç”¨æ˜¯ï¼šè·å–ä¸€ä¸ªå…ƒç´ çš„ç»å¯¹ä½ç½®ã€‚ç»å¯¹ä½ç½®æ˜¯è§†çª— <code>viewport</code> å·¦ä¸Šè§’çš„ç»å¯¹ä½ç½®ã€‚æ­¤ <code>api</code> å¯ä»¥æ‹¿åˆ°å››ä¸ªå±æ€§ï¼š<code>left</code>ã€<code>top</code>ã€<code>width</code>ã€<code>height</code>ã€‚</p>\n</blockquote>\n<p><strong>æ€»ç»“ï¼š</strong></p>\n<blockquote>\n<p>ä¸Šé¢çš„å››ç§æ–¹å¼ï¼Œè¦æ±‚èƒ½è¯´å‡ºæ¥åŒºåˆ«ï¼Œä»¥åŠå“ªä¸ªçš„é€šç”¨å‹æ›´å¼ºã€‚</p>\n</blockquote>\n<p><strong>marginå¡Œé™·&#x2F;marginé‡å </strong></p>\n<p><strong>æ ‡å‡†æ–‡æ¡£æµä¸­ï¼Œç«–ç›´æ–¹å‘çš„marginä¸å åŠ ï¼Œåªå–è¾ƒå¤§çš„å€¼ä½œä¸ºmargin</strong>(æ°´å¹³æ–¹å‘çš„<code>margin</code>æ˜¯å¯ä»¥å åŠ çš„ï¼Œå³æ°´å¹³æ–¹å‘æ²¡æœ‰å¡Œé™·ç°è±¡)ã€‚</p>\n<blockquote>\n<p>PSï¼šå¦‚æœä¸åœ¨æ ‡å‡†æµï¼Œæ¯”å¦‚ç›’å­éƒ½æµ®åŠ¨äº†ï¼Œé‚£ä¹ˆä¸¤ä¸ªç›’å­ä¹‹é—´æ˜¯æ²¡æœ‰<code>margin</code>é‡å çš„ç°è±¡çš„ã€‚</p>\n</blockquote>\n<blockquote>\n<p>æˆ‘ä»¬æ¥çœ‹å‡ ä¸ªä¾‹å­ã€‚</p>\n</blockquote>\n<p><strong>å…„å¼Ÿå…ƒç´ ä¹‹é—´</strong></p>\n<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>\n<p><img src=\"http://img.smyhvae.com/20170805_0904.png\"></p>\n<p><strong>å­å…ƒç´ å’Œçˆ¶å…ƒç´ ä¹‹é—´</strong></p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Document<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        * &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin</span>: <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">padding</span>: <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.father</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: green;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"comment\">/* ç»™å„¿å­è®¾ç½®margin-topä¸º10åƒç´  */</span></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.son</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: <span class=\"number\">100px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin-top</span>: <span class=\"number\">10px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: red;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">    </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;father&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;son&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>ä¸Šé¢çš„ä»£ç ä¸­ï¼Œå„¿å­çš„<code>height</code>æ˜¯ <code>100p</code>xï¼Œ<code>magin-top</code> æ˜¯<code>10px</code>ã€‚æ³¨æ„ï¼Œæ­¤æ—¶çˆ¶äº²çš„ <code>height</code> æ˜¯<code>100</code>ï¼Œè€Œä¸æ˜¯<code>110</code>ã€‚å› ä¸ºå„¿å­å’Œçˆ¶äº²åœ¨ç«–ç›´æ–¹å‘ä¸Šï¼Œå…±ä¸€ä¸ª<code>margin</code>ã€‚</p>\n</blockquote>\n<p>å„¿å­è¿™ä¸ªç›’å­ï¼š</p>\n<p><img src=\"http://img.smyhvae.com/20180305_2216.png\"></p>\n<p>çˆ¶äº²è¿™ä¸ªç›’å­ï¼š</p>\n<p><img src=\"http://img.smyhvae.com/20180305_2217.png\"></p>\n<blockquote>\n<p>ä¸Šæ–¹ä»£ç ä¸­ï¼Œå¦‚æœæˆ‘ä»¬ç»™çˆ¶äº²è®¾ç½®ä¸€ä¸ªå±æ€§ï¼š<code>overflow: hidden</code>ï¼Œå°±å¯ä»¥é¿å…è¿™ä¸ªé—®é¢˜ï¼Œæ­¤æ—¶çˆ¶äº²çš„é«˜åº¦æ˜¯110pxï¼Œè¿™ä¸ªç”¨åˆ°çš„å°±æ˜¯BFCï¼ˆä¸‹ä¸€æ®µè®²è§£ï¼‰ã€‚</p>\n</blockquote>\n<p><strong>å–„äºä½¿ç”¨çˆ¶äº²çš„paddingï¼Œè€Œä¸æ˜¯å„¿å­çš„margin</strong></p>\n<blockquote>\n<p>å…¶å®ï¼Œè¿™ä¸€å°æ®µè®²çš„å†…å®¹ä¸ä¸Šä¸€å°æ®µç›¸åŒï¼Œéƒ½æ˜¯è®²çˆ¶å­ä¹‹é—´çš„marginé‡å ã€‚</p>\n</blockquote>\n<p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªå¥‡æ€ªçš„ç°è±¡ã€‚ç°åœ¨æœ‰ä¸‹é¢è¿™æ ·ä¸€ä¸ªç»“æ„ï¼šï¼ˆ<code>div</code>ä¸­æ”¾ä¸€ä¸ª<code>p</code>ï¼‰</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>ä¸Šé¢çš„ç»“æ„ä¸­ï¼Œæˆ‘ä»¬å°è¯•é€šè¿‡ç»™å„¿å­<code>p</code>ä¸€ä¸ª<code>margin-top:50px;</code>çš„å±æ€§ï¼Œè®©å…¶ä¸çˆ¶äº²ä¿æŒ50pxçš„ä¸Šè¾¹è·ã€‚ç»“æœå´çœ‹åˆ°äº†ä¸‹é¢çš„å¥‡æ€ªçš„ç°è±¡ï¼š</p>\n</blockquote>\n<p><img src=\"http://img.smyhvae.com/20170806_1537.png\"></p>\n<blockquote>\n<p>æ­¤æ—¶æˆ‘ä»¬ç»™çˆ¶äº²<code>div</code>åŠ ä¸€ä¸ª<code>border</code>å±æ€§ï¼Œå°±æ­£å¸¸äº†ï¼š</p>\n</blockquote>\n<p><img src=\"http://img.smyhvae.com/20170806_1544.png\"></p>\n<blockquote>\n<p>å¦‚æœçˆ¶äº²æ²¡æœ‰<code>border</code>ï¼Œé‚£ä¹ˆå„¿å­çš„<code>margin</code>å®é™…ä¸Šè¸¹çš„æ˜¯â€œæµâ€ï¼Œè¸¹çš„æ˜¯è¿™â€œè¡Œâ€ã€‚æ‰€ä»¥ï¼Œçˆ¶äº²æ•´ä½“ä¹Ÿæ‰ä¸‹æ¥äº†ã€‚</p>\n</blockquote>\n<p><strong>marginè¿™ä¸ªå±æ€§ï¼Œæœ¬è´¨ä¸Šæè¿°çš„æ˜¯å…„å¼Ÿå’Œå…„å¼Ÿä¹‹é—´çš„è·ç¦»ï¼› æœ€å¥½ä¸è¦ç”¨è¿™ä¸ªmarignè¡¨è¾¾çˆ¶å­ä¹‹é—´çš„è·ç¦»ã€‚</strong></p>\n<blockquote>\n<p>æ‰€ä»¥ï¼Œå¦‚æœè¦è¡¨è¾¾çˆ¶å­ä¹‹é—´çš„è·ç¦»ï¼Œæˆ‘ä»¬ä¸€å®šè¦å–„äºä½¿ç”¨çˆ¶äº²çš„paddingï¼Œè€Œä¸æ˜¯å„¿å­çš„&#96;marginã€‚</p>\n</blockquote>\n<p><strong>BFCï¼ˆè¾¹è·é‡å è§£å†³æ–¹æ¡ˆï¼‰</strong></p>\n<blockquote>\n<p><code>BFCï¼ˆBlock Formatting Contextï¼‰</code>ï¼šå—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ã€‚ä½ å¯ä»¥æŠŠå®ƒç†è§£æˆä¸€ä¸ªç‹¬ç«‹çš„åŒºåŸŸã€‚</p>\n</blockquote>\n<p>å¦å¤–è¿˜æœ‰ä¸ªæ¦‚å¿µå«<code>IFC</code>ã€‚ä¸è¿‡ï¼Œ<code>BFC</code>é—®å¾—æ›´å¤šã€‚</p>\n<p><strong>BFC çš„åŸç†&#x2F;BFCçš„å¸ƒå±€è§„åˆ™ã€éå¸¸é‡è¦ã€‘</strong></p>\n<blockquote>\n<p><code>BFC</code> çš„åŸç†ï¼Œå…¶å®ä¹Ÿå°±æ˜¯ <code>BFC</code> çš„æ¸²æŸ“è§„åˆ™ï¼ˆèƒ½è¯´å‡ºä»¥ä¸‹å››ç‚¹å°±å¤Ÿäº†ï¼‰ã€‚åŒ…æ‹¬ï¼š</p>\n</blockquote>\n<ol>\n<li>BFC <strong>å†…éƒ¨çš„</strong>å­å…ƒç´ ï¼Œåœ¨å‚ç›´æ–¹å‘ï¼Œ<strong>è¾¹è·ä¼šå‘ç”Ÿé‡å </strong>ã€‚</li>\n<li>BFCåœ¨é¡µé¢ä¸­æ˜¯ç‹¬ç«‹çš„å®¹å™¨ï¼Œå¤–é¢çš„å…ƒç´ ä¸ä¼šå½±å“é‡Œé¢çš„å…ƒç´ ï¼Œåä¹‹äº¦ç„¶ã€‚ï¼ˆç¨åçœ‹<code>ä¸¾ä¾‹1</code>ï¼‰</li>\n<li><strong>BFCåŒºåŸŸä¸ä¸æ—è¾¹çš„<code>float box</code>åŒºåŸŸé‡å </strong>ã€‚ï¼ˆå¯ä»¥ç”¨æ¥æ¸…é™¤æµ®åŠ¨å¸¦æ¥çš„å½±å“ï¼‰ã€‚ï¼ˆç¨åçœ‹<code>ä¸¾ä¾‹2</code>ï¼‰</li>\n<li>è®¡ç®—<code>BFC</code>çš„é«˜åº¦æ—¶ï¼Œæµ®åŠ¨çš„å­å…ƒç´ ä¹Ÿå‚ä¸è®¡ç®—ã€‚ï¼ˆç¨åçœ‹<code>ä¸¾ä¾‹3</code>ï¼‰</li>\n</ol>\n<p><strong>å¦‚ä½•ç”ŸæˆBFC</strong></p>\n<blockquote>\n<p>æœ‰ä»¥ä¸‹å‡ ç§æ–¹æ³•ï¼š</p>\n</blockquote>\n<ul>\n<li>æ–¹æ³•1ï¼š<code>overflow</code>: ä¸ä¸º<code>visible</code>ï¼Œå¯ä»¥è®©å±æ€§æ˜¯ <code>hidden</code>ã€<code>auto</code>ã€‚ã€æœ€å¸¸ç”¨ã€‘</li>\n<li>æ–¹æ³•2ï¼šæµ®åŠ¨ä¸­ï¼š<code>float</code>çš„å±æ€§å€¼ä¸ä¸º<code>none</code>ã€‚æ„æ€æ˜¯ï¼Œåªè¦è®¾ç½®äº†æµ®åŠ¨ï¼Œå½“å‰å…ƒç´ å°±åˆ›å»ºäº†<code>BFC</code>ã€‚</li>\n<li>æ–¹æ³•3ï¼šå®šä½ä¸­ï¼šåªè¦<code>posiiton</code>çš„å€¼ä¸æ˜¯ s<code>tatic</code>æˆ–è€…æ˜¯<code>relative</code>å³å¯ï¼Œå¯ä»¥æ˜¯<code>absolute</code>æˆ–<code>fixed</code>ï¼Œä¹Ÿå°±ç”Ÿæˆäº†ä¸€ä¸ª<code>BFC</code>ã€‚</li>\n<li>æ–¹æ³•4ï¼š<code>display</code>ä¸º<code>inline-block</code>, <code>table-cell</code>, <code>table-caption</code>, <code>flex</code>, <code>inline-flex</code></li>\n</ul>\n<p><strong>BFC çš„åº”ç”¨</strong></p>\n<p><strong>ä¸¾ä¾‹1ï¼š</strong>è§£å†³ margin é‡å </p>\n<blockquote>\n<p>å½“çˆ¶å…ƒç´ å’Œå­å…ƒç´ å‘ç”Ÿ <code>margin</code> é‡å æ—¶ï¼Œè§£å†³åŠæ³•ï¼š<strong>ç»™å­å…ƒç´ æˆ–çˆ¶å…ƒç´ åˆ›å»ºBFC</strong>ã€‚</p>\n</blockquote>\n<p>æ¯”å¦‚è¯´ï¼Œé’ˆå¯¹ä¸‹é¢è¿™æ ·ä¸€ä¸ª <code>div</code> ç»“æ„ï¼š</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;father&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;son&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>ä¸Šé¢çš„<code>div</code>ç»“æ„ä¸­ï¼Œå¦‚æœçˆ¶å…ƒç´ å’Œå­å…ƒç´ å‘ç”Ÿ<code>margin</code>é‡å ï¼Œæˆ‘ä»¬å¯ä»¥ç»™å­å…ƒç´ åˆ›å»ºä¸€ä¸ª <code>BFC</code>ï¼Œå°±è§£å†³äº†ï¼š</p>\n</blockquote>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;father&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;son&quot;</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;overflow: hidden&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>å› ä¸º<strong>ç¬¬äºŒæ¡ï¼šBFCåŒºåŸŸæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„åŒºåŸŸï¼Œä¸ä¼šå½±å“å¤–é¢çš„å…ƒç´ </strong>ã€‚</p>\n</blockquote>\n<p><strong>ä¸¾ä¾‹2</strong>ï¼šBFCåŒºåŸŸä¸ä¸floatåŒºåŸŸé‡å ï¼š</p>\n<p>é’ˆå¯¹ä¸‹é¢è¿™æ ·ä¸€ä¸ªdivç»“æ„ï¼›</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Document<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.father-layout</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: pink;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.father-layout</span> <span class=\"selector-class\">.left</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">float</span>: left;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">100px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: <span class=\"number\">100px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: green;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.father-layout</span> <span class=\"selector-class\">.right</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: <span class=\"number\">150px</span>;  <span class=\"comment\">/*å³ä¾§æ ‡å‡†æµé‡Œçš„å…ƒç´ ï¼Œæ¯”å·¦ä¾§æµ®åŠ¨çš„å…ƒç´ è¦é«˜*/</span></span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: red;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">    </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">section</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;father-layout&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;left&quot;</span>&gt;</span></span><br><span class=\"line\">        å·¦ä¾§ï¼Œç”Ÿå‘½å£¹å·</span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;right&quot;</span>&gt;</span></span><br><span class=\"line\">        å³ä¾§ï¼Œsmyhvaeï¼Œsmyhvaeï¼Œsmyhvaeï¼Œsmyhvaeï¼Œsmyhvaeï¼Œsmyhvaeï¼Œsmyhvaeï¼Œsmyhvaeï¼Œsmyhvaeï¼Œsmyhvaeï¼Œsmyhvaeï¼Œsmyhvaeï¼Œ</span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">section</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>æ•ˆæœå¦‚ä¸‹ï¼š</p>\n<p><img src=\"http://img.smyhvae.com/20180306_0825.png\"></p>\n<blockquote>\n<p>ä¸Šå›¾ä¸­ï¼Œç”±äºå³ä¾§æ ‡å‡†æµé‡Œçš„å…ƒç´ ï¼Œæ¯”å·¦ä¾§æµ®åŠ¨çš„å…ƒç´ è¦é«˜ï¼Œå¯¼è‡´å³ä¾§æœ‰ä¸€éƒ¨åˆ†ä¼šè·‘åˆ°å·¦è¾¹çš„ä¸‹é¢å»ã€‚</p>\n</blockquote>\n<p><strong>å¦‚æœè¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥å°†å³ä¾§çš„å…ƒç´ åˆ›å»ºBFC</strong>ï¼Œå› ä¸º<strong>ç¬¬ä¸‰æ¡ï¼šBFCåŒºåŸŸä¸ä¸<code>float box</code>åŒºåŸŸé‡å </strong>ã€‚è§£å†³åŠæ³•å¦‚ä¸‹ï¼šï¼ˆå°†rightåŒºåŸŸæ·»åŠ overflowå±æ€§ï¼‰</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;right&quot;</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;overflow: hidden&quot;</span>&gt;</span></span><br><span class=\"line\">    å³ä¾§ï¼Œsmyhvaeï¼Œsmyhvaeï¼Œsmyhvaeï¼Œsmyhvaeï¼Œsmyhvaeï¼Œsmyhvaeï¼Œsmyhvaeï¼Œsmyhvaeï¼Œsmyhvaeï¼Œsmyhvaeï¼Œsmyhvaeï¼Œsmyhvaeï¼Œ</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n\n<p><img src=\"http://img.smyhvae.com/20180306_0827.png\"></p>\n<p>ä¸Šå›¾è¡¨æ˜ï¼Œè§£å†³ä¹‹åï¼Œ<code>father-layout</code>çš„èƒŒæ™¯è‰²æ˜¾ç°å‡ºæ¥äº†ï¼Œè¯´æ˜é—®é¢˜è§£å†³äº†ã€‚</p>\n<p><strong>ä¸¾ä¾‹3ï¼š</strong>æ¸…é™¤æµ®åŠ¨</p>\n<p>ç°åœ¨æœ‰ä¸‹é¢è¿™æ ·çš„ç»“æ„ï¼š</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Document<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.father</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: pink;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.son</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">float</span>: left;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: green;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">    </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">section</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;father&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;son&quot;</span>&gt;</span></span><br><span class=\"line\">        ç”Ÿå‘½å£¹å·</span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">section</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>æ•ˆæœå¦‚ä¸‹ï¼š</p>\n<p><img src=\"http://img.smyhvae.com/20180306_0840.png\"></p>\n<p>ä¸Šé¢çš„ä»£ç ä¸­ï¼Œå„¿å­æµ®åŠ¨äº†ï¼Œä½†ç”±äºçˆ¶äº²æ²¡æœ‰è®¾ç½®é«˜åº¦ï¼Œå¯¼è‡´çœ‹ä¸åˆ°çˆ¶äº²çš„èƒŒæ™¯è‰²ï¼ˆæ­¤æ—¶çˆ¶äº²çš„é«˜åº¦ä¸º0ï¼‰ã€‚æ­£æ‰€è°“<strong>æœ‰é«˜åº¦çš„ç›’å­ï¼Œæ‰èƒ½å…³ä½æµ®åŠ¨</strong>ã€‚</p>\n<blockquote>\n<p>å¦‚æœæƒ³è¦æ¸…é™¤æµ®åŠ¨å¸¦æ¥çš„å½±å“ï¼Œæ–¹æ³•ä¸€æ˜¯ç»™çˆ¶äº²è®¾ç½®é«˜åº¦ï¼Œç„¶åé‡‡ç”¨éš”å¢™æ³•ã€‚æ–¹æ³•äºŒæ˜¯ BFCï¼šç»™çˆ¶äº²å¢åŠ  <code>overflow=hidden</code>å±æ€§å³å¯ï¼Œ å¢åŠ ä¹‹åï¼Œæ•ˆæœå¦‚ä¸‹ï¼š</p>\n</blockquote>\n<p><img src=\"http://img.smyhvae.com/20180306_0845.png\"></p>\n<blockquote>\n<p>ä¸ºä»€ä¹ˆçˆ¶å…ƒç´ æˆä¸ºBFCä¹‹åï¼Œå°±æœ‰äº†é«˜åº¦å‘¢ï¼Ÿè¿™å°±å›åˆ°äº†<strong>ç¬¬å››æ¡ï¼šè®¡ç®—BFCçš„é«˜åº¦æ—¶ï¼Œæµ®åŠ¨å…ƒç´ ä¹Ÿå‚ä¸è®¡ç®—</strong>ã€‚æ„æ€æ˜¯ï¼Œ<strong>åœ¨è®¡ç®—BFCçš„é«˜åº¦æ—¶ï¼Œå­å…ƒç´ çš„float boxä¹Ÿä¼šå‚ä¸è®¡ç®—</strong></p>\n</blockquote>\n","categories":["css"],"tags":["css"]},{"title":"CSSç›’æ¨¡å‹çš„è®¤è¯†","url":"/LittleWhiteRabbit/2022/04/07/CSS%E7%9B%92%E6%A8%A1%E5%9E%8B%E7%9A%84%E8%AE%A4%E8%AF%86/","content":"<h2 id=\"é¢˜ç›®ï¼šè°ˆä¸€è°ˆä½ å¯¹CSSç›’æ¨¡å‹çš„è®¤è¯†\"><a href=\"#é¢˜ç›®ï¼šè°ˆä¸€è°ˆä½ å¯¹CSSç›’æ¨¡å‹çš„è®¤è¯†\" class=\"headerlink\" title=\"é¢˜ç›®ï¼šè°ˆä¸€è°ˆä½ å¯¹CSSç›’æ¨¡å‹çš„è®¤è¯†\"></a>é¢˜ç›®ï¼šè°ˆä¸€è°ˆä½ å¯¹CSSç›’æ¨¡å‹çš„è®¤è¯†</h2><blockquote>\n<p>ä¸“ä¸šçš„é¢è¯•ï¼Œä¸€å®šä¼šé—® <code>CSS</code> ç›’æ¨¡å‹ã€‚å¯¹äºè¿™ä¸ªé¢˜ç›®ï¼Œæˆ‘ä»¬è¦å›ç­”ä¸€ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p>\n</blockquote>\n<ol>\n<li><p>åŸºæœ¬æ¦‚å¿µï¼š<code>content</code>ã€<code>padding</code>ã€<code>margin</code></p>\n</li>\n<li><p>æ ‡å‡†ç›’æ¨¡å‹ã€<code>IE</code>ç›’æ¨¡å‹çš„åŒºåˆ«ã€‚ä¸è¦æ¼è¯´äº†<code>IE</code>ç›’æ¨¡å‹ï¼Œé€šè¿‡è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥ç­›é€‰ä¸€éƒ¨åˆ†äºº</p>\n</li>\n<li><p><code>CSS</code>å¦‚ä½•è®¾ç½®è¿™ä¸¤ç§æ¨¡å‹ï¼ˆå³ï¼šå¦‚ä½•è®¾ç½®æŸä¸ªç›’å­ä¸ºå…¶ä¸­ä¸€ä¸ªæ¨¡å‹ï¼‰ï¼Ÿå¦‚æœå›ç­”äº†ä¸Šé¢çš„ç¬¬äºŒæ¡ï¼Œè¿˜ä¼šç»§ç»­è¿½é—®è¿™ä¸€æ¡ã€‚</p>\n</li>\n<li><p><code>JS</code>å¦‚ä½•è®¾ç½®ã€è·å–ç›’æ¨¡å‹å¯¹åº”çš„å®½å’Œé«˜ï¼Ÿè¿™ä¸€æ­¥ï¼Œå·²ç»æœ‰å¾ˆå¤šäººç­”ä¸ä¸Šæ¥äº†ã€‚</p>\n</li>\n<li><p>å®ä¾‹é¢˜ï¼šæ ¹æ®ç›’æ¨¡å‹è§£é‡Š<strong>è¾¹è·é‡å </strong>ã€‚</p>\n<span id=\"more\"></span>\n<blockquote>\n<p>å‰å››ä¸ªæ–¹é¢æ˜¯é€æ¸é€’å¢ï¼Œç¬¬äº”ä¸ªæ–¹é¢ï¼Œå´é²œæœ‰äººçŸ¥ã€‚</p>\n</blockquote>\n</li>\n<li><p><code>BFC</code>ï¼ˆè¾¹è·é‡å è§£å†³æ–¹æ¡ˆï¼‰æˆ–<code>IFC</code>ã€‚</p>\n</li>\n</ol>\n<blockquote>\n<p>å¦‚æœèƒ½å›ç­”ç¬¬äº”æ¡ï¼Œå°±ä¼šå¼•å‡ºç¬¬å…­æ¡ã€‚<code>BFC</code>æ˜¯é¢è¯•é¢‘ç‡è¾ƒé«˜çš„ã€‚</p>\n</blockquote>\n<p><strong>æ€»ç»“</strong>ï¼šä»¥ä¸Šå‡ ç‚¹ï¼Œä»ä¸Šåˆ°ä¸‹ï¼ŒçŸ¥è¯†ç‚¹é€æ¸é€’å¢ï¼ŒçŸ¥è¯†é¢ä»ç†è®ºã€<code>CSS</code>ã€<code>JS</code>ï¼Œåˆå›åˆ°<code>CSS</code>ç†è®º</p>\n<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æŠŠä¸Šé¢çš„å…­æ¡ï¼Œä¾æ¬¡è®²è§£ã€‚</p>\n<p><strong>æ ‡å‡†ç›’æ¨¡å‹å’ŒIEç›’å­æ¨¡å‹</strong></p>\n<p>æ ‡å‡†ç›’å­æ¨¡å‹ï¼š</p>\n<p><img src=\"http://img.smyhvae.com/2015-10-03-css-27.jpg\"></p>\n<p><code>IE</code>ç›’å­æ¨¡å‹ï¼š</p>\n<p><img src=\"http://img.smyhvae.com/2015-10-03-css-30.jpg\"></p>\n<p>ä¸Šå›¾æ˜¾ç¤ºï¼š</p>\n<blockquote>\n<p>åœ¨ <code>CSS</code> ç›’å­æ¨¡å‹ (<code>Box Model</code>) è§„å®šäº†å…ƒç´ å¤„ç†å…ƒç´ çš„å‡ ç§æ–¹å¼ï¼š</p>\n</blockquote>\n<ul>\n<li><code>width</code>å’Œ<code>height</code>ï¼š<strong>å†…å®¹</strong>çš„å®½åº¦ã€é«˜åº¦ï¼ˆä¸æ˜¯ç›’å­çš„å®½åº¦ã€é«˜åº¦ï¼‰ã€‚</li>\n<li><code>padding</code>ï¼šå†…è¾¹è·ã€‚</li>\n<li><code>border</code>ï¼šè¾¹æ¡†ã€‚</li>\n<li><code>margin</code>ï¼šå¤–è¾¹è·ã€‚</li>\n</ul>\n<blockquote>\n<p><code>CSS</code>ç›’æ¨¡å‹å’Œ<code>IE</code>ç›’æ¨¡å‹çš„åŒºåˆ«ï¼š</p>\n</blockquote>\n<ul>\n<li><p>åœ¨<strong>æ ‡å‡†ç›’å­æ¨¡å‹</strong>ä¸­ï¼Œ<strong>width å’Œ height æŒ‡çš„æ˜¯å†…å®¹åŒºåŸŸ</strong>çš„å®½åº¦å’Œé«˜åº¦ã€‚å¢åŠ å†…è¾¹è·ã€è¾¹æ¡†å’Œå¤–è¾¹è·ä¸ä¼šå½±å“å†…å®¹åŒºåŸŸçš„å°ºå¯¸ï¼Œä½†æ˜¯ä¼šå¢åŠ å…ƒç´ æ¡†çš„æ€»å°ºå¯¸ã€‚</p>\n</li>\n<li><p><strong>IEç›’å­æ¨¡å‹</strong>ä¸­ï¼Œ<strong>width å’Œ height æŒ‡çš„æ˜¯å†…å®¹åŒºåŸŸ+border+padding</strong>çš„å®½åº¦å’Œé«˜åº¦ã€‚</p>\n</li>\n</ul>\n<p><strong>CSSå¦‚ä½•è®¾ç½®è¿™ä¸¤ç§æ¨¡å‹</strong></p>\n<p>ä»£ç å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* è®¾ç½®å½“å‰ç›’å­ä¸º æ ‡å‡†ç›’æ¨¡å‹ï¼ˆé»˜è®¤ï¼‰ */</span></span><br><span class=\"line\">box-<span class=\"attr\">sizing</span>: content-box;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* è®¾ç½®å½“å‰ç›’å­ä¸º IEç›’æ¨¡å‹ */</span></span><br><span class=\"line\">box-<span class=\"attr\">sizing</span>: border-box;</span><br></pre></td></tr></table></figure>\n\n\n<blockquote>\n<p>å¤‡æ³¨ï¼šç›’å­é»˜è®¤ä¸ºæ ‡å‡†ç›’æ¨¡å‹ã€‚</p>\n</blockquote>\n<p><strong>JSå¦‚ä½•è®¾ç½®ã€è·å–ç›’æ¨¡å‹å¯¹åº”çš„å®½å’Œé«˜</strong></p>\n<blockquote>\n<p>æ–¹å¼ä¸€ï¼šé€šè¿‡<code>DOM</code>èŠ‚ç‚¹çš„ <code>style</code> æ ·å¼è·å–</p>\n</blockquote>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">element.<span class=\"property\">style</span>.<span class=\"property\">width</span>/height;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>ç¼ºç‚¹ï¼šé€šè¿‡è¿™ç§æ–¹å¼ï¼Œåªèƒ½è·å–<strong>è¡Œå†…æ ·å¼</strong>ï¼Œä¸èƒ½è·å–<code>å†…åµŒ</code>çš„æ ·å¼å’Œ<code>å¤–é“¾</code>çš„æ ·å¼ã€‚</p>\n</blockquote>\n<p>è¿™ç§æ–¹å¼æœ‰å±€é™æ€§ï¼Œä½†åº”è¯¥äº†è§£ã€‚</p>\n<blockquote>\n<p>æ–¹å¼äºŒï¼ˆé€šç”¨å‹ï¼‰</p>\n</blockquote>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"title function_\">getComputedStyle</span>(element).<span class=\"property\">width</span>/height;</span><br></pre></td></tr></table></figure>\n\n\n<blockquote>\n<p>æ–¹å¼äºŒèƒ½å…¼å®¹ <code>Chrome</code>ã€ç«ç‹ã€‚æ˜¯é€šç”¨å‹æ–¹å¼ã€‚</p>\n</blockquote>\n<blockquote>\n<p>æ–¹å¼ä¸‰ï¼ˆIEç‹¬æœ‰çš„ï¼‰</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\">element.<span class=\"property\">currentStyle</span>.<span class=\"property\">width</span>/height;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>å’Œæ–¹å¼äºŒç›¸åŒï¼Œä½†è¿™ç§æ–¹å¼åªæœ‰IEç‹¬æœ‰ã€‚è·å–åˆ°çš„å³æ—¶è¿è¡Œå®Œä¹‹åçš„å®½é«˜ï¼ˆä¸‰ç§cssæ ·å¼éƒ½å¯ä»¥è·å–ï¼‰ã€‚</p>\n</blockquote>\n<blockquote>\n<p>æ–¹å¼å››</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\">element.<span class=\"title function_\">getBoundingClientRect</span>().<span class=\"property\">width</span>/height;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>æ­¤ <code>api</code> çš„ä½œç”¨æ˜¯ï¼šè·å–ä¸€ä¸ªå…ƒç´ çš„ç»å¯¹ä½ç½®ã€‚ç»å¯¹ä½ç½®æ˜¯è§†çª— <code>viewport</code> å·¦ä¸Šè§’çš„ç»å¯¹ä½ç½®ã€‚æ­¤ <code>api</code> å¯ä»¥æ‹¿åˆ°å››ä¸ªå±æ€§ï¼š<code>left</code>ã€<code>top</code>ã€<code>width</code>ã€<code>height</code>ã€‚</p>\n</blockquote>\n<p><strong>æ€»ç»“ï¼š</strong></p>\n<blockquote>\n<p>ä¸Šé¢çš„å››ç§æ–¹å¼ï¼Œè¦æ±‚èƒ½è¯´å‡ºæ¥åŒºåˆ«ï¼Œä»¥åŠå“ªä¸ªçš„é€šç”¨å‹æ›´å¼ºã€‚</p>\n</blockquote>\n<p><strong>marginå¡Œé™·&#x2F;marginé‡å </strong></p>\n<p><strong>æ ‡å‡†æ–‡æ¡£æµä¸­ï¼Œç«–ç›´æ–¹å‘çš„marginä¸å åŠ ï¼Œåªå–è¾ƒå¤§çš„å€¼ä½œä¸ºmargin</strong>(æ°´å¹³æ–¹å‘çš„<code>margin</code>æ˜¯å¯ä»¥å åŠ çš„ï¼Œå³æ°´å¹³æ–¹å‘æ²¡æœ‰å¡Œé™·ç°è±¡)ã€‚</p>\n<blockquote>\n<p>PSï¼šå¦‚æœä¸åœ¨æ ‡å‡†æµï¼Œæ¯”å¦‚ç›’å­éƒ½æµ®åŠ¨äº†ï¼Œé‚£ä¹ˆä¸¤ä¸ªç›’å­ä¹‹é—´æ˜¯æ²¡æœ‰<code>margin</code>é‡å çš„ç°è±¡çš„ã€‚</p>\n</blockquote>\n<blockquote>\n<p>æˆ‘ä»¬æ¥çœ‹å‡ ä¸ªä¾‹å­ã€‚</p>\n</blockquote>\n<p><strong>å…„å¼Ÿå…ƒç´ ä¹‹é—´</strong></p>\n<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>\n<p><img src=\"http://img.smyhvae.com/20170805_0904.png\"></p>\n<p><strong>å­å…ƒç´ å’Œçˆ¶å…ƒç´ ä¹‹é—´</strong></p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Document<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        * &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin</span>: <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">padding</span>: <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.father</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: green;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"comment\">/* ç»™å„¿å­è®¾ç½®margin-topä¸º10åƒç´  */</span></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.son</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: <span class=\"number\">100px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin-top</span>: <span class=\"number\">10px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: red;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">    </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;father&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;son&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>ä¸Šé¢çš„ä»£ç ä¸­ï¼Œå„¿å­çš„<code>height</code>æ˜¯ <code>100p</code>xï¼Œ<code>magin-top</code> æ˜¯<code>10px</code>ã€‚æ³¨æ„ï¼Œæ­¤æ—¶çˆ¶äº²çš„ <code>height</code> æ˜¯<code>100</code>ï¼Œè€Œä¸æ˜¯<code>110</code>ã€‚å› ä¸ºå„¿å­å’Œçˆ¶äº²åœ¨ç«–ç›´æ–¹å‘ä¸Šï¼Œå…±ä¸€ä¸ª<code>margin</code>ã€‚</p>\n</blockquote>\n<p>å„¿å­è¿™ä¸ªç›’å­ï¼š</p>\n<p><img src=\"http://img.smyhvae.com/20180305_2216.png\"></p>\n<p>çˆ¶äº²è¿™ä¸ªç›’å­ï¼š</p>\n<p><img src=\"http://img.smyhvae.com/20180305_2217.png\"></p>\n<blockquote>\n<p>ä¸Šæ–¹ä»£ç ä¸­ï¼Œå¦‚æœæˆ‘ä»¬ç»™çˆ¶äº²è®¾ç½®ä¸€ä¸ªå±æ€§ï¼š<code>overflow: hidden</code>ï¼Œå°±å¯ä»¥é¿å…è¿™ä¸ªé—®é¢˜ï¼Œæ­¤æ—¶çˆ¶äº²çš„é«˜åº¦æ˜¯110pxï¼Œè¿™ä¸ªç”¨åˆ°çš„å°±æ˜¯BFCï¼ˆä¸‹ä¸€æ®µè®²è§£ï¼‰ã€‚</p>\n</blockquote>\n<p><strong>å–„äºä½¿ç”¨çˆ¶äº²çš„paddingï¼Œè€Œä¸æ˜¯å„¿å­çš„margin</strong></p>\n<blockquote>\n<p>å…¶å®ï¼Œè¿™ä¸€å°æ®µè®²çš„å†…å®¹ä¸ä¸Šä¸€å°æ®µç›¸åŒï¼Œéƒ½æ˜¯è®²çˆ¶å­ä¹‹é—´çš„marginé‡å ã€‚</p>\n</blockquote>\n<p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªå¥‡æ€ªçš„ç°è±¡ã€‚ç°åœ¨æœ‰ä¸‹é¢è¿™æ ·ä¸€ä¸ªç»“æ„ï¼šï¼ˆ<code>div</code>ä¸­æ”¾ä¸€ä¸ª<code>p</code>ï¼‰</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>ä¸Šé¢çš„ç»“æ„ä¸­ï¼Œæˆ‘ä»¬å°è¯•é€šè¿‡ç»™å„¿å­<code>p</code>ä¸€ä¸ª<code>margin-top:50px;</code>çš„å±æ€§ï¼Œè®©å…¶ä¸çˆ¶äº²ä¿æŒ50pxçš„ä¸Šè¾¹è·ã€‚ç»“æœå´çœ‹åˆ°äº†ä¸‹é¢çš„å¥‡æ€ªçš„ç°è±¡ï¼š</p>\n</blockquote>\n<p><img src=\"http://img.smyhvae.com/20170806_1537.png\"></p>\n<blockquote>\n<p>æ­¤æ—¶æˆ‘ä»¬ç»™çˆ¶äº²<code>div</code>åŠ ä¸€ä¸ª<code>border</code>å±æ€§ï¼Œå°±æ­£å¸¸äº†ï¼š</p>\n</blockquote>\n<p><img src=\"http://img.smyhvae.com/20170806_1544.png\"></p>\n<blockquote>\n<p>å¦‚æœçˆ¶äº²æ²¡æœ‰<code>border</code>ï¼Œé‚£ä¹ˆå„¿å­çš„<code>margin</code>å®é™…ä¸Šè¸¹çš„æ˜¯â€œæµâ€ï¼Œè¸¹çš„æ˜¯è¿™â€œè¡Œâ€ã€‚æ‰€ä»¥ï¼Œçˆ¶äº²æ•´ä½“ä¹Ÿæ‰ä¸‹æ¥äº†ã€‚</p>\n</blockquote>\n<p><strong>marginè¿™ä¸ªå±æ€§ï¼Œæœ¬è´¨ä¸Šæè¿°çš„æ˜¯å…„å¼Ÿå’Œå…„å¼Ÿä¹‹é—´çš„è·ç¦»ï¼› æœ€å¥½ä¸è¦ç”¨è¿™ä¸ªmarignè¡¨è¾¾çˆ¶å­ä¹‹é—´çš„è·ç¦»ã€‚</strong></p>\n<blockquote>\n<p>æ‰€ä»¥ï¼Œå¦‚æœè¦è¡¨è¾¾çˆ¶å­ä¹‹é—´çš„è·ç¦»ï¼Œæˆ‘ä»¬ä¸€å®šè¦å–„äºä½¿ç”¨çˆ¶äº²çš„paddingï¼Œè€Œä¸æ˜¯å„¿å­çš„&#96;marginã€‚</p>\n</blockquote>\n<p><strong>BFCï¼ˆè¾¹è·é‡å è§£å†³æ–¹æ¡ˆï¼‰</strong></p>\n<blockquote>\n<p><code>BFCï¼ˆBlock Formatting Contextï¼‰</code>ï¼šå—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ã€‚ä½ å¯ä»¥æŠŠå®ƒç†è§£æˆä¸€ä¸ªç‹¬ç«‹çš„åŒºåŸŸã€‚</p>\n</blockquote>\n<p>å¦å¤–è¿˜æœ‰ä¸ªæ¦‚å¿µå«<code>IFC</code>ã€‚ä¸è¿‡ï¼Œ<code>BFC</code>é—®å¾—æ›´å¤šã€‚</p>\n<p><strong>BFC çš„åŸç†&#x2F;BFCçš„å¸ƒå±€è§„åˆ™ã€éå¸¸é‡è¦ã€‘</strong></p>\n<blockquote>\n<p><code>BFC</code> çš„åŸç†ï¼Œå…¶å®ä¹Ÿå°±æ˜¯ <code>BFC</code> çš„æ¸²æŸ“è§„åˆ™ï¼ˆèƒ½è¯´å‡ºä»¥ä¸‹å››ç‚¹å°±å¤Ÿäº†ï¼‰ã€‚åŒ…æ‹¬ï¼š</p>\n</blockquote>\n<ol>\n<li>BFC <strong>å†…éƒ¨çš„</strong>å­å…ƒç´ ï¼Œåœ¨å‚ç›´æ–¹å‘ï¼Œ<strong>è¾¹è·ä¼šå‘ç”Ÿé‡å </strong>ã€‚</li>\n<li>BFCåœ¨é¡µé¢ä¸­æ˜¯ç‹¬ç«‹çš„å®¹å™¨ï¼Œå¤–é¢çš„å…ƒç´ ä¸ä¼šå½±å“é‡Œé¢çš„å…ƒç´ ï¼Œåä¹‹äº¦ç„¶ã€‚ï¼ˆç¨åçœ‹<code>ä¸¾ä¾‹1</code>ï¼‰</li>\n<li><strong>BFCåŒºåŸŸä¸ä¸æ—è¾¹çš„<code>float box</code>åŒºåŸŸé‡å </strong>ã€‚ï¼ˆå¯ä»¥ç”¨æ¥æ¸…é™¤æµ®åŠ¨å¸¦æ¥çš„å½±å“ï¼‰ã€‚ï¼ˆç¨åçœ‹<code>ä¸¾ä¾‹2</code>ï¼‰</li>\n<li>è®¡ç®—<code>BFC</code>çš„é«˜åº¦æ—¶ï¼Œæµ®åŠ¨çš„å­å…ƒç´ ä¹Ÿå‚ä¸è®¡ç®—ã€‚ï¼ˆç¨åçœ‹<code>ä¸¾ä¾‹3</code>ï¼‰</li>\n</ol>\n<p><strong>å¦‚ä½•ç”ŸæˆBFC</strong></p>\n<blockquote>\n<p>æœ‰ä»¥ä¸‹å‡ ç§æ–¹æ³•ï¼š</p>\n</blockquote>\n<ul>\n<li>æ–¹æ³•1ï¼š<code>overflow</code>: ä¸ä¸º<code>visible</code>ï¼Œå¯ä»¥è®©å±æ€§æ˜¯ <code>hidden</code>ã€<code>auto</code>ã€‚ã€æœ€å¸¸ç”¨ã€‘</li>\n<li>æ–¹æ³•2ï¼šæµ®åŠ¨ä¸­ï¼š<code>float</code>çš„å±æ€§å€¼ä¸ä¸º<code>none</code>ã€‚æ„æ€æ˜¯ï¼Œåªè¦è®¾ç½®äº†æµ®åŠ¨ï¼Œå½“å‰å…ƒç´ å°±åˆ›å»ºäº†<code>BFC</code>ã€‚</li>\n<li>æ–¹æ³•3ï¼šå®šä½ä¸­ï¼šåªè¦<code>posiiton</code>çš„å€¼ä¸æ˜¯ s<code>tatic</code>æˆ–è€…æ˜¯<code>relative</code>å³å¯ï¼Œå¯ä»¥æ˜¯<code>absolute</code>æˆ–<code>fixed</code>ï¼Œä¹Ÿå°±ç”Ÿæˆäº†ä¸€ä¸ª<code>BFC</code>ã€‚</li>\n<li>æ–¹æ³•4ï¼š<code>display</code>ä¸º<code>inline-block</code>, <code>table-cell</code>, <code>table-caption</code>, <code>flex</code>, <code>inline-flex</code></li>\n</ul>\n<p><strong>BFC çš„åº”ç”¨</strong></p>\n<p><strong>ä¸¾ä¾‹1ï¼š</strong>è§£å†³ margin é‡å </p>\n<blockquote>\n<p>å½“çˆ¶å…ƒç´ å’Œå­å…ƒç´ å‘ç”Ÿ <code>margin</code> é‡å æ—¶ï¼Œè§£å†³åŠæ³•ï¼š<strong>ç»™å­å…ƒç´ æˆ–çˆ¶å…ƒç´ åˆ›å»ºBFC</strong>ã€‚</p>\n</blockquote>\n<p>æ¯”å¦‚è¯´ï¼Œé’ˆå¯¹ä¸‹é¢è¿™æ ·ä¸€ä¸ª <code>div</code> ç»“æ„ï¼š</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;father&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;son&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>ä¸Šé¢çš„<code>div</code>ç»“æ„ä¸­ï¼Œå¦‚æœçˆ¶å…ƒç´ å’Œå­å…ƒç´ å‘ç”Ÿ<code>margin</code>é‡å ï¼Œæˆ‘ä»¬å¯ä»¥ç»™å­å…ƒç´ åˆ›å»ºä¸€ä¸ª <code>BFC</code>ï¼Œå°±è§£å†³äº†ï¼š</p>\n</blockquote>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;father&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;son&quot;</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;overflow: hidden&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>å› ä¸º<strong>ç¬¬äºŒæ¡ï¼šBFCåŒºåŸŸæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„åŒºåŸŸï¼Œä¸ä¼šå½±å“å¤–é¢çš„å…ƒç´ </strong>ã€‚</p>\n</blockquote>\n<p><strong>ä¸¾ä¾‹2</strong>ï¼šBFCåŒºåŸŸä¸ä¸floatåŒºåŸŸé‡å ï¼š</p>\n<p>é’ˆå¯¹ä¸‹é¢è¿™æ ·ä¸€ä¸ªdivç»“æ„ï¼›</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Document<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.father-layout</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: pink;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.father-layout</span> <span class=\"selector-class\">.left</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">float</span>: left;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">100px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: <span class=\"number\">100px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: green;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.father-layout</span> <span class=\"selector-class\">.right</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: <span class=\"number\">150px</span>;  <span class=\"comment\">/*å³ä¾§æ ‡å‡†æµé‡Œçš„å…ƒç´ ï¼Œæ¯”å·¦ä¾§æµ®åŠ¨çš„å…ƒç´ è¦é«˜*/</span></span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: red;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">    </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">section</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;father-layout&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;left&quot;</span>&gt;</span></span><br><span class=\"line\">        å·¦ä¾§ï¼Œç”Ÿå‘½å£¹å·</span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;right&quot;</span>&gt;</span></span><br><span class=\"line\">        å³ä¾§ï¼Œsmyhvaeï¼Œsmyhvaeï¼Œsmyhvaeï¼Œsmyhvaeï¼Œsmyhvaeï¼Œsmyhvaeï¼Œsmyhvaeï¼Œsmyhvaeï¼Œsmyhvaeï¼Œsmyhvaeï¼Œsmyhvaeï¼Œsmyhvaeï¼Œ</span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">section</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>æ•ˆæœå¦‚ä¸‹ï¼š</p>\n<p><img src=\"http://img.smyhvae.com/20180306_0825.png\"></p>\n<blockquote>\n<p>ä¸Šå›¾ä¸­ï¼Œç”±äºå³ä¾§æ ‡å‡†æµé‡Œçš„å…ƒç´ ï¼Œæ¯”å·¦ä¾§æµ®åŠ¨çš„å…ƒç´ è¦é«˜ï¼Œå¯¼è‡´å³ä¾§æœ‰ä¸€éƒ¨åˆ†ä¼šè·‘åˆ°å·¦è¾¹çš„ä¸‹é¢å»ã€‚</p>\n</blockquote>\n<p><strong>å¦‚æœè¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥å°†å³ä¾§çš„å…ƒç´ åˆ›å»ºBFC</strong>ï¼Œå› ä¸º<strong>ç¬¬ä¸‰æ¡ï¼šBFCåŒºåŸŸä¸ä¸<code>float box</code>åŒºåŸŸé‡å </strong>ã€‚è§£å†³åŠæ³•å¦‚ä¸‹ï¼šï¼ˆå°†rightåŒºåŸŸæ·»åŠ overflowå±æ€§ï¼‰</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;right&quot;</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;overflow: hidden&quot;</span>&gt;</span></span><br><span class=\"line\">    å³ä¾§ï¼Œsmyhvaeï¼Œsmyhvaeï¼Œsmyhvaeï¼Œsmyhvaeï¼Œsmyhvaeï¼Œsmyhvaeï¼Œsmyhvaeï¼Œsmyhvaeï¼Œsmyhvaeï¼Œsmyhvaeï¼Œsmyhvaeï¼Œsmyhvaeï¼Œ</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n\n<p><img src=\"http://img.smyhvae.com/20180306_0827.png\"></p>\n<p>ä¸Šå›¾è¡¨æ˜ï¼Œè§£å†³ä¹‹åï¼Œ<code>father-layout</code>çš„èƒŒæ™¯è‰²æ˜¾ç°å‡ºæ¥äº†ï¼Œè¯´æ˜é—®é¢˜è§£å†³äº†ã€‚</p>\n<p><strong>ä¸¾ä¾‹3ï¼š</strong>æ¸…é™¤æµ®åŠ¨</p>\n<p>ç°åœ¨æœ‰ä¸‹é¢è¿™æ ·çš„ç»“æ„ï¼š</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Document<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.father</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: pink;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.son</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">float</span>: left;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: green;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">    </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">section</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;father&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;son&quot;</span>&gt;</span></span><br><span class=\"line\">        ç”Ÿå‘½å£¹å·</span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">section</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>æ•ˆæœå¦‚ä¸‹ï¼š</p>\n<p><img src=\"http://img.smyhvae.com/20180306_0840.png\"></p>\n<p>ä¸Šé¢çš„ä»£ç ä¸­ï¼Œå„¿å­æµ®åŠ¨äº†ï¼Œä½†ç”±äºçˆ¶äº²æ²¡æœ‰è®¾ç½®é«˜åº¦ï¼Œå¯¼è‡´çœ‹ä¸åˆ°çˆ¶äº²çš„èƒŒæ™¯è‰²ï¼ˆæ­¤æ—¶çˆ¶äº²çš„é«˜åº¦ä¸º0ï¼‰ã€‚æ­£æ‰€è°“<strong>æœ‰é«˜åº¦çš„ç›’å­ï¼Œæ‰èƒ½å…³ä½æµ®åŠ¨</strong>ã€‚</p>\n<blockquote>\n<p>å¦‚æœæƒ³è¦æ¸…é™¤æµ®åŠ¨å¸¦æ¥çš„å½±å“ï¼Œæ–¹æ³•ä¸€æ˜¯ç»™çˆ¶äº²è®¾ç½®é«˜åº¦ï¼Œç„¶åé‡‡ç”¨éš”å¢™æ³•ã€‚æ–¹æ³•äºŒæ˜¯ BFCï¼šç»™çˆ¶äº²å¢åŠ  <code>overflow=hidden</code>å±æ€§å³å¯ï¼Œ å¢åŠ ä¹‹åï¼Œæ•ˆæœå¦‚ä¸‹ï¼š</p>\n</blockquote>\n<p><img src=\"http://img.smyhvae.com/20180306_0845.png\"></p>\n<blockquote>\n<p>ä¸ºä»€ä¹ˆçˆ¶å…ƒç´ æˆä¸ºBFCä¹‹åï¼Œå°±æœ‰äº†é«˜åº¦å‘¢ï¼Ÿè¿™å°±å›åˆ°äº†<strong>ç¬¬å››æ¡ï¼šè®¡ç®—BFCçš„é«˜åº¦æ—¶ï¼Œæµ®åŠ¨å…ƒç´ ä¹Ÿå‚ä¸è®¡ç®—</strong>ã€‚æ„æ€æ˜¯ï¼Œ<strong>åœ¨è®¡ç®—BFCçš„é«˜åº¦æ—¶ï¼Œå­å…ƒç´ çš„float boxä¹Ÿä¼šå‚ä¸è®¡ç®—</strong></p>\n</blockquote>\n"},{"title":"DOMäº‹ä»¶çš„æ€»ç»“","url":"/LittleWhiteRabbit/2022/04/26/DOM%E4%BA%8B%E4%BB%B6%E7%9A%84%E6%80%BB%E7%BB%93/","content":"<p><strong>çŸ¥è¯†ç‚¹ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</strong></p>\n<ul>\n<li>åŸºæœ¬æ¦‚å¿µï¼š<code>DOM</code>äº‹ä»¶çš„çº§åˆ«</li>\n</ul>\n<blockquote>\n<p>é¢è¯•ä¸ä¼šç›´æ¥é—®ä½ ï¼ŒDOMæœ‰å‡ ä¸ªçº§åˆ«ã€‚ä½†ä¼šåœ¨é¢˜ç›®ä¸­ä½“ç°ï¼šâ€œè¯·ç”¨<code>DOM2</code> â€¦.â€ã€‚</p>\n</blockquote>\n<span id=\"more\"></span>\n<ul>\n<li><code>DOM</code>äº‹ä»¶æ¨¡å‹ã€<code>DOM</code>äº‹ä»¶æµ</li>\n</ul>\n<blockquote>\n<p>é¢è¯•å®˜å¦‚æœé—®ä½ â€œ<strong>DOMäº‹ä»¶æ¨¡å‹</strong>â€ï¼Œä½ ä¸ä¸€å®šçŸ¥é“æ€ä¹ˆå›äº‹ã€‚å…¶å®è¯´çš„å°±æ˜¯<strong>æ•è·å’Œå†’æ³¡</strong>ã€‚</p>\n</blockquote>\n<p><strong>DOMäº‹ä»¶æµ</strong>ï¼ŒæŒ‡çš„æ˜¯äº‹ä»¶ä¼ é€’çš„<strong>ä¸‰ä¸ªé˜¶æ®µ</strong>ã€‚</p>\n<ul>\n<li>æè¿°<code>DOM</code>äº‹ä»¶æ•è·çš„å…·ä½“æµç¨‹</li>\n</ul>\n<blockquote>\n<p>è®²çš„æ˜¯äº‹ä»¶çš„ä¼ é€’é¡ºåºã€‚å‚æ•°ä¸º<code>false</code>ï¼ˆé»˜è®¤ï¼‰ã€å‚æ•°ä¸º<code>true</code>ï¼Œå„è‡ªä»£è¡¨äº‹ä»¶åœ¨ä»€ä¹ˆé˜¶æ®µè§¦å‘ã€‚</p>\n</blockquote>\n<p>èƒ½å›ç­”å‡ºæ¥çš„äººï¼Œå¯¥å¯¥æ— å‡ ã€‚ä¹Ÿè®¸æœ‰äº›äººå¯ä»¥è¯´å‡ºä¸€å¤§åŠï¼Œä½†æ˜¯ä¸€å­—ä¸è½çš„äººï¼Œæå°‘ã€‚</p>\n<ul>\n<li><code>Event</code>å¯¹è±¡çš„å¸¸è§åº”ç”¨ï¼ˆ<code>Event</code>çš„å¸¸ç”¨<code>api</code>æ–¹æ³•ï¼‰</li>\n</ul>\n<blockquote>\n<p><code>DOM</code>äº‹ä»¶çš„çŸ¥è¯†ç‚¹ï¼Œä¸€æ–¹é¢åŒ…æ‹¬äº‹ä»¶çš„æµç¨‹ï¼›å¦ä¸€æ–¹é¢å°±æ˜¯ï¼šæ€ä¹ˆå»æ³¨å†Œäº‹ä»¶ï¼Œä¹Ÿå°±æ˜¯ç›‘å¬ç”¨æˆ·çš„äº¤äº’è¡Œä¸ºã€‚ç¬¬ä¸‰ç‚¹ï¼šåœ¨å“åº”æ—¶ï¼Œ<code>Event</code>å¯¹è±¡æ˜¯éå¸¸é‡è¦çš„ã€‚</p>\n</blockquote>\n<p><strong>è‡ªå®šä¹‰äº‹ä»¶ï¼ˆéå¸¸é‡è¦ï¼‰</strong></p>\n<blockquote>\n<p>ä¸€èˆ¬äººå¯ä»¥è®²å‡ºäº‹ä»¶å’Œæ³¨å†Œäº‹ä»¶ï¼Œä½†æ˜¯å¦‚æœè®©ä½ è®²<strong>è‡ªå®šä¹‰äº‹ä»¶</strong>ï¼Œèƒ½çŸ¥é“çš„äººï¼Œå°±æ›´å°‘äº†ã€‚</p>\n</blockquote>\n<p><strong>DOMäº‹ä»¶çš„çº§åˆ«</strong></p>\n<blockquote>\n<p><code>DOM</code>äº‹ä»¶çš„çº§åˆ«ï¼Œå‡†ç¡®æ¥è¯´ï¼Œæ˜¯<strong>DOMæ ‡å‡†</strong>å®šä¹‰çš„çº§åˆ«ã€‚åŒ…æ‹¬ï¼š</p>\n</blockquote>\n<p><strong>DOM0çš„å†™æ³•ï¼š</strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\">element.<span class=\"property\">onclick</span> = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n<blockquote>\n<p>ä¸Šé¢çš„ä»£ç æ˜¯åœ¨ <code>js</code> ä¸­çš„å†™æ³•ï¼›å¦‚æœè¦åœ¨<code>html</code>ä¸­å†™ï¼Œå†™æ³•æ˜¯ï¼šåœ¨<code>onclick</code>å±æ€§ä¸­ï¼ŒåŠ  <code>js</code> è¯­å¥ã€‚</p>\n</blockquote>\n<p><strong>DOM2çš„å†™æ³•ï¼š</strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\">element.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;, <span class=\"literal\">false</span>);</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>ã€é‡è¦ã€‘ä¸Šé¢çš„ç¬¬ä¸‰å‚æ•°ä¸­ï¼Œ<strong>true</strong>è¡¨ç¤ºäº‹ä»¶åœ¨<strong>æ•è·é˜¶æ®µ</strong>è§¦å‘ï¼Œ<strong>false</strong>è¡¨ç¤ºäº‹ä»¶åœ¨<strong>å†’æ³¡é˜¶æ®µ</strong>è§¦å‘ï¼ˆé»˜è®¤ï¼‰ã€‚å¦‚æœä¸å†™ï¼Œåˆ™é»˜è®¤ä¸ºfalseã€‚</p>\n</blockquote>\n<p><strong>DOM3çš„å†™æ³•ï¼š</strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\">element.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;keyup&#x27;</span>, <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;, <span class=\"literal\">false</span>);</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p><code>DOM3</code>ä¸­ï¼Œå¢åŠ äº†å¾ˆå¤šäº‹ä»¶ç±»å‹ï¼Œæ¯”å¦‚é¼ æ ‡äº‹ä»¶ã€é”®ç›˜äº‹ä»¶ç­‰ã€‚</p>\n</blockquote>\n<blockquote>\n<p>PSï¼šä¸ºä½•äº‹ä»¶æ²¡æœ‰<code>DOM1</code>çš„å†™æ³•å‘¢ï¼Ÿå› ä¸ºï¼Œ<code>DOM1</code>æ ‡å‡†åˆ¶å®šçš„æ—¶å€™ï¼Œæ²¡æœ‰æ¶‰åŠä¸äº‹ä»¶ç›¸å…³çš„å†…å®¹ã€‚</p>\n</blockquote>\n<p><strong>æ€»ç»“</strong>ï¼šå…³äºâ€œDOMäº‹ä»¶çš„çº§åˆ«â€ï¼Œèƒ½å›ç­”å‡ºä»¥ä¸Šå†…å®¹å³å¯ï¼Œä¸ä¼šå‡ºé¢˜ç›®è®©ä½ åšã€‚</p>\n<p><strong>DOMäº‹ä»¶æ¨¡å‹</strong></p>\n<blockquote>\n<p><code>DOM</code>äº‹ä»¶æ¨¡å‹è®²çš„å°±æ˜¯<strong>æ•è·å’Œå†’æ³¡</strong>ï¼Œä¸€èˆ¬äººéƒ½èƒ½å›ç­”å‡ºæ¥ã€‚</p>\n</blockquote>\n<ul>\n<li>æ•è·ï¼šä»ä¸Šå¾€ä¸‹ã€‚</li>\n<li>å†’æ³¡ï¼šä»ä¸‹ï¼ˆç›®æ ‡å…ƒç´ ï¼‰å¾€ä¸Šã€‚</li>\n</ul>\n<p><strong>DOMäº‹ä»¶æµ</strong></p>\n<blockquote>\n<p><code>DOM</code>äº‹ä»¶æµè®²çš„å°±æ˜¯ï¼šæµè§ˆå™¨åœ¨äºå½“å‰é¡µé¢åšäº¤äº’æ—¶ï¼Œè¿™ä¸ªäº‹ä»¶æ˜¯æ€ä¹ˆä¼ é€’åˆ°é¡µé¢ä¸Šçš„ã€‚</p>\n</blockquote>\n<p><strong>å®Œæ•´çš„äº‹ä»¶æµï¼Œåˆ†ä¸‰ä¸ªé˜¶æ®µï¼š</strong></p>\n<ol>\n<li>æ•è·ï¼šä» <code>window</code> å¯¹è±¡ä¼ åˆ° ç›®æ ‡å…ƒç´ ã€‚</li>\n<li>ç›®æ ‡é˜¶æ®µï¼šäº‹ä»¶é€šè¿‡æ•è·ï¼Œåˆ°è¾¾ç›®æ ‡å…ƒç´ ï¼Œè¿™ä¸ªé˜¶æ®µå°±æ˜¯ç›®æ ‡é˜¶æ®µã€‚</li>\n<li>å†’æ³¡ï¼šä»<strong>ç›®æ ‡å…ƒç´ </strong>ä¼ åˆ° <code>Window</code> å¯¹è±¡ã€‚</li>\n</ol>\n<p><img src=\"http://img.smyhvae.com/20180306_1058.png\"></p>\n<p><img src=\"http://img.smyhvae.com/20180204_1218.jpg\"></p>\n<p><strong>æè¿°DOMäº‹ä»¶æ•è·çš„å…·ä½“æµç¨‹</strong></p>\n<blockquote>\n<p>å¾ˆå°‘æœ‰äººèƒ½è¯´å®Œæ•´ã€‚</p>\n</blockquote>\n<p><strong>æ•è·çš„æµç¨‹</strong></p>\n<p><img src=\"http://img.smyhvae.com/20180306_1103.png\"></p>\n<p><strong>è¯´æ˜</strong>ï¼šæ•è·é˜¶æ®µï¼Œäº‹ä»¶ä¾æ¬¡ä¼ é€’çš„é¡ºåºæ˜¯ï¼š<code>window</code> â€“&gt; <code>document</code> â€“&gt; <code>html</code>â€“&gt; <code>body</code> â€“&gt; çˆ¶å…ƒç´ ã€å­å…ƒç´ ã€ç›®æ ‡å…ƒç´ ã€‚</p>\n<ul>\n<li>PS1ï¼šç¬¬ä¸€ä¸ªæ¥æ”¶åˆ°äº‹ä»¶çš„å¯¹è±¡æ˜¯ <strong>window</strong>ï¼ˆæœ‰äººä¼šè¯´<code>body</code>ï¼Œæœ‰äººä¼šè¯´<code>html</code>ï¼Œè¿™éƒ½æ˜¯é”™è¯¯çš„ï¼‰ã€‚</li>\n<li>PS2ï¼š<code>JS</code>ä¸­æ¶‰åŠåˆ°<code>DOM</code>å¯¹è±¡æ—¶ï¼Œæœ‰ä¸¤ä¸ªå¯¹è±¡æœ€å¸¸ç”¨ï¼š<code>window</code>ã€<code>doucument</code>ã€‚å®ƒä»¬ä¿©ä¹Ÿæ˜¯æœ€å…ˆè·å–åˆ°äº‹ä»¶çš„ã€‚</li>\n</ul>\n<p>ä»£ç å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;click&quot;</span>, <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"title function_\">alert</span>(<span class=\"string\">&quot;æ•è· window&quot;</span>);</span><br><span class=\"line\">&#125;, <span class=\"literal\">true</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">document</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;click&quot;</span>, <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"title function_\">alert</span>(<span class=\"string\">&quot;æ•è· document&quot;</span>);</span><br><span class=\"line\">&#125;, <span class=\"literal\">true</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">document</span>.<span class=\"property\">documentElement</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;click&quot;</span>, <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"title function_\">alert</span>(<span class=\"string\">&quot;æ•è· html&quot;</span>);</span><br><span class=\"line\">&#125;, <span class=\"literal\">true</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;click&quot;</span>, <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"title function_\">alert</span>(<span class=\"string\">&quot;æ•è· body&quot;</span>);</span><br><span class=\"line\">&#125;, <span class=\"literal\">true</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">fatherBox.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;click&quot;</span>, <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"title function_\">alert</span>(<span class=\"string\">&quot;æ•è· father&quot;</span>);</span><br><span class=\"line\">&#125;, <span class=\"literal\">true</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">childBox.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;click&quot;</span>, <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"title function_\">alert</span>(<span class=\"string\">&quot;æ•è· child&quot;</span>);</span><br><span class=\"line\">&#125;, <span class=\"literal\">true</span>);</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n\n<p><strong>è¡¥å……ä¸€ä¸ªçŸ¥è¯†ç‚¹ï¼š</strong></p>\n<blockquote>\n<p>åœ¨ <code>js</code>ä¸­ï¼š</p>\n</blockquote>\n<ul>\n<li>å¦‚æœæƒ³è·å– <code>body</code> èŠ‚ç‚¹ï¼Œæ–¹æ³•æ˜¯ï¼š<code>document.body</code>ï¼›</li>\n<li>ä½†æ˜¯ï¼Œå¦‚æœæƒ³è·å– <code>html</code>èŠ‚ç‚¹ï¼Œæ–¹æ³•æ˜¯<code>document.documentElement</code>ã€‚</li>\n</ul>\n<p><strong>å†’æ³¡çš„æµç¨‹</strong></p>\n<blockquote>\n<p>ä¸æ•è·çš„æµç¨‹ç›¸å</p>\n</blockquote>\n<p><strong>Eventå¯¹è±¡çš„å¸¸è§ api æ–¹æ³•</strong></p>\n<blockquote>\n<p>ç”¨æˆ·åšçš„æ˜¯ä»€ä¹ˆæ“ä½œï¼ˆæ¯”å¦‚ï¼Œæ˜¯æ•²é”®ç›˜äº†ï¼Œè¿˜æ˜¯ç‚¹å‡»é¼ æ ‡äº†ï¼‰ï¼Œè¿™äº›äº‹ä»¶åŸºæœ¬éƒ½æ˜¯é€šè¿‡<code>Event</code>å¯¹è±¡æ‹¿åˆ°çš„ã€‚è¿™äº›éƒ½æ¯”è¾ƒç®€å•ï¼Œæˆ‘ä»¬å°±ä¸è®²äº†ã€‚æˆ‘ä»¬æ¥çœ‹çœ‹ä¸‹é¢è¿™å‡ ä¸ªæ–¹æ³•ï¼š</p>\n</blockquote>\n<p><strong>æ–¹æ³•ä¸€</strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\">event.<span class=\"title function_\">preventDefault</span>();</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>è§£é‡Šï¼šé˜»æ­¢é»˜è®¤äº‹ä»¶ã€‚</li>\n<li>æ¯”å¦‚ï¼Œå·²çŸ¥<code>&lt;a&gt;</code>æ ‡ç­¾ç»‘å®šäº†clickäº‹ä»¶ï¼Œæ­¤æ—¶ï¼Œå¦‚æœç»™<code>&lt;a&gt;</code>è®¾ç½®äº†è¿™ä¸ªæ–¹æ³•ï¼Œå°±é˜»æ­¢äº†é“¾æ¥çš„é»˜è®¤è·³è½¬ã€‚</li>\n</ul>\n<p><strong>æ–¹æ³•äºŒï¼šé˜»æ­¢å†’æ³¡</strong></p>\n<blockquote>\n<p>è¿™ä¸ªåœ¨ä¸šåŠ¡ä¸­å¾ˆå¸¸è§ã€‚</p>\n</blockquote>\n<blockquote>\n<p>æœ‰çš„æ—¶å€™ï¼Œä¸šåŠ¡ä¸­ä¸éœ€è¦äº‹ä»¶è¿›è¡Œå†’æ³¡ã€‚æ¯”å¦‚è¯´ï¼Œä¸šåŠ¡è¿™æ ·è¦æ±‚ï¼šå•å‡»å­å…ƒç´ åšäº‹ä»¶<code>A</code>ï¼Œå•å‡»çˆ¶å…ƒç´ åšäº‹ä»¶Bï¼Œå¦‚æœä¸é˜»æ­¢å†’æ³¡çš„è¯ï¼Œå‡ºç°çš„é—®é¢˜æ˜¯ï¼šå•å‡»å­å…ƒç´ æ—¶ï¼Œå­å…ƒç´ å’Œçˆ¶å…ƒç´ éƒ½ä¼šåšäº‹ä»¶<code>A</code>ã€‚è¿™ä¸ªæ—¶å€™ï¼Œå°±è¦ç”¨åˆ°é˜»æ­¢å†’æ³¡äº†ã€‚</p>\n</blockquote>\n<blockquote>\n<p><code>w3c</code>çš„æ–¹æ³•ï¼šï¼ˆç«ç‹ã€è°·æ­Œã€<code>IE11</code>ï¼‰</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\">event.<span class=\"title function_\">stopPropagation</span>();</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p><code>IE10</code>ä»¥ä¸‹åˆ™æ˜¯ï¼š</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\">event.<span class=\"property\">cancelBubble</span> = <span class=\"literal\">true</span>;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>å…¼å®¹ä»£ç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\">box3.<span class=\"property\">onclick</span> = <span class=\"keyword\">function</span> (<span class=\"params\">event</span>) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">     <span class=\"title function_\">alert</span>(<span class=\"string\">&quot;child&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">     <span class=\"comment\">//é˜»æ­¢å†’æ³¡</span></span><br><span class=\"line\">     event = event || <span class=\"variable language_\">window</span>.<span class=\"property\">event</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">     <span class=\"keyword\">if</span> (event &amp;&amp; event.<span class=\"property\">stopPropagation</span>) &#123;</span><br><span class=\"line\">         event.<span class=\"title function_\">stopPropagation</span>();</span><br><span class=\"line\">     &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">         event.<span class=\"property\">cancelBubble</span> = <span class=\"literal\">true</span>;</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\"> &#125;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>ä¸Šæ–¹ä»£ç ä¸­ï¼Œæˆ‘ä»¬å¯¹<code>box3</code>è¿›è¡Œäº†é˜»æ­¢å†’æ³¡ï¼Œäº§ç”Ÿçš„æ•ˆæœæ˜¯ï¼šäº‹ä»¶ä¸ä¼šç»§ç»­ä¼ é€’åˆ° <code>father</code>ã€<code>grandfather</code>ã€<code>body</code>äº†ã€‚</p>\n</blockquote>\n<p><strong>æ–¹æ³•ä¸‰ï¼šè®¾ç½®äº‹ä»¶ä¼˜å…ˆçº§</strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\">event.<span class=\"title function_\">stopImmediatePropagation</span>();</span><br></pre></td></tr></table></figure>\n\n<p>è¿™ä¸ªæ–¹æ³•æ¯”è¾ƒé•¿ï¼Œä¸€èˆ¬äººæ²¡å¬è¯´è¿‡ã€‚è§£é‡Šå¦‚ä¸‹ï¼š</p>\n<blockquote>\n<p>æ¯”å¦‚è¯´ï¼Œæˆ‘ç”¨<code>addEventListener</code>ç»™æŸæŒ‰é’®åŒæ—¶æ³¨å†Œäº†äº‹ä»¶<code>A</code>ã€äº‹ä»¶<code>B</code>ã€‚æ­¤æ—¶ï¼Œå¦‚æœæˆ‘å•å‡»æŒ‰é’®ï¼Œå°±ä¼šä¾æ¬¡æ‰§è¡Œäº‹ä»¶Aå’Œäº‹ä»¶<code>B</code>ã€‚ç°åœ¨è¦æ±‚ï¼šå•å‡»æŒ‰é’®æ—¶ï¼Œåªæ‰§è¡Œäº‹ä»¶Aï¼Œä¸æ‰§è¡Œäº‹ä»¶<code>B</code>ã€‚è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿè¿™æ˜¯æ—¶å€™ï¼Œå°±å¯ä»¥ç”¨åˆ°<code>stopImmediatePropagation</code>æ–¹æ³•äº†ã€‚åšæ³•æ˜¯ï¼šåœ¨äº‹ä»¶Açš„å“åº”å‡½æ•°ä¸­åŠ å…¥è¿™å¥è¯ã€‚</p>\n</blockquote>\n<blockquote>\n<p>å¤§å®¶è¦è®°ä½ <code>event</code> æœ‰è¿™ä¸ªæ–¹æ³•ã€‚</p>\n</blockquote>\n<p><strong>å±æ€§4ã€å±æ€§5ï¼ˆäº‹ä»¶å§”æ‰˜ä¸­ç”¨åˆ°ï¼‰</strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">event.<span class=\"property\">currentTarget</span>   <span class=\"comment\">//å½“å‰æ‰€ç»‘å®šçš„äº‹ä»¶å¯¹è±¡ã€‚åœ¨äº‹ä»¶å§”æ‰˜ä¸­ï¼ŒæŒ‡çš„æ˜¯ã€çˆ¶å…ƒç´ ã€‘ã€‚</span></span><br><span class=\"line\"></span><br><span class=\"line\">event.<span class=\"property\">target</span>  <span class=\"comment\">//å½“å‰è¢«ç‚¹å‡»çš„å…ƒç´ ã€‚åœ¨äº‹ä»¶å§”æ‰˜ä¸­ï¼ŒæŒ‡çš„æ˜¯ã€å­å…ƒç´ ã€‘ã€‚</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>ä¸Šé¢è¿™ä¸¤ä¸ªå±æ€§ï¼Œåœ¨äº‹ä»¶å§”æ‰˜ä¸­ç»å¸¸ç”¨åˆ°ã€‚</p>\n<blockquote>\n<p><strong>æ€»ç»“</strong>ï¼šä¸Šé¢è¿™å‡ é¡¹ï¼Œéå¸¸é‡è¦ï¼Œä½†æ˜¯å®¹æ˜“å¼„æ··æ·†ã€‚</p>\n</blockquote>\n<p><strong>è‡ªå®šä¹‰äº‹ä»¶</strong></p>\n<blockquote>\n<p>è‡ªå®šä¹‰äº‹ä»¶çš„ä»£ç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\">   <span class=\"keyword\">var</span> myEvent = <span class=\"keyword\">new</span> <span class=\"title class_\">Event</span>(<span class=\"string\">&#x27;clickTest&#x27;</span>);</span><br><span class=\"line\">   element.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;clickTest&#x27;</span>, <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">       <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;smyhvae&#x27;</span>);</span><br><span class=\"line\">   &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//å…ƒç´ æ³¨å†Œäº‹ä»¶</span></span><br><span class=\"line\">   element.<span class=\"title function_\">dispatchEvent</span>(myEvent); <span class=\"comment\">//æ³¨æ„ï¼Œå‚æ•°æ˜¯å†™äº‹ä»¶å¯¹è±¡ myEventï¼Œä¸æ˜¯å†™ äº‹ä»¶å clickTest</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>ä¸Šé¢è¿™ä¸ªäº‹ä»¶æ˜¯å®šä¹‰å®Œäº†ä¹‹åï¼Œå°±ç›´æ¥è‡ªåŠ¨è§¦å‘äº†ã€‚åœ¨æ­£å¸¸çš„ä¸šåŠ¡ä¸­ï¼Œè¿™ä¸ªäº‹ä»¶ä¸€èˆ¬æ˜¯å’Œåˆ«çš„äº‹ä»¶ç»“åˆç”¨çš„ã€‚æ¯”å¦‚å»¶æ—¶å™¨è®¾ç½®æŒ‰é’®çš„åŠ¨ä½œï¼š</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> myEvent = <span class=\"keyword\">new</span> <span class=\"title class_\">Event</span>(<span class=\"string\">&#x27;clickTest&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">element.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;clickTest&#x27;</span>, <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;smyhvae&#x27;</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">setTimeout</span>(<span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    element.<span class=\"title function_\">dispatchEvent</span>(myEvent); <span class=\"comment\">//æ³¨æ„ï¼Œå‚æ•°æ˜¯å†™äº‹ä»¶å¯¹è±¡ myEventï¼Œä¸æ˜¯å†™ äº‹ä»¶å clickTest</span></span><br><span class=\"line\">&#125;, <span class=\"number\">1000</span>);</span><br></pre></td></tr></table></figure>\n"},{"title":"HTMLæ ‡ç­¾","url":"/LittleWhiteRabbit/2022/04/26/HTML/","content":"<h3 id=\"HTML\"><a href=\"#HTML\" class=\"headerlink\" title=\"HTML\"></a>HTML</h3><hr>\n<p><strong>è¯­ä¹‰åŒ–</strong></p>\n<ul>\n<li>HTMLæ ‡ç­¾çš„è¯­ä¹‰åŒ–æ˜¯æŒ‡ï¼šé€šè¿‡ä½¿ç”¨åŒ…å«è¯­ä¹‰çš„æ ‡ç­¾ï¼ˆå¦‚h1-h6ï¼‰æ°å½“åœ°è¡¨ç¤ºæ–‡æ¡£ç»“æ„</li>\n<li>csså‘½åçš„è¯­ä¹‰åŒ–æ˜¯æŒ‡ï¼šä¸ºhtmlæ ‡ç­¾æ·»åŠ æœ‰æ„ä¹‰çš„class<span id=\"more\"></span></li>\n<li>ä¸ºä»€ä¹ˆéœ€è¦è¯­ä¹‰åŒ–ï¼š<ul>\n<li>å»æ‰æ ·å¼åé¡µé¢å‘ˆç°æ¸…æ™°çš„ç»“æ„</li>\n<li>ç›²äººä½¿ç”¨è¯»å±å™¨æ›´å¥½åœ°é˜…è¯»</li>\n<li>æœç´¢å¼•æ“æ›´å¥½åœ°ç†è§£é¡µé¢ï¼Œæœ‰åˆ©äºæ”¶å½•</li>\n<li>ä¾¿å›¢é˜Ÿé¡¹ç›®çš„å¯æŒç»­è¿ä½œåŠç»´æŠ¤<!--more--></li>\n</ul>\n</li>\n</ul>\n<p><strong>ç®€è¿°ä¸€ä¸‹ä½ å¯¹HTMLè¯­ä¹‰åŒ–çš„ç†è§£ï¼Ÿ</strong></p>\n<ul>\n<li>ç”¨æ­£ç¡®çš„æ ‡ç­¾åšæ­£ç¡®çš„äº‹æƒ…ã€‚</li>\n<li>htmlè¯­ä¹‰åŒ–è®©é¡µé¢çš„å†…å®¹ç»“æ„åŒ–ï¼Œç»“æ„æ›´æ¸…æ™°ï¼Œä¾¿äºå¯¹æµè§ˆå™¨ã€æœç´¢å¼•æ“è§£æ;</li>\n<li>å³ä½¿åœ¨æ²¡æœ‰æ ·å¼CSSæƒ…å†µä¸‹ä¹Ÿä»¥ä¸€ç§æ–‡æ¡£æ ¼å¼æ˜¾ç¤ºï¼Œå¹¶ä¸”æ˜¯å®¹æ˜“é˜…è¯»çš„;</li>\n<li>æœç´¢å¼•æ“çš„çˆ¬è™«ä¹Ÿä¾èµ–äºHTMLæ ‡è®°æ¥ç¡®å®šä¸Šä¸‹æ–‡å’Œå„ä¸ªå…³é”®å­—çš„æƒé‡ï¼Œåˆ©äºSEO;</li>\n<li>ä½¿é˜…è¯»æºä»£ç çš„äººå¯¹ç½‘ç«™æ›´å®¹æ˜“å°†ç½‘ç«™åˆ†å—ï¼Œä¾¿äºé˜…è¯»ç»´æŠ¤ç†è§£</li>\n</ul>\n<p><strong>Doctypeä½œç”¨ï¼Ÿæ ‡å‡†æ¨¡å¼ä¸å…¼å®¹æ¨¡å¼å„æœ‰ä»€ä¹ˆåŒºåˆ«?</strong></p>\n<ul>\n<li><code>&lt;!DOCTYPE&gt;</code>å£°æ˜ä½äºä½<code>äºHTML</code>æ–‡æ¡£ä¸­çš„ç¬¬ä¸€è¡Œï¼Œå¤„äº <code>&lt;html&gt;</code> æ ‡ç­¾ä¹‹å‰ã€‚å‘ŠçŸ¥æµè§ˆå™¨çš„è§£æå™¨ç”¨ä»€ä¹ˆæ–‡æ¡£æ ‡å‡†è§£æè¿™ä¸ªæ–‡æ¡£ã€‚<code>DOCTYPE</code>ä¸å­˜åœ¨æˆ–æ ¼å¼ä¸æ­£ç¡®ä¼šå¯¼è‡´æ–‡æ¡£ä»¥å…¼å®¹æ¨¡å¼å‘ˆç°</li>\n<li>æ ‡å‡†æ¨¡å¼çš„æ’ç‰ˆ å’ŒJSè¿ä½œæ¨¡å¼éƒ½æ˜¯ä»¥è¯¥æµè§ˆå™¨æ”¯æŒçš„æœ€é«˜æ ‡å‡†è¿è¡Œã€‚åœ¨å…¼å®¹æ¨¡å¼ä¸­ï¼Œé¡µé¢ä»¥å®½æ¾çš„å‘åå…¼å®¹çš„æ–¹å¼æ˜¾ç¤º,æ¨¡æ‹Ÿè€å¼æµè§ˆå™¨çš„è¡Œä¸ºä»¥é˜²æ­¢ç«™ç‚¹æ— æ³•å·¥ä½œ</li>\n</ul>\n<p><strong>HTML5 ä¸ºä»€ä¹ˆåªéœ€è¦å†™ <!DOCTYPE HTML>ï¼Ÿ</strong></p>\n<ul>\n<li>HTML5 ä¸åŸºäº SGMLï¼Œå› æ­¤ä¸éœ€è¦å¯¹DTDè¿›è¡Œå¼•ç”¨ï¼Œä½†æ˜¯éœ€è¦doctypeæ¥è§„èŒƒæµè§ˆå™¨çš„è¡Œä¸ºï¼ˆè®©æµè§ˆå™¨æŒ‰ç…§å®ƒä»¬åº”è¯¥çš„æ–¹å¼æ¥è¿è¡Œï¼‰</li>\n<li>è€ŒHTML4.01åŸºäºSGML,æ‰€ä»¥éœ€è¦å¯¹DTDè¿›è¡Œå¼•ç”¨ï¼Œæ‰èƒ½å‘ŠçŸ¥æµè§ˆå™¨æ–‡æ¡£æ‰€ä½¿ç”¨çš„æ–‡æ¡£ç±»å‹</li>\n</ul>\n<p><strong>è¡Œå†…å…ƒç´ æœ‰å“ªäº›ï¼Ÿå—çº§å…ƒç´ æœ‰å“ªäº›ï¼Ÿ ç©º(void)å…ƒç´ æœ‰é‚£äº›ï¼Ÿ</strong></p>\n<ul>\n<li>è¡Œå†…å…ƒç´ æœ‰ï¼š<code>a b span img input select strong</code>ï¼ˆå¼ºè°ƒçš„è¯­æ°”ï¼‰</li>\n<li>å—çº§å…ƒç´ æœ‰ï¼š<code>div ul ol li dl dt dd h1 h2 h3 h4â€¦p</code></li>\n<li>å¸¸è§çš„ç©ºå…ƒç´ :<code> &lt;br&gt; &lt;hr&gt; &lt;img&gt; &lt;input&gt; &lt;link&gt; &lt;meta&gt;</code></li>\n</ul>\n<p><strong>é¡µé¢å¯¼å…¥æ ·å¼æ—¶ï¼Œä½¿ç”¨linkå’Œ@importæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</strong></p>\n<ul>\n<li><code>link</code>å±äº<code>XHTML</code>æ ‡ç­¾ï¼Œé™¤äº†åŠ è½½<code>CSS</code>å¤–ï¼Œè¿˜èƒ½ç”¨äºå®šä¹‰<code>RSS</code>,å®šä¹‰<code>rel</code>è¿æ¥å±æ€§ç­‰ä½œç”¨ï¼›è€Œ<code>@import</code>æ˜¯<code>CSS</code>æä¾›çš„ï¼Œåªèƒ½ç”¨äºåŠ è½½<code>CSS</code></li>\n<li>é¡µé¢è¢«åŠ è½½çš„æ—¶ï¼Œ<code>link</code>ä¼šåŒæ—¶è¢«åŠ è½½ï¼Œè€Œ<code>@import</code>å¼•ç”¨çš„<code>CSS</code>ä¼šç­‰åˆ°é¡µé¢è¢«åŠ è½½å®Œå†åŠ è½½</li>\n<li><code>import</code>æ˜¯<code>CSS2.1</code> æå‡ºçš„ï¼Œåªåœ¨<code>IE5</code>ä»¥ä¸Šæ‰èƒ½è¢«è¯†åˆ«ï¼Œè€Œ<code>link</code>æ˜¯<code>XHTML</code>æ ‡ç­¾ï¼Œæ— å…¼å®¹é—®é¢˜</li>\n</ul>\n<p><strong>ä»‹ç»ä¸€ä¸‹ä½ å¯¹æµè§ˆå™¨å†…æ ¸çš„ç†è§£ï¼Ÿ</strong></p>\n<ul>\n<li><p>ä¸»è¦åˆ†æˆä¸¤éƒ¨åˆ†ï¼šæ¸²æŸ“å¼•æ“(<code>layout engineer</code>æˆ–<code>Rendering Engine</code>)å’Œ<code>JS</code>å¼•æ“</p>\n</li>\n<li><p>æ¸²æŸ“å¼•æ“ï¼šè´Ÿè´£å–å¾—ç½‘é¡µçš„å†…å®¹ï¼ˆHTMLã€XMLã€å›¾åƒç­‰ç­‰ï¼‰ã€æ•´ç†è®¯æ¯ï¼ˆä¾‹å¦‚åŠ å…¥CSSç­‰ï¼‰ï¼Œä»¥åŠè®¡ç®—ç½‘é¡µçš„æ˜¾ç¤ºæ–¹å¼ï¼Œç„¶åä¼šè¾“å‡ºè‡³æ˜¾ç¤ºå™¨æˆ–æ‰“å°æœºã€‚æµè§ˆå™¨çš„å†…æ ¸çš„ä¸åŒå¯¹äºç½‘é¡µçš„è¯­æ³•è§£é‡Šä¼šæœ‰ä¸åŒï¼Œæ‰€ä»¥æ¸²æŸ“çš„æ•ˆæœä¹Ÿä¸ç›¸åŒã€‚æ‰€æœ‰ç½‘é¡µæµè§ˆå™¨ã€ç”µå­é‚®ä»¶å®¢æˆ·ç«¯ä»¥åŠå…¶å®ƒéœ€è¦ç¼–è¾‘ã€æ˜¾ç¤ºç½‘ç»œå†…å®¹çš„åº”ç”¨ç¨‹åºéƒ½éœ€è¦å†…æ ¸</p>\n</li>\n<li><p>JSå¼•æ“åˆ™ï¼šè§£æå’Œæ‰§è¡Œjavascriptæ¥å®ç°ç½‘é¡µçš„åŠ¨æ€æ•ˆæœ</p>\n</li>\n<li><p>æœ€å¼€å§‹æ¸²æŸ“å¼•æ“å’ŒJSå¼•æ“å¹¶æ²¡æœ‰åŒºåˆ†çš„å¾ˆæ˜ç¡®ï¼Œåæ¥JSå¼•æ“è¶Šæ¥è¶Šç‹¬ç«‹ï¼Œå†…æ ¸å°±å€¾å‘äºåªæŒ‡æ¸²æŸ“å¼•æ“</p>\n</li>\n</ul>\n<p><strong>å¸¸è§çš„æµè§ˆå™¨å†…æ ¸æœ‰å“ªäº›ï¼Ÿ</strong></p>\n<ul>\n<li><code>Trident</code>å†…æ ¸ï¼š<code>IE,MaxThon,TT,The World,360</code>,æœç‹—æµè§ˆå™¨ç­‰ã€‚[åˆç§°MSHTML]</li>\n<li><code>Gecko</code>å†…æ ¸ï¼š<code>Netscape6</code>åŠä»¥ä¸Šç‰ˆæœ¬ï¼Œ<code>FF,MozillaSuite/SeaMonkey</code>ç­‰</li>\n<li><code>Presto</code>å†…æ ¸ï¼š<code>Opera7</code>åŠä»¥ä¸Šã€‚      [<code>Opera</code>å†…æ ¸åŸä¸ºï¼šPrestoï¼Œç°ä¸ºï¼š<code>Blink</code>;]</li>\n<li><code>Webkit</code>å†…æ ¸ï¼š<code>Safari,Chrome</code>ç­‰ã€‚   [ <code>Chrome</code>çš„<code>Blink</code>ï¼ˆ<code>WebKit</code>çš„åˆ†æ”¯ï¼‰]</li>\n</ul>\n<p><strong>html5æœ‰å“ªäº›æ–°ç‰¹æ€§ã€ç§»é™¤äº†é‚£äº›å…ƒç´ ï¼Ÿå¦‚ä½•å¤„ç†HTML5æ–°æ ‡ç­¾çš„æµè§ˆå™¨å…¼å®¹é—®é¢˜ï¼Ÿå¦‚ä½•åŒºåˆ† HTML å’Œ HTML5ï¼Ÿ</strong></p>\n<ul>\n<li><p>HTML5 ç°åœ¨å·²ç»ä¸æ˜¯ SGML çš„å­é›†ï¼Œä¸»è¦æ˜¯å…³äºå›¾åƒï¼Œä½ç½®ï¼Œå­˜å‚¨ï¼Œå¤šä»»åŠ¡ç­‰åŠŸèƒ½çš„å¢åŠ </p>\n<ul>\n<li>ç»˜ç”» canvas</li>\n<li>ç”¨äºåª’ä»‹å›æ”¾çš„ video å’Œ audio å…ƒç´ </li>\n<li>æœ¬åœ°ç¦»çº¿å­˜å‚¨ localStorage é•¿æœŸå­˜å‚¨æ•°æ®ï¼Œæµè§ˆå™¨å…³é—­åæ•°æ®ä¸ä¸¢å¤±</li>\n<li>sessionStorage çš„æ•°æ®åœ¨æµè§ˆå™¨å…³é—­åè‡ªåŠ¨åˆ é™¤</li>\n<li>è¯­æ„åŒ–æ›´å¥½çš„å†…å®¹å…ƒç´ ï¼Œæ¯”å¦‚ articleã€footerã€headerã€navã€section</li>\n<li>è¡¨å•æ§ä»¶ï¼Œcalendarã€dateã€timeã€emailã€urlã€search</li>\n<li>æ–°çš„æŠ€æœ¯webworker, websocket, Geolocation</li>\n</ul>\n</li>\n<li><p>ç§»é™¤çš„å…ƒç´ ï¼š</p>\n</li>\n<li><p>çº¯è¡¨ç°çš„å…ƒç´ ï¼šbasefontï¼Œbigï¼Œcenterï¼Œfont, sï¼Œstrikeï¼Œttï¼Œu</p>\n</li>\n<li><p>å¯¹å¯ç”¨æ€§äº§ç”Ÿè´Ÿé¢å½±å“çš„å…ƒç´ ï¼šframeï¼Œframesetï¼Œnoframes</p>\n</li>\n<li><p>æ”¯æŒHTML5æ–°æ ‡ç­¾ï¼š</p>\n<ul>\n<li>IE8&#x2F;IE7&#x2F;IE6æ”¯æŒé€šè¿‡document.createElementæ–¹æ³•äº§ç”Ÿçš„æ ‡ç­¾</li>\n<li>å¯ä»¥åˆ©ç”¨è¿™ä¸€ç‰¹æ€§è®©è¿™äº›æµè§ˆå™¨æ”¯æŒHTML5æ–°æ ‡ç­¾</li>\n<li>æµè§ˆå™¨æ”¯æŒæ–°æ ‡ç­¾åï¼Œè¿˜éœ€è¦æ·»åŠ æ ‡ç­¾é»˜è®¤çš„æ ·å¼</li>\n</ul>\n</li>\n<li><p>å½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨æˆç†Ÿçš„æ¡†æ¶ã€æ¯”å¦‚html5shim</p>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;!--[if lt IE 9]&gt;</span><br><span class=\"line\">&lt;script&gt; src=&quot;http://html5shim.googlecode.com</span><br><span class=\"line\">/svn/trunk/html5.js&quot;&lt;/script&gt;&lt;![endif]--&gt;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>å¦‚ä½•åŒºåˆ†HTML5ï¼š DOCTYPEå£°æ˜\\æ–°å¢çš„ç»“æ„å…ƒç´ \\åŠŸèƒ½å…ƒç´ </li>\n</ul>\n<p><strong>HTML5çš„ç¦»çº¿å‚¨å­˜æ€ä¹ˆä½¿ç”¨ï¼Œå·¥ä½œåŸç†èƒ½ä¸èƒ½è§£é‡Šä¸€ä¸‹ï¼Ÿ</strong></p>\n<ul>\n<li><p>åœ¨ç”¨æˆ·æ²¡æœ‰ä¸å› ç‰¹ç½‘è¿æ¥æ—¶ï¼Œå¯ä»¥æ­£å¸¸è®¿é—®ç«™ç‚¹æˆ–åº”ç”¨ï¼Œåœ¨ç”¨æˆ·ä¸å› ç‰¹ç½‘è¿æ¥æ—¶ï¼Œæ›´æ–°ç”¨æˆ·æœºå™¨ä¸Šçš„ç¼“å­˜æ–‡ä»¶</p>\n</li>\n<li><p>åŸç†ï¼šHTML5çš„ç¦»çº¿å­˜å‚¨æ˜¯åŸºäºä¸€ä¸ªæ–°å»ºçš„.appcacheæ–‡ä»¶çš„ç¼“å­˜æœºåˆ¶(ä¸æ˜¯å­˜å‚¨æŠ€æœ¯)ï¼Œé€šè¿‡è¿™ä¸ªæ–‡ä»¶ä¸Šçš„è§£ææ¸…å•ç¦»çº¿å­˜å‚¨èµ„æºï¼Œè¿™äº›èµ„æºå°±ä¼šåƒcookieä¸€æ ·è¢«å­˜å‚¨äº†ä¸‹æ¥ã€‚ä¹‹åå½“ç½‘ç»œåœ¨å¤„äºç¦»çº¿çŠ¶æ€ä¸‹æ—¶ï¼Œæµè§ˆå™¨ä¼šé€šè¿‡è¢«ç¦»çº¿å­˜å‚¨çš„æ•°æ®è¿›è¡Œé¡µé¢å±•ç¤º</p>\n</li>\n<li><p>å¦‚ä½•ä½¿ç”¨ï¼š</p>\n<ul>\n<li>é¡µé¢å¤´éƒ¨åƒä¸‹é¢ä¸€æ ·åŠ å…¥ä¸€ä¸ªmanifestçš„å±æ€§ï¼›</li>\n<li>åœ¨cache.manifestæ–‡ä»¶çš„ç¼–å†™ç¦»çº¿å­˜å‚¨çš„èµ„æº</li>\n<li>åœ¨ç¦»çº¿çŠ¶æ€æ—¶ï¼Œæ“ä½œwindow.applicationCacheè¿›è¡Œéœ€æ±‚å®ç°<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">CACHE MANIFEST</span><br><span class=\"line\">    #v0.11</span><br><span class=\"line\">    CACHE:</span><br><span class=\"line\">    js/app.js</span><br><span class=\"line\">    css/style.css</span><br><span class=\"line\">    NETWORK:</span><br><span class=\"line\">    resourse/logo.png</span><br><span class=\"line\">    FALLBACK:</span><br><span class=\"line\">    / /offline.html</span><br></pre></td></tr></table></figure></li>\n</ul>\n</li>\n</ul>\n<p><strong>æµè§ˆå™¨æ˜¯æ€ä¹ˆå¯¹HTML5çš„ç¦»çº¿å‚¨å­˜èµ„æºè¿›è¡Œç®¡ç†å’ŒåŠ è½½çš„å‘¢ï¼Ÿ</strong></p>\n<ul>\n<li><p>åœ¨çº¿çš„æƒ…å†µä¸‹ï¼Œæµè§ˆå™¨å‘ç°htmlå¤´éƒ¨æœ‰manifestå±æ€§ï¼Œå®ƒä¼šè¯·æ±‚manifestæ–‡ä»¶ï¼Œå¦‚æœæ˜¯ç¬¬ä¸€æ¬¡è®¿é—®appï¼Œé‚£ä¹ˆæµè§ˆå™¨å°±ä¼šæ ¹æ®manifestæ–‡ä»¶çš„å†…å®¹ä¸‹è½½ç›¸åº”çš„èµ„æºå¹¶ä¸”è¿›è¡Œç¦»çº¿å­˜å‚¨ã€‚å¦‚æœå·²ç»è®¿é—®è¿‡appå¹¶ä¸”èµ„æºå·²ç»ç¦»çº¿å­˜å‚¨äº†ï¼Œé‚£ä¹ˆæµè§ˆå™¨å°±ä¼šä½¿ç”¨ç¦»çº¿çš„èµ„æºåŠ è½½é¡µé¢ï¼Œç„¶åæµè§ˆå™¨ä¼šå¯¹æ¯”æ–°çš„manifestæ–‡ä»¶ä¸æ—§çš„manifestæ–‡ä»¶ï¼Œå¦‚æœæ–‡ä»¶æ²¡æœ‰å‘ç”Ÿæ”¹å˜ï¼Œå°±ä¸åšä»»ä½•æ“ä½œï¼Œå¦‚æœæ–‡ä»¶æ”¹å˜äº†ï¼Œé‚£ä¹ˆå°±ä¼šé‡æ–°ä¸‹è½½æ–‡ä»¶ä¸­çš„èµ„æºå¹¶è¿›è¡Œç¦»çº¿å­˜å‚¨ã€‚</p>\n</li>\n<li><p>ç¦»çº¿çš„æƒ…å†µä¸‹ï¼Œæµè§ˆå™¨å°±ç›´æ¥ä½¿ç”¨ç¦»çº¿å­˜å‚¨çš„èµ„æºã€‚</p>\n</li>\n</ul>\n<p><strong>è¯·æè¿°ä¸€ä¸‹ cookiesï¼ŒsessionStorage å’Œ localStorage çš„åŒºåˆ«ï¼Ÿ</strong></p>\n<ul>\n<li><p>cookieæ˜¯ç½‘ç«™ä¸ºäº†æ ‡ç¤ºç”¨æˆ·èº«ä»½è€Œå‚¨å­˜åœ¨ç”¨æˆ·æœ¬åœ°ç»ˆç«¯ï¼ˆClient Sideï¼‰ä¸Šçš„æ•°æ®ï¼ˆé€šå¸¸ç»è¿‡åŠ å¯†ï¼‰</p>\n</li>\n<li><p>cookieæ•°æ®å§‹ç»ˆåœ¨åŒæºçš„httpè¯·æ±‚ä¸­æºå¸¦ï¼ˆå³ä½¿ä¸éœ€è¦ï¼‰ï¼Œè®°ä¼šåœ¨æµè§ˆå™¨å’ŒæœåŠ¡å™¨é—´æ¥å›ä¼ é€’</p>\n</li>\n<li><p><code>sessionStorage</code>å’Œ<code>localStorage</code>ä¸ä¼šè‡ªåŠ¨æŠŠæ•°æ®å‘ç»™æœåŠ¡å™¨ï¼Œä»…åœ¨æœ¬åœ°ä¿å­˜</p>\n</li>\n<li><p>å­˜å‚¨å¤§å°ï¼š</p>\n<ul>\n<li><code>cookie</code>æ•°æ®å¤§å°ä¸èƒ½è¶…è¿‡4k</li>\n<li><code>sessionStorage</code>å’Œ<code>localStorage</code>è™½ç„¶ä¹Ÿæœ‰å­˜å‚¨å¤§å°çš„é™åˆ¶ï¼Œä½†æ¯”cookieå¤§å¾—å¤šï¼Œå¯ä»¥è¾¾åˆ°5Mæˆ–æ›´å¤§</li>\n</ul>\n</li>\n<li><p>æœ‰æœŸæ—¶é—´ï¼š</p>\n<ul>\n<li><code>localStorage</code> å­˜å‚¨æŒä¹…æ•°æ®ï¼Œæµè§ˆå™¨å…³é—­åæ•°æ®ä¸ä¸¢å¤±é™¤éä¸»åŠ¨åˆ é™¤æ•°æ®</li>\n<li><code>sessionStorage</code>  æ•°æ®åœ¨å½“å‰æµè§ˆå™¨çª—å£å…³é—­åè‡ªåŠ¨åˆ é™¤</li>\n<li><code>cookie</code>  è®¾ç½®çš„<code>cookie</code>è¿‡æœŸæ—¶é—´ä¹‹å‰ä¸€ç›´æœ‰æ•ˆï¼Œå³ä½¿çª—å£æˆ–æµè§ˆå™¨å…³é—­</li>\n</ul>\n</li>\n</ul>\n<p><strong>iframeæœ‰é‚£äº›ç¼ºç‚¹ï¼Ÿ</strong></p>\n<ul>\n<li>iframeä¼šé˜»å¡ä¸»é¡µé¢çš„Onloadäº‹ä»¶</li>\n<li>æœç´¢å¼•æ“çš„æ£€ç´¢ç¨‹åºæ— æ³•è§£è¯»è¿™ç§é¡µé¢ï¼Œä¸åˆ©äºSEO</li>\n<li>iframeå’Œä¸»é¡µé¢å…±äº«è¿æ¥æ± ï¼Œè€Œæµè§ˆå™¨å¯¹ç›¸åŒåŸŸçš„è¿æ¥æœ‰é™åˆ¶ï¼Œæ‰€ä»¥ä¼šå½±å“é¡µé¢çš„å¹¶è¡ŒåŠ è½½</li>\n<li>ä½¿ç”¨<code>iframe</code>ä¹‹å‰éœ€è¦è€ƒè™‘è¿™ä¸¤ä¸ªç¼ºç‚¹ã€‚å¦‚æœéœ€è¦ä½¿ç”¨<code>iframe</code>ï¼Œæœ€å¥½æ˜¯é€šè¿‡<code>javascript</code>åŠ¨æ€ç»™<code>iframe</code>æ·»åŠ <code>src</code>å±æ€§å€¼ï¼Œè¿™æ ·å¯ä»¥ç»•å¼€ä»¥ä¸Šä¸¤ä¸ªé—®é¢˜</li>\n</ul>\n<p><strong>Labelçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿæ˜¯æ€ä¹ˆç”¨çš„ï¼Ÿ</strong></p>\n<ul>\n<li>labelæ ‡ç­¾æ¥å®šä¹‰è¡¨å•æ§åˆ¶é—´çš„å…³ç³»,å½“ç”¨æˆ·é€‰æ‹©è¯¥æ ‡ç­¾æ—¶ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨å°†ç„¦ç‚¹è½¬åˆ°å’Œæ ‡ç­¾ç›¸å…³çš„è¡¨å•æ§ä»¶</li>\n</ul>\n<p><strong>HTML5çš„formå¦‚ä½•å…³é—­è‡ªåŠ¨å®ŒæˆåŠŸèƒ½ï¼Ÿ</strong></p>\n<ul>\n<li>ç»™ä¸æƒ³è¦æç¤ºçš„ form æˆ–æŸä¸ª input è®¾ç½®ä¸º autocomplete&#x3D;offã€‚</li>\n</ul>\n<p><strong>å¦‚ä½•å®ç°æµè§ˆå™¨å†…å¤šä¸ªæ ‡ç­¾é¡µä¹‹é—´çš„é€šä¿¡? (é˜¿é‡Œ)</strong></p>\n<ul>\n<li>WebSocketã€SharedWorker</li>\n<li>ä¹Ÿå¯ä»¥è°ƒç”¨localstorgeã€cookiesç­‰æœ¬åœ°å­˜å‚¨æ–¹å¼</li>\n</ul>\n<p><strong>webSocketå¦‚ä½•å…¼å®¹ä½æµè§ˆå™¨ï¼Ÿ(é˜¿é‡Œ)</strong></p>\n<ul>\n<li>Adobe Flash Socket ã€</li>\n<li>ActiveX HTMLFile (IE) ã€</li>\n<li>åŸºäº multipart ç¼–ç å‘é€ XHR ã€</li>\n<li>åŸºäºé•¿è½®è¯¢çš„ XHR</li>\n</ul>\n<p><strong>é¡µé¢å¯è§æ€§ï¼ˆPage Visibility APIï¼‰ å¯ä»¥æœ‰å“ªäº›ç”¨é€”ï¼Ÿ</strong></p>\n<ul>\n<li>é€šè¿‡ visibilityState çš„å€¼æ£€æµ‹é¡µé¢å½“å‰æ˜¯å¦å¯è§ï¼Œä»¥åŠæ‰“å¼€ç½‘é¡µçš„æ—¶é—´ç­‰;</li>\n<li>åœ¨é¡µé¢è¢«åˆ‡æ¢åˆ°å…¶ä»–åå°è¿›ç¨‹çš„æ—¶å€™ï¼Œè‡ªåŠ¨æš‚åœéŸ³ä¹æˆ–è§†é¢‘çš„æ’­æ”¾</li>\n</ul>\n<p><strong>å¦‚ä½•åœ¨é¡µé¢ä¸Šå®ç°ä¸€ä¸ªåœ†å½¢çš„å¯ç‚¹å‡»åŒºåŸŸï¼Ÿ</strong></p>\n<ul>\n<li>map+areaæˆ–è€…svg</li>\n<li>border-radius</li>\n<li>çº¯jså®ç° éœ€è¦æ±‚ä¸€ä¸ªç‚¹åœ¨ä¸åœ¨åœ†ä¸Šç®€å•ç®—æ³•ã€è·å–é¼ æ ‡åæ ‡ç­‰ç­‰</li>\n</ul>\n<p><strong>å®ç°ä¸ä½¿ç”¨ border ç”»å‡º1pxé«˜çš„çº¿ï¼Œåœ¨ä¸åŒæµè§ˆå™¨çš„æ ‡å‡†æ¨¡å¼ä¸æ€ªå¼‚æ¨¡å¼ä¸‹éƒ½èƒ½ä¿æŒä¸€è‡´çš„æ•ˆæœ</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;div style=&quot;height:1px;overflow:hidden;background:red&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>\n\n<p><strong>ç½‘é¡µéªŒè¯ç æ˜¯å¹²å˜›çš„ï¼Œæ˜¯ä¸ºäº†è§£å†³ä»€ä¹ˆå®‰å…¨é—®é¢˜</strong></p>\n<ul>\n<li>åŒºåˆ†ç”¨æˆ·æ˜¯è®¡ç®—æœºè¿˜æ˜¯äººçš„å…¬å…±å…¨è‡ªåŠ¨ç¨‹åºã€‚å¯ä»¥é˜²æ­¢æ¶æ„ç ´è§£å¯†ç ã€åˆ·ç¥¨ã€è®ºå›çŒæ°´</li>\n<li>æœ‰æ•ˆé˜²æ­¢é»‘å®¢å¯¹æŸä¸€ä¸ªç‰¹å®šæ³¨å†Œç”¨æˆ·ç”¨ç‰¹å®šç¨‹åºæš´åŠ›ç ´è§£æ–¹å¼è¿›è¡Œä¸æ–­çš„ç™»é™†å°è¯•</li>\n</ul>\n<p><strong>titleä¸h1çš„åŒºåˆ«ã€bä¸strongçš„åŒºåˆ«ã€iä¸emçš„åŒºåˆ«ï¼Ÿ</strong></p>\n<ul>\n<li><code>title</code>å±æ€§æ²¡æœ‰æ˜ç¡®æ„ä¹‰åªè¡¨ç¤ºæ˜¯ä¸ªæ ‡é¢˜ï¼ŒH1åˆ™è¡¨ç¤ºå±‚æ¬¡æ˜ç¡®çš„æ ‡é¢˜ï¼Œå¯¹é¡µé¢ä¿¡æ¯çš„æŠ“å–ä¹Ÿæœ‰å¾ˆå¤§çš„å½±å“</li>\n<li><code>strong</code>æ˜¯æ ‡æ˜é‡ç‚¹å†…å®¹ï¼Œæœ‰è¯­æ°”åŠ å¼ºçš„å«ä¹‰ï¼Œä½¿ç”¨é˜…è¯»è®¾å¤‡é˜…è¯»ç½‘ç»œæ—¶ï¼š<strong>ä¼šé‡è¯»ï¼Œè€Œ<B>æ˜¯å±•ç¤ºå¼ºè°ƒå†…å®¹</li>\n<li>iå†…å®¹å±•ç¤ºä¸ºæ–œä½“ï¼Œemè¡¨ç¤ºå¼ºè°ƒçš„æ–‡æœ¬</li>\n</ul>\n<p><strong>é¡µé¢å¯¼å…¥æ ·å¼æ—¶ï¼Œä½¿ç”¨ link å’Œ @import æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</strong></p>\n<ul>\n<li>link å±äºHTMLæ ‡ç­¾ï¼Œé™¤äº†åŠ è½½CSSå¤–ï¼Œè¿˜èƒ½ç”¨äºå®š RSSç­‰ï¼›@import åªèƒ½ç”¨äºåŠ è½½CSS</li>\n<li>é¡µé¢åŠ è½½çš„æ—¶ï¼Œlink ä¼šåŒæ—¶è¢«åŠ è½½ï¼Œè€Œ @import å¼•ç”¨çš„ CSS ä¼šç­‰åˆ°é¡µé¢è¢«åŠ è½½å®Œå†åŠ è½½</li>\n<li>@import åªåœ¨ IE5 ä»¥ä¸Šæ‰èƒ½è¢«è¯†åˆ«ï¼Œè€Œ link æ˜¯HTMLæ ‡ç­¾ï¼Œæ— å…¼å®¹é—®é¢˜</li>\n</ul>\n<p><strong>ä»‹ç»ä¸€ä¸‹ä½ å¯¹æµè§ˆå™¨å†…æ ¸çš„ç†è§£ï¼Ÿ</strong></p>\n<ul>\n<li>æµè§ˆå™¨å†…æ ¸ä¸»è¦åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼šæ¸²æŸ“å¼•æ“(layout engineer æˆ– Rendering Engine) å’Œ JSå¼•æ“</li>\n<li>æ¸²æŸ“å¼•æ“è´Ÿè´£å–å¾—ç½‘é¡µçš„å†…å®¹è¿›è¡Œå¸ƒå±€è®¡å’Œæ ·å¼æ¸²æŸ“ï¼Œç„¶åä¼šè¾“å‡ºè‡³æ˜¾ç¤ºå™¨æˆ–æ‰“å°æœº</li>\n<li>JSå¼•æ“åˆ™è´Ÿè´£è§£æå’Œæ‰§è¡ŒJSè„šæœ¬æ¥å®ç°ç½‘é¡µçš„åŠ¨æ€æ•ˆæœå’Œç”¨æˆ·äº¤äº’</li>\n<li>æœ€å¼€å§‹æ¸²æŸ“å¼•æ“å’ŒJSå¼•æ“å¹¶æ²¡æœ‰åŒºåˆ†çš„å¾ˆæ˜ç¡®ï¼Œåæ¥JSå¼•æ“è¶Šæ¥è¶Šç‹¬ç«‹ï¼Œå†…æ ¸å°±å€¾å‘äºåªæŒ‡æ¸²æŸ“å¼•æ“</li>\n</ul>\n<p><strong>å¸¸è§çš„æµè§ˆå™¨å†…æ ¸æœ‰å“ªäº›ï¼Ÿ</strong></p>\n<ul>\n<li>Blinkå†…æ ¸ï¼šæ–°ç‰ˆ Chromeã€æ–°ç‰ˆ Opera</li>\n<li>Webkitå†…æ ¸ï¼šSafariã€åŸChrome</li>\n<li>Geckoå†…æ ¸ï¼šFireFoxã€Netscape6åŠä»¥ä¸Šç‰ˆæœ¬</li>\n<li>Tridentå†…æ ¸ï¼ˆåˆç§°MSHTMLå†…æ ¸ï¼‰ï¼šIEã€å›½äº§æµè§ˆå™¨</li>\n<li>Prestoå†…æ ¸ï¼šåŸOpera7åŠä»¥ä¸Š</li>\n</ul>\n<p><strong>HTML5æœ‰å“ªäº›æ–°ç‰¹æ€§ï¼Ÿ</strong></p>\n<ul>\n<li>æ–°å¢é€‰æ‹©å™¨ document.querySelectorã€document.querySelectorAll</li>\n<li>æ‹–æ‹½é‡Šæ”¾(Drag and drop) API</li>\n<li>åª’ä½“æ’­æ”¾çš„ video å’Œ audio</li>\n<li>æœ¬åœ°å­˜å‚¨ localStorage å’Œ sessionStorage</li>\n<li>ç¦»çº¿åº”ç”¨ manifest</li>\n<li>æ¡Œé¢é€šçŸ¥ Notifications</li>\n<li>è¯­æ„åŒ–æ ‡ç­¾ articleã€footerã€headerã€navã€section</li>\n<li>å¢å¼ºè¡¨å•æ§ä»¶ calendarã€dateã€timeã€emailã€urlã€search</li>\n<li>åœ°ç†ä½ç½® Geolocation</li>\n<li>å¤šä»»åŠ¡ webworker</li>\n<li>å…¨åŒå·¥é€šä¿¡åè®® websocket</li>\n<li>å†å²ç®¡ç† history</li>\n<li>è·¨åŸŸèµ„æºå…±äº«(CORS) Access-Control-Allow-Origin</li>\n<li>é¡µé¢å¯è§æ€§æ”¹å˜äº‹ä»¶ visibilitychange</li>\n<li>è·¨çª—å£é€šä¿¡ PostMessage</li>\n<li>Form Data å¯¹è±¡</li>\n<li>ç»˜ç”» canvas</li>\n</ul>\n<p><strong>HTML5ç§»é™¤äº†é‚£äº›å…ƒç´ ï¼Ÿ</strong></p>\n<ul>\n<li>çº¯è¡¨ç°çš„å…ƒç´ ï¼šbasefontã€bigã€centerã€fontã€sã€strikeã€ttã€u</li>\n<li>å¯¹å¯ç”¨æ€§äº§ç”Ÿè´Ÿé¢å½±å“çš„å…ƒç´ ï¼šframeã€framesetã€noframes</li>\n</ul>\n<p><strong>å¦‚ä½•å¤„ç†HTML5æ–°æ ‡ç­¾çš„æµè§ˆå™¨å…¼å®¹é—®é¢˜ï¼Ÿ</strong></p>\n<ul>\n<li>é€šè¿‡ document.createElement åˆ›å»ºæ–°æ ‡ç­¾</li>\n<li>ä½¿ç”¨å«ç‰‡ html5shiv.js</li>\n</ul>\n<p><strong>å¦‚ä½•åŒºåˆ† HTML å’Œ HTML5ï¼Ÿ</strong></p>\n<ul>\n<li>DOCTYPEå£°æ˜ã€æ–°å¢çš„ç»“æ„å…ƒç´ ã€åŠŸèƒ½å…ƒç´ </li>\n</ul>\n<p><strong>HTML5çš„ç¦»çº¿å‚¨å­˜å·¥ä½œåŸç†èƒ½ä¸èƒ½è§£é‡Šä¸€ä¸‹ï¼Œæ€ä¹ˆä½¿ç”¨ï¼Ÿ</strong></p>\n<ul>\n<li><p>HTML5çš„ç¦»çº¿å‚¨å­˜åŸç†ï¼š</p>\n<ul>\n<li>ç”¨æˆ·åœ¨çº¿æ—¶ï¼Œä¿å­˜æ›´æ–°ç”¨æˆ·æœºå™¨ä¸Šçš„ç¼“å­˜æ–‡ä»¶ï¼›å½“ç”¨æˆ·ç¦»çº¿æ—¶ï¼Œå¯ä»¥æ­£å¸¸è®¿ç¦»çº¿å‚¨å­˜é—®ç«™ç‚¹æˆ–åº”ç”¨å†…å®¹</li>\n</ul>\n</li>\n<li><p>HTML5çš„ç¦»çº¿å‚¨å­˜ä½¿ç”¨ï¼š</p>\n<ul>\n<li>åœ¨æ–‡æ¡£çš„ html æ ‡ç­¾è®¾ç½® manifest å±æ€§ï¼Œå¦‚ manifest&#x3D;â€&#x2F;offline.appcacheâ€</li>\n<li>åœ¨é¡¹ç›®ä¸­æ–°å»º manifest æ–‡ä»¶ï¼Œmanifest æ–‡ä»¶çš„å‘½åå»ºè®®ï¼šxxx.appcache</li>\n<li>åœ¨ web æœåŠ¡å™¨é…ç½®æ­£ç¡®çš„ MIME-typeï¼Œå³ text&#x2F;cache-manifest</li>\n</ul>\n</li>\n</ul>\n<p><strong>æµè§ˆå™¨æ˜¯æ€ä¹ˆå¯¹HTML5çš„ç¦»çº¿å‚¨å­˜èµ„æºè¿›è¡Œç®¡ç†å’ŒåŠ è½½çš„ï¼Ÿ</strong></p>\n<ul>\n<li>åœ¨çº¿çš„æƒ…å†µä¸‹ï¼Œæµè§ˆå™¨å‘ç° html æ ‡ç­¾æœ‰ manifest å±æ€§ï¼Œå®ƒä¼šè¯·æ±‚ manifest æ–‡ä»¶</li>\n<li>å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡è®¿é—®appï¼Œé‚£ä¹ˆæµè§ˆå™¨å°±ä¼šæ ¹æ® manifest æ–‡ä»¶çš„å†…å®¹ä¸‹è½½ç›¸åº”çš„èµ„æºå¹¶ä¸”è¿›è¡Œç¦»çº¿å­˜å‚¨</li>\n<li>å¦‚æœå·²ç»è®¿é—®è¿‡appä¸”èµ„æºå·²ç»ç¦»çº¿å­˜å‚¨äº†ï¼Œæµè§ˆå™¨ä¼šå¯¹æ¯”æ–°çš„ manifest æ–‡ä»¶ä¸æ—§çš„ manifest æ–‡ä»¶ï¼Œå¦‚æœæ–‡ä»¶æ²¡æœ‰å‘ç”Ÿæ”¹å˜ï¼Œå°±ä¸åšä»»ä½•æ“ä½œã€‚å¦‚æœæ–‡ä»¶æ”¹å˜äº†ï¼Œé‚£ä¹ˆå°±ä¼šé‡æ–°ä¸‹è½½æ–‡ä»¶ä¸­çš„èµ„æºå¹¶è¿›è¡Œç¦»çº¿å­˜å‚¨</li>\n<li>ç¦»çº¿çš„æƒ…å†µä¸‹ï¼Œæµè§ˆå™¨å°±ç›´æ¥ä½¿ç”¨ç¦»çº¿å­˜å‚¨çš„èµ„æºã€‚</li>\n</ul>\n<p><strong>iframe æœ‰é‚£äº›ä¼˜ç‚¹å’Œç¼ºç‚¹ï¼Ÿ</strong></p>\n<ul>\n<li><p>ä¼˜ç‚¹ï¼š</p>\n<ul>\n<li>ç”¨æ¥åŠ è½½é€Ÿåº¦è¾ƒæ…¢çš„å†…å®¹ï¼ˆå¦‚å¹¿å‘Šï¼‰</li>\n<li>å¯ä»¥ä½¿è„šæœ¬å¯ä»¥å¹¶è¡Œä¸‹è½½</li>\n<li>å¯ä»¥å®ç°è·¨å­åŸŸé€šä¿¡</li>\n</ul>\n</li>\n<li><p>ç¼ºç‚¹ï¼š</p>\n<ul>\n<li>iframe ä¼šé˜»å¡ä¸»é¡µé¢çš„ onload äº‹ä»¶</li>\n<li>æ— æ³•è¢«ä¸€äº›æœç´¢å¼•æ“ç´¢è¯†åˆ«</li>\n<li>ä¼šäº§ç”Ÿå¾ˆå¤šé¡µé¢ï¼Œä¸å®¹æ˜“ç®¡ç†</li>\n</ul>\n</li>\n</ul>\n<p><strong>label çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿæ€ä¹ˆä½¿ç”¨çš„ï¼Ÿ</strong></p>\n<ul>\n<li><p>labelæ ‡ç­¾æ¥å®šä¹‰è¡¨å•æ§ä»¶çš„å…³ç³»ï¼š</p>\n<ul>\n<li>å½“ç”¨æˆ·é€‰æ‹©labelæ ‡ç­¾æ—¶ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨å°†ç„¦ç‚¹è½¬åˆ°å’Œlabelæ ‡ç­¾ç›¸å…³çš„è¡¨å•æ§ä»¶ä¸Š</li>\n</ul>\n</li>\n<li><p>ä½¿ç”¨æ–¹æ³•1ï¼š</p>\n<ul>\n<li><code>&lt;label for=&quot;mobile&quot;&gt;Number:&lt;/label&gt;</code></li>\n<li><code>&lt;input type=&quot;text&quot; id=&quot;mobile&quot;/&gt;</code></li>\n</ul>\n</li>\n<li><p>ä½¿ç”¨æ–¹æ³•2ï¼š</p>\n<ul>\n<li><code>&lt;label&gt;date: &lt;input type=&quot;text&quot;/&gt;&lt;/label&gt;</code></li>\n</ul>\n</li>\n</ul>\n<p><strong>å¦‚ä½•å®ç°æµè§ˆå™¨å†…å¤šä¸ªæ ‡ç­¾é¡µä¹‹é—´çš„é€šä¿¡ï¼Ÿ</strong></p>\n<ul>\n<li>iframe + contentWindow</li>\n<li>postMessage</li>\n<li>SharedWorker(Web Worker API)</li>\n<li>storage äº‹ä»¶(localStorge API)</li>\n<li>WebSocket</li>\n</ul>\n<p><strong>webSocket å¦‚ä½•å…¼å®¹ä½æµè§ˆå™¨ï¼Ÿ</strong></p>\n<ul>\n<li>Adobe Flash Socket</li>\n<li>ActiveX HTMLFile (IE)</li>\n<li>åŸºäº multipart ç¼–ç å‘é€ XHR</li>\n<li>åŸºäºé•¿è½®è¯¢çš„ XHR</li>\n</ul>\n<p><strong>é¡µé¢å¯è§æ€§ï¼ˆPage Visibility APIï¼‰ å¯ä»¥æœ‰å“ªäº›ç”¨é€”ï¼Ÿ</strong></p>\n<ul>\n<li>åœ¨é¡µé¢è¢«åˆ‡æ¢åˆ°å…¶ä»–åå°è¿›ç¨‹çš„æ—¶å€™ï¼Œè‡ªåŠ¨æš‚åœéŸ³ä¹æˆ–è§†é¢‘çš„æ’­æ”¾</li>\n<li>å½“ç”¨æˆ·æµè§ˆå…¶ä»–é¡µé¢ï¼Œæš‚åœç½‘ç«™é¦–é¡µå¹»ç¯è‡ªåŠ¨æ’­æ”¾</li>\n<li>å®Œæˆç™»é™†åï¼Œæ— åˆ·æ–°è‡ªåŠ¨åŒæ­¥å…¶ä»–é¡µé¢çš„ç™»å½•çŠ¶æ€</li>\n</ul>\n<p><strong>title ä¸ h1 çš„åŒºåˆ«ã€b ä¸ strong çš„åŒºåˆ«ã€i ä¸ em çš„åŒºåˆ«ï¼Ÿ</strong></p>\n<ul>\n<li>title è¡¨ç¤ºæ˜¯æ•´ä¸ªé¡µé¢æ ‡é¢˜ï¼Œh1 åˆ™è¡¨ç¤ºå±‚æ¬¡æ˜ç¡®çš„æ ‡é¢˜ï¼Œå¯¹é¡µé¢ä¿¡æ¯çš„æŠ“å–æœ‰å¾ˆå¤§çš„å½±å“</li>\n<li>strong æ ‡æ˜é‡ç‚¹å†…å®¹ï¼Œæœ‰è¯­æ°”åŠ å¼ºçš„å«ä¹‰ï¼Œä½¿ç”¨é˜…è¯»è®¾å¤‡é˜…è¯»ç½‘ç»œæ—¶ï¼Œstrong ä¼šé‡è¯»ï¼Œè€Œ b</li>\n</ul>\n<p><strong>æ˜¯å±•ç¤ºå¼ºè°ƒå†…å®¹</strong></p>\n<ul>\n<li>i å†…å®¹å±•ç¤ºä¸ºæ–œä½“ï¼Œem è¡¨ç¤ºå¼ºè°ƒçš„æ–‡æœ¬</li>\n<li>è‡ªç„¶æ ·å¼æ ‡ç­¾ï¼šb, i, u, s, pre</li>\n<li>è¯­ä¹‰æ ·å¼æ ‡ç­¾ï¼šstrong, em, ins, del, code</li>\n<li>åº”è¯¥å‡†ç¡®ä½¿ç”¨è¯­ä¹‰æ ·å¼æ ‡ç­¾, ä½†ä¸èƒ½æ»¥ç”¨ã€‚å¦‚æœä¸èƒ½ç¡®å®šæ—¶ï¼Œé¦–é€‰ä½¿ç”¨è‡ªç„¶æ ·å¼æ ‡ç­¾</li>\n</ul>\n"},{"title":"httpç›¸å…³","url":"/LittleWhiteRabbit/2022/04/26/HTTP/","content":"<p><strong>httpçŠ¶æ€ç æœ‰é‚£äº›ï¼Ÿåˆ†åˆ«ä»£è¡¨æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ</strong></p>\n<span id=\"more\"></span>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">ç®€å•ç‰ˆ</span><br><span class=\"line\">   [</span><br><span class=\"line\">       100  Continue   ç»§ç»­ï¼Œä¸€èˆ¬åœ¨å‘é€postè¯·æ±‚æ—¶ï¼Œå·²å‘é€äº†http headerä¹‹åæœåŠ¡ç«¯å°†è¿”å›æ­¤ä¿¡æ¯ï¼Œè¡¨ç¤ºç¡®è®¤ï¼Œä¹‹åå‘é€å…·ä½“å‚æ•°ä¿¡æ¯</span><br><span class=\"line\">       200  OK         æ­£å¸¸è¿”å›ä¿¡æ¯</span><br><span class=\"line\">       201  Created    è¯·æ±‚æˆåŠŸå¹¶ä¸”æœåŠ¡å™¨åˆ›å»ºäº†æ–°çš„èµ„æº</span><br><span class=\"line\">       202  Accepted   æœåŠ¡å™¨å·²æ¥å—è¯·æ±‚ï¼Œä½†å°šæœªå¤„ç†</span><br><span class=\"line\">       301  Moved Permanently  è¯·æ±‚çš„ç½‘é¡µå·²æ°¸ä¹…ç§»åŠ¨åˆ°æ–°ä½ç½®ã€‚</span><br><span class=\"line\">       302 Found       ä¸´æ—¶æ€§é‡å®šå‘ã€‚</span><br><span class=\"line\">       303 See Other   ä¸´æ—¶æ€§é‡å®šå‘ï¼Œä¸”æ€»æ˜¯ä½¿ç”¨ GET è¯·æ±‚æ–°çš„ URIã€‚</span><br><span class=\"line\">       304  Not Modified è‡ªä»ä¸Šæ¬¡è¯·æ±‚åï¼Œè¯·æ±‚çš„ç½‘é¡µæœªä¿®æ”¹è¿‡ã€‚</span><br><span class=\"line\"></span><br><span class=\"line\">       400 Bad Request  æœåŠ¡å™¨æ— æ³•ç†è§£è¯·æ±‚çš„æ ¼å¼ï¼Œå®¢æˆ·ç«¯ä¸åº”å½“å°è¯•å†æ¬¡ä½¿ç”¨ç›¸åŒçš„å†…å®¹å‘èµ·è¯·æ±‚ã€‚</span><br><span class=\"line\">       401 Unauthorized è¯·æ±‚æœªæˆæƒã€‚</span><br><span class=\"line\">       403 Forbidden   ç¦æ­¢è®¿é—®ã€‚</span><br><span class=\"line\">       404 Not Found   æ‰¾ä¸åˆ°å¦‚ä½•ä¸ URI ç›¸åŒ¹é…çš„èµ„æºã€‚</span><br><span class=\"line\"></span><br><span class=\"line\">       500 Internal Server Error  æœ€å¸¸è§çš„æœåŠ¡å™¨ç«¯é”™è¯¯ã€‚</span><br><span class=\"line\">       503 Service Unavailable æœåŠ¡å™¨ç«¯æš‚æ—¶æ— æ³•å¤„ç†è¯·æ±‚ï¼ˆå¯èƒ½æ˜¯è¿‡è½½æˆ–ç»´æŠ¤ï¼‰ã€‚</span><br><span class=\"line\">   ]</span><br></pre></td></tr></table></figure>\n<!--more-->\n<p><strong>ä¸€ä¸ªé¡µé¢ä»è¾“å…¥ URL åˆ°é¡µé¢åŠ è½½æ˜¾ç¤ºå®Œæˆï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­éƒ½å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿï¼ˆæµç¨‹è¯´çš„è¶Šè¯¦ç»†è¶Šå¥½ï¼‰</strong></p>\n<ul>\n<li><p>æ³¨ï¼šè¿™é¢˜èƒœåœ¨åŒºåˆ†åº¦é«˜ï¼ŒçŸ¥è¯†ç‚¹è¦†ç›–å¹¿ï¼Œå†ä¸æ‡‚çš„äººï¼Œä¹Ÿèƒ½ç­”å‡ºå‡ å¥ï¼Œ</p>\n</li>\n<li><p>è€Œé«˜æ‰‹å¯ä»¥æ ¹æ®è‡ªå·±æ“…é•¿çš„é¢†åŸŸè‡ªç”±å‘æŒ¥ï¼Œä»URLè§„èŒƒã€HTTPåè®®ã€DNSã€CDNã€æ•°æ®åº“æŸ¥è¯¢ã€</p>\n</li>\n<li><p>åˆ°æµè§ˆå™¨æµå¼è§£æã€CSSè§„åˆ™æ„å»ºã€layoutã€paintã€onload&#x2F;domreadyã€JSæ‰§è¡Œã€JS APIç»‘å®šç­‰ç­‰ï¼›</p>\n</li>\n<li><p>è¯¦ç»†ç‰ˆï¼š</p>\n<ul>\n<li>æµè§ˆå™¨ä¼šå¼€å¯ä¸€ä¸ªçº¿ç¨‹æ¥å¤„ç†è¿™ä¸ªè¯·æ±‚ï¼Œå¯¹ URL åˆ†æåˆ¤æ–­å¦‚æœæ˜¯ http åè®®å°±æŒ‰ç…§ Web æ–¹å¼æ¥å¤„ç†;</li>\n<li>è°ƒç”¨æµè§ˆå™¨å†…æ ¸ä¸­çš„å¯¹åº”æ–¹æ³•ï¼Œæ¯”å¦‚ WebView ä¸­çš„ loadUrl æ–¹æ³•;</li>\n<li>é€šè¿‡DNSè§£æè·å–ç½‘å€çš„IPåœ°å€ï¼Œè®¾ç½® UA ç­‰ä¿¡æ¯å‘å‡ºç¬¬äºŒä¸ªGETè¯·æ±‚;</li>\n<li>è¿›è¡ŒHTTPåè®®ä¼šè¯ï¼Œå®¢æˆ·ç«¯å‘é€æŠ¥å¤´(è¯·æ±‚æŠ¥å¤´);</li>\n<li>è¿›å…¥åˆ°webæœåŠ¡å™¨ä¸Šçš„ Web Serverï¼Œå¦‚ Apacheã€Tomcatã€Node.JS ç­‰æœåŠ¡å™¨;</li>\n<li>è¿›å…¥éƒ¨ç½²å¥½çš„åç«¯åº”ç”¨ï¼Œå¦‚ PHPã€Javaã€JavaScriptã€Python ç­‰ï¼Œæ‰¾åˆ°å¯¹åº”çš„è¯·æ±‚å¤„ç†;</li>\n<li>å¤„ç†ç»“æŸå›é¦ˆæŠ¥å¤´ï¼Œæ­¤å¤„å¦‚æœæµè§ˆå™¨è®¿é—®è¿‡ï¼Œç¼“å­˜ä¸Šæœ‰å¯¹åº”èµ„æºï¼Œä¼šä¸æœåŠ¡å™¨æœ€åä¿®æ”¹æ—¶é—´å¯¹æ¯”ï¼Œä¸€è‡´åˆ™è¿”å›304;</li>\n<li>æµè§ˆå™¨å¼€å§‹ä¸‹è½½htmlæ–‡æ¡£(å“åº”æŠ¥å¤´ï¼ŒçŠ¶æ€ç 200)ï¼ŒåŒæ—¶ä½¿ç”¨ç¼“å­˜;</li>\n<li>æ–‡æ¡£æ ‘å»ºç«‹ï¼Œæ ¹æ®æ ‡è®°è¯·æ±‚æ‰€éœ€æŒ‡å®šMIMEç±»å‹çš„æ–‡ä»¶ï¼ˆæ¯”å¦‚cssã€jsï¼‰,åŒæ—¶è®¾ç½®äº†cookie;</li>\n<li>é¡µé¢å¼€å§‹æ¸²æŸ“DOMï¼ŒJSæ ¹æ®DOM APIæ“ä½œDOM,æ‰§è¡Œäº‹ä»¶ç»‘å®šç­‰ï¼Œé¡µé¢æ˜¾ç¤ºå®Œæˆã€‚</li>\n</ul>\n</li>\n<li><p>ç®€æ´ç‰ˆï¼š</p>\n<ul>\n<li>æµè§ˆå™¨æ ¹æ®è¯·æ±‚çš„URLäº¤ç»™DNSåŸŸåè§£æï¼Œæ‰¾åˆ°çœŸå®IPï¼Œå‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼›</li>\n<li>æœåŠ¡å™¨äº¤ç»™åå°å¤„ç†å®Œæˆåè¿”å›æ•°æ®ï¼Œæµè§ˆå™¨æ¥æ”¶æ–‡ä»¶ï¼ˆHTMLã€JSã€CSSã€å›¾è±¡ç­‰ï¼‰ï¼›</li>\n<li>æµè§ˆå™¨å¯¹åŠ è½½åˆ°çš„èµ„æºï¼ˆHTMLã€JSã€CSSç­‰ï¼‰è¿›è¡Œè¯­æ³•è§£æï¼Œå»ºç«‹ç›¸åº”çš„å†…éƒ¨æ•°æ®ç»“æ„ï¼ˆå¦‚HTMLçš„DOMï¼‰ï¼›</li>\n<li>è½½å…¥è§£æåˆ°çš„èµ„æºæ–‡ä»¶ï¼Œæ¸²æŸ“é¡µé¢ï¼Œå®Œæˆã€‚</li>\n</ul>\n</li>\n</ul>\n<p><strong>è¯´è¯´TCPä¼ è¾“çš„ä¸‰æ¬¡æ¡æ‰‹å››æ¬¡æŒ¥æ‰‹ç­–ç•¥</strong></p>\n<ul>\n<li><p>ä¸ºäº†å‡†ç¡®æ— è¯¯åœ°æŠŠæ•°æ®é€è¾¾ç›®æ ‡å¤„ï¼ŒTCPåè®®é‡‡ç”¨äº†ä¸‰æ¬¡æ¡æ‰‹ç­–ç•¥ã€‚ç”¨TCPåè®®æŠŠæ•°æ®åŒ…é€å‡ºå»åï¼ŒTCPä¸ä¼šå¯¹ä¼ é€ åçš„æƒ…å†µç½®ä¹‹ä¸ç†ï¼Œå®ƒä¸€å®šä¼šå‘å¯¹æ–¹ç¡®è®¤æ˜¯å¦æˆåŠŸé€è¾¾ã€‚æ¡æ‰‹è¿‡ç¨‹ä¸­ä½¿ç”¨äº†TCPçš„æ ‡å¿—ï¼šSYNå’ŒACK</p>\n</li>\n<li><p>å‘é€ç«¯é¦–å…ˆå‘é€ä¸€ä¸ªå¸¦SYNæ ‡å¿—çš„æ•°æ®åŒ…ç»™å¯¹æ–¹ã€‚æ¥æ”¶ç«¯æ”¶åˆ°åï¼Œå›ä¼ ä¸€ä¸ªå¸¦æœ‰SYN&#x2F;ACKæ ‡å¿—çš„æ•°æ®åŒ…ä»¥ç¤ºä¼ è¾¾ç¡®è®¤ä¿¡æ¯ã€‚ æœ€åï¼Œå‘é€ç«¯å†å›ä¼ ä¸€ä¸ªå¸¦ACKæ ‡å¿—çš„æ•°æ®åŒ…ï¼Œä»£è¡¨â€œæ¡æ‰‹â€ç»“æŸã€‚ è‹¥åœ¨æ¡æ‰‹è¿‡ç¨‹ä¸­æŸä¸ªé˜¶æ®µè«åä¸­æ–­ï¼ŒTCPåè®®ä¼šå†æ¬¡ä»¥ç›¸åŒçš„é¡ºåºå‘é€ç›¸åŒçš„æ•°æ®åŒ…</p>\n</li>\n</ul>\n<p><strong>æ–­å¼€ä¸€ä¸ªTCPè¿æ¥åˆ™éœ€è¦â€œå››æ¬¡æ¡æ‰‹â€ï¼š</strong></p>\n<ul>\n<li><p>ç¬¬ä¸€æ¬¡æŒ¥æ‰‹ï¼šä¸»åŠ¨å…³é—­æ–¹å‘é€ä¸€ä¸ªFINï¼Œç”¨æ¥å…³é—­ä¸»åŠ¨æ–¹åˆ°è¢«åŠ¨å…³é—­æ–¹çš„æ•°æ®ä¼ é€ï¼Œä¹Ÿå°±æ˜¯ä¸»åŠ¨å…³é—­æ–¹å‘Šè¯‰è¢«åŠ¨å…³é—­æ–¹ï¼šæˆ‘å·²ç»ä¸ ä¼šå†ç»™ä½ å‘æ•°æ®äº†(å½“ç„¶ï¼Œåœ¨finåŒ…ä¹‹å‰å‘é€å‡ºå»çš„æ•°æ®ï¼Œå¦‚æœæ²¡æœ‰æ”¶åˆ°å¯¹åº”çš„ackç¡®è®¤æŠ¥æ–‡ï¼Œä¸»åŠ¨å…³é—­æ–¹ä¾ç„¶ä¼šé‡å‘è¿™äº›æ•°æ®)ï¼Œä½†æ˜¯ï¼Œæ­¤æ—¶ä¸»åŠ¨å…³é—­æ–¹è¿˜å¯ ä»¥æ¥å—æ•°æ®</p>\n</li>\n<li><p>ç¬¬äºŒæ¬¡æŒ¥æ‰‹ï¼šè¢«åŠ¨å…³é—­æ–¹æ”¶åˆ°FINåŒ…åï¼Œå‘é€ä¸€ä¸ªACKç»™å¯¹æ–¹ï¼Œç¡®è®¤åºå·ä¸ºæ”¶åˆ°åºå·+1ï¼ˆä¸SYNç›¸åŒï¼Œä¸€ä¸ªFINå ç”¨ä¸€ä¸ªåºå·ï¼‰</p>\n</li>\n<li><p>ç¬¬ä¸‰æ¬¡æŒ¥æ‰‹ï¼šè¢«åŠ¨å…³é—­æ–¹å‘é€ä¸€ä¸ªFINï¼Œç”¨æ¥å…³é—­è¢«åŠ¨å…³é—­æ–¹åˆ°ä¸»åŠ¨å…³é—­æ–¹çš„æ•°æ®ä¼ é€ï¼Œä¹Ÿå°±æ˜¯å‘Šè¯‰ä¸»åŠ¨å…³é—­æ–¹ï¼Œæˆ‘çš„æ•°æ®ä¹Ÿå‘é€å®Œäº†ï¼Œä¸ä¼šå†ç»™ä½ å‘æ•°æ®äº†</p>\n</li>\n<li><p>ç¬¬å››æ¬¡æŒ¥æ‰‹ï¼šä¸»åŠ¨å…³é—­æ–¹æ”¶åˆ°FINåï¼Œå‘é€ä¸€ä¸ªACKç»™è¢«åŠ¨å…³é—­æ–¹ï¼Œç¡®è®¤åºå·ä¸ºæ”¶åˆ°åºå·+1ï¼Œè‡³æ­¤ï¼Œå®Œæˆå››æ¬¡æŒ¥æ‰‹</p>\n</li>\n</ul>\n<p><strong>TCPå’ŒUDPçš„åŒºåˆ«</strong></p>\n<ul>\n<li><p>TCPï¼ˆTransmission Control Protocolï¼Œä¼ è¾“æ§åˆ¶åè®®ï¼‰æ˜¯åŸºäºè¿æ¥çš„åè®®ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨æ­£å¼æ”¶å‘æ•°æ®å‰ï¼Œå¿…é¡»å’Œå¯¹æ–¹å»ºç«‹å¯é çš„è¿æ¥ã€‚ä¸€ä¸ªTCPè¿æ¥å¿…é¡»è¦ç»è¿‡ä¸‰æ¬¡â€œå¯¹è¯â€æ‰èƒ½å»ºç«‹èµ·æ¥</p>\n</li>\n<li><p>UDPï¼ˆUser Data Protocolï¼Œç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼‰æ˜¯ä¸TCPç›¸å¯¹åº”çš„åè®®ã€‚å®ƒæ˜¯é¢å‘éè¿æ¥çš„åè®®ï¼Œå®ƒä¸ä¸å¯¹æ–¹å»ºç«‹è¿æ¥ï¼Œè€Œæ˜¯ç›´æ¥å°±æŠŠæ•°æ®åŒ…å‘é€è¿‡å»ï¼ UDPé€‚ç”¨äºä¸€æ¬¡åªä¼ é€å°‘é‡æ•°æ®ã€å¯¹å¯é æ€§è¦æ±‚ä¸é«˜çš„åº”ç”¨ç¯å¢ƒ</p>\n</li>\n</ul>\n<p><strong>HTTPå’ŒHTTPS</strong></p>\n<ul>\n<li>HTTPåè®®é€šå¸¸æ‰¿è½½äºTCPåè®®ä¹‹ä¸Šï¼Œåœ¨HTTPå’ŒTCPä¹‹é—´æ·»åŠ ä¸€ä¸ªå®‰å…¨åè®®å±‚ï¼ˆSSLæˆ–TSLï¼‰ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå°±æˆäº†æˆ‘ä»¬å¸¸è¯´çš„HTTPS</li>\n<li>é»˜è®¤HTTPçš„ç«¯å£å·ä¸º80ï¼ŒHTTPSçš„ç«¯å£å·ä¸º443</li>\n</ul>\n<p><strong>ä¸ºä»€ä¹ˆHTTPSå®‰å…¨</strong></p>\n<ul>\n<li>å› ä¸ºç½‘ç»œè¯·æ±‚éœ€è¦ä¸­é—´æœ‰å¾ˆå¤šçš„æœåŠ¡å™¨è·¯ç”±å™¨çš„è½¬å‘ã€‚ä¸­é—´çš„èŠ‚ç‚¹éƒ½å¯èƒ½ç¯¡æ”¹ä¿¡æ¯ï¼Œè€Œå¦‚æœä½¿ç”¨HTTPSï¼Œå¯†é’¥åœ¨ä½ å’Œç»ˆç‚¹ç«™æ‰æœ‰ã€‚httpsä¹‹æ‰€ä»¥æ¯”httpå®‰å…¨ï¼Œæ˜¯å› ä¸ºä»–åˆ©ç”¨ssl&#x2F;tlsåè®®ä¼ è¾“ã€‚å®ƒåŒ…å«è¯ä¹¦ï¼Œå¸è½½ï¼Œæµé‡è½¬å‘ï¼Œè´Ÿè½½å‡è¡¡ï¼Œé¡µé¢é€‚é…ï¼Œæµè§ˆå™¨é€‚é…ï¼Œreferä¼ é€’ç­‰ã€‚ä¿éšœäº†ä¼ è¾“è¿‡ç¨‹çš„å®‰å…¨æ€§</li>\n</ul>\n<p><strong>å…³äºHttp 2.0 ä½ çŸ¥é“å¤šå°‘ï¼Ÿ</strong></p>\n<ul>\n<li><p>HTTP&#x2F;2å¼•å…¥äº†â€œæœåŠ¡ç«¯æ¨ï¼ˆserver pushï¼‰â€çš„æ¦‚å¿µï¼Œå®ƒå…è®¸æœåŠ¡ç«¯åœ¨å®¢æˆ·ç«¯éœ€è¦æ•°æ®ä¹‹å‰å°±ä¸»åŠ¨åœ°å°†æ•°æ®å‘é€åˆ°å®¢æˆ·ç«¯ç¼“å­˜ä¸­ï¼Œä»è€Œæé«˜æ€§èƒ½ã€‚</p>\n</li>\n<li><p>HTTP&#x2F;2æä¾›æ›´å¤šçš„åŠ å¯†æ”¯æŒ</p>\n</li>\n<li><p>HTTP&#x2F;2ä½¿ç”¨å¤šè·¯æŠ€æœ¯ï¼Œå…è®¸å¤šä¸ªæ¶ˆæ¯åœ¨ä¸€ä¸ªè¿æ¥ä¸ŠåŒæ—¶äº¤å·®ã€‚</p>\n</li>\n<li><p>å®ƒå¢åŠ äº†å¤´å‹ç¼©ï¼ˆheader compressionï¼‰ï¼Œå› æ­¤å³ä½¿éå¸¸å°çš„è¯·æ±‚ï¼Œå…¶è¯·æ±‚å’Œå“åº”çš„headeréƒ½åªä¼šå ç”¨å¾ˆå°æ¯”ä¾‹çš„å¸¦å®½</p>\n</li>\n</ul>\n<p><strong>GETå’ŒPOSTçš„åŒºåˆ«ï¼Œä½•æ—¶ä½¿ç”¨POSTï¼Ÿ</strong></p>\n<ul>\n<li>GETï¼šä¸€èˆ¬ç”¨äºä¿¡æ¯è·å–ï¼Œä½¿ç”¨URLä¼ é€’å‚æ•°ï¼Œå¯¹æ‰€å‘é€ä¿¡æ¯çš„æ•°é‡ä¹Ÿæœ‰é™åˆ¶ï¼Œä¸€èˆ¬åœ¨2000ä¸ªå­—ç¬¦</li>\n<li>POSTï¼šä¸€èˆ¬ç”¨äºä¿®æ”¹æœåŠ¡å™¨ä¸Šçš„èµ„æºï¼Œå¯¹æ‰€å‘é€çš„ä¿¡æ¯æ²¡æœ‰é™åˆ¶ã€‚</li>\n<li>GETæ–¹å¼éœ€è¦ä½¿ç”¨Request.QueryStringæ¥å–å¾—å˜é‡çš„å€¼ï¼Œè€ŒPOSTæ–¹å¼é€šè¿‡Request.Formæ¥è·å–å˜é‡çš„å€¼ï¼Œä¹Ÿå°±æ˜¯è¯´Getæ˜¯é€šè¿‡åœ°å€æ æ¥ä¼ å€¼ï¼Œè€ŒPostæ˜¯é€šè¿‡æäº¤è¡¨å•æ¥ä¼ å€¼ã€‚</li>\n<li>ç„¶è€Œï¼Œåœ¨ä»¥ä¸‹æƒ…å†µä¸­ï¼Œè¯·ä½¿ç”¨ POST è¯·æ±‚ï¼š<ul>\n<li><p>æ— æ³•ä½¿ç”¨ç¼“å­˜æ–‡ä»¶ï¼ˆæ›´æ–°æœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶æˆ–æ•°æ®åº“ï¼‰</p>\n</li>\n<li><p>å‘æœåŠ¡å™¨å‘é€å¤§é‡æ•°æ®ï¼ˆPOST æ²¡æœ‰æ•°æ®é‡é™åˆ¶ï¼‰</p>\n</li>\n<li><p>å‘é€åŒ…å«æœªçŸ¥å­—ç¬¦çš„ç”¨æˆ·è¾“å…¥æ—¶ï¼ŒPOST æ¯” GET æ›´ç¨³å®šä¹Ÿæ›´å¯é </p>\n</li>\n</ul>\n</li>\n</ul>\n<p><strong>è¯´è¯´ç½‘ç»œåˆ†å±‚é‡Œä¸ƒå±‚æ¨¡å‹æ˜¯å“ªä¸ƒå±‚</strong></p>\n<ul>\n<li><p>åº”ç”¨å±‚ï¼šåº”ç”¨å±‚ã€è¡¨ç¤ºå±‚ã€ä¼šè¯å±‚ï¼ˆä»ä¸Šå¾€ä¸‹ï¼‰ï¼ˆHTTPã€FTPã€SMTPã€DNSï¼‰</p>\n</li>\n<li><p>ä¼ è¾“å±‚ï¼ˆTCPå’ŒUDPï¼‰</p>\n</li>\n<li><p>ç½‘ç»œå±‚ï¼ˆIPï¼‰</p>\n</li>\n<li><p>ç‰©ç†å’Œæ•°æ®é“¾è·¯å±‚ï¼ˆä»¥å¤ªç½‘ï¼‰</p>\n</li>\n<li><p>æ¯ä¸€å±‚çš„ä½œç”¨å¦‚ä¸‹ï¼š</p>\n<ul>\n<li>ç‰©ç†å±‚ï¼šé€šè¿‡åª’ä»‹ä¼ è¾“æ¯”ç‰¹,ç¡®å®šæœºæ¢°åŠç”µæ°”è§„èŒƒï¼ˆæ¯”ç‰¹Bitï¼‰</li>\n</ul>\n</li>\n</ul>\n<p>æ•°æ®é“¾è·¯å±‚ï¼šå°†æ¯”ç‰¹ç»„è£…æˆå¸§å’Œç‚¹åˆ°ç‚¹çš„ä¼ é€’ï¼ˆå¸§Frameï¼‰</p>\n<ul>\n<li>ç½‘ç»œå±‚ï¼šè´Ÿè´£æ•°æ®åŒ…ä»æºåˆ°å®¿çš„ä¼ é€’å’Œç½‘é™…äº’è¿ï¼ˆåŒ…PackeTï¼‰</li>\n<li>ä¼ è¾“å±‚ï¼šæä¾›ç«¯åˆ°ç«¯çš„å¯é æŠ¥æ–‡ä¼ é€’å’Œé”™è¯¯æ¢å¤ï¼ˆæ®µSegmentï¼‰</li>\n<li>ä¼šè¯å±‚ï¼šå»ºç«‹ã€ç®¡ç†å’Œç»ˆæ­¢ä¼šè¯ï¼ˆä¼šè¯åè®®æ•°æ®å•å…ƒSPDUï¼‰</li>\n<li>è¡¨ç¤ºå±‚ï¼šå¯¹æ•°æ®è¿›è¡Œç¿»è¯‘ã€åŠ å¯†å’Œå‹ç¼©ï¼ˆè¡¨ç¤ºåè®®æ•°æ®å•å…ƒPPDUï¼‰</li>\n<li>åº”ç”¨å±‚ï¼šå…è®¸è®¿é—®OSIç¯å¢ƒçš„æ‰‹æ®µï¼ˆåº”ç”¨åè®®æ•°æ®å•å…ƒAPDUï¼‰</li>\n</ul>\n<p><strong>è®²è®²304ç¼“å­˜çš„åŸç†</strong></p>\n<ul>\n<li>æœåŠ¡å™¨é¦–å…ˆäº§ç”ŸETagï¼ŒæœåŠ¡å™¨å¯åœ¨ç¨åä½¿ç”¨å®ƒæ¥åˆ¤æ–­é¡µé¢æ˜¯å¦å·²ç»è¢«ä¿®æ”¹ã€‚æœ¬è´¨ä¸Šï¼Œå®¢æˆ·ç«¯é€šè¿‡å°†è¯¥è®°å·ä¼ å›æœåŠ¡å™¨è¦æ±‚æœåŠ¡å™¨éªŒè¯å…¶ï¼ˆå®¢æˆ·ç«¯ï¼‰ç¼“å­˜</li>\n<li>304æ˜¯HTTPçŠ¶æ€ç ï¼ŒæœåŠ¡å™¨ç”¨æ¥æ ‡è¯†è¿™ä¸ªæ–‡ä»¶æ²¡ä¿®æ”¹ï¼Œä¸è¿”å›å†…å®¹ï¼Œæµè§ˆå™¨åœ¨æ¥æ”¶åˆ°ä¸ªçŠ¶æ€ç åï¼Œä¼šä½¿ç”¨æµè§ˆå™¨å·²ç¼“å­˜çš„æ–‡ä»¶</li>\n<li>å®¢æˆ·ç«¯è¯·æ±‚ä¸€ä¸ªé¡µé¢ï¼ˆAï¼‰ã€‚ æœåŠ¡å™¨è¿”å›é¡µé¢Aï¼Œå¹¶åœ¨ç»™AåŠ ä¸Šä¸€ä¸ªETagã€‚ å®¢æˆ·ç«¯å±•ç°è¯¥é¡µé¢ï¼Œå¹¶å°†é¡µé¢è¿åŒETagä¸€èµ·ç¼“å­˜ã€‚ å®¢æˆ·å†æ¬¡è¯·æ±‚é¡µé¢Aï¼Œå¹¶å°†ä¸Šæ¬¡è¯·æ±‚æ—¶æœåŠ¡å™¨è¿”å›çš„ETagä¸€èµ·ä¼ é€’ç»™æœåŠ¡å™¨ã€‚ æœåŠ¡å™¨æ£€æŸ¥è¯¥ETagï¼Œå¹¶åˆ¤æ–­å‡ºè¯¥é¡µé¢è‡ªä¸Šæ¬¡å®¢æˆ·ç«¯è¯·æ±‚ä¹‹åè¿˜æœªè¢«ä¿®æ”¹ï¼Œç›´æ¥è¿”å›å“åº”304ï¼ˆæœªä¿®æ”¹â€”â€”Not Modifiedï¼‰å’Œä¸€ä¸ªç©ºçš„å“åº”ä½“</li>\n</ul>\n<p><strong>HTTP&#x2F;2 ä¸ HTTP&#x2F;1.x çš„å…³é”®åŒºåˆ«</strong></p>\n<ul>\n<li>äºŒè¿›åˆ¶åè®®ä»£æ›¿æ–‡æœ¬åè®®ï¼Œæ›´åŠ ç®€æ´é«˜æ•ˆ</li>\n<li>é’ˆå¯¹æ¯ä¸ªåŸŸåªä½¿ç”¨ä¸€ä¸ªå¤šè·¯å¤ç”¨çš„è¿æ¥</li>\n<li>å‹ç¼©å¤´éƒ¨ä¿¡æ¯å‡å°å¼€é”€</li>\n<li>å…è®¸æœåŠ¡å™¨ä¸»åŠ¨æ¨é€åº”ç­”åˆ°å®¢æˆ·ç«¯çš„ç¼“å­˜ä¸­</li>\n</ul>\n<p><strong>ä¸€ä¸ªé¡µé¢ä»è¾“å…¥ URL åˆ°é¡µé¢åŠ è½½æ˜¾ç¤ºå®Œæˆï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­éƒ½å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</strong></p>\n<ul>\n<li>01.æµè§ˆå™¨æŸ¥æ‰¾åŸŸåå¯¹åº”çš„IPåœ°å€(DNS æŸ¥è¯¢ï¼šæµè§ˆå™¨ç¼“å­˜-&gt;ç³»ç»Ÿç¼“å­˜-&gt;è·¯ç”±å™¨ç¼“å­˜-&gt;ISP DNS ç¼“å­˜-&gt;æ ¹åŸŸåæœåŠ¡å™¨)</li>\n<li>02.æµè§ˆå™¨å‘ Web æœåŠ¡å™¨å‘é€ä¸€ä¸ª HTTP è¯·æ±‚ï¼ˆTCPä¸‰æ¬¡æ¡æ‰‹ï¼‰</li>\n<li>03.æœåŠ¡å™¨ 301 é‡å®šå‘ï¼ˆä» <a href=\"http://example.com/\">http://example.com</a> é‡å®šå‘åˆ° <a href=\"http://www.example.com)/\">http://www.example.comï¼‰</a></li>\n<li>04.æµè§ˆå™¨è·Ÿè¸ªé‡å®šå‘åœ°å€ï¼Œè¯·æ±‚å¦ä¸€ä¸ªå¸¦ www çš„ç½‘å€</li>\n<li>05.æœåŠ¡å™¨å¤„ç†è¯·æ±‚ï¼ˆé€šè¿‡è·¯ç”±è¯»å–èµ„æºï¼‰</li>\n<li>06.æœåŠ¡å™¨è¿”å›ä¸€ä¸ª HTTP å“åº”ï¼ˆæŠ¥å¤´ä¸­æŠŠ Content-type è®¾ç½®ä¸º â€˜text&#x2F;htmlâ€™ï¼‰</li>\n<li>07.æµè§ˆå™¨è¿› DOM æ ‘æ„å»º</li>\n<li>08.æµè§ˆå™¨å‘é€è¯·æ±‚è·å–åµŒåœ¨ HTML ä¸­çš„èµ„æºï¼ˆå¦‚å›¾ç‰‡ã€éŸ³é¢‘ã€è§†é¢‘ã€CSSã€JSç­‰ï¼‰</li>\n<li>09.æµè§ˆå™¨æ˜¾ç¤ºå®Œæˆé¡µé¢</li>\n<li>10.æµè§ˆå™¨å‘é€å¼‚æ­¥è¯·æ±‚</li>\n</ul>\n"},{"title":"HTTPåè®®","url":"/LittleWhiteRabbit/2022/04/26/HTTP%E5%8D%8F%E8%AE%AE/","content":"<p>ä¸€é¢ä¸­ï¼Œå¦‚æœæœ‰ç¬”è¯•ï¼Œè€ƒHTTPåè®®çš„å¯èƒ½æ€§è¾ƒå¤§ã€‚</p>\n<h2 id=\"1-å‰è¨€\"><a href=\"#1-å‰è¨€\" class=\"headerlink\" title=\"1. å‰è¨€\"></a>1. å‰è¨€</h2><p>ä¸€é¢è¦è®²çš„å†…å®¹ï¼š</p>\n<ul>\n<li><p><code>HTTP</code>åè®®çš„ä¸»è¦ç‰¹ç‚¹</p>\n</li>\n<li><p><code>HTTP</code>æŠ¥æ–‡çš„ç»„æˆéƒ¨åˆ†</p>\n</li>\n<li><p><code>HTTP</code>æ–¹æ³•</p>\n</li>\n<li><p><code>get</code> å’Œ <code>post</code>çš„åŒºåˆ«</p>\n</li>\n<li><p><code>HTTP</code>çŠ¶æ€ç </p>\n</li>\n<li><p>ä»€ä¹ˆæ˜¯æŒä¹…è¿æ¥</p>\n</li>\n<li><p>ä»€ä¹ˆæ˜¯ç®¡çº¿åŒ–</p>\n<span id=\"more\"></span>\n<p>äºŒé¢è¦è®²çš„å†…å®¹ï¼›</p>\n</li>\n<li><p>ç¼“å­˜</p>\n</li>\n<li><p><code>CSRF</code>æ”»å‡»</p>\n</li>\n</ul>\n<h2 id=\"2-HTTPåè®®çš„ä¸»è¦ç‰¹ç‚¹\"><a href=\"#2-HTTPåè®®çš„ä¸»è¦ç‰¹ç‚¹\" class=\"headerlink\" title=\"2. HTTPåè®®çš„ä¸»è¦ç‰¹ç‚¹\"></a>2. HTTPåè®®çš„ä¸»è¦ç‰¹ç‚¹</h2><ul>\n<li>ç®€å•å¿«é€Ÿ</li>\n<li>çµæ´»</li>\n<li><strong>æ— è¿æ¥</strong></li>\n<li><strong>æ— çŠ¶æ€</strong></li>\n</ul>\n<blockquote>\n<p>é€šå¸¸æˆ‘ä»¬è¦ç­”å‡ºä»¥ä¸Šå››ä¸ªå†…å®¹ã€‚å¦‚æœå®åœ¨è®°ä¸ä½ï¼Œä¸€å®šè¦è®°å¾—åé¢çš„ä¸¤ä¸ªï¼š<strong>æ— è¿æ¥ã€æ— çŠ¶æ€</strong>ã€‚</p>\n</blockquote>\n<p>æˆ‘ä»¬åˆ†åˆ«æ¥è§£é‡Šä¸€ä¸‹ã€‚</p>\n<h3 id=\"2-1-ç®€å•å¿«é€Ÿ\"><a href=\"#2-1-ç®€å•å¿«é€Ÿ\" class=\"headerlink\" title=\"2.1 ç®€å•å¿«é€Ÿ\"></a>2.1 ç®€å•å¿«é€Ÿ</h3><blockquote>\n<p><strong>ç®€å•</strong>ï¼šæ¯ä¸ªèµ„æºï¼ˆæ¯”å¦‚å›¾ç‰‡ã€é¡µé¢ï¼‰éƒ½é€šè¿‡ url æ¥å®šä½ã€‚è¿™éƒ½æ˜¯å›ºå®šçš„ï¼Œåœ¨<code>http</code>åè®®ä¸­ï¼Œå¤„ç†èµ·æ¥ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œæƒ³è®¿é—®ä»€ä¹ˆèµ„æºï¼Œç›´æ¥è¾“å…¥urlå³å¯ã€‚</p>\n</blockquote>\n<h3 id=\"2-2-çµæ´»\"><a href=\"#2-2-çµæ´»\" class=\"headerlink\" title=\"2.2 çµæ´»\"></a>2.2 çµæ´»</h3><blockquote>\n<p><code>http</code>åè®®çš„å¤´éƒ¨æœ‰ä¸€ä¸ª<code>æ•°æ®ç±»å‹</code>ï¼Œé€šè¿‡<code>http</code>åè®®ï¼Œå°±å¯ä»¥å®Œæˆä¸åŒæ•°æ®ç±»å‹çš„ä¼ è¾“ã€‚</p>\n</blockquote>\n<h3 id=\"2-3-æ— è¿æ¥\"><a href=\"#2-3-æ— è¿æ¥\" class=\"headerlink\" title=\"2.3 æ— è¿æ¥\"></a>2.3 æ— è¿æ¥</h3><blockquote>\n<p>è¿æ¥ä¸€æ¬¡ï¼Œå°±ä¼šæ–­å¼€ï¼Œä¸ä¼šç»§ç»­ä¿æŒè¿æ¥ã€‚</p>\n</blockquote>\n<h3 id=\"2-4-æ— çŠ¶æ€\"><a href=\"#2-4-æ— çŠ¶æ€\" class=\"headerlink\" title=\"2.4 æ— çŠ¶æ€\"></a>2.4 æ— çŠ¶æ€</h3><blockquote>\n<p>å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯æ˜¯ä¸¤ç§èº«ä»½ã€‚ç¬¬ä¸€æ¬¡è¯·æ±‚ç»“æŸåï¼Œå°±æ–­å¼€äº†ï¼Œç¬¬äºŒæ¬¡è¯·æ±‚æ—¶ï¼Œ<strong>æœåŠ¡å™¨ç«¯å¹¶æ²¡æœ‰è®°ä½ä¹‹å‰çš„çŠ¶æ€</strong>ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒæœåŠ¡å™¨ç«¯æ— æ³•åŒºåˆ†å®¢æˆ·ç«¯æ˜¯å¦ä¸ºåŒä¸€ä¸ªäººã€åŒä¸€ä¸ªèº«ä»½ã€‚</p>\n</blockquote>\n<blockquote>\n<p>æœ‰çš„æ—¶å€™ï¼Œæˆ‘ä»¬è®¿é—®ç½‘ç«™æ—¶ï¼Œç½‘ç«™èƒ½è®°ä½æˆ‘ä»¬çš„è´¦å·ï¼Œè¿™ä¸ªæ˜¯é€šè¿‡å…¶ä»–çš„æ‰‹æ®µï¼ˆæ¯”å¦‚ <code>session</code>ï¼‰åšåˆ°çš„ï¼Œå¹¶ä¸æ˜¯<code>http</code>åè®®èƒ½åšåˆ°çš„ã€‚</p>\n</blockquote>\n<h2 id=\"3-HTTPæŠ¥æ–‡çš„ç»„æˆéƒ¨åˆ†\"><a href=\"#3-HTTPæŠ¥æ–‡çš„ç»„æˆéƒ¨åˆ†\" class=\"headerlink\" title=\"3 HTTPæŠ¥æ–‡çš„ç»„æˆéƒ¨åˆ†\"></a>3 HTTPæŠ¥æ–‡çš„ç»„æˆéƒ¨åˆ†</h2><p><img src=\"http://img.smyhvae.com/20180306_1400.png\"></p>\n<blockquote>\n<p>åœ¨å›ç­”æ­¤é—®é¢˜æ—¶ï¼Œæˆ‘ä»¬è¦æŒ‰ç…§é¡ºåºå›ç­”ï¼š</p>\n</blockquote>\n<ul>\n<li>å…ˆå›ç­”çš„æ˜¯ï¼Œ<code>http</code>æŠ¥æ–‡åŒ…æ‹¬ï¼š<strong>è¯·æ±‚æŠ¥æ–‡</strong>å’Œ<strong>å“åº”æŠ¥æ–‡</strong>ã€‚</li>\n<li>å†å›ç­”çš„æ˜¯ï¼Œæ¯ä¸ªæŠ¥æ–‡åŒ…å«ä»€ä¹ˆéƒ¨åˆ†ã€‚</li>\n<li>æœ€åå›ç­”ï¼Œæ¯ä¸ªéƒ¨åˆ†çš„å†…å®¹æ˜¯ä»€ä¹ˆ</li>\n</ul>\n<h3 id=\"3-1-è¯·æ±‚æŠ¥æ–‡åŒ…æ‹¬ï¼š\"><a href=\"#3-1-è¯·æ±‚æŠ¥æ–‡åŒ…æ‹¬ï¼š\" class=\"headerlink\" title=\"3.1 è¯·æ±‚æŠ¥æ–‡åŒ…æ‹¬ï¼š\"></a>3.1 è¯·æ±‚æŠ¥æ–‡åŒ…æ‹¬ï¼š</h3><p><img src=\"http://img.smyhvae.com/20180228_1505.jpg\"></p>\n<ul>\n<li>è¯·æ±‚è¡Œï¼šåŒ…æ‹¬è¯·æ±‚æ–¹æ³•ã€è¯·æ±‚çš„<code>url</code>ã€<code>http</code>åè®®åŠç‰ˆæœ¬ã€‚</li>\n<li>è¯·æ±‚å¤´ï¼šä¸€å¤§å †çš„é”®å€¼å¯¹ã€‚</li>\n<li><strong>ç©ºè¡Œ</strong>æŒ‡çš„æ˜¯ï¼šå½“æœåŠ¡å™¨åœ¨è§£æè¯·æ±‚å¤´çš„æ—¶å€™ï¼Œå¦‚æœé‡åˆ°äº†ç©ºè¡Œï¼Œåˆ™è¡¨æ˜ï¼Œåé¢çš„å†…å®¹æ˜¯è¯·æ±‚ä½“</li>\n<li>è¯·æ±‚ä½“ï¼šæ•°æ®éƒ¨åˆ†ã€‚</li>\n</ul>\n<h3 id=\"3-2-å“åº”æŠ¥æ–‡åŒ…æ‹¬ï¼š\"><a href=\"#3-2-å“åº”æŠ¥æ–‡åŒ…æ‹¬ï¼š\" class=\"headerlink\" title=\"3.2 å“åº”æŠ¥æ–‡åŒ…æ‹¬ï¼š\"></a>3.2 å“åº”æŠ¥æ–‡åŒ…æ‹¬ï¼š</h3><p><img src=\"http://img.smyhvae.com/20180228_1510.jpg\"></p>\n<ul>\n<li>çŠ¶æ€è¡Œï¼š<code>http</code>åè®®åŠç‰ˆæœ¬ã€çŠ¶æ€ç åŠçŠ¶æ€æè¿°ã€‚</li>\n<li>å“åº”å¤´</li>\n<li>ç©ºè¡Œ</li>\n<li>å“åº”ä½“</li>\n</ul>\n<h2 id=\"4-HTTPæ–¹æ³•\"><a href=\"#4-HTTPæ–¹æ³•\" class=\"headerlink\" title=\"4 HTTPæ–¹æ³•\"></a>4 HTTPæ–¹æ³•</h2><p>åŒ…æ‹¬ï¼š</p>\n<ul>\n<li><code>GET</code>ï¼šè·å–èµ„æº</li>\n<li><code>POST</code>ï¼šä¼ è¾“èµ„æº</li>\n<li><code>put</code>ï¼šæ›´æ–°èµ„æº</li>\n<li><code>DELETE</code>ï¼šåˆ é™¤èµ„æº</li>\n<li><code>HEAD</code>ï¼šè·å¾—æŠ¥æ–‡é¦–éƒ¨</li>\n</ul>\n<blockquote>\n<p><code>HTTP</code>æ–¹æ³•æœ‰å¾ˆå¤šï¼Œä½†æ˜¯ä¸Šé¢è¿™äº”ä¸ªæ–¹æ³•ï¼Œè¦æ±‚åœ¨é¢è¯•æ—¶å…¨éƒ¨è¯´å‡ºæ¥ï¼Œä¸è¦æ¼æ‰ã€‚</p>\n</blockquote>\n<ul>\n<li><code>get</code> <code>å’Œ </code>post&#96; æ¯”è¾ƒå¸¸è§ã€‚</li>\n<li><code>put</code> å’Œ <code>delete</code> åœ¨å®é™…åº”ç”¨ä¸­ç”¨çš„å¾ˆå°‘ã€‚å†µä¸”ï¼Œä¸šåŠ¡ä¸­ï¼Œä¸€èˆ¬ä¸åˆ é™¤æœåŠ¡å™¨ç«¯çš„èµ„æºã€‚</li>\n<li><code>head</code> å¯èƒ½å¶å°”ç”¨çš„åˆ°ã€‚</li>\n</ul>\n<h2 id=\"5-get-å’Œ-postçš„åŒºåˆ«\"><a href=\"#5-get-å’Œ-postçš„åŒºåˆ«\" class=\"headerlink\" title=\"5 get å’Œ postçš„åŒºåˆ«\"></a>5 get å’Œ postçš„åŒºåˆ«</h2><p><img src=\"http://img.smyhvae.com/20180306_1415.png\"></p>\n<ul>\n<li>åŒºåˆ«æœ‰å¾ˆå¤šï¼Œå¦‚æœè®°ä¸ä½ï¼Œé¢è¯•æ—¶ï¼Œè‡³å°‘è¦ä»»æ„ç­”å‡ºå…¶ä¸­çš„ä¸‰å››æ¡ã€‚</li>\n<li>æœ‰ä¸€ç‚¹è¦å¼ºè°ƒï¼Œ<strong>getæ˜¯ç›¸å¯¹ä¸éšç§çš„ï¼Œè€Œpostæ˜¯ç›¸å¯¹éšç§çš„</strong>ã€‚</li>\n</ul>\n<blockquote>\n<p>æˆ‘ä»¬å¤§æ¦‚è¦è®°ä½ä»¥ä¸‹å‡ ç‚¹ï¼š</p>\n</blockquote>\n<ol>\n<li>æµè§ˆå™¨åœ¨å›é€€æ—¶ï¼Œ<code>get</code> <strong>ä¸ä¼šé‡æ–°è¯·æ±‚</strong>ï¼Œä½†æ˜¯<code>post</code>ä¼šé‡æ–°è¯·æ±‚ã€‚ã€é‡è¦ã€‘</li>\n<li><code>get</code>è¯·æ±‚ä¼šè¢«æµè§ˆå™¨<strong>ä¸»åŠ¨ç¼“å­˜</strong>ï¼Œè€Œ<code>post</code>ä¸ä¼šã€‚ã€é‡è¦ã€‘</li>\n<li><code>get</code>è¯·æ±‚çš„å‚æ•°ï¼Œä¼šæŠ¥<strong>ä¿ç•™</strong>åœ¨æµè§ˆå™¨çš„<strong>å†å²è®°å½•</strong>é‡Œï¼Œè€Œ<code>post</code>ä¸ä¼šã€‚åšä¸šåŠ¡æ—¶è¦æ³¨æ„ã€‚ä¸ºäº†é˜²æ­¢<code>CSRF</code>æ”»å‡»ï¼Œå¾ˆå¤šå…¬å¸æŠŠ<code>get</code>ç»Ÿä¸€æ”¹æˆäº†<code>post</code>ã€‚</li>\n<li><code>get</code>è¯·æ±‚åœ¨<code>url</code>ä¸­<code>ä¼ é€’çš„å‚æ•°æœ‰å¤§å°é™åˆ¶ï¼ŒåŸºæœ¬æ˜¯</code>2kb&#96;ï¼Œä¸åŒçš„æµè§ˆå™¨ç•¥æœ‰ä¸åŒã€‚è€Œpostæ²¡æœ‰æ³¨æ„ã€‚</li>\n<li><code>get</code>çš„å‚æ•°æ˜¯ç›´æ¥æš´éœ²åœ¨<code>url</code>ä¸Šçš„ï¼Œç›¸å¯¹ä¸å®‰å…¨ã€‚è€Œ<code>post</code>æ˜¯æ”¾åœ¨è¯·æ±‚ä½“ä¸­çš„ã€‚</li>\n</ol>\n<h2 id=\"6-httpçŠ¶æ€ç \"><a href=\"#6-httpçŠ¶æ€ç \" class=\"headerlink\" title=\"6 httpçŠ¶æ€ç \"></a>6 httpçŠ¶æ€ç </h2><blockquote>\n<p><code>http</code>çŠ¶æ€ç åˆ†ç±»ï¼š</p>\n</blockquote>\n<p><img src=\"http://img.smyhvae.com/20180306_1430.png\"></p>\n<blockquote>\n<p>å¸¸è§çš„<code>http</code>çŠ¶æ€ç ï¼š</p>\n</blockquote>\n<p><img src=\"http://img.smyhvae.com/20180306_1431.png\"></p>\n<p><strong>éƒ¨åˆ†è§£é‡Š</strong>ï¼š</p>\n<ul>\n<li><code>206</code>çš„åº”ç”¨ï¼š<code>range</code>æŒ‡çš„æ˜¯è¯·æ±‚çš„èŒƒå›´ï¼Œå®¢æˆ·ç«¯åªè¯·æ±‚æŸä¸ªå¤§æ–‡ä»¶é‡Œçš„ä¸€éƒ¨åˆ†å†…å®¹ã€‚æ¯”å¦‚è¯´ï¼Œå¦‚æœæ’­æ”¾è§†é¢‘åœ°å€æˆ–éŸ³é¢‘åœ°å€çš„å‰é¢ä¸€éƒ¨åˆ†ï¼Œå¯ä»¥ç”¨åˆ°<code>206</code>ã€‚</li>\n<li><code>301</code>ï¼šé‡å®šå‘ï¼ˆæ°¸ä¹…ï¼‰ã€‚</li>\n<li><code>302</code>ï¼šé‡å®šå‘ï¼ˆä¸´æ—¶ï¼‰ã€‚</li>\n<li><code>304</code>ï¼šæˆ‘è¿™ä¸ªæœåŠ¡å™¨å‘Šè¯‰å®¢æˆ·ç«¯ï¼Œä½ å·²ç»æœ‰ç¼“å­˜äº†ï¼Œä¸éœ€è¦ä»æˆ‘è¿™é‡Œå–äº†ã€‚</li>\n</ul>\n<p><img src=\"http://img.smyhvae.com/20180306_1440.png\"></p>\n<ul>\n<li><code>400</code>å’Œ<code>401</code>ç”¨çš„ä¸å¤š,æœªæˆæƒã€‚<code>403</code>æŒ‡çš„æ˜¯è¯·æ±‚è¢«æ‹’ç»ã€‚<code>404</code>æŒ‡çš„æ˜¯èµ„æºä¸å­˜åœ¨ã€‚</li>\n</ul>\n<h2 id=\"7-æŒä¹…é“¾æ¥-x2F-httpé•¿è¿æ¥\"><a href=\"#7-æŒä¹…é“¾æ¥-x2F-httpé•¿è¿æ¥\" class=\"headerlink\" title=\"7 æŒä¹…é“¾æ¥&#x2F;httpé•¿è¿æ¥\"></a>7 æŒä¹…é“¾æ¥&#x2F;httpé•¿è¿æ¥</h2><blockquote>\n<p>å¦‚æœä½ èƒ½ç­”å‡ºæŒä¹…é“¾æ¥ï¼Œè¿™æ˜¯é¢è¯•å®˜å¾ˆæƒ³çŸ¥é“çš„ä¸€ä¸ªç‚¹ã€‚</p>\n</blockquote>\n<ul>\n<li><strong>è½®è¯¢</strong>ï¼š<code>http1.0</code>ä¸­ï¼Œå®¢æˆ·ç«¯æ¯éš”å¾ˆçŸ­çš„æ—¶é—´ï¼Œéƒ½ä¼šå¯¹æœåŠ¡å™¨å‘å‡ºè¯·æ±‚ï¼ŒæŸ¥çœ‹æ˜¯å¦æœ‰æ–°çš„æ¶ˆæ¯ï¼Œåªè¦è½®è¯¢é€Ÿåº¦è¶³å¤Ÿå¿«ï¼Œä¾‹å¦‚<code>1</code>ç§’ï¼Œå°±èƒ½ç»™äººé€ æˆäº¤äº’æ˜¯å®æ—¶è¿›è¡Œçš„å°è±¡ã€‚è¿™ç§åšæ³•æ˜¯æ— å¥ˆä¹‹ä¸¾ï¼Œå®é™…ä¸Šå¯¹æœåŠ¡å™¨ã€å®¢æˆ·ç«¯åŒæ–¹éƒ½é€ æˆäº†å¤§é‡çš„æ€§èƒ½æµªè´¹ã€‚</li>\n<li><strong>é•¿è¿æ¥</strong>ï¼š<code>HTTP1.1</code>ä¸­ï¼Œé€šè¿‡ä½¿ç”¨<code>Connection:keep-alive</code>è¿›è¡Œé•¿è¿æ¥ï¼Œã€‚å®¢æˆ·ç«¯åªè¯·æ±‚ä¸€æ¬¡ï¼Œä½†æ˜¯æœåŠ¡å™¨ä¼šå°†ç»§ç»­ä¿æŒè¿æ¥ï¼Œå½“å†æ¬¡è¯·æ±‚æ—¶ï¼Œé¿å…äº†é‡æ–°å»ºç«‹è¿æ¥ã€‚</li>\n</ul>\n<blockquote>\n<p>æ³¨æ„ï¼Œ<code>HTTP 1.1</code>é»˜è®¤è¿›è¡ŒæŒä¹…è¿æ¥ã€‚åœ¨ä¸€æ¬¡ <code>TCP</code> è¿æ¥ä¸­å¯ä»¥å®Œæˆå¤šä¸ª <code>HTTP</code> è¯·æ±‚ï¼Œä½†æ˜¯å¯¹<strong>æ¯ä¸ªè¯·æ±‚ä»ç„¶è¦å•ç‹¬å‘ header</strong>ï¼Œ<code>Keep-Alive</code>ä¸ä¼šæ°¸ä¹…ä¿æŒè¿æ¥ï¼Œå®ƒæœ‰ä¸€ä¸ªä¿æŒæ—¶é—´ï¼Œå¯ä»¥åœ¨ä¸åŒçš„æœåŠ¡å™¨è½¯ä»¶ï¼ˆå¦‚<code>Apache</code>ï¼‰ä¸­è®¾å®šè¿™ä¸ªæ—¶é—´ã€‚</p>\n</blockquote>\n<h2 id=\"8-é•¿è¿æ¥ä¸­çš„ç®¡çº¿åŒ–\"><a href=\"#8-é•¿è¿æ¥ä¸­çš„ç®¡çº¿åŒ–\" class=\"headerlink\" title=\"8 é•¿è¿æ¥ä¸­çš„ç®¡çº¿åŒ–\"></a>8 é•¿è¿æ¥ä¸­çš„ç®¡çº¿åŒ–</h2><blockquote>\n<p>å¦‚æœèƒ½ç­”å‡º<strong>ç®¡çº¿åŒ–</strong>ï¼Œåˆ™å±äºåŠ åˆ†é¡¹ã€‚</p>\n</blockquote>\n<h3 id=\"8-1-ç®¡çº¿åŒ–çš„åŸç†\"><a href=\"#8-1-ç®¡çº¿åŒ–çš„åŸç†\" class=\"headerlink\" title=\"8.1 ç®¡çº¿åŒ–çš„åŸç†\"></a>8.1 ç®¡çº¿åŒ–çš„åŸç†</h3><blockquote>\n<p>é•¿è¿æ¥æ—¶ï¼Œ<strong>é»˜è®¤</strong>çš„è¯·æ±‚è¿™æ ·çš„ï¼š</p>\n</blockquote>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">è¯·æ±‚1 --&gt; å“åº”1 --&gt;è¯·æ±‚2 --&gt; å“åº”2 --&gt; è¯·æ±‚3 --&gt; å“åº”3</span><br></pre></td></tr></table></figure>\n\n\n<blockquote>\n<p>ç®¡çº¿åŒ–å°±æ˜¯ï¼Œæˆ‘æŠŠç°åœ¨çš„è¯·æ±‚æ‰“åŒ…ï¼Œä¸€æ¬¡æ€§å‘è¿‡å»ï¼Œä½ ä¹Ÿç»™æˆ‘ä¸€æ¬¡å“åº”å›æ¥ã€‚</p>\n</blockquote>\n<h3 id=\"8-2-ç®¡çº¿åŒ–çš„æ³¨æ„äº‹é¡¹\"><a href=\"#8-2-ç®¡çº¿åŒ–çš„æ³¨æ„äº‹é¡¹\" class=\"headerlink\" title=\"8.2 ç®¡çº¿åŒ–çš„æ³¨æ„äº‹é¡¹\"></a>8.2 ç®¡çº¿åŒ–çš„æ³¨æ„äº‹é¡¹</h3><blockquote>\n<p>é¢è¯•æ—¶ï¼Œä¸ä¼šæ·±ç©¶ç®¡çº¿åŒ–ã€‚å¦‚æœçœŸè¦é—®ä½ ï¼Œå°±å›ç­”ï¼šâ€œæˆ‘æ²¡æ€ä¹ˆç ”ç©¶è¿‡ï¼Œå‡†å¤‡å›å»çœ‹çœ‹~â€</p>\n</blockquote>\n"},{"title":"æ‰‹å†™äº‹ä»¶ä¾¦å¬å™¨ï¼Œå¹¶è¦æ±‚å…¼å®¹æµè§ˆå™¨","url":"/LittleWhiteRabbit/2022/04/26/Handwritten-code/","content":"<p><strong>æ‰‹å†™äº‹ä»¶ä¾¦å¬å™¨ï¼Œå¹¶è¦æ±‚å…¼å®¹æµè§ˆå™¨</strong></p>\n<span id=\"more\"></span>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> eventUtil = &#123;</span><br><span class=\"line\">  <span class=\"attr\">getEvent</span>: <span class=\"keyword\">function</span>(<span class=\"params\">event</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> event || <span class=\"variable language_\">window</span>.<span class=\"property\">event</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">getTarget</span>: <span class=\"keyword\">function</span>(<span class=\"params\">event</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> event.<span class=\"property\">target</span> || event.<span class=\"property\">srcElement</span>;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">addListener</span>: <span class=\"keyword\">function</span>(<span class=\"params\">element, type, hander</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (element.<span class=\"property\">addEventListener</span>) &#123;</span><br><span class=\"line\">          element.<span class=\"title function_\">addEventListener</span>(type, hander, <span class=\"literal\">false</span>);</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (element.<span class=\"property\">attachEvent</span>) &#123;</span><br><span class=\"line\">          element.<span class=\"title function_\">attachEvent</span>(<span class=\"string\">&#x27;on&#x27;</span> + type, hander);</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">          element[<span class=\"string\">&#x27;on&#x27;</span> + type] = hander;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">removeListener</span>: <span class=\"keyword\">function</span>(<span class=\"params\">element, type, hander</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (element.<span class=\"property\">removeEventListener</span>) &#123;</span><br><span class=\"line\">          element.<span class=\"title function_\">removeEventListener</span>(type, hander, <span class=\"literal\">false</span>);</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (element.<span class=\"property\">deattachEvent</span>) &#123;</span><br><span class=\"line\">          element.<span class=\"title function_\">detachEvent</span>(type, hander);</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">          element[<span class=\"string\">&#x27;on&#x27;</span> + type] = <span class=\"literal\">null</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">preventDefault</span>: <span class=\"keyword\">function</span>(<span class=\"params\">event</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (event.<span class=\"property\">preventDefault</span>) &#123;</span><br><span class=\"line\">          event.<span class=\"title function_\">preventDefault</span>();</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">          event.<span class=\"property\">returnValue</span> = <span class=\"literal\">false</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">stopPropagation</span>: <span class=\"keyword\">function</span>(<span class=\"params\">event</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (event.<span class=\"property\">stopPropagation</span>) &#123;</span><br><span class=\"line\">          event.<span class=\"title function_\">stopPropagation</span>();</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">          event.<span class=\"property\">cancelBubble</span> = <span class=\"literal\">true</span>;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è°ƒç”¨</span></span><br><span class=\"line\">(<span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> btn = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;btn&quot;</span>);</span><br><span class=\"line\">  <span class=\"keyword\">var</span> link = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementsByTagName</span>(<span class=\"string\">&quot;a&quot;</span>)[<span class=\"number\">0</span>];</span><br><span class=\"line\"></span><br><span class=\"line\">  eventUtil.<span class=\"title function_\">addListener</span>(btn, <span class=\"string\">&quot;click&quot;</span>, <span class=\"keyword\">function</span>(<span class=\"params\">event</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">var</span> event = eventUtil.<span class=\"title function_\">getEvent</span>(event);</span><br><span class=\"line\">      <span class=\"keyword\">var</span> target = eventUtil.<span class=\"title function_\">getTarget</span>(event);</span><br><span class=\"line\">      <span class=\"title function_\">alert</span>(event.<span class=\"property\">type</span>);</span><br><span class=\"line\">      <span class=\"title function_\">alert</span>(target);</span><br><span class=\"line\">      eventUtil.<span class=\"title function_\">stopPropagation</span>(event);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  eventUtil.<span class=\"title function_\">addListener</span>(link, <span class=\"string\">&quot;click&quot;</span>, <span class=\"keyword\">function</span>(<span class=\"params\">event</span>) &#123;</span><br><span class=\"line\">      <span class=\"title function_\">alert</span>(<span class=\"string\">&quot;prevent default event&quot;</span>);</span><br><span class=\"line\">      <span class=\"keyword\">var</span> event = eventUtil.<span class=\"title function_\">getEvent</span>(event);</span><br><span class=\"line\">      eventUtil.<span class=\"title function_\">preventDefault</span>(event);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  eventUtil.<span class=\"title function_\">addListener</span>(<span class=\"variable language_\">document</span>.<span class=\"property\">body</span>, <span class=\"string\">&quot;click&quot;</span>, <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">      <span class=\"title function_\">alert</span>(<span class=\"string\">&quot;click body&quot;</span>);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;)();</span><br></pre></td></tr></table></figure>\n\n<p><strong>æ‰‹å†™äº‹ä»¶æ¨¡å‹</strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> <span class=\"title class_\">Event</span> = (<span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> list = &#123;&#125;, bind, trigger, remove;</span><br><span class=\"line\">    bind = <span class=\"keyword\">function</span> (<span class=\"params\">key, fn</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!list[key]) &#123;</span><br><span class=\"line\">            list[key] = [];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        list[key].<span class=\"title function_\">push</span>(fn);</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    trigger = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> key = <span class=\"title class_\">Array</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">shift</span>.<span class=\"title function_\">call</span>(<span class=\"variable language_\">arguments</span>);</span><br><span class=\"line\">        <span class=\"keyword\">var</span> fns = list[key];</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!fns || fns.<span class=\"property\">length</span> === <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>, fn; fn = fns[i++];) &#123;</span><br><span class=\"line\">            fn.<span class=\"title function_\">apply</span>(<span class=\"variable language_\">this</span>, <span class=\"variable language_\">arguments</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    remove = <span class=\"keyword\">function</span> (<span class=\"params\">key, fn</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> fns = list[key];</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!fns) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!fn) &#123;</span><br><span class=\"line\">            fns &amp; (fns.<span class=\"property\">length</span> = <span class=\"number\">0</span>);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = fns.<span class=\"property\">length</span> - <span class=\"number\">1</span>; i &gt;= <span class=\"number\">0</span>; i--) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">var</span> _fn = fns[i];</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (_fn === fn) &#123;</span><br><span class=\"line\">                    fns.<span class=\"title function_\">splice</span>(i, <span class=\"number\">1</span>);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">        <span class=\"attr\">bind</span>: bind,</span><br><span class=\"line\">        <span class=\"attr\">trigger</span>: trigger,</span><br><span class=\"line\">        <span class=\"attr\">remove</span>: remove</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;)();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è°ƒç”¨</span></span><br><span class=\"line\"><span class=\"title class_\">Event</span>.<span class=\"title function_\">bind</span>(<span class=\"string\">&#x27;Hit&#x27;</span>, <span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123; <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;bind event&#x27;</span>); &#125;); <span class=\"comment\">// ç»‘å®šäº‹ä»¶</span></span><br><span class=\"line\"><span class=\"title class_\">Event</span>.<span class=\"title function_\">trigger</span>(<span class=\"string\">&quot;Hit&quot;</span>, <span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123; <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;trigger event&#x27;</span>); &#125;); <span class=\"comment\">// è§¦å‘äº‹ä»¶</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>æ‰‹å†™äº‹ä»¶ä»£ç†ï¼Œå¹¶è¦æ±‚å…¼å®¹æµè§ˆå™¨</strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">delegateEvent</span>(<span class=\"params\">parentEl, selector, type, fn</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> handler = <span class=\"keyword\">function</span>(<span class=\"params\">e</span>)&#123;</span><br><span class=\"line\">          <span class=\"keyword\">var</span> e = e || <span class=\"variable language_\">window</span>.<span class=\"property\">event</span>;</span><br><span class=\"line\">          <span class=\"keyword\">var</span> target = e.<span class=\"property\">target</span> || e.<span class=\"property\">srcElement</span>;</span><br><span class=\"line\">          <span class=\"keyword\">if</span> (<span class=\"title function_\">matchSelector</span>(target, selector)) &#123;</span><br><span class=\"line\">              <span class=\"keyword\">if</span>(fn) &#123;</span><br><span class=\"line\">                  fn.<span class=\"title function_\">call</span>(target, e);</span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(parentEl.<span class=\"property\">addEventListener</span>)&#123;</span><br><span class=\"line\">        parentEl.<span class=\"title function_\">addEventListener</span>(type, handler);</span><br><span class=\"line\">    &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">        parentEl.<span class=\"title function_\">attachEvent</span>(<span class=\"string\">&quot;on&quot;</span> + type, handler);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * support #id, tagName, .className</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">matchSelector</span>(<span class=\"params\">ele, selector</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// if use id</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (selector.<span class=\"title function_\">charAt</span>(<span class=\"number\">0</span>) === <span class=\"string\">&quot;#&quot;</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> ele.<span class=\"property\">id</span> === selector.<span class=\"title function_\">slice</span>(<span class=\"number\">1</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// if use class</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (selector.<span class=\"title function_\">charAt</span>(<span class=\"number\">0</span>) === <span class=\"string\">&quot;.&quot;</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> (<span class=\"string\">&quot; &quot;</span> + ele.<span class=\"property\">className</span> + <span class=\"string\">&quot; &quot;</span>).<span class=\"title function_\">indexOf</span>(<span class=\"string\">&quot; &quot;</span> + selector.<span class=\"title function_\">slice</span>(<span class=\"number\">1</span>) + <span class=\"string\">&quot; &quot;</span>) != -<span class=\"number\">1</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// if use tagName</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ele.<span class=\"property\">tagName</span>.<span class=\"title function_\">toLowerCase</span>() === selector.<span class=\"title function_\">toLowerCase</span>();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è°ƒç”¨</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> box = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;box&quot;</span>);</span><br><span class=\"line\"><span class=\"title function_\">delegateEvent</span>(box, <span class=\"string\">&quot;a&quot;</span>, <span class=\"string\">&quot;click&quot;</span>, <span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">href</span>);</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<p><strong>æ‰‹å†™äº‹ä»¶è§¦å‘å™¨ï¼Œå¹¶è¦æ±‚å…¼å®¹æµè§ˆå™¨</strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> fireEvent = <span class=\"keyword\">function</span>(<span class=\"params\">element, event</span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"variable language_\">document</span>.<span class=\"property\">createEventObject</span>)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> mockEvent = <span class=\"variable language_\">document</span>.<span class=\"title function_\">createEventObject</span>();</span><br><span class=\"line\">        <span class=\"keyword\">return</span> element.<span class=\"title function_\">fireEvent</span>(<span class=\"string\">&#x27;on&#x27;</span> + event, mockEvent)</span><br><span class=\"line\">    &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> mockEvent = <span class=\"variable language_\">document</span>.<span class=\"title function_\">createEvent</span>(<span class=\"string\">&#x27;HTMLEvents&#x27;</span>);</span><br><span class=\"line\">        mockEvent.<span class=\"title function_\">initEvent</span>(event, <span class=\"literal\">true</span>, <span class=\"literal\">true</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> element.<span class=\"title function_\">dispatchEvent</span>(mockEvent);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>æ‰‹å†™ Function.bind å‡½æ•°</strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (!<span class=\"title class_\">Function</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">bind</span>) &#123;</span><br><span class=\"line\">  <span class=\"title class_\">Function</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">bind</span> = <span class=\"keyword\">function</span> (<span class=\"params\">oThis</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> <span class=\"variable language_\">this</span> !== <span class=\"string\">&quot;function&quot;</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"title class_\">TypeError</span>(<span class=\"string\">&quot;&#x27;this&#x27; is not function&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// bind&#x27;s default arguments, array without first element</span></span><br><span class=\"line\">    <span class=\"comment\">// first part arguments for the function</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> aBindArgs = <span class=\"title class_\">Array</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">slice</span>.<span class=\"title function_\">call</span>(<span class=\"variable language_\">arguments</span>, <span class=\"number\">1</span>);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> fToBind = <span class=\"variable language_\">this</span>; <span class=\"comment\">// the function will be binding</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> fNOP = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;&#125;;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> fBound = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">          <span class=\"comment\">// target this will be binding</span></span><br><span class=\"line\">          <span class=\"keyword\">var</span> oThis = <span class=\"variable language_\">this</span> <span class=\"keyword\">instanceof</span> fNOP ? <span class=\"variable language_\">this</span> : oThis || <span class=\"variable language_\">this</span>;</span><br><span class=\"line\">          <span class=\"comment\">// last part arguments for the function</span></span><br><span class=\"line\">          <span class=\"keyword\">var</span> aCallArgs = <span class=\"title class_\">Array</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">slice</span>.<span class=\"title function_\">call</span>(<span class=\"variable language_\">arguments</span>);</span><br><span class=\"line\">          <span class=\"comment\">// complete arguments for the function</span></span><br><span class=\"line\">          <span class=\"keyword\">var</span> aFuncArgs = aBindArgs.<span class=\"title function_\">concat</span>(aCallArgs);</span><br><span class=\"line\">          <span class=\"keyword\">return</span> fToBind.<span class=\"title function_\">apply</span>(oThis, aFuncArgs);</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// fBound extends fToBind</span></span><br><span class=\"line\">    fNOP.<span class=\"property\"><span class=\"keyword\">prototype</span></span> = <span class=\"variable language_\">this</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>;</span><br><span class=\"line\">    fBound.<span class=\"property\"><span class=\"keyword\">prototype</span></span> = <span class=\"keyword\">new</span> <span class=\"title function_\">fNOP</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> fBound;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è°ƒç”¨</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> add = <span class=\"keyword\">function</span>(<span class=\"params\">a, b, c</span>)&#123; <span class=\"keyword\">return</span> a + b + c;&#125;;</span><br><span class=\"line\"><span class=\"keyword\">var</span> newAdd = add.<span class=\"title function_\">bind</span>(<span class=\"literal\">null</span>, <span class=\"number\">1</span>, <span class=\"number\">2</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> result = <span class=\"title function_\">newAdd</span>(<span class=\"number\">3</span>);</span><br></pre></td></tr></table></figure>\n\n<p><strong>æ‰‹å†™æ•°ç»„å¿«é€Ÿæ’åº</strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> quickSort = <span class=\"keyword\">function</span>(<span class=\"params\">arr</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (arr.<span class=\"property\">length</span> &lt;= <span class=\"number\">1</span>) &#123; <span class=\"keyword\">return</span> arr; &#125;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> pivotIndex = <span class=\"title class_\">Math</span>.<span class=\"title function_\">floor</span>(arr.<span class=\"property\">length</span> / <span class=\"number\">2</span>);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> pivot = arr.<span class=\"title function_\">splice</span>(pivotIndex, <span class=\"number\">1</span>)[<span class=\"number\">0</span>];</span><br><span class=\"line\">    <span class=\"keyword\">var</span> left = [];</span><br><span class=\"line\">    <span class=\"keyword\">var</span> right = [];</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>, len = arr.<span class=\"property\">length</span>; i &lt; len; i++)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (arr[i] &lt; pivot) &#123;</span><br><span class=\"line\">          left.<span class=\"title function_\">push</span>(arr[i]);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">          right.<span class=\"title function_\">push</span>(arr[i]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"title function_\">quickSort</span>(left).<span class=\"title function_\">concat</span>([pivot], <span class=\"title function_\">quickSort</span>(right));</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è°ƒç”¨</span></span><br><span class=\"line\"><span class=\"title function_\">quickSort</span>([<span class=\"number\">9</span>, <span class=\"number\">4</span>, <span class=\"number\">2</span>, <span class=\"number\">8</span>, <span class=\"number\">1</span>, <span class=\"number\">5</span>, <span class=\"number\">3</span>, <span class=\"number\">7</span>]);</span><br></pre></td></tr></table></figure>\n\n<p><strong>æ‰‹å†™æ•°ç»„å†’æ³¡æ’åº</strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> bubble = <span class=\"keyword\">function</span>(<span class=\"params\">arr</span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> maxIndex = arr.<span class=\"property\">length</span> - <span class=\"number\">1</span>, temp, flag;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = maxIndex; i &gt; <span class=\"number\">0</span>; i--) &#123;</span><br><span class=\"line\">        flag = <span class=\"literal\">true</span></span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> j = <span class=\"number\">0</span>; j &lt; i; j++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (arr[j] &gt; arr[j + <span class=\"number\">1</span>]) &#123;</span><br><span class=\"line\">                temp = arr[j];</span><br><span class=\"line\">                arr[j] = arr[j + <span class=\"number\">1</span>];</span><br><span class=\"line\">                arr[j + <span class=\"number\">1</span>] = temp;</span><br><span class=\"line\">                flag = <span class=\"literal\">false</span>;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(! flag)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> arr;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// è°ƒç”¨</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> arr = <span class=\"title function_\">bubble</span>([<span class=\"number\">13</span>, <span class=\"number\">69</span>, <span class=\"number\">28</span>, <span class=\"number\">93</span>, <span class=\"number\">55</span>, <span class=\"number\">75</span>, <span class=\"number\">34</span>]);</span><br></pre></td></tr></table></figure>\n\n<p><strong>æ‰‹å†™æ•°ç»„å»é‡</strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"title class_\">Array</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">unique</span> = <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123; <span class=\"keyword\">return</span> [...<span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>(<span class=\"variable language_\">this</span>)];&#125;;</span><br><span class=\"line\"><span class=\"comment\">// è°ƒç”¨</span></span><br><span class=\"line\">[<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">3</span>, <span class=\"number\">2</span>, <span class=\"number\">1</span>].<span class=\"title function_\">unique</span>();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">unique1</span>(<span class=\"params\">arr</span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> hash = &#123;&#125;, result = [];</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i=<span class=\"number\">0</span>, len=arr.<span class=\"property\">length</span>; i&lt;len; i++)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(! hash[arr[i]])&#123;</span><br><span class=\"line\">          result.<span class=\"title function_\">push</span>(arr[i]);</span><br><span class=\"line\">          hash[arr[i]] = <span class=\"literal\">true</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// è°ƒç”¨</span></span><br><span class=\"line\"><span class=\"title function_\">unique1</span>([<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">3</span>, <span class=\"number\">2</span>, <span class=\"number\">1</span>]);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title class_\">Array</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">unique2</span> = <span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"title function_\">sort</span>();</span><br><span class=\"line\">    <span class=\"keyword\">var</span> result = [<span class=\"variable language_\">this</span>[<span class=\"number\">0</span>]];</span><br><span class=\"line\">    <span class=\"keyword\">var</span> len = <span class=\"variable language_\">this</span>.<span class=\"property\">length</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; len; i++)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(<span class=\"variable language_\">this</span>[i] !== result[result.<span class=\"property\">length</span> - <span class=\"number\">1</span>])&#123;</span><br><span class=\"line\">          result.<span class=\"title function_\">push</span>(<span class=\"variable language_\">this</span>[i]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// è°ƒç”¨</span></span><br><span class=\"line\">[<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">3</span>, <span class=\"number\">2</span>, <span class=\"number\">1</span>].<span class=\"title function_\">unique2</span>();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">unique3</span>(<span class=\"params\">arr</span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> result = [];</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i=<span class=\"number\">0</span>; i&lt;arr.<span class=\"property\">length</span>; i++)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(result.<span class=\"title function_\">indexOf</span>(arr[i]) == -<span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">          result.<span class=\"title function_\">push</span>(arr[i]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> result;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è°ƒç”¨</span></span><br><span class=\"line\"><span class=\"title function_\">unique3</span>([<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">3</span>, <span class=\"number\">2</span>, <span class=\"number\">1</span>]);</span><br></pre></td></tr></table></figure>\n\n<p><strong>å°†urlçš„æŸ¥è¯¢å‚æ•°è§£ææˆå­—å…¸å¯¹è±¡</strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">parseQuery</span>(<span class=\"params\">url</span>) &#123;</span><br><span class=\"line\">  url = url == <span class=\"literal\">null</span> ? <span class=\"variable language_\">window</span>.<span class=\"property\">location</span>.<span class=\"property\">href</span> : url;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> search = url.<span class=\"title function_\">substring</span>(url.<span class=\"title function_\">lastIndexOf</span>(<span class=\"string\">&quot;?&quot;</span>) + <span class=\"number\">1</span>);</span><br><span class=\"line\">  <span class=\"keyword\">var</span> hash = &#123;&#125;;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> reg = <span class=\"regexp\">/([^?&amp;=]+)=([^?&amp;=]*)/g</span>;</span><br><span class=\"line\">  search.<span class=\"title function_\">replace</span>(reg, <span class=\"keyword\">function</span> (<span class=\"params\">match, $<span class=\"number\">1</span>, $<span class=\"number\">2</span></span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">var</span> name = <span class=\"built_in\">decodeURIComponent</span>($<span class=\"number\">1</span>);</span><br><span class=\"line\">      <span class=\"keyword\">var</span> val = <span class=\"built_in\">decodeURIComponent</span>($<span class=\"number\">2</span>);</span><br><span class=\"line\">      hash[name] = <span class=\"title class_\">String</span>(val);</span><br><span class=\"line\">      <span class=\"keyword\">return</span> match;</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> hash;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>å°è£…å‡½æ•°èŠ‚æµå‡½æ•°</strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> throttle = <span class=\"keyword\">function</span>(<span class=\"params\">fn, delay, mustRunDelay</span>)&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> timer = <span class=\"literal\">null</span>;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> t_start;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> context = <span class=\"variable language_\">this</span>, args = <span class=\"variable language_\">arguments</span>, t_curr = +<span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>();</span><br><span class=\"line\">    <span class=\"built_in\">clearTimeout</span>(timer);</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(!t_start)&#123;</span><br><span class=\"line\">      t_start = t_curr;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(t_curr - t_start &gt;= mustRunDelay)&#123;</span><br><span class=\"line\">      fn.<span class=\"title function_\">apply</span>(context, args);</span><br><span class=\"line\">      t_start = t_curr;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      timer = <span class=\"built_in\">setTimeout</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">        fn.<span class=\"title function_\">apply</span>(context, args);</span><br><span class=\"line\">      &#125;, delay);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è°ƒç”¨ï¼ˆä¸¤æ¬¡é—´éš”50mså†…è¿ç»­è§¦å‘ä¸æ‰§è¡Œï¼Œä½†æ¯ç´¯è®¡100msè‡³å°‘æ‰§è¡Œä¸€æ¬¡</span></span><br><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"property\">onresize</span> = <span class=\"title function_\">throttle</span>(myFunc, <span class=\"number\">50</span>, <span class=\"number\">100</span>);</span><br><span class=\"line\"><span class=\"string\">``</span><span class=\"string\">``</span></span><br><span class=\"line\"></span><br><span class=\"line\">**ç”¨<span class=\"variable constant_\">JS</span>å®ç°åƒä½åˆ†éš”ç¬¦**</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">``</span><span class=\"string\">`JavaScript</span></span><br><span class=\"line\"><span class=\"string\">function test1(num)&#123;</span></span><br><span class=\"line\"><span class=\"string\">  var str = (+ num) + &#x27;&#x27;;</span></span><br><span class=\"line\"><span class=\"string\">  var len = str.length;</span></span><br><span class=\"line\"><span class=\"string\">  if(len &lt;= 3) return str;</span></span><br><span class=\"line\"><span class=\"string\">  num = &#x27;&#x27;;</span></span><br><span class=\"line\"><span class=\"string\">  while(len &gt; 3)&#123;</span></span><br><span class=\"line\"><span class=\"string\">      len -= 3;</span></span><br><span class=\"line\"><span class=\"string\">      num = &#x27;,&#x27; + str.substr(len, 3) + num;</span></span><br><span class=\"line\"><span class=\"string\">  &#125;</span></span><br><span class=\"line\"><span class=\"string\">  return str.substr(0, len) + num;</span></span><br><span class=\"line\"><span class=\"string\">&#125;</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">function test2(num)&#123;</span></span><br><span class=\"line\"><span class=\"string\">  // ?= æ­£å‘åŒ¹é…:åŒ¹é…ä½ç½®</span></span><br><span class=\"line\"><span class=\"string\">  // ?! æ­£å‘ä¸åŒ¹é…:æ’é™¤ä½ç½®</span></span><br><span class=\"line\"><span class=\"string\">  var str = (+num).toString();</span></span><br><span class=\"line\"><span class=\"string\">  var reg = /(?=(?!\\b)(\\d&#123;3&#125;)+$)/g;</span></span><br><span class=\"line\"><span class=\"string\">  return str.replace(reg, &#x27;,&#x27;);</span></span><br><span class=\"line\"><span class=\"string\">&#125;</span></span><br></pre></td></tr></table></figure>\n"},{"title":"å‰ç«¯éœ€è¦æ³¨æ„å“ªäº›SEO","url":"/LittleWhiteRabbit/2022/04/26/SEO/","content":"<h3 id=\"å‰ç«¯éœ€è¦æ³¨æ„å“ªäº›SEO\"><a href=\"#å‰ç«¯éœ€è¦æ³¨æ„å“ªäº›SEO\" class=\"headerlink\" title=\"å‰ç«¯éœ€è¦æ³¨æ„å“ªäº›SEO\"></a>å‰ç«¯éœ€è¦æ³¨æ„å“ªäº›SEO</h3><ul>\n<li>åˆç†çš„titleã€descriptionã€keywordsï¼šæœç´¢å¯¹ç€ä¸‰é¡¹çš„æƒé‡é€ä¸ªå‡å°ï¼Œtitleå€¼å¼ºè°ƒé‡ç‚¹å³å¯ï¼Œé‡è¦å…³é”®è¯å‡ºç°ä¸è¦è¶…è¿‡2æ¬¡ï¼Œè€Œä¸”è¦é å‰ï¼Œä¸åŒé¡µé¢titleè¦æœ‰æ‰€ä¸åŒï¼›descriptionæŠŠé¡µé¢å†…å®¹é«˜åº¦æ¦‚æ‹¬ï¼Œé•¿åº¦åˆé€‚ï¼Œä¸å¯è¿‡åˆ†å †ç Œå…³é”®è¯ï¼Œä¸åŒé¡µé¢descriptionæœ‰æ‰€ä¸åŒï¼›keywordsåˆ—ä¸¾å‡ºé‡è¦å…³é”®è¯å³å¯</li>\n<li>è¯­ä¹‰åŒ–çš„HTMLä»£ç ï¼Œç¬¦åˆW3Cè§„èŒƒï¼šè¯­ä¹‰åŒ–ä»£ç è®©æœç´¢å¼•æ“å®¹æ˜“ç†è§£ç½‘é¡µ</li>\n<li>é‡è¦å†…å®¹HTMLä»£ç æ”¾åœ¨æœ€å‰ï¼šæœç´¢å¼•æ“æŠ“å–HTMLé¡ºåºæ˜¯ä»ä¸Šåˆ°ä¸‹ï¼Œæœ‰çš„æœç´¢å¼•æ“å¯¹æŠ“å–é•¿åº¦æœ‰é™åˆ¶ï¼Œä¿è¯é‡è¦å†…å®¹ä¸€å®šä¼šè¢«æŠ“å–</li>\n<li>é‡è¦å†…å®¹ä¸è¦ç”¨jsè¾“å‡ºï¼šçˆ¬è™«ä¸ä¼šæ‰§è¡Œjsè·å–å†…å®¹</li>\n<li>å°‘ç”¨iframeï¼šæœç´¢å¼•æ“ä¸ä¼šæŠ“å–iframeä¸­çš„å†…å®¹</li>\n<li>éè£…é¥°æ€§å›¾ç‰‡å¿…é¡»åŠ alt</li>\n<li>æé«˜ç½‘ç«™é€Ÿåº¦ï¼šç½‘ç«™é€Ÿåº¦æ˜¯æœç´¢å¼•æ“æ’åºçš„ä¸€ä¸ªé‡è¦æŒ‡æ ‡<span id=\"more\"></span></li>\n</ul>\n<p><strong>å¦‚ä½•åšSEOä¼˜åŒ–?</strong></p>\n<ul>\n<li>æ ‡é¢˜ä¸å…³é”®è¯</li>\n</ul>\n<ul>\n<li>è®¾ç½®æœ‰å¸å¼•åŠ›åˆ‡åˆå®é™…çš„æ ‡é¢˜ï¼Œæ ‡é¢˜ä¸­è¦åŒ…å«æ‰€åšçš„å…³é”®è¯</li>\n</ul>\n<ul>\n<li>ç½‘ç«™ç»“æ„ç›®å½•</li>\n</ul>\n<ul>\n<li>æœ€å¥½ä¸è¦è¶…è¿‡ä¸‰çº§ï¼Œæ¯çº§æœ‰â€œé¢åŒ…å±‘å¯¼èˆªâ€ï¼Œä½¿ç½‘ç«™æˆæ ‘çŠ¶ç»“æ„åˆ†å¸ƒ</li>\n</ul>\n<ul>\n<li>é¡µé¢å…ƒç´ </li>\n</ul>\n<ul>\n<li>ç»™å›¾ç‰‡æ ‡æ³¨â€Altâ€å¯ä»¥è®©æœç´¢å¼•æ“æ›´å‹å¥½çš„æ”¶å½•</li>\n</ul>\n<ul>\n<li>ç½‘ç«™å†…å®¹</li>\n</ul>\n<ul>\n<li>æ¯ä¸ªæœˆæ¯å¤©æœ‰è§„å¾‹çš„æ›´æ–°ç½‘ç«™çš„å†…å®¹ï¼Œä¼šä½¿æœç´¢å¼•æ“æ›´åŠ å–œæ¬¢</li>\n</ul>\n<ul>\n<li>å‹æƒ…é“¾æ¥</li>\n</ul>\n<ul>\n<li>å¯¹æ–¹ä¸€å®šè¦æ˜¯æ­£è§„ç½‘ç«™ï¼Œæ¯å¤©æœ‰ä¸“ä¸šçš„å›¢é˜Ÿæˆ–è€…ä¸ªäººç»´æŠ¤æ›´æ–°</li>\n</ul>\n<ul>\n<li>å†…é“¾çš„å¸ƒç½®</li>\n</ul>\n<ul>\n<li>ä½¿ç½‘ç«™å½¢æˆç±»ä¼¼èœ˜è››ç½‘çš„ç»“æ„ï¼Œä¸ä¼šå‡ºç°å•ç‹¬è¿æ¥çš„é¡µé¢æˆ–é“¾æ¥</li>\n</ul>\n<ul>\n<li>æµé‡åˆ†æ</li>\n</ul>\n<ul>\n<li>é€šè¿‡ç»Ÿè®¡å·¥å…·(ç™¾åº¦ç»Ÿè®¡ï¼ŒCNZZ)åˆ†ææµé‡æ¥æºï¼ŒæŒ‡å¯¼ä¸‹ä¸€æ­¥çš„SEO</li>\n</ul>\n","categories":["å‰ç«¯"],"tags":["Web"]},{"title":"Vue ç»„ä»¶ä¸‹æ‹‰åŠ è½½æ›´å¤š","url":"/LittleWhiteRabbit/2022/04/26/Vue%20%E7%BB%84%E4%BB%B6%E4%B8%8B%E6%8B%89%20%E5%8A%A0%E8%BD%BD%E6%9B%B4%E5%A4%9A/","content":"<h2 id=\"ä¸€ã€æ–°å»ºä¸€ä¸ªloadingMessageç»„ä»¶\"><a href=\"#ä¸€ã€æ–°å»ºä¸€ä¸ªloadingMessageç»„ä»¶\" class=\"headerlink\" title=\"ä¸€ã€æ–°å»ºä¸€ä¸ªloadingMessageç»„ä»¶\"></a>ä¸€ã€æ–°å»ºä¸€ä¸ªloadingMessageç»„ä»¶</h2><h3 id=\"1-1-ç›‘å¬æ»‘åŠ¨\"><a href=\"#1-1-ç›‘å¬æ»‘åŠ¨\" class=\"headerlink\" title=\"1.1 ç›‘å¬æ»‘åŠ¨\"></a>1.1 ç›‘å¬æ»‘åŠ¨</h3><span id=\"more\"></span>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;div ref=&quot;content&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>\n<h3 id=\"1-1-æŒ‚è½½ç›‘å¬\"><a href=\"#1-1-æŒ‚è½½ç›‘å¬\" class=\"headerlink\" title=\"1.1 æŒ‚è½½ç›‘å¬\"></a>1.1 æŒ‚è½½ç›‘å¬</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">mounted() &#123;</span><br><span class=\"line\">    this.$refs.content.scrollTag = 0; // æ ‡è®°ç›‘å¬æ•°</span><br><span class=\"line\">    // æŒ‚è½½ç›‘å¬</span><br><span class=\"line\">    this.listenerScroll();</span><br><span class=\"line\">  &#125;,</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"1-2-åŠ è½½æ•°æ®æ—¶å€™è®¾ç½®é«˜åº¦\"><a href=\"#1-2-åŠ è½½æ•°æ®æ—¶å€™è®¾ç½®é«˜åº¦\" class=\"headerlink\" title=\"1.2 åŠ è½½æ•°æ®æ—¶å€™è®¾ç½®é«˜åº¦\"></a>1.2 åŠ è½½æ•°æ®æ—¶å€™è®¾ç½®é«˜åº¦</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">updated() &#123;</span><br><span class=\"line\">  this.scrollHeight = this.$refs.content.scrollHeight; // åŠ è½½æ•°æ®æ—¶è®¾ç½®æ»šåŠ¨å†…å®¹é«˜</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n<h3 id=\"1-3-ç¦»å¼€é¡µé¢é”€æ¯ç›‘å¬ç»„ä»¶\"><a href=\"#1-3-ç¦»å¼€é¡µé¢é”€æ¯ç›‘å¬ç»„ä»¶\" class=\"headerlink\" title=\"1.3 ç¦»å¼€é¡µé¢é”€æ¯ç›‘å¬ç»„ä»¶\"></a>1.3 ç¦»å¼€é¡µé¢é”€æ¯ç›‘å¬ç»„ä»¶</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">beforeDestroy() &#123;</span><br><span class=\"line\">  this.destroyScroll()</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n<h3 id=\"1-3-watch-ç›‘å¬ï¼Œæ»‘åŠ¨åˆ°é¡¶éƒ¨äº‹ä»¶\"><a href=\"#1-3-watch-ç›‘å¬ï¼Œæ»‘åŠ¨åˆ°é¡¶éƒ¨äº‹ä»¶\" class=\"headerlink\" title=\"1.3 watch ç›‘å¬ï¼Œæ»‘åŠ¨åˆ°é¡¶éƒ¨äº‹ä»¶\"></a>1.3 watch ç›‘å¬ï¼Œæ»‘åŠ¨åˆ°é¡¶éƒ¨äº‹ä»¶</h3>   <figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">watch: &#123;</span><br><span class=\"line\">  scrollHeight: function(newHeight,oldHeight)&#123; // åŠ è½½æ•°æ®æ—¶è®¾ç½®æ»šåŠ¨æ¡</span><br><span class=\"line\">    if(this.scrollTop === 0)&#123; // scrollTop ä¸º0æ—¶è¯´æ˜æ—¶ä¸‹æ‹‰åŠ è½½æ“ä½œ</span><br><span class=\"line\">      this.$refs.content.scrollTop = newHeight - oldHeight;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  interlocutor: function()&#123;</span><br><span class=\"line\">    this.scrollToBottom();  // æ»šåŠ¨æ¡è‡³åº•</span><br><span class=\"line\">    this.listenerScroll();  // é‡ç°æŒ‚è½½ç›‘å¬</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  loadingStatus: function(newStatus,oldStatus) &#123; // åŠ è½½å®Œå…¨éƒ¨æ•°æ®æ—¶ç§»é™¤æ»šåŠ¨æ¡ç›‘å¬</span><br><span class=\"line\">    if(newStatus === 2)&#123;</span><br><span class=\"line\">      this.destroyScroll();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n<h3 id=\"1-4-ç›‘å¬-æ»‘åŠ¨-æ»šåŠ¨äº‹ä»¶\"><a href=\"#1-4-ç›‘å¬-æ»‘åŠ¨-æ»šåŠ¨äº‹ä»¶\" class=\"headerlink\" title=\"1.4  ç›‘å¬ æ»‘åŠ¨ æ»šåŠ¨äº‹ä»¶\"></a>1.4  ç›‘å¬ æ»‘åŠ¨ æ»šåŠ¨äº‹ä»¶</h3>  <figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">methods: &#123;</span><br><span class=\"line\">  // æ»šåŠ¨ç›‘å¬å¤„ç†</span><br><span class=\"line\">  handleScroll(e)&#123;</span><br><span class=\"line\">    this.scrollTop = e.srcElement.scrollTop; // è·ç¦»é¡¶éƒ¨</span><br><span class=\"line\">    this.scrollHeight = e.srcElement.scrollHeight; // æ»šåŠ¨å†…å®¹é«˜</span><br><span class=\"line\">    this.clientHeight = e.srcElement.clientHeight; // æ»šåŠ¨åŒºåŸŸé«˜</span><br><span class=\"line\">    if(this.scrollTop ===  0) &#123; // æ»šåŠ¨è§¦é¡¶è°ƒç”¨</span><br><span class=\"line\">      this.$emit(&#x27;onTouchTop&#x27;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    if(this.scrollHeight === this.scrollTop + this.clientHeight)&#123; // æ»šåŠ¨è§¦åº•è°ƒç”¨</span><br><span class=\"line\">      this.$emit(&#x27;onTouchBottom&#x27;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  // æ·»åŠ æ»šåŠ¨ç›‘å¬äº‹ä»¶</span><br><span class=\"line\">  listenerScroll() &#123;</span><br><span class=\"line\">    if(this.$refs.content.scrollTag !== 0) return;</span><br><span class=\"line\">    this.$refs.content.scrollTag++;</span><br><span class=\"line\">    this.$refs.content.addEventListener(&#x27;scroll&#x27;, this.handleScroll, true);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  // ç§»é™¤æ»šåŠ¨ç›‘å¬äº‹ä»¶</span><br><span class=\"line\">  destroyScroll() &#123;</span><br><span class=\"line\">    if(this.$refs.content.scrollTag !== 1) return;</span><br><span class=\"line\">    this.$refs.content.scrollTag--;</span><br><span class=\"line\">    this.$refs.content.removeEventListener(&quot;scroll&quot;, this.handleScroll, true);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  scrollToBottom() &#123; //æ»šåŠ¨æ¡ç½®åº•</span><br><span class=\"line\">    this.$nextTick(function()&#123;</span><br><span class=\"line\">      this.$refs.content.scrollTop</span><br><span class=\"line\">        = this.$refs.content.scrollHeight - this.$refs.content.clientHeight;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure>\n","categories":["Vue"],"tags":["Vue"]},{"title":"canvaså‹ç¼©å›¾ç‰‡","url":"/LittleWhiteRabbit/2022/04/26/canvas%E5%8E%8B%E7%BC%A9%E5%9B%BE%E7%89%87/","content":"<h1 id=\"å›¾ç‰‡ä¸Šä¼ å‹ç¼©\"><a href=\"#å›¾ç‰‡ä¸Šä¼ å‹ç¼©\" class=\"headerlink\" title=\"å›¾ç‰‡ä¸Šä¼ å‹ç¼©\"></a>å›¾ç‰‡ä¸Šä¼ å‹ç¼©</h1><p>æˆ‘ä»¬é€šå¸¸åœ¨åšå›¾ç‰‡ä¸Šä¼ çš„æ—¶å€™éƒ½ä¼šé‡ä¸Šè¿™æ ·çš„æƒ…å†µï¼Œä¸€æ˜¯åç«¯æ¥å£é™åˆ¶ä¸Šä¼ å›¾ç‰‡çš„å¤§å°ï¼Œæˆ–è€…æ˜¯å³ä½¿åç«¯æ²¡æœ‰é™åˆ¶å¤§å°ï¼Œå› ä¸ºå›¾ç‰‡å¤ªå¤§åœ¨å‰ç«¯æ¸²æŸ“æ—¶å¤ªæ…¢ï¼Œé€ æˆé¡µé¢åŠ è½½ä½“éªŒè¾ƒå·®ã€‚å› æ­¤æˆ‘ä»¬å¾ˆæœ‰å¿…è¦å¯¹ä¸Šä¼ çš„å›¾ç‰‡è¿›è¡Œå‹ç¼©ã€‚</p>\n<p>æœ¬æ–‡ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹æµç¨‹ï¼š</p>\n<ul>\n<li>ç”¨æˆ·é€šè¿‡ <code>input</code> æ¡†é€‰æ‹©å›¾ç‰‡</li>\n<li>ä½¿ç”¨ <code>FileReader</code> è¿›è¡Œå›¾ç‰‡é¢„è§ˆ</li>\n<li>å°†å›¾ç‰‡ç»˜åˆ¶åˆ° <code>canvas</code> ç”»å¸ƒä¸Š</li>\n<li>ä½¿ç”¨ <code>canvas</code> ç”»å¸ƒçš„èƒ½åŠ›è¿›è¡Œå›¾ç‰‡å‹ç¼©</li>\n<li>å°†å‹ç¼©åçš„ <code>Base64(DataURL)</code> æ ¼å¼çš„æ•°æ®è½¬æ¢æˆ <code>Blob</code> å¯¹è±¡è¿›è¡Œä¸Šä¼ <span id=\"more\"></span>\n<h3 id=\"Input-æ ‡ç­¾æ¥è·å–å›¾ç‰‡\"><a href=\"#Input-æ ‡ç­¾æ¥è·å–å›¾ç‰‡\" class=\"headerlink\" title=\"Input æ ‡ç­¾æ¥è·å–å›¾ç‰‡\"></a>Input æ ‡ç­¾æ¥è·å–å›¾ç‰‡</h3></li>\n</ul>\n<p>é€šè¿‡è®¾ç½® <code>input</code> æ ‡ç­¾çš„ <code>type</code> å±æ€§ä¸º <code>file</code>ï¼Œæ¥è®©ç”¨æˆ·å¯ä»¥é€‰æ‹©æ–‡ä»¶ï¼Œè®¾ç½® <code>accept</code> é™åˆ¶é€‰æ‹©çš„æ–‡ä»¶ç±»å‹ï¼Œç»‘å®š <code>onchange</code> äº‹ä»¶ï¼Œæ¥è·å–ç¡®è®¤é€‰æ‹©åçš„æ–‡ä»¶</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;input type=<span class=\"string\">&quot;file&quot;</span> accept=<span class=\"string\">&quot;image/*&quot;</span> onchange=<span class=\"string\">&quot;loadFile(event)&quot;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"FileReader\"><a href=\"#FileReader\" class=\"headerlink\" title=\"FileReader\"></a>FileReader</h3><p><code>FileReader</code> æ˜¯ä»€ä¹ˆï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹å®˜æ–¹æ–‡æ¡£çš„ä»‹ç»</p>\n<blockquote>\n<p>FileReader å¯¹è±¡å…è®¸ Web åº”ç”¨ç¨‹åºå¼‚æ­¥è¯»å–å­˜å‚¨åœ¨ç”¨æˆ·è®¡ç®—æœºä¸Šçš„æ–‡ä»¶ï¼ˆæˆ–åŸå§‹æ•°æ®ç¼“å†²åŒºï¼‰çš„å†…å®¹ï¼Œä½¿ç”¨ File æˆ– Blob å¯¹è±¡æŒ‡å®šè¦è¯»å–çš„æ–‡ä»¶æˆ–æ•°æ®ã€‚</p>\n</blockquote>\n<p><code>FileReader</code> å¸¸ç”¨çš„ä¸¤ä¸ªæ–¹æ³•å¦‚ä¸‹ï¼š</p>\n<ul>\n<li><code>FileReader.onload</code>:å¤„ç† <code>load</code> äº‹ä»¶ã€‚å³è¯¥é’©å­åœ¨è¯»å–æ“ä½œå®Œæˆæ—¶è§¦å‘ï¼Œé€šè¿‡è¯¥é’©å­å‡½æ•°å¯ä»¥å®Œæˆä¾‹å¦‚è¯»å–å®Œå›¾ç‰‡åè¿›è¡Œé¢„è§ˆçš„æ“ä½œï¼Œæˆ–è¯»å–å®Œå›¾ç‰‡åå¯¹å›¾ç‰‡å†…å®¹è¿›è¡ŒäºŒæ¬¡å¤„ç†ç­‰æ“ä½œã€‚</li>\n<li><code>FileReader.readAsDataURL</code>ï¼šè¯»å–æ–¹æ³•ï¼Œå¹¶ä¸”è¯»å–å®Œæˆåï¼Œ<code>result</code> å±æ€§å°†è¿”å› <code>Data URL</code> æ ¼å¼ï¼ˆBase64 ç¼–ç ï¼‰çš„å­—ç¬¦ä¸²ï¼Œä»£è¡¨å›¾ç‰‡å†…å®¹ã€‚</li>\n</ul>\n<p>åœ¨å›¾ç‰‡ä¸Šä¼ ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>readAsDataURL()</code> æ–¹æ³•è¿›è¡Œäº†æ–‡ä»¶çš„è¯»å–ï¼Œå¹¶ä¸”é€šè¿‡ <code>result</code> å±æ€§æ‹¿åˆ°äº†å›¾ç‰‡çš„ <code>Base64(DataURL)</code> æ ¼å¼çš„æ•°æ®ï¼Œç„¶åé€šè¿‡è¯¥æ•°æ®å®ç°äº†å›¾ç‰‡é¢„è§ˆçš„åŠŸèƒ½</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;container&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;file&quot;</span> <span class=\"attr\">accept</span>=<span class=\"string\">&quot;image/*&quot;</span> <span class=\"attr\">onchange</span>=<span class=\"string\">&quot;loadFile(event)&quot;</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"keyword\">const</span> loadFile = <span class=\"keyword\">function</span> (<span class=\"params\">event</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">let</span> file =  event.<span class=\"property\">target</span>.<span class=\"property\">files</span>[<span class=\"number\">0</span>]</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> reader = <span class=\"keyword\">new</span> <span class=\"title class_\">FileReader</span>()</span></span><br><span class=\"line\"><span class=\"language-javascript\">    reader.<span class=\"property\">onload</span> = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(reader.<span class=\"property\">result</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">      ...</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    reader.<span class=\"title function_\">readAsDataURL</span>(file)</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"canvas-å‹ç¼©å›¾ç‰‡\"><a href=\"#canvas-å‹ç¼©å›¾ç‰‡\" class=\"headerlink\" title=\"canvas å‹ç¼©å›¾ç‰‡\"></a>canvas å‹ç¼©å›¾ç‰‡</h3><p>è¿™æ˜¯å›¾ç‰‡ä¸Šä¼ å‹ç¼©çš„æ ¸å¿ƒæ‰€åœ¨ï¼Œæˆ‘ä»¬å…ˆä½¿ç”¨ <code>CanvasRenderingContext2D.drawImage()</code> æ–¹æ³•å°†ä¸Šä¼ çš„å›¾ç‰‡æ–‡ä»¶åœ¨ç”»å¸ƒä¸Šç»˜åˆ¶å‡ºæ¥ï¼Œå†ä½¿ç”¨ <code>Canvas.toDataURL()</code> å°†ç”»å¸ƒä¸Šçš„å›¾ç‰‡ä¿¡æ¯è½¬æ¢æˆ <code>base64(DataURL)</code> æ ¼å¼çš„æ•°æ®ã€‚</p>\n<p><code>drawImage()</code> æ–¹æ³•åœ¨ç”»å¸ƒä¸Šç»˜åˆ¶å›¾åƒã€ç”»å¸ƒæˆ–è§†é¢‘ã€‚<code>drawImage()</code> æ–¹æ³•ä¹Ÿèƒ½å¤Ÿç»˜åˆ¶å›¾åƒçš„æŸäº›éƒ¨åˆ†ï¼Œä»¥åŠ&#x2F;æˆ–è€…å¢åŠ æˆ–å‡å°‘å›¾åƒçš„å°ºå¯¸ã€‚å‚æ•°å¦‚ä¸‹</p>\n<ul>\n<li>img è§„å®šè¦ä½¿ç”¨çš„å›¾åƒã€ç”»å¸ƒæˆ–è§†é¢‘ã€‚</li>\n<li>sx å¯é€‰ã€‚å¼€å§‹å‰ªåˆ‡çš„ x åæ ‡ä½ç½®ã€‚</li>\n<li>sy å¯é€‰ã€‚å¼€å§‹å‰ªåˆ‡çš„ y åæ ‡ä½ç½®ã€‚</li>\n<li>swidth å¯é€‰ã€‚è¢«å‰ªåˆ‡å›¾åƒçš„å®½åº¦ã€‚</li>\n<li>sheight å¯é€‰ã€‚è¢«å‰ªåˆ‡å›¾åƒçš„é«˜åº¦ã€‚</li>\n<li>x åœ¨ç”»å¸ƒä¸Šæ”¾ç½®å›¾åƒçš„ x åæ ‡ä½ç½®ã€‚</li>\n<li>y åœ¨ç”»å¸ƒä¸Šæ”¾ç½®å›¾åƒçš„ y åæ ‡ä½ç½®ã€‚</li>\n<li>width å¯é€‰ã€‚è¦ä½¿ç”¨çš„å›¾åƒçš„å®½åº¦ã€‚ï¼ˆä¼¸å±•æˆ–ç¼©å°å›¾åƒï¼‰</li>\n<li>height å¯é€‰ã€‚è¦ä½¿ç”¨çš„å›¾åƒçš„é«˜åº¦ã€‚ï¼ˆä¼¸å±•æˆ–ç¼©å°å›¾åƒï¼‰</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> cas = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;canvas&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">var</span> ctx = cas.<span class=\"title function_\">getContext</span>(<span class=\"string\">&#x27;2d&#x27;</span>)</span><br><span class=\"line\"><span class=\"comment\">// å…ˆåˆ›å»ºå›¾ç‰‡å¯¹è±¡</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> img = <span class=\"keyword\">new</span> <span class=\"title class_\">Image</span>()</span><br><span class=\"line\">img.<span class=\"property\">src</span> = <span class=\"string\">&#x27;./images/1.jpg&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å›¾ç‰‡åŠ è½½å®Œä¹‹å</span></span><br><span class=\"line\">img.<span class=\"property\">onload</span> = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  ctx.<span class=\"title function_\">drawImage</span>(img, <span class=\"number\">206</span>, <span class=\"number\">111</span>, <span class=\"number\">32</span>, <span class=\"number\">38</span>, <span class=\"number\">100</span>, <span class=\"number\">100</span>, <span class=\"number\">32</span>, <span class=\"number\">38</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"Canvas-toDataURl\"><a href=\"#Canvas-toDataURl\" class=\"headerlink\" title=\"Canvas.toDataURl()\"></a>Canvas.toDataURl()</h4><p><code>Canvas.toDataURl()</code> æ–¹æ³•å¯ä»¥å°† <code>canvas</code> ç”»å¸ƒä¸Šçš„ä¿¡æ¯è½¬æ¢ä¸º <code>base64(DataURL)</code> æ ¼å¼çš„å›¾åƒä¿¡æ¯ï¼Œçº¯å­—ç¬¦çš„å›¾ç‰‡è¡¨ç¤ºå½¢å¼ã€‚è¯¥æ–¹æ³•æ¥æ”¶ 2 ä¸ªå‚æ•°ï¼š</p>\n<ul>\n<li><code>mimeType</code>(å¯é€‰): è¡¨ç¤ºéœ€è¦è½¬æ¢çš„å›¾åƒçš„ <code>mimeType</code> ç±»å‹ã€‚é»˜è®¤å€¼æ˜¯ <code>image/png</code>ï¼Œè¿˜å¯ä»¥æ˜¯ <code>image/jpeg</code>ï¼Œ <code>image/webp</code> ç­‰ã€‚</li>\n<li><code>quailty</code>(å¯é€‰)ï¼šquality è¡¨ç¤ºè½¬æ¢çš„å›¾ç‰‡è´¨é‡ã€‚èŒƒå›´æ˜¯ 0 åˆ° 1ã€‚å›¾ç‰‡çš„ <code>mimeType</code> éœ€è¦æ˜¯ <code>image/jpeg</code> æˆ–è€… <code>image/webp</code>ï¼Œå…¶ä»– <code>mimeType</code> å€¼æ— æ•ˆã€‚é»˜è®¤å‹ç¼©è´¨é‡æ˜¯ 0.92ã€‚</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> canvas = <span class=\"variable language_\">document</span>.<span class=\"title function_\">createElement</span>(<span class=\"string\">&#x27;canvas&#x27;</span>)</span><br><span class=\"line\">canvas.<span class=\"title function_\">toDataURL</span>(<span class=\"string\">&quot;image/jpeg&quot;</span> <span class=\"number\">0.8</span>)</span><br></pre></td></tr></table></figure>\n\n<p>åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å…ˆæ¥ä¸Š canvas å‹ç¼©å›¾ç‰‡çš„ä»£ç </p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">compress</span>(<span class=\"params\">base64, quality, mimeType</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> canvas = <span class=\"variable language_\">document</span>.<span class=\"title function_\">createElement</span>(<span class=\"string\">&#x27;canvas&#x27;</span>)</span><br><span class=\"line\">  <span class=\"keyword\">let</span> img = <span class=\"variable language_\">document</span>.<span class=\"title function_\">createElement</span>(<span class=\"string\">&#x27;img&#x27;</span>)</span><br><span class=\"line\">  img.<span class=\"property\">crossOrigin</span> = <span class=\"string\">&#x27;anonymous&#x27;</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    img.<span class=\"property\">src</span> = base64</span><br><span class=\"line\">    img.<span class=\"property\">onload</span> = <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> targetWidth, targetHeight</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (img.<span class=\"property\">width</span> &gt; <span class=\"variable constant_\">MAX_WIDTH</span>) &#123;</span><br><span class=\"line\">        targetWidth = <span class=\"variable constant_\">MAX_WIDTH</span></span><br><span class=\"line\">        targetHeight = (img.<span class=\"property\">height</span> * <span class=\"variable constant_\">MAX_WIDTH</span>) / img.<span class=\"property\">width</span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        targetWidth = img.<span class=\"property\">width</span></span><br><span class=\"line\">        targetHeight = img.<span class=\"property\">height</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      canvas.<span class=\"property\">width</span> = targetWidth</span><br><span class=\"line\">      canvas.<span class=\"property\">height</span> = targetHeight</span><br><span class=\"line\">      <span class=\"keyword\">let</span> ctx = canvas.<span class=\"title function_\">getContext</span>(<span class=\"string\">&#x27;2d&#x27;</span>)</span><br><span class=\"line\">      ctx.<span class=\"title function_\">clearRect</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>, targetWidth, targetHeight) <span class=\"comment\">// æ¸…é™¤ç”»å¸ƒ</span></span><br><span class=\"line\">      ctx.<span class=\"title function_\">drawImage</span>(img, <span class=\"number\">0</span>, <span class=\"number\">0</span>, canvas.<span class=\"property\">width</span>, canvas.<span class=\"property\">height</span>)</span><br><span class=\"line\">      <span class=\"keyword\">let</span> imageData = canvas.<span class=\"title function_\">toDataURL</span>(mimeType, quality / <span class=\"number\">100</span>)</span><br><span class=\"line\">      <span class=\"title function_\">resolve</span>(imageData)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å°†-base64-è½¬åŒ–ä¸ºæ–‡ä»¶\"><a href=\"#å°†-base64-è½¬åŒ–ä¸ºæ–‡ä»¶\" class=\"headerlink\" title=\"å°† base64 è½¬åŒ–ä¸ºæ–‡ä»¶\"></a>å°† base64 è½¬åŒ–ä¸ºæ–‡ä»¶</h3><ul>\n<li>é€šè¿‡ <code>window.atob</code> å°† <code>base-64</code> å­—ç¬¦ä¸²è§£ç ä¸º <code>binaryString</code>ï¼ˆäºŒè¿›åˆ¶æ–‡æœ¬ï¼‰ï¼›</li>\n<li>å°† <code>binaryString</code> æ„é€ ä¸º <code>multipart/form-data</code> æ ¼å¼ï¼›</li>\n<li>ç”¨ <code>Uint8Array</code> å°† <code>multipart</code> æ ¼å¼çš„äºŒè¿›åˆ¶æ–‡æœ¬è½¬æ¢ä¸º <code>ArrayBuffer</code>ã€‚</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">dataUrlToBlob</span>(<span class=\"params\">base64, mimeType</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> bytes = <span class=\"variable language_\">window</span>.<span class=\"title function_\">atob</span>(base64.<span class=\"title function_\">split</span>(<span class=\"string\">&#x27;,&#x27;</span>)[<span class=\"number\">1</span>])</span><br><span class=\"line\">  <span class=\"keyword\">let</span> ab = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayBuffer</span>(bytes.<span class=\"property\">length</span>)</span><br><span class=\"line\">  <span class=\"keyword\">let</span> ia = <span class=\"keyword\">new</span> <span class=\"title class_\">Uint8Array</span>(ab)</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; bytes.<span class=\"property\">length</span>; i++) &#123;</span><br><span class=\"line\">    ia[i] = bytes.<span class=\"title function_\">charCodeAt</span>(i)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Blob</span>([ab], &#123; <span class=\"attr\">type</span>: mimeType &#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å°†å›¾ç‰‡ä¸Šä¼ åˆ°æœåŠ¡ç«¯\"><a href=\"#å°†å›¾ç‰‡ä¸Šä¼ åˆ°æœåŠ¡ç«¯\" class=\"headerlink\" title=\"å°†å›¾ç‰‡ä¸Šä¼ åˆ°æœåŠ¡ç«¯\"></a>å°†å›¾ç‰‡ä¸Šä¼ åˆ°æœåŠ¡ç«¯</h3><ul>\n<li>åˆ›å»ºä¸€ä¸ª <code>FormData</code>ï¼ŒæŠŠ <code>blob</code> append åˆ° <code>FormData</code> é‡Œé¢</li>\n<li>è¯·æ±‚æœåŠ¡ç«¯æ¥å£ï¼Œæäº¤å›¾ç‰‡</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">uploadFile</span>(<span class=\"params\">url, blob</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> formData = <span class=\"keyword\">new</span> <span class=\"title class_\">FormData</span>()</span><br><span class=\"line\">  <span class=\"keyword\">let</span> request = <span class=\"keyword\">new</span> <span class=\"title class_\">XMLHttpRequest</span>()</span><br><span class=\"line\">  formData.<span class=\"title function_\">append</span>(<span class=\"string\">&#x27;image&#x27;</span>, blob)</span><br><span class=\"line\">  request.<span class=\"title function_\">open</span>(<span class=\"string\">&#x27;POST&#x27;</span>, url, <span class=\"literal\">true</span>)</span><br><span class=\"line\">  request.<span class=\"title function_\">send</span>(formData)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>psï¼šåœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬è¦ä¸è¦æŠŠå›¾ç‰‡è½¬åŒ–ä¸º <code>FormData</code> å½¢å¼ä¸Šä¼ åˆ°æœåŠ¡ç«¯ï¼Œè¿™å°±çœ‹å…·ä½“çš„ä¸šåŠ¡éœ€è¦äº†ã€‚æˆ‘ä»¬å¯ä»¥ä¸Šå›¾ç‰‡ä¸Šä¼ åˆ°è…¾è®¯äº‘ï¼Œç›´æ¥è¿”å›ä¸€ä¸ª<code>&#39;https.xxx.jgp&#39;</code>çš„å›¾ç‰‡ url ç”¨äºä¸Šä¼ ã€‚</p>\n"},{"title":"canvasåŸºç¡€","url":"/LittleWhiteRabbit/2022/04/26/canvas%E5%9F%BA%E7%A1%80/","content":"<h1 id=\"Canvas\"><a href=\"#Canvas\" class=\"headerlink\" title=\"Canvas\"></a>Canvas</h1><p>Canvas æ˜¯ HTML5 æä¾›çš„ä¸€ä¸ªç”¨äºå±•ç¤ºç»˜å›¾æ•ˆæœçš„æ ‡ç­¾. Canvas åŸæ„ä¸ºç”»å¸ƒ, åœ¨ HTML é¡µé¢ä¸­ç”¨äºå±•ç¤ºç»˜å›¾æ•ˆæœ. æœ€æ—© canvas æ˜¯è‹¹æœæå‡ºçš„ä¸€ä¸ªæ–¹æ¡ˆ, ä»Šå¤©å·²ç»åœ¨å¤§å¤šæ•°æµè§ˆå™¨ä¸­å®ç°ã€‚</p>\n<span id=\"more\"></span>\n<p>canvas çš„ä½¿ç”¨é¢†åŸŸ</p>\n<ul>\n<li>æ¸¸æˆ</li>\n<li>å¤§æ•°æ®å¯è§†åŒ–æ•°æ®</li>\n<li>banner å¹¿å‘Š</li>\n<li>å¤šåª’ä½“</li>\n<li>æ¨¡æ‹Ÿä»¿çœŸ</li>\n<li>è¿œç¨‹æ“ä½œ</li>\n<li>å›¾å½¢ç¼–è¾‘</li>\n</ul>\n<p>åˆ¤æ–­æµè§ˆå™¨æ˜¯å¦æ”¯æŒ canvas æ ‡ç­¾</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> canvas = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;canvas&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">if</span> (canvas.<span class=\"property\">getContext</span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;ä½ çš„æµè§ˆå™¨æ”¯æŒCanvas!&#x27;</span>)</span><br><span class=\"line\">&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;ä½ çš„æµè§ˆå™¨ä¸æ”¯æŒCanvas!&#x27;</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"canvas-çš„åŸºæœ¬ç”¨æ³•\"><a href=\"#canvas-çš„åŸºæœ¬ç”¨æ³•\" class=\"headerlink\" title=\"canvas çš„åŸºæœ¬ç”¨æ³•\"></a>canvas çš„åŸºæœ¬ç”¨æ³•</h3><p>1ã€ä½¿ç”¨ canvas æ ‡ç­¾, å³å¯åœ¨é¡µé¢ä¸­å¼€è¾Ÿä¸€æ ¼åŒºåŸŸï¼Œå¯ä»¥è®¾ç½®å…¶å®½é«˜ï¼Œå®½é«˜ä¸º 300 å’Œ 150</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">canvas</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">canvas</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>2ã€è·å– dom å…ƒç´  canvas</p>\n<p>canvas æœ¬èº«ä¸èƒ½ç»˜å›¾. æ˜¯ä½¿ç”¨ JavaScript æ¥å®Œæˆç»˜å›¾. canvas å¯¹è±¡æä¾›äº†å„ç§ç»˜å›¾ç”¨çš„ apiã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> cas = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;canvas&#x27;</span>)</span><br></pre></td></tr></table></figure>\n\n<p>3ã€é€šè¿‡ cas è·å–ä¸Šä¸‹æ–‡å¯¹è±¡(ç”»å¸ƒå¯¹è±¡!)</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> ctx = cas.<span class=\"title function_\">getContext</span>(<span class=\"string\">&#x27;2d&#x27;</span>)</span><br></pre></td></tr></table></figure>\n\n<p>4ã€é€šè¿‡ ctx å¼€å§‹ç”»ç”»ï¼ˆè®¾ç½®èµ·ç‚¹ è®¾ç½®ç»ˆç‚¹ è¿çº¿-æè¾¹ ï¼‰</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">ctx.<span class=\"title function_\">moveTo</span>(<span class=\"number\">10</span>, <span class=\"number\">10</span>)</span><br><span class=\"line\">ctx.<span class=\"title function_\">lineTo</span>(<span class=\"number\">100</span>, <span class=\"number\">100</span>)</span><br><span class=\"line\">ctx.<span class=\"title function_\">stroke</span>()</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ç»˜åˆ¶çº¿æ¡\"><a href=\"#ç»˜åˆ¶çº¿æ¡\" class=\"headerlink\" title=\"ç»˜åˆ¶çº¿æ¡\"></a>ç»˜åˆ¶çº¿æ¡</h3><ul>\n<li>è®¾ç½®å¼€å§‹ä½ç½®: context.moveTo( x, y ).</li>\n<li>è®¾ç½®ç»ˆç‚¹ä½ç½®: context.lineTo( x, y ).</li>\n<li>æè¾¹ç»˜åˆ¶: context.stroke().</li>\n<li>å¡«å……ç»˜åˆ¶: context.fill().</li>\n<li>é—­åˆè·¯å¾„: context.closePath().</li>\n</ul>\n<p>canvas è¿˜å¯ä»¥è®¾ç½®çº¿æ¡çš„ç›¸å…³å±æ€§ï¼Œå¦‚ä¸‹ï¼š</p>\n<ul>\n<li>CanvasRenderingContext2D.lineWidth è®¾ç½®çº¿å®½.</li>\n<li>CanvasRenderingContext2D.strokeStyle è®¾ç½®çº¿æ¡é¢œè‰².</li>\n<li>CanvasRenderingContext2D.lineCap è®¾ç½®çº¿æœ«ç«¯ç±»å‹ï¼Œâ€™buttâ€™( é»˜è®¤ ), â€˜roundâ€™, â€˜squareâ€™.</li>\n<li>CanvasRenderingContext2D.lineJoin è®¾ç½®ç›¸äº¤çº¿çš„æ‹ç‚¹ï¼Œ â€˜miterâ€™(é»˜è®¤)ï¼Œâ€™roundâ€™, â€˜bevelâ€™,</li>\n<li>CanvasRenderingContext2D.getLineDash() è·å¾—çº¿æ®µæ ·å¼æ•°ç»„.</li>\n<li>CanvasRenderingContext2D.setLineDash() è®¾ç½®çº¿æ®µæ ·å¼.</li>\n<li>CanvasRenderingContext2D.lineDashOffset ç»˜åˆ¶çº¿æ®µåç§»é‡.</li>\n</ul>\n<p>å°è£…ä¸€ä¸ªç”»çŸ©å½¢çš„æ–¹æ³•</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">myRect</span>(<span class=\"params\">ctxTmp, x, y, w, h</span>) &#123;</span><br><span class=\"line\">  ctxTmp.<span class=\"title function_\">moveTo</span>(x, y)</span><br><span class=\"line\">  ctxTmp.<span class=\"title function_\">lineTo</span>(x + w, y)</span><br><span class=\"line\">  ctxTmp.<span class=\"title function_\">lineTo</span>(x + w, y + h)</span><br><span class=\"line\">  ctxTmp.<span class=\"title function_\">lineTo</span>(x, y + h)</span><br><span class=\"line\">  ctxTmp.<span class=\"title function_\">lineTo</span>(x, y)</span><br><span class=\"line\">  ctxTmp.<span class=\"title function_\">stroke</span>()</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> cas = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;canvas&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">var</span> ctx = cas.<span class=\"title function_\">getContext</span>(<span class=\"string\">&#x27;2d&#x27;</span>)</span><br><span class=\"line\"><span class=\"title function_\">myRect</span>(ctx, <span class=\"number\">50</span>, <span class=\"number\">50</span>, <span class=\"number\">200</span>, <span class=\"number\">200</span>)</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ç»˜åˆ¶çŸ©å½¢\"><a href=\"#ç»˜åˆ¶çŸ©å½¢\" class=\"headerlink\" title=\"ç»˜åˆ¶çŸ©å½¢\"></a>ç»˜åˆ¶çŸ©å½¢</h3><ul>\n<li>fillRect( x , y , width , height) å¡«å……ä»¥(x,y)ä¸ºèµ·ç‚¹å®½é«˜åˆ†åˆ«ä¸º widthã€height çš„çŸ©å½¢ é»˜è®¤ä¸ºé»‘è‰²</li>\n<li>stokeRect( x , y , width , height) ç»˜åˆ¶ä¸€ä¸ªç©ºå¿ƒä»¥(x,y)ä¸ºèµ·ç‚¹å®½é«˜åˆ†åˆ«ä¸º widthã€height çš„çŸ©å½¢</li>\n<li>clearRect( x, y , width , height ) æ¸…é™¤ä»¥(x,y)ä¸ºèµ·ç‚¹å®½é«˜åˆ†åˆ«ä¸º widthã€height çš„çŸ©å½¢ ä¸ºé€æ˜</li>\n</ul>\n<h3 id=\"ç»˜åˆ¶åœ†å¼§\"><a href=\"#ç»˜åˆ¶åœ†å¼§\" class=\"headerlink\" title=\"ç»˜åˆ¶åœ†å¼§\"></a>ç»˜åˆ¶åœ†å¼§</h3><p>ç»˜åˆ¶åœ†å¼§çš„æ–¹æ³•æœ‰</p>\n<ul>\n<li>CanvasRenderingContext2D.arc()</li>\n<li>CanvasRenderingContext2D.arcTo()</li>\n</ul>\n<p>6 ä¸ªå‚æ•°: xï¼Œy(åœ†å¿ƒçš„åæ ‡)ï¼ŒåŠå¾„ï¼Œèµ·å§‹çš„å¼§åº¦(ä¸æ˜¯è§’åº¦ deg)ï¼Œç»“æŸçš„å¼§åº¦ï¼Œ(bool è®¾ç½®æ–¹å‘ ! )</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> cas = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;canvas&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">var</span> ctx = cas.<span class=\"title function_\">getContext</span>(<span class=\"string\">&#x27;2d&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">ctx.<span class=\"title function_\">arc</span>(<span class=\"number\">100</span>, <span class=\"number\">100</span>, <span class=\"number\">100</span>, <span class=\"number\">0</span>, <span class=\"title function_\">degToArc</span>(<span class=\"number\">360</span>))</span><br><span class=\"line\">ctx.<span class=\"title function_\">stroke</span>()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è§’åº¦è½¬å¼§åº¦</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">degToArc</span>(<span class=\"params\">num</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> (<span class=\"title class_\">Math</span>.<span class=\"property\">PI</span> / <span class=\"number\">180</span>) * num</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ç»˜åˆ¶æ‰‡å½¢\"><a href=\"#ç»˜åˆ¶æ‰‡å½¢\" class=\"headerlink\" title=\"ç»˜åˆ¶æ‰‡å½¢\"></a>ç»˜åˆ¶æ‰‡å½¢</h3><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> cas = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;canvas&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">var</span> ctx = cas.<span class=\"title function_\">getContext</span>(<span class=\"string\">&#x27;2d&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">ctx.<span class=\"title function_\">arc</span>(<span class=\"number\">300</span>, <span class=\"number\">300</span>, <span class=\"number\">200</span>, <span class=\"title function_\">degToArc</span>(<span class=\"number\">125</span>), <span class=\"title function_\">degToArc</span>(<span class=\"number\">300</span>))</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è‡ªåŠ¨è¿å›åŸç‚¹</span></span><br><span class=\"line\">ctx.<span class=\"title function_\">closePath</span>()</span><br><span class=\"line\">ctx.<span class=\"title function_\">stroke</span>()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">degToArc</span>(<span class=\"params\">num</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> (<span class=\"title class_\">Math</span>.<span class=\"property\">PI</span> / <span class=\"number\">180</span>) * num</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"åˆ¶ä½œç”»ç¬”\"><a href=\"#åˆ¶ä½œç”»ç¬”\" class=\"headerlink\" title=\"åˆ¶ä½œç”»ç¬”\"></a>åˆ¶ä½œç”»ç¬”</h3><ol>\n<li>å£°æ˜ä¸€ä¸ªå˜é‡ä½œä¸ºæ ‡è¯†</li>\n<li>é¼ æ ‡æŒ‰ä¸‹çš„æ—¶å€™ï¼Œè®°å½•èµ·ç‚¹ä½ç½®</li>\n<li>é¼ æ ‡ç§»åŠ¨çš„æ—¶å€™ï¼Œå¼€å§‹æç»˜å¹¶è¿çº¿</li>\n<li>é¼ æ ‡æŠ¬èµ·çš„æ—¶å€™ï¼Œå…³é—­å¼€å…³</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> cas = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;canvas&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">var</span> ctx = cas.<span class=\"title function_\">getContext</span>(<span class=\"string\">&#x27;2d&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> isDraw = <span class=\"literal\">false</span></span><br><span class=\"line\"><span class=\"comment\">// é¼ æ ‡æŒ‰ä¸‹äº‹ä»¶</span></span><br><span class=\"line\">cas.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;mousedown&#x27;</span>, <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  isDraw = <span class=\"literal\">true</span></span><br><span class=\"line\">  ctx.<span class=\"title function_\">beginPath</span>()</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// é¼ æ ‡ç§»åŠ¨äº‹ä»¶</span></span><br><span class=\"line\">cas.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;mousemove&#x27;</span>, <span class=\"keyword\">function</span> (<span class=\"params\">e</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (!isDraw) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// æ²¡æœ‰æŒ‰ä¸‹</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// è·å–ç›¸å¯¹äºå®¹å™¨å†…çš„åæ ‡</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> x = e.<span class=\"property\">offsetX</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> y = e.<span class=\"property\">offsetY</span></span><br><span class=\"line\">  ctx.<span class=\"title function_\">lineTo</span>(x, y)</span><br><span class=\"line\">  ctx.<span class=\"title function_\">stroke</span>()</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">cas.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;mouseup&#x27;</span>, <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// å…³é—­å¼€å…³äº†!</span></span><br><span class=\"line\">  isDraw = <span class=\"literal\">false</span></span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ‰‹åŠ¨æ¶‚æ“¦\"><a href=\"#æ‰‹åŠ¨æ¶‚æ“¦\" class=\"headerlink\" title=\"æ‰‹åŠ¨æ¶‚æ“¦\"></a>æ‰‹åŠ¨æ¶‚æ“¦</h3><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> cas = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;canvas&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">var</span> ctx = cas.<span class=\"title function_\">getContext</span>(<span class=\"string\">&#x27;2d&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">ctx.<span class=\"title function_\">fillRect</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">600</span>, <span class=\"number\">600</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å¼€å…³</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> isClear = <span class=\"literal\">false</span></span><br><span class=\"line\"></span><br><span class=\"line\">cas.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;mousedown&#x27;</span>, <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  isClear = <span class=\"literal\">true</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">cas.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;mousemove&#x27;</span>, <span class=\"keyword\">function</span> (<span class=\"params\">e</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (!isClear) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> x = e.<span class=\"property\">offsetX</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> y = e.<span class=\"property\">offsetY</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> w = <span class=\"number\">20</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> h = <span class=\"number\">20</span></span><br><span class=\"line\">  ctx.<span class=\"title function_\">clearRect</span>(x, y, w, h)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">cas.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;mouseup&#x27;</span>, <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  isClear = <span class=\"literal\">false</span></span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"åˆ®åˆ®ä¹\"><a href=\"#åˆ®åˆ®ä¹\" class=\"headerlink\" title=\"åˆ®åˆ®ä¹\"></a>åˆ®åˆ®ä¹</h3><ol>\n<li>é¦–å…ˆéœ€è¦è®¾ç½®å¥–å“å’Œç”»å¸ƒï¼Œå°†ç”»å¸ƒç½®äºå›¾ç‰‡ä¸Šæ–¹ç›–ä½ï¼Œ</li>\n<li>éšæœºè®¾ç½®ç”Ÿæˆå¥–å“ã€‚</li>\n<li>å½“æ‰‹è§¦æ‘¸ç§»åŠ¨çš„æ—¶å€™ï¼Œå¯ä»¥æ“¦é™¤éƒ¨åˆ†ç”»å¸ƒï¼Œéœ²å‡ºå¥–å“åŒºã€‚<br>html</li>\n</ol>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;./images/2.jpg&quot;</span> <span class=\"attr\">alt</span>=<span class=\"string\">&quot;&quot;</span> /&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">canvas</span> <span class=\"attr\">width</span>=<span class=\"string\">&quot;600&quot;</span> <span class=\"attr\">height</span>=<span class=\"string\">&quot;600&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">canvas</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>css</p>\n<figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">img</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">600px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">600px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">  <span class=\"attribute\">top</span>: <span class=\"number\">10%</span>;</span><br><span class=\"line\">  <span class=\"attribute\">left</span>: <span class=\"number\">30%</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-tag\">canvas</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">600px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">600px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">  <span class=\"attribute\">top</span>: <span class=\"number\">10%</span>;</span><br><span class=\"line\">  <span class=\"attribute\">left</span>: <span class=\"number\">30%</span>;</span><br><span class=\"line\">  <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid <span class=\"number\">#000</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> cas = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;canvas&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">var</span> ctx = cas.<span class=\"title function_\">getContext</span>(<span class=\"string\">&#x27;2d&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">var</span> img = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;img&#x27;</span>)</span><br><span class=\"line\"><span class=\"comment\">// åŠ ä¸€ä¸ªé®ç½©å±‚</span></span><br><span class=\"line\">ctx.<span class=\"property\">fillStyle</span> = <span class=\"string\">&#x27;#ccc&#x27;</span></span><br><span class=\"line\">ctx.<span class=\"title function_\">fillRect</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>, cas.<span class=\"property\">width</span>, cas.<span class=\"property\">height</span>)</span><br><span class=\"line\"><span class=\"title function_\">setImgUrl</span>()</span><br><span class=\"line\"><span class=\"comment\">// å¼€å…³</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> isClear = <span class=\"literal\">false</span></span><br><span class=\"line\">cas.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;mousedown&#x27;</span>, <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  isClear = <span class=\"literal\">true</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">cas.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;mousemove&#x27;</span>, <span class=\"keyword\">function</span> (<span class=\"params\">e</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (!isClear) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> x = e.<span class=\"property\">offsetX</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> y = e.<span class=\"property\">offsetY</span></span><br><span class=\"line\">  ctx.<span class=\"title function_\">clearRect</span>(x, y, <span class=\"number\">30</span>, <span class=\"number\">30</span>)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">cas.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;mouseup&#x27;</span>, <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  isClear = <span class=\"literal\">false</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">setImgUrl</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> arr = [<span class=\"string\">&#x27;./images/1.jpg&#x27;</span>, <span class=\"string\">&#x27;./images/2.jpg&#x27;</span>, <span class=\"string\">&#x27;./images/3.jpg&#x27;</span>, <span class=\"string\">&#x27;./images/4.jpg&#x27;</span>]</span><br><span class=\"line\">  <span class=\"comment\">// 0-3</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> random = <span class=\"title class_\">Math</span>.<span class=\"title function_\">round</span>(<span class=\"title class_\">Math</span>.<span class=\"title function_\">random</span>() * <span class=\"number\">3</span>)</span><br><span class=\"line\">  img.<span class=\"property\">src</span> = arr[random]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"åœ¨çº¿ç”»å›¾\"><a href=\"#åœ¨çº¿ç”»å›¾\" class=\"headerlink\" title=\"åœ¨çº¿ç”»å›¾\"></a>åœ¨çº¿ç”»å›¾</h3><p>drawImage() æ–¹æ³•åœ¨ç”»å¸ƒä¸Šç»˜åˆ¶å›¾åƒã€ç”»å¸ƒæˆ–è§†é¢‘ã€‚drawImage() æ–¹æ³•ä¹Ÿèƒ½å¤Ÿç»˜åˆ¶å›¾åƒçš„æŸäº›éƒ¨åˆ†ï¼Œä»¥åŠ&#x2F;æˆ–è€…å¢åŠ æˆ–å‡å°‘å›¾åƒçš„å°ºå¯¸ã€‚å‚æ•°å¦‚ä¸‹</p>\n<ul>\n<li>img    è§„å®šè¦ä½¿ç”¨çš„å›¾åƒã€ç”»å¸ƒæˆ–è§†é¢‘ã€‚</li>\n<li>sx    å¯é€‰ã€‚å¼€å§‹å‰ªåˆ‡çš„ x åæ ‡ä½ç½®ã€‚</li>\n<li>sy    å¯é€‰ã€‚å¼€å§‹å‰ªåˆ‡çš„ y åæ ‡ä½ç½®ã€‚</li>\n<li>swidth    å¯é€‰ã€‚è¢«å‰ªåˆ‡å›¾åƒçš„å®½åº¦ã€‚</li>\n<li>sheight    å¯é€‰ã€‚è¢«å‰ªåˆ‡å›¾åƒçš„é«˜åº¦ã€‚</li>\n<li>x    åœ¨ç”»å¸ƒä¸Šæ”¾ç½®å›¾åƒçš„ x åæ ‡ä½ç½®ã€‚</li>\n<li>y    åœ¨ç”»å¸ƒä¸Šæ”¾ç½®å›¾åƒçš„ y åæ ‡ä½ç½®ã€‚</li>\n<li>width    å¯é€‰ã€‚è¦ä½¿ç”¨çš„å›¾åƒçš„å®½åº¦ã€‚ï¼ˆä¼¸å±•æˆ–ç¼©å°å›¾åƒï¼‰</li>\n<li>height    å¯é€‰ã€‚è¦ä½¿ç”¨çš„å›¾åƒçš„é«˜åº¦ã€‚ï¼ˆä¼¸å±•æˆ–ç¼©å°å›¾åƒï¼‰</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> cas = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;canvas&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">var</span> ctx = cas.<span class=\"title function_\">getContext</span>(<span class=\"string\">&#x27;2d&#x27;</span>)</span><br><span class=\"line\"><span class=\"comment\">// å…ˆåˆ›å»ºå›¾ç‰‡å¯¹è±¡</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> img = <span class=\"keyword\">new</span> <span class=\"title class_\">Image</span>()</span><br><span class=\"line\">img.<span class=\"property\">src</span> = <span class=\"string\">&#x27;./images/1.jpg&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å›¾ç‰‡åŠ è½½å®Œä¹‹å</span></span><br><span class=\"line\">img.<span class=\"property\">onload</span> = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  ctx.<span class=\"title function_\">drawImage</span>(img, <span class=\"number\">206</span>, <span class=\"number\">111</span>, <span class=\"number\">32</span>, <span class=\"number\">38</span>, <span class=\"number\">100</span>, <span class=\"number\">100</span>, <span class=\"number\">32</span>, <span class=\"number\">38</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"è¯·ä½ è°ˆè°ˆCookieçš„å¼Šç«¯","url":"/LittleWhiteRabbit/2022/04/26/cookie/","content":"<p><strong>è¯·ä½ è°ˆè°ˆCookieçš„å¼Šç«¯</strong></p>\n<ul>\n<li><p>cookieè™½ç„¶åœ¨æŒä¹…ä¿å­˜å®¢æˆ·ç«¯æ•°æ®æä¾›äº†æ–¹ä¾¿ï¼Œåˆ†æ‹…äº†æœåŠ¡å™¨å­˜å‚¨çš„è´Ÿæ‹…ï¼Œä½†è¿˜æ˜¯æœ‰å¾ˆå¤šå±€é™æ€§çš„</p>\n</li>\n<li><p>ç¬¬ä¸€ï¼šæ¯ä¸ªç‰¹å®šçš„åŸŸåä¸‹æœ€å¤šç”Ÿæˆ20ä¸ªcookie</p>\n<span id=\"more\"></span></li>\n<li><p>1.IE6æˆ–æ›´ä½ç‰ˆæœ¬æœ€å¤š20ä¸ªcookie</p>\n</li>\n<li><p>2.IE7å’Œä¹‹åçš„ç‰ˆæœ¬æœ€åå¯ä»¥æœ‰50ä¸ªcookieã€‚</p>\n</li>\n<li><p>3.Firefoxæœ€å¤š50ä¸ªcookie</p>\n</li>\n<li><p>4.chromeå’ŒSafariæ²¡æœ‰åšç¡¬æ€§é™åˆ¶</p>\n<!--more--></li>\n</ul>\n<p><strong>è¯·ä½ è°ˆè°ˆCookieçš„å¼Šç«¯ï¼Ÿ</strong></p>\n<ul>\n<li>æ¯ä¸ªç‰¹å®šçš„åŸŸåä¸‹æœ€å¤šç”Ÿæˆçš„ cookie ä¸ªæ•°æœ‰é™åˆ¶</li>\n<li>IE å’Œ Opera ä¼šæ¸…ç†è¿‘æœŸæœ€å°‘ä½¿ç”¨çš„ cookieï¼ŒFirefox ä¼šéšæœºæ¸…ç† cookie</li>\n<li>cookie çš„æœ€å¤§å¤§çº¦ä¸º 4096 å­—èŠ‚ï¼Œä¸ºäº†å…¼å®¹æ€§ï¼Œä¸€èˆ¬è®¾ç½®ä¸è¶…è¿‡ 4095 å­—èŠ‚</li>\n<li>å¦‚æœ cookie è¢«äººæ‹¦æˆªäº†ï¼Œå°±å¯ä»¥å–å¾—æ‰€æœ‰çš„ session ä¿¡æ¯</li>\n</ul>\n"},{"title":"Hello World","url":"/LittleWhiteRabbit/2022/04/26/hello-world-hexo/","content":"<p>æ‘˜è¦</p>\n<span id=\"more\"></span>\n<p>æ­£æ–‡<br>Welcome to <a href=\"https://hexo.io/\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/server.html\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/one-command-deployment.html\">Deployment</a></p>\n","categories":["åˆ†ç±»"],"tags":["PS3","Games"]},{"title":"å¦‚ä½•è§£å†³è·¨åŸŸé—®é¢˜","url":"/LittleWhiteRabbit/2022/04/26/cross-domain/","content":"<h3 id=\"å¦‚ä½•è§£å†³è·¨åŸŸé—®é¢˜\"><a href=\"#å¦‚ä½•è§£å†³è·¨åŸŸé—®é¢˜\" class=\"headerlink\" title=\"å¦‚ä½•è§£å†³è·¨åŸŸé—®é¢˜\"></a>å¦‚ä½•è§£å†³è·¨åŸŸé—®é¢˜</h3><hr>\n<p><strong>JSONPï¼š</strong></p>\n<ul>\n<li>åŸç†æ˜¯ï¼šåŠ¨æ€æ’å…¥<code>script</code>æ ‡ç­¾ï¼Œé€šè¿‡<code>script</code>æ ‡ç­¾å¼•å…¥ä¸€ä¸ª<code>js</code>æ–‡ä»¶ï¼Œè¿™ä¸ª<code>js</code>æ–‡ä»¶è½½å…¥æˆåŠŸåä¼šæ‰§è¡Œæˆ‘ä»¬åœ¨<code>url</code>å‚æ•°ä¸­æŒ‡å®šçš„å‡½æ•°ï¼Œå¹¶ä¸”ä¼šæŠŠæˆ‘ä»¬éœ€è¦çš„<code>json</code>æ•°æ®ä½œä¸ºå‚æ•°ä¼ å…¥</li>\n<li>ç”±äºåŒæºç­–ç•¥çš„é™åˆ¶ï¼Œ<code>XmlHttpRequest</code>åªå…è®¸è¯·æ±‚å½“å‰æºï¼ˆåŸŸåã€åè®®ã€ç«¯å£ï¼‰çš„èµ„æºï¼Œä¸ºäº†å®ç°è·¨åŸŸè¯·æ±‚ï¼Œå¯ä»¥é€šè¿‡<code>script</code>æ ‡ç­¾å®ç°è·¨åŸŸè¯·æ±‚ï¼Œç„¶ååœ¨æœåŠ¡ç«¯è¾“å‡º<code>JSON</code>æ•°æ®å¹¶æ‰§è¡Œå›è°ƒå‡½æ•°ï¼Œä»è€Œè§£å†³äº†è·¨åŸŸçš„æ•°æ®è¯·æ±‚</li>\n<li>ä¼˜ç‚¹æ˜¯å…¼å®¹æ€§å¥½ï¼Œç®€å•æ˜“ç”¨ï¼Œæ”¯æŒæµè§ˆå™¨ä¸æœåŠ¡å™¨åŒå‘é€šä¿¡ã€‚ç¼ºç‚¹æ˜¯åªæ”¯æŒGETè¯·æ±‚</li>\n<li><code>JSONP</code>ï¼š<code>json+padding</code>ï¼ˆå†…å¡«å……ï¼‰ï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯æŠŠ<code>JSON</code>å¡«å……åˆ°ä¸€ä¸ªç›’å­é‡Œ<span id=\"more\"></span>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">createJs</span>(<span class=\"params\">sUrl</span>)&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">var</span> oScript = <span class=\"variable language_\">document</span>.<span class=\"title function_\">createElement</span>(<span class=\"string\">&#x27;script&#x27;</span>);</span><br><span class=\"line\">    oScript.<span class=\"property\">type</span> = <span class=\"string\">&#x27;text/javascript&#x27;</span>;</span><br><span class=\"line\">    oScript.<span class=\"property\">src</span> = sUrl;</span><br><span class=\"line\">    <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementsByTagName</span>(<span class=\"string\">&#x27;head&#x27;</span>)[<span class=\"number\">0</span>].<span class=\"title function_\">appendChild</span>(oScript);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">createJs</span>(<span class=\"string\">&#x27;jsonp.js&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">box</span>(&#123;</span><br><span class=\"line\">   <span class=\"string\">&#x27;name&#x27;</span>: <span class=\"string\">&#x27;test&#x27;</span></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">box</span>(<span class=\"params\">json</span>)&#123;</span><br><span class=\"line\">    <span class=\"title function_\">alert</span>(json.<span class=\"property\">name</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></li>\n</ul>\n<p><strong>CORS</strong></p>\n<ul>\n<li>æœåŠ¡å™¨ç«¯å¯¹äº<code>CORS</code>çš„æ”¯æŒï¼Œä¸»è¦å°±æ˜¯é€šè¿‡è®¾ç½®<code>Access-Control-Allow-Origin</code>æ¥è¿›è¡Œçš„ã€‚å¦‚æœæµè§ˆå™¨æ£€æµ‹åˆ°ç›¸åº”çš„è®¾ç½®ï¼Œå°±å¯ä»¥å…è®¸<code>Ajax</code>è¿›è¡Œè·¨åŸŸçš„è®¿é—®</li>\n</ul>\n<p><strong>é€šè¿‡ä¿®æ”¹document.domainæ¥è·¨å­åŸŸ</strong></p>\n<ul>\n<li>å°†å­åŸŸå’Œä¸»åŸŸçš„<code>document.domain</code>è®¾ä¸ºåŒä¸€ä¸ªä¸»åŸŸ.å‰ææ¡ä»¶ï¼šè¿™ä¸¤ä¸ªåŸŸåå¿…é¡»å±äºåŒä¸€ä¸ªåŸºç¡€åŸŸå!è€Œä¸”æ‰€ç”¨çš„åè®®ï¼Œç«¯å£éƒ½è¦ä¸€è‡´ï¼Œå¦åˆ™æ— æ³•åˆ©ç”¨<code>document.domain</code>è¿›è¡Œè·¨åŸŸã€‚ä¸»åŸŸç›¸åŒçš„ä½¿ç”¨<code>document.domain</code></li>\n</ul>\n<p><strong>ä½¿ç”¨window.nameæ¥è¿›è¡Œè·¨åŸŸ</strong></p>\n<ul>\n<li><code>window</code>å¯¹è±¡æœ‰ä¸ªnameå±æ€§ï¼Œè¯¥å±æ€§æœ‰ä¸ªç‰¹å¾ï¼šå³åœ¨ä¸€ä¸ªçª—å£(<code>window</code>)çš„ç”Ÿå‘½å‘¨æœŸå†…,çª—å£è½½å…¥çš„æ‰€æœ‰çš„é¡µé¢éƒ½æ˜¯å…±äº«ä¸€ä¸ª<code>window.name</code>çš„ï¼Œæ¯ä¸ªé¡µé¢å¯¹window.nameéƒ½æœ‰è¯»å†™çš„æƒé™ï¼Œ<code>window.name</code>æ˜¯æŒä¹…å­˜åœ¨ä¸€ä¸ªçª—å£è½½å…¥è¿‡çš„æ‰€æœ‰é¡µé¢ä¸­çš„</li>\n</ul>\n<p><strong>ä½¿ç”¨HTML5ä¸­æ–°å¼•è¿›çš„window.postMessageæ–¹æ³•æ¥è·¨åŸŸä¼ é€æ•°æ®</strong></p>\n<ul>\n<li>è¿˜æœ‰<code>flash</code>ã€åœ¨æœåŠ¡å™¨ä¸Šè®¾ç½®ä»£ç†é¡µé¢ç­‰è·¨åŸŸæ–¹å¼ã€‚ä¸ªäººè®¤ä¸º<code>window.name</code>çš„æ–¹æ³•æ—¢ä¸å¤æ‚ï¼Œä¹Ÿèƒ½å…¼å®¹åˆ°å‡ ä¹æ‰€æœ‰æµè§ˆå™¨ï¼Œè¿™çœŸæ˜¯æå¥½çš„ä¸€ç§è·¨åŸŸæ–¹æ³•</li>\n</ul>\n<p><strong>å¦‚ä½•è§£å†³è·¨åŸŸé—®é¢˜?</strong></p>\n<ul>\n<li><p><code>jsonp</code>ã€ <code>iframe</code>ã€<code>window.name</code>ã€<code>window.postMessage</code>ã€æœåŠ¡å™¨ä¸Šè®¾ç½®ä»£ç†é¡µé¢</p>\n</li>\n<li><p>å¦‚ä½•è§£å†³è·¨åŸŸé—®é¢˜?</p>\n<ul>\n<li><code>document.domain + iframe</code>ï¼šè¦æ±‚ä¸»åŸŸåç›¸åŒ &#x2F;&#x2F;åªèƒ½è·¨å­åŸŸ</li>\n<li><code>JSONP(JSON with Padding)``ï¼š</code>response: callback(data)&#96;&#96; &#x2F;&#x2F;åªæ”¯æŒ GET è¯·æ±‚</li>\n<li>è·¨åŸŸèµ„æºå…±äº«<code>CORS(XHR2)``ï¼š</code>Access-Control-Allow&#96; &#x2F;&#x2F;å…¼å®¹æ€§ IE10+</li>\n<li>è·¨æ–‡æ¡£æ¶ˆæ¯ä¼ è¾“(HTML5)ï¼š<code>postMessage + onmessage</code>  &#x2F;&#x2F;å…¼å®¹æ€§ IE8+</li>\n<li><code>WebSocket(HTML5)ï¼šnew WebSocket(url) + onmessage</code> &#x2F;&#x2F;å…¼å®¹æ€§ IE10+</li>\n<li>æœåŠ¡å™¨ç«¯è®¾ç½®ä»£ç†è¯·æ±‚ï¼šæœåŠ¡å™¨ç«¯ä¸å—åŒæºç­–ç•¥é™åˆ¶</li>\n</ul>\n</li>\n</ul>\n"},{"title":"JS ä½œç”¨åŸŸä¸é—­åŒ…","url":"/LittleWhiteRabbit/2022/04/26/js%E4%BD%9C%E7%94%A8%E5%9F%9F%E5%8F%8A%E9%97%AD%E5%8C%85/","content":"<h1 id=\"JS-ä½œç”¨åŸŸä¸é—­åŒ…\"><a href=\"#JS-ä½œç”¨åŸŸä¸é—­åŒ…\" class=\"headerlink\" title=\"JS ä½œç”¨åŸŸä¸é—­åŒ…\"></a>JS ä½œç”¨åŸŸä¸é—­åŒ…</h1><h3 id=\"JS-ä½œç”¨åŸŸ\"><a href=\"#JS-ä½œç”¨åŸŸ\" class=\"headerlink\" title=\"JS ä½œç”¨åŸŸ\"></a>JS ä½œç”¨åŸŸ</h3><p>Javascript å˜é‡çš„ä½œç”¨åŸŸæ— éå°±æ˜¯ä¸¤ç§ï¼š<strong>å…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡</strong>ã€‚Javascript è¯­è¨€çš„ç‰¹æ®Šä¹‹å¤„ï¼Œå°±åœ¨äºå‡½æ•°å†…éƒ¨å¯ä»¥ç›´æ¥è¯»å–å…¨å±€å˜é‡ã€‚</p>\n<h4 id=\"å…¨å±€ä½œç”¨åŸŸ-Global-Scope\"><a href=\"#å…¨å±€ä½œç”¨åŸŸ-Global-Scope\" class=\"headerlink\" title=\"å…¨å±€ä½œç”¨åŸŸ(Global Scope)\"></a>å…¨å±€ä½œç”¨åŸŸ(Global Scope)</h4><p>åœ¨ä»£ç ä¸­ä»»ä½•åœ°æ–¹éƒ½èƒ½è®¿é—®åˆ°çš„å¯¹è±¡æ‹¥æœ‰å…¨å±€ä½œç”¨åŸŸï¼Œä¸€èˆ¬æ¥è¯´ä¸€ä¸‹å‡ ç§æƒ…å½¢æ‹¥æœ‰å…¨å±€ä½œç”¨åŸŸï¼š</p>\n<ol>\n<li><p>æœ€å¤–å±‚å‡½æ•°å’Œåœ¨æœ€å¤–å±‚å‡½æ•°å¤–é¢å®šä¹‰çš„å˜é‡æ‹¥æœ‰å…¨å±€ä½œç”¨åŸŸ</p>\n<span id=\"more\"></span>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> name = <span class=\"string\">&#x27;Jack&#x27;</span> <span class=\"comment\">// å…¨å±€å®šä¹‰</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">foo</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> age = <span class=\"number\">23</span> <span class=\"comment\">// å±€éƒ¨å®šä¹‰</span></span><br><span class=\"line\">  <span class=\"keyword\">function</span> <span class=\"title function_\">inner</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// å±€éƒ¨å‡½æ•°</span></span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(age) <span class=\"comment\">//age 23</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"title function_\">inner</span>()</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(name) <span class=\"comment\">// yuan</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(age) <span class=\"comment\">// Uncaught ReferenceError: age is not definedï¼Œåœ¨å¤–éƒ¨æ²¡æœ‰è¿™ä¸ªå˜é‡</span></span><br><span class=\"line\"><span class=\"title function_\">foo</span>() <span class=\"comment\">// å†…åµŒå‡½æ•°çš„æ‰“å°23</span></span><br><span class=\"line\"><span class=\"title function_\">inner</span>() <span class=\"comment\">// Uncaught ReferenceError: inner is not defined å› ä¸ºå†…åµŒå‡½æ•°ï¼Œæ‰¾ä¸åˆ°è¿™ä¸ªå‡½æ•°</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>æ‰€æœ‰æœ«å®šä¹‰ç›´æ¥èµ‹å€¼çš„å˜é‡è‡ªåŠ¨å£°æ˜ä¸ºæ‹¥æœ‰å…¨å±€ä½œç”¨åŸŸ</p>\n</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> name = <span class=\"string\">&#x27;yuan&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">foo</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  age = <span class=\"number\">23</span> <span class=\"comment\">// å…¨å±€å®šä¹‰</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> sex = <span class=\"string\">&#x27;male&#x27;</span> <span class=\"comment\">// å±€éƒ¨å®šä¹‰</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">foo</span>()</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(age) <span class=\"comment\">//  23</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(sex) <span class=\"comment\">// sex is not defined</span></span><br></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li>æ‰€æœ‰ window å¯¹è±¡çš„å±æ€§æ‹¥æœ‰å…¨å±€ä½œç”¨åŸŸ<br>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œwindow å¯¹è±¡çš„å†…ç½®å±æ€§éƒ½éƒ½æ‹¥æœ‰å…¨å±€ä½œç”¨åŸŸï¼Œä¾‹å¦‚ window.alert()ã€window.locationã€window.top ç­‰ç­‰ã€‚</li>\n</ol>\n<h3 id=\"ä½œç”¨åŸŸé“¾\"><a href=\"#ä½œç”¨åŸŸé“¾\" class=\"headerlink\" title=\"ä½œç”¨åŸŸé“¾\"></a>ä½œç”¨åŸŸé“¾</h3><p>å½“ä»£ç åœ¨ä¸€ä¸ªç¯å¢ƒä¸­æ‰§è¡Œæ—¶ï¼Œä¼šåˆ›å»ºå˜é‡å¯¹è±¡çš„ä¸€ä¸ªä½œç”¨åŸŸé“¾ï¼ˆä½œç”¨åŸŸå½¢æˆçš„é“¾æ¡ï¼‰</p>\n<ol>\n<li>ä½œç”¨åŸŸé“¾çš„å‰ç«¯ï¼Œå§‹ç»ˆéƒ½æ˜¯å½“å‰æ‰§è¡Œçš„ä»£ç æ‰€åœ¨ç¯å¢ƒçš„å˜é‡å¯¹è±¡</li>\n<li>ä½œç”¨åŸŸé“¾ä¸­çš„ä¸‹ä¸€ä¸ªå¯¹è±¡æ¥è‡ªäºå¤–éƒ¨ç¯å¢ƒï¼Œè€Œåœ¨ä¸‹ä¸€ä¸ªå˜é‡å¯¹è±¡åˆ™æ¥è‡ªä¸‹ä¸€ä¸ªå¤–éƒ¨ç¯å¢ƒï¼Œä¸€ç›´åˆ°å…¨å±€æ‰§è¡Œç¯å¢ƒ</li>\n<li>å…¨å±€æ‰§è¡Œç¯å¢ƒçš„å˜é‡å¯¹è±¡å§‹ç»ˆéƒ½æ˜¯ä½œç”¨åŸŸé“¾ä¸Šçš„æœ€åä¸€ä¸ªå¯¹è±¡</li>\n</ol>\n<p>å½“åœ¨å†…éƒ¨å‡½æ•°ä¸­ï¼Œéœ€è¦è®¿é—®ä¸€ä¸ªå˜é‡çš„æ—¶å€™ï¼Œé¦–å…ˆä¼šè®¿é—®å‡½æ•°æœ¬èº«çš„å˜é‡å¯¹è±¡ï¼Œæ˜¯å¦æœ‰è¿™ä¸ªå˜é‡ï¼Œå¦‚æœæ²¡æœ‰ï¼Œé‚£ä¹ˆä¼šç»§ç»­æ²¿ä½œç”¨åŸŸé“¾å¾€ä¸ŠæŸ¥æ‰¾ï¼Œç›´åˆ°å…¨å±€ä½œç”¨åŸŸã€‚å¦‚æœåœ¨æŸä¸ªå˜é‡å¯¹è±¡ä¸­æ‰¾åˆ°åˆ™ä½¿ç”¨è¯¥å˜é‡å¯¹è±¡ä¸­çš„å˜é‡å€¼ã€‚</p>\n<h4 id=\"å†…éƒ¨ç¯å¢ƒå¯ä»¥é€šè¿‡ä½œç”¨åŸŸé“¾è®¿é—®æ‰€æœ‰å¤–éƒ¨ç¯å¢ƒï¼Œä½†å¤–éƒ¨ç¯å¢ƒä¸èƒ½è®¿é—®å†…éƒ¨ç¯å¢ƒçš„ä»»ä½•å˜é‡å’Œå‡½æ•°ã€‚\"><a href=\"#å†…éƒ¨ç¯å¢ƒå¯ä»¥é€šè¿‡ä½œç”¨åŸŸé“¾è®¿é—®æ‰€æœ‰å¤–éƒ¨ç¯å¢ƒï¼Œä½†å¤–éƒ¨ç¯å¢ƒä¸èƒ½è®¿é—®å†…éƒ¨ç¯å¢ƒçš„ä»»ä½•å˜é‡å’Œå‡½æ•°ã€‚\" class=\"headerlink\" title=\"å†…éƒ¨ç¯å¢ƒå¯ä»¥é€šè¿‡ä½œç”¨åŸŸé“¾è®¿é—®æ‰€æœ‰å¤–éƒ¨ç¯å¢ƒï¼Œä½†å¤–éƒ¨ç¯å¢ƒä¸èƒ½è®¿é—®å†…éƒ¨ç¯å¢ƒçš„ä»»ä½•å˜é‡å’Œå‡½æ•°ã€‚\"></a>å†…éƒ¨ç¯å¢ƒå¯ä»¥é€šè¿‡ä½œç”¨åŸŸé“¾è®¿é—®æ‰€æœ‰å¤–éƒ¨ç¯å¢ƒï¼Œä½†å¤–éƒ¨ç¯å¢ƒä¸èƒ½è®¿é—®å†…éƒ¨ç¯å¢ƒçš„ä»»ä½•å˜é‡å’Œå‡½æ•°ã€‚</h4><h3 id=\"å˜é‡æå‡\"><a href=\"#å˜é‡æå‡\" class=\"headerlink\" title=\"å˜é‡æå‡\"></a>å˜é‡æå‡</h3><p>ES6 ä¹‹å‰æˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨ var æ¥å£°æ˜å˜é‡ï¼Œå˜é‡æå‡å¦‚ä¸‹ä¾‹å­ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">test</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a) <span class=\"comment\">//undefined</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> a = <span class=\"number\">123</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å®ƒçš„å®é™…æ‰§è¡Œé¡ºåºå¦‚ä¸‹</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">test</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> a</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a)</span><br><span class=\"line\">  a = <span class=\"number\">123</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">test</span>()</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å‡½æ•°æå‡\"><a href=\"#å‡½æ•°æå‡\" class=\"headerlink\" title=\"å‡½æ•°æå‡\"></a>å‡½æ•°æå‡</h3><p>javascript ä¸­ä¸ä»…ä»…æ˜¯å˜é‡å£°æ˜æœ‰æå‡çš„ç°è±¡ï¼Œå‡½æ•°çš„å£°æ˜ä¹Ÿæ˜¯ä¸€æ ·ã€‚å…·åå‡½æ•°çš„å£°æ˜æœ‰ä¸¤ç§æ–¹å¼ï¼š</p>\n<ul>\n<li>å‡½æ•°å£°æ˜å¼</li>\n<li>å‡½æ•°å­—é¢é‡å¼</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//å‡½æ•°å£°æ˜å¼</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">bar</span>(<span class=\"params\"></span>) &#123;&#125;</span><br><span class=\"line\"><span class=\"comment\">//å‡½æ•°å­—é¢é‡å¼</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> foo = <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;&#125;</span><br></pre></td></tr></table></figure>\n\n<p>å‡½æ•°æå‡æ˜¯æ•´ä¸ªä»£ç å—æå‡åˆ°å®ƒæ‰€åœ¨çš„ä½œç”¨åŸŸçš„æœ€å¼€å§‹æ‰§è¡Œ</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(bar)</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">bar</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"number\">1</span>) <span class=\"comment\">//Æ’ bar () &#123; console.log(1)&#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å®é™…æ‰§è¡Œé¡ºåº</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">bar</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"number\">1</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(bar)</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"é—­åŒ…\"><a href=\"#é—­åŒ…\" class=\"headerlink\" title=\"é—­åŒ…\"></a>é—­åŒ…</h3><p>é—­åŒ…å°±æ˜¯èƒ½å¤Ÿè¯»å–å…¶ä»–å‡½æ•°å†…éƒ¨å˜é‡çš„å‡½æ•°ï¼Œå‡½æ•°æ²¡æœ‰è¢«é‡Šæ”¾ï¼Œæ•´æ¡ä½œç”¨åŸŸé“¾ä¸Šçš„å±€éƒ¨å˜é‡éƒ½å°†å¾—åˆ°ä¿ç•™ã€‚ç”±äºåœ¨ javascript è¯­è¨€ä¸­ï¼Œåªæœ‰å‡½æ•°å†…éƒ¨çš„å­å‡½æ•°æ‰èƒ½è¯»å–å±€éƒ¨å˜é‡ï¼Œ<strong>å› æ­¤å¯ä»¥æŠŠé—­åŒ…ç®€å•ç†è§£æˆâ€œå®šä¹‰åœ¨ä¸€ä¸ªå‡½æ•°å†…éƒ¨çš„å‡½æ•°â€</strong>ã€‚</p>\n<h4 id=\"äº§ç”Ÿä¸€ä¸ªé—­åŒ…\"><a href=\"#äº§ç”Ÿä¸€ä¸ªé—­åŒ…\" class=\"headerlink\" title=\"äº§ç”Ÿä¸€ä¸ªé—­åŒ…\"></a>äº§ç”Ÿä¸€ä¸ªé—­åŒ…</h4><p>åˆ›å»ºé—­åŒ…æœ€å¸¸è§æ–¹å¼ï¼Œå°±æ˜¯åœ¨ä¸€ä¸ªå‡½æ•°å†…éƒ¨åˆ›å»ºå¦ä¸€ä¸ªå‡½æ•°ã€‚é—­åŒ…çš„ä½œç”¨åŸŸé“¾åŒ…å«ç€å®ƒè‡ªå·±çš„ä½œç”¨åŸŸï¼Œä»¥åŠåŒ…å«å®ƒçš„å‡½æ•°çš„ä½œç”¨åŸŸå’Œå…¨å±€ä½œç”¨åŸŸã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">fn</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> a = <span class=\"number\">1</span>,</span><br><span class=\"line\">    b = <span class=\"number\">2</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">function</span> <span class=\"title function_\">f1</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> a + b</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> f1</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ä¸Šé¢ä¾‹å­ä¸­çš„ f1 å°±æ˜¯ä¸€ä¸ªé—­åŒ…</p>\n<h4 id=\"é—­åŒ…çš„åº”ç”¨\"><a href=\"#é—­åŒ…çš„åº”ç”¨\" class=\"headerlink\" title=\"é—­åŒ…çš„åº”ç”¨\"></a>é—­åŒ…çš„åº”ç”¨</h4><ol>\n<li><p>è®¾è®¡ç§æœ‰çš„æ–¹æ³•å’Œå˜é‡ã€‚<br>ä»»ä½•åœ¨å‡½æ•°ä¸­å®šä¹‰çš„å˜é‡ï¼Œéƒ½å¯ä»¥è®¤ä¸ºæ˜¯ç§æœ‰å˜é‡ï¼Œå› ä¸ºä¸èƒ½åœ¨å‡½æ•°å¤–éƒ¨è®¿é—®è¿™äº›å˜é‡ã€‚ç§æœ‰å˜é‡åŒ…æ‹¬å‡½æ•°çš„å‚æ•°ã€å±€éƒ¨å˜é‡å’Œå‡½æ•°å†…å®šä¹‰çš„å…¶ä»–å‡½æ•°ã€‚</p>\n<p>æŠŠæœ‰æƒè®¿é—®ç§æœ‰å˜é‡çš„å…¬æœ‰æ–¹æ³•ç§°ä¸ºç‰¹æƒæ–¹æ³•ï¼ˆprivileged methodï¼‰ã€‚</p>\n</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Animal</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// ç§æœ‰å˜é‡</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> series = <span class=\"string\">&#x27;å“ºä¹³åŠ¨ç‰©&#x27;</span></span><br><span class=\"line\">  <span class=\"keyword\">function</span> <span class=\"title function_\">run</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;Run!!!&#x27;</span>)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// ç‰¹æƒæ–¹æ³•</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">getSeries</span> = <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> series</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li>åŒ¿åå‡½æ•°æœ€å¤§çš„ç”¨é€”æ˜¯åˆ›å»ºé—­åŒ…ã€‚å‡å°‘å…¨å±€å˜é‡çš„ä½¿ç”¨ã€‚ä»è€Œä½¿ç”¨é—­åŒ…æ¨¡å—åŒ–ä»£ç ï¼Œå‡å°‘å…¨å±€å˜é‡çš„æ±¡æŸ“ã€‚</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> objEvent = objEvent || &#123;&#125;</span><br><span class=\"line\">(<span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> addEvent = <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// some code</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">function</span> <span class=\"title function_\">removeEvent</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// some code</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  objEvent.<span class=\"property\">addEvent</span> = addEvent</span><br><span class=\"line\">  objEvent.<span class=\"property\">removeEvent</span> = removeEvent</span><br><span class=\"line\">&#125;)()</span><br></pre></td></tr></table></figure>\n\n<p>addEvent å’Œ removeEvent éƒ½æ˜¯å±€éƒ¨å˜é‡ï¼Œä½†æˆ‘ä»¬å¯ä»¥é€šè¿‡å…¨å±€å˜é‡ objEvent ä½¿ç”¨å®ƒï¼Œè¿™å°±å¤§å¤§å‡å°‘äº†å…¨å±€å˜é‡çš„ä½¿ç”¨ï¼Œå¢å¼ºäº†ç½‘é¡µçš„å®‰å…¨æ€§ã€‚</p>\n<ol start=\"3\">\n<li>å®šä¹‰æ¨¡å—ï¼Œæˆ‘ä»¬å°†æ“ä½œå‡½æ•°æš´éœ²ç»™å¤–éƒ¨ï¼Œè€Œç»†èŠ‚éšè—åœ¨æ¨¡å—å†…éƒ¨ã€‚<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">module</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> arr = [];</span><br><span class=\"line\">\t<span class=\"keyword\">function</span> <span class=\"title function_\">add</span>(<span class=\"params\">val</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> val == <span class=\"string\">&#x27;number&#x27;</span>) &#123;</span><br><span class=\"line\">\t\t\tarr.<span class=\"title function_\">push</span>(val);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">function</span> <span class=\"title function_\">get</span>(<span class=\"params\">index</span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">if</span> (index &lt; arr.<span class=\"property\">length</span>) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> arr[index]</span><br><span class=\"line\">\t\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">add</span>: add,</span><br><span class=\"line\">\t\t<span class=\"attr\">get</span>: get</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> mod1 = <span class=\"title function_\">module</span>();</span><br><span class=\"line\">mod1.<span class=\"title function_\">add</span>(<span class=\"number\">1</span>);</span><br><span class=\"line\">mod1.<span class=\"title function_\">add</span>(<span class=\"number\">2</span>);</span><br><span class=\"line\">mod1.<span class=\"title function_\">add</span>(<span class=\"string\">&#x27;xxx&#x27;</span>);</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(mod1.<span class=\"title function_\">get</span>(<span class=\"number\">2</span>));</span><br></pre></td></tr></table></figure></li>\n</ol>\n<h4 id=\"ä½¿ç”¨é—­åŒ…çš„æ³¨æ„ç‚¹\"><a href=\"#ä½¿ç”¨é—­åŒ…çš„æ³¨æ„ç‚¹\" class=\"headerlink\" title=\"ä½¿ç”¨é—­åŒ…çš„æ³¨æ„ç‚¹\"></a>ä½¿ç”¨é—­åŒ…çš„æ³¨æ„ç‚¹</h4><ol>\n<li>ç”±äºé—­åŒ…ä¼šä½¿å¾—å‡½æ•°ä¸­çš„å˜é‡éƒ½è¢«ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œå†…å­˜æ¶ˆè€—å¾ˆå¤§ï¼Œæ‰€ä»¥ä¸èƒ½æ»¥ç”¨é—­åŒ…ï¼Œå¦åˆ™ä¼šé€ æˆç½‘é¡µçš„æ€§èƒ½é—®é¢˜ï¼Œåœ¨ IE ä¸­å¯èƒ½å¯¼è‡´å†…å­˜æ³„éœ²ã€‚è§£å†³æ–¹æ³•æ—¶ï¼Œåœ¨é€€å‡ºå‡½æ•°ä¹‹å‰ï¼Œå°†ä¸ä½¿ç”¨çš„å±€éƒ¨å˜é‡å…¨éƒ¨åˆ é™¤ã€‚</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">makeAdder</span>(<span class=\"params\">x</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">function</span>(<span class=\"params\">y</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> x + y</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> add5 = <span class=\"title function_\">makeAdder</span>(<span class=\"number\">5</span>)</span><br><span class=\"line\"><span class=\"keyword\">var</span> add10 = <span class=\"title function_\">makeAdder</span>(<span class=\"number\">10</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">add5</span>(<span class=\"number\">2</span>)) <span class=\"comment\">// 7</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">add10</span>(<span class=\"number\">2</span>)) <span class=\"comment\">// 12</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// é‡Šæ”¾å¯¹é—­åŒ…çš„å¼•ç”¨</span></span><br><span class=\"line\">add5 = <span class=\"literal\">null</span></span><br><span class=\"line\">add10 = <span class=\"literal\">null</span></span><br></pre></td></tr></table></figure>\n\n<p>add5 å’Œ add10 éƒ½æ˜¯é—­åŒ…ã€‚å®ƒä»¬å…±äº«ç›¸åŒçš„å‡½æ•°å®šä¹‰ï¼Œä½†æ˜¯ä¿å­˜äº†ä¸åŒçš„ç¯å¢ƒã€‚åœ¨ add5 çš„ç¯å¢ƒä¸­ï¼Œx ä¸º 5ã€‚è€Œåœ¨ add10 ä¸­ï¼Œx åˆ™ä¸º 10ã€‚æœ€åé€šè¿‡ null é‡Šæ”¾äº† add5 å’Œ add10 å¯¹é—­åŒ…çš„å¼•ç”¨ã€‚</p>\n<ol start=\"2\">\n<li>é—­åŒ…ä¼šåœ¨çˆ¶å‡½æ•°å¤–éƒ¨ï¼Œæ”¹å˜çˆ¶å‡½æ•°å†…éƒ¨å˜é‡çš„å€¼ã€‚æ‰€ä»¥ï¼Œå¦‚æœä½ æŠŠçˆ¶å‡½æ•°å½“ä½œå¯¹è±¡(object)ä½¿ç”¨ï¼ŒæŠŠé—­åŒ…å½“ä½œå®ƒçš„å…¬ç”¨æ–¹æ³•ï¼ŒæŠŠå†…éƒ¨å˜é‡å½“ä½œå®ƒçš„ç§æœ‰å±æ€§ï¼Œè¿™æ—¶ä¸€å®šè¦å°å¿ƒï¼Œä¸è¦éšä¾¿æ”¹å˜çˆ¶å‡½æ•°å†…éƒ¨å˜é‡çš„å€¼ã€‚</li>\n</ol>\n"},{"title":"JSåŸå‹å’ŒåŸå‹é“¾","url":"/LittleWhiteRabbit/2022/04/26/js%E5%8E%9F%E5%9E%8B%E4%B8%8E%E5%8E%9F%E5%9E%8B%E9%93%BE/","content":"<h1 id=\"JSåŸå‹å’ŒåŸå‹é“¾\"><a href=\"#JSåŸå‹å’ŒåŸå‹é“¾\" class=\"headerlink\" title=\"JSåŸå‹å’ŒåŸå‹é“¾\"></a>JSåŸå‹å’ŒåŸå‹é“¾</h1><h3 id=\"æ„é€ å‡½æ•°\"><a href=\"#æ„é€ å‡½æ•°\" class=\"headerlink\" title=\"æ„é€ å‡½æ•°\"></a>æ„é€ å‡½æ•°</h3><blockquote>\n<p>æ¯ä¸ªæ„é€ å‡½æ•°(constructor)éƒ½æœ‰ä¸€ä¸ªåŸå‹å¯¹è±¡(prototype), åŸå‹å¯¹è±¡éƒ½åŒ…å«ä¸€ä¸ªæŒ‡å‘æ„é€ å‡½æ•°çš„æŒ‡é’ˆ, è€Œå®ä¾‹(instance)éƒ½åŒ…å«ä¸€ä¸ªæŒ‡å‘åŸå‹å¯¹è±¡çš„å†…éƒ¨æŒ‡é’ˆ.</p>\n</blockquote>\n<p>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸ªä¾‹å­</p>\n<span id=\"more\"></span>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Person</span>(<span class=\"params\">name, age, job</span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">name</span> = name</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">age</span> = age</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">job</span> = job</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">sayName</span> = <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"title function_\">alert</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">name</span>)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> person1 = <span class=\"keyword\">new</span> <span class=\"title class_\">Person</span>(<span class=\"string\">&#x27;Zaxlct&#x27;</span>, <span class=\"number\">28</span>, <span class=\"string\">&#x27;Engineer&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">var</span> person2 = <span class=\"keyword\">new</span> <span class=\"title class_\">Person</span>(<span class=\"string\">&#x27;Mick&#x27;</span>, <span class=\"number\">23</span>, <span class=\"string\">&#x27;Doctor&#x27;</span>)</span><br></pre></td></tr></table></figure>\n\n<p>ä¸Šé¢çš„ä¾‹å­ä¸­ person1 å’Œ person2 éƒ½æ˜¯ Person çš„å®ä¾‹ã€‚è¿™ä¸¤ä¸ªå®ä¾‹éƒ½æœ‰ä¸€ä¸ª constructor ï¼ˆæ„é€ å‡½æ•°ï¼‰å±æ€§ï¼Œè¯¥å±æ€§ï¼ˆæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼‰æŒ‡å‘ Personã€‚ å³ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(person1.<span class=\"property\">constructor</span> == <span class=\"title class_\">Person</span>) <span class=\"comment\">//true</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(person2.<span class=\"property\">constructor</span> == <span class=\"title class_\">Person</span>) <span class=\"comment\">//true</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"prototype\"><a href=\"#prototype\" class=\"headerlink\" title=\"prototype\"></a>prototype</h3><p>æ¯ä¸ªæ„é€ å‡½æ•°éƒ½æœ‰ä¸€ä¸ª prototype å±æ€§ï¼ŒæŒ‡å‘è°ƒç”¨è¯¥æ„é€ å‡½æ•°è€Œåˆ›å»ºçš„å®ä¾‹çš„åŸå‹ï¼Œä¹Ÿå°±æ˜¯è¿™ä¸ªä¾‹å­ä¸­çš„ person1 å’Œ person2 çš„åŸå‹ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Person</span>(<span class=\"params\"></span>) &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title class_\">Person</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">name</span> = <span class=\"string\">&#x27;Zaxlct&#x27;</span></span><br><span class=\"line\"><span class=\"title class_\">Person</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">age</span> = <span class=\"number\">28</span></span><br><span class=\"line\"><span class=\"title class_\">Person</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">job</span> = <span class=\"string\">&#x27;Engineer&#x27;</span></span><br><span class=\"line\"><span class=\"title class_\">Person</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">sayName</span> = <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"title function_\">alert</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">name</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> person1 = <span class=\"keyword\">new</span> <span class=\"title class_\">Person</span>()</span><br><span class=\"line\">person1.<span class=\"title function_\">sayName</span>() <span class=\"comment\">// &#x27;Zaxlct&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> person2 = <span class=\"keyword\">new</span> <span class=\"title class_\">Person</span>()</span><br><span class=\"line\">person2.<span class=\"title function_\">sayName</span>() <span class=\"comment\">// &#x27;Zaxlct&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(person1.<span class=\"property\">sayName</span> == person2.<span class=\"property\">sayName</span>) <span class=\"comment\">//true</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"proto\"><a href=\"#proto\" class=\"headerlink\" title=\"proto\"></a><strong>proto</strong></h3><p>è¿™æ˜¯æ¯ä¸€ä¸ª JavaScript å¯¹è±¡(é™¤äº† null )éƒ½å…·æœ‰çš„ä¸€ä¸ªå±æ€§ï¼Œå«<strong>proto</strong>ï¼Œè¿™ä¸ªå±æ€§ä¼šæŒ‡å‘è¯¥å¯¹è±¡çš„åŸå‹ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Person</span>(<span class=\"params\"></span>) &#123;&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> person1 = <span class=\"keyword\">new</span> <span class=\"title class_\">Person</span>()</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(person1.<span class=\"property\">__proto__</span> === <span class=\"title class_\">Person</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>) <span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"constructor-NaN\"><a href=\"#constructor-NaN\" class=\"headerlink\" title=\"constructor\"></a>constructor</h3><p>æ¯ä¸ªåŸå‹éƒ½æœ‰ä¸€ä¸ª constructor å±æ€§æŒ‡å‘å…³è”çš„æ„é€ å‡½æ•°</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Person</span>(<span class=\"params\"></span>) &#123;&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> person1 = <span class=\"keyword\">new</span> <span class=\"title class_\">Person</span>()</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Person</span> === <span class=\"title class_\">Person</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">constructor</span>) <span class=\"comment\">// true</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(person1.<span class=\"property\">__proto__</span> === <span class=\"title class_\">Person</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>) <span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å®ä¾‹ä¸åŸå‹\"><a href=\"#å®ä¾‹ä¸åŸå‹\" class=\"headerlink\" title=\"å®ä¾‹ä¸åŸå‹\"></a>å®ä¾‹ä¸åŸå‹</h3><p>å½“è¯»å–å®ä¾‹çš„å±æ€§æ—¶ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œå°±ä¼šæŸ¥æ‰¾ä¸å¯¹è±¡å…³è”çš„åŸå‹ä¸­çš„å±æ€§ï¼Œå¦‚æœè¿˜æŸ¥ä¸åˆ°ï¼Œå°±å»æ‰¾åŸå‹çš„åŸå‹ï¼Œä¸€ç›´æ‰¾åˆ°æœ€é¡¶å±‚ä¸ºæ­¢ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Person</span>(<span class=\"params\"></span>) &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title class_\">Person</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">name</span> = <span class=\"string\">&#x27;Kevin&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> person = <span class=\"keyword\">new</span> <span class=\"title class_\">Person</span>()</span><br><span class=\"line\"></span><br><span class=\"line\">person.<span class=\"property\">name</span> = <span class=\"string\">&#x27;Daisy&#x27;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(person.<span class=\"property\">name</span>) <span class=\"comment\">// Daisy</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">delete</span> person.<span class=\"property\">name</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(person.<span class=\"property\">name</span>) <span class=\"comment\">// Kevin</span></span><br></pre></td></tr></table></figure>\n\n<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ç»™å®ä¾‹å¯¹è±¡ person æ·»åŠ äº† name å±æ€§ï¼Œå½“æˆ‘ä»¬æ‰“å° person.name çš„æ—¶å€™ï¼Œç»“æœè‡ªç„¶ä¸º Daisyã€‚</p>\n<p>ä½†æ˜¯å½“æˆ‘ä»¬åˆ é™¤äº† person çš„ name å±æ€§æ—¶ï¼Œè¯»å– person.nameï¼Œä» person å¯¹è±¡ä¸­æ‰¾ä¸åˆ° name å±æ€§å°±ä¼šä» person çš„åŸå‹ä¹Ÿå°±æ˜¯ person.<strong>proto</strong> ï¼Œä¹Ÿå°±æ˜¯ Person.prototype ä¸­æŸ¥æ‰¾ï¼Œå¹¸è¿çš„æ˜¯æˆ‘ä»¬æ‰¾åˆ°äº† name å±æ€§ï¼Œç»“æœä¸º Kevinã€‚</p>\n<h3 id=\"Object-create\"><a href=\"#Object-create\" class=\"headerlink\" title=\"Object.create()\"></a>Object.create()</h3><p>è¯­æ³•ï¼š<code>Object.create(proto, [propertiesObject])</code></p>\n<p>æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œä½¿ç”¨ç°æœ‰çš„å¯¹è±¡æ¥æä¾›æ–°åˆ›å»ºçš„å¯¹è±¡çš„ protoã€‚</p>\n<ul>\n<li>new Object() é€šè¿‡æ„é€ å‡½æ•°æ¥åˆ›å»ºå¯¹è±¡, æ·»åŠ çš„å±æ€§æ˜¯åœ¨è‡ªèº«å®ä¾‹ä¸‹ã€‚</li>\n<li>Object.create() es6 åˆ›å»ºå¯¹è±¡çš„å¦ä¸€ç§æ–¹å¼ï¼Œå¯ä»¥ç†è§£ä¸ºç»§æ‰¿ä¸€ä¸ªå¯¹è±¡, æ·»åŠ çš„å±æ€§æ˜¯åœ¨åŸå‹ä¸‹ã€‚</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// new Object() æ–¹å¼åˆ›å»º</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> a = &#123; <span class=\"attr\">rep</span>: <span class=\"string\">&#x27;apple&#x27;</span> &#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> b = <span class=\"keyword\">new</span> <span class=\"title class_\">Object</span>(a)</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(b) <span class=\"comment\">// &#123;rep: &quot;apple&quot;&#125;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(b.<span class=\"property\">__proto__</span>) <span class=\"comment\">// &#123;&#125;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(b.<span class=\"property\">rep</span>) <span class=\"comment\">// &#123;rep: &quot;apple&quot;&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Object.create() æ–¹å¼åˆ›å»º</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> a = &#123; <span class=\"attr\">rep</span>: <span class=\"string\">&#x27;apple&#x27;</span> &#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> b = <span class=\"title class_\">Object</span>.<span class=\"title function_\">create</span>(a)</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(b) <span class=\"comment\">// &#123;&#125;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(b.<span class=\"property\">__proto__</span>) <span class=\"comment\">// &#123;rep: &quot;apple&quot;&#125;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(b.<span class=\"property\">rep</span>) <span class=\"comment\">// &#123;rep: &quot;apple&quot;&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>ç»å…¸é¢è¯•é¢˜</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj1 = &#123; <span class=\"attr\">name</span>: <span class=\"string\">&#x27;one&#x27;</span> &#125;</span><br><span class=\"line\">obj2 = <span class=\"title class_\">Object</span>.<span class=\"title function_\">create</span>(obj1)</span><br><span class=\"line\">obj2.<span class=\"property\">name</span> = <span class=\"string\">&#x27;two&#x27;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(obj1.<span class=\"property\">name</span>)</span><br><span class=\"line\"><span class=\"comment\">//one</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> obj1 = &#123; <span class=\"attr\">prop</span>: &#123; <span class=\"attr\">name</span>: <span class=\"string\">&#x27;one&#x27;</span> &#125; &#125;</span><br><span class=\"line\">obj2 = <span class=\"title class_\">Object</span>.<span class=\"title function_\">create</span>(obj1)</span><br><span class=\"line\">obj2.<span class=\"property\">prop</span>.<span class=\"property\">name</span> = <span class=\"string\">&#x27;two&#x27;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(obj1.<span class=\"property\">prop</span>.<span class=\"property\">name</span>)</span><br><span class=\"line\"><span class=\"comment\">//two</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> obj1 = &#123; <span class=\"attr\">list</span>: [<span class=\"string\">&#x27;one&#x27;</span>, <span class=\"string\">&#x27;one&#x27;</span>, <span class=\"string\">&#x27;one&#x27;</span>] &#125;</span><br><span class=\"line\">obj2 = <span class=\"title class_\">Object</span>.<span class=\"title function_\">create</span>(obj1)</span><br><span class=\"line\">obj2.<span class=\"property\">list</span>[<span class=\"number\">0</span>] = <span class=\"string\">&#x27;two&#x27;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(obj1.<span class=\"property\">list</span>[<span class=\"number\">0</span>])</span><br><span class=\"line\"><span class=\"comment\">//two</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>ç¬¬äºŒé¢˜å…ˆè®¡ç®— obj2.prop çš„å€¼ï¼Œåœ¨åŸå‹é“¾ä¸­è¢«å‘ç°ï¼Œç„¶åå†è®¡ç®— obj2.prop å¯¹åº”çš„å¯¹è±¡(ä¸æ£€æŸ¥åŸå‹é“¾)ä¸­æ˜¯å¦å­˜åœ¨ name å±æ€§ã€‚</li>\n<li>ç¬¬ä¸‰é¢˜æ˜¯å…ˆè®¡ç®— obj2.list å±æ€§çš„å€¼ï¼Œç„¶åèµ‹å€¼ç»™ obj2.list å±æ€§ä¸‹æ ‡ä¸º 0ï¼ˆå±æ€§åä¸ºâ€œ0â€ï¼‰çš„å±æ€§ã€‚</li>\n</ul>\n<h3 id=\"ç§æœ‰å˜é‡ã€å‡½æ•°\"><a href=\"#ç§æœ‰å˜é‡ã€å‡½æ•°\" class=\"headerlink\" title=\"ç§æœ‰å˜é‡ã€å‡½æ•°\"></a>ç§æœ‰å˜é‡ã€å‡½æ•°</h3><p>åœ¨å‡½æ•°å†…éƒ¨å®šä¹‰çš„å˜é‡å’Œå‡½æ•°å¦‚æœä¸å¯¹å¤–æä¾›æ¥å£ï¼Œé‚£ä¹ˆå¤–éƒ¨å°†æ— æ³•è®¿é—®åˆ°ï¼Œä¹Ÿå°±æ˜¯å˜ä¸ºç§æœ‰å˜é‡å’Œç§æœ‰å‡½æ•°ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Obj</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> a = <span class=\"number\">0</span> <span class=\"comment\">//ç§æœ‰å˜é‡</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> fn = <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">//ç§æœ‰å‡½æ•°</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> o = <span class=\"keyword\">new</span> <span class=\"title class_\">Obj</span>()</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(o.<span class=\"property\">a</span>) <span class=\"comment\">//undefined</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(o.<span class=\"property\">fn</span>) <span class=\"comment\">//undefined</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"é™æ€å˜é‡ã€å‡½æ•°\"><a href=\"#é™æ€å˜é‡ã€å‡½æ•°\" class=\"headerlink\" title=\"é™æ€å˜é‡ã€å‡½æ•°\"></a>é™æ€å˜é‡ã€å‡½æ•°</h3><p>å½“å®šä¹‰ä¸€ä¸ªå‡½æ•°åé€šè¿‡ â€œ.â€ä¸ºå…¶æ·»åŠ çš„å±æ€§å’Œå‡½æ•°ï¼Œé€šè¿‡å¯¹è±¡æœ¬èº«ä»ç„¶å¯ä»¥è®¿é—®å¾—åˆ°ï¼Œä½†æ˜¯å…¶å®ä¾‹å´è®¿é—®ä¸åˆ°ï¼Œè¿™æ ·çš„å˜é‡å’Œå‡½æ•°åˆ†åˆ«è¢«ç§°ä¸ºé™æ€å˜é‡å’Œé™æ€å‡½æ•°ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Obj</span>(<span class=\"params\"></span>) &#123;&#125;</span><br><span class=\"line\">  <span class=\"title class_\">Obj</span>.<span class=\"property\">a</span> = <span class=\"number\">0</span> <span class=\"comment\">//é™æ€å˜é‡</span></span><br><span class=\"line\">  <span class=\"title class_\">Obj</span>.<span class=\"property\">fn</span> = <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">//é™æ€å‡½æ•°</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Obj</span>.<span class=\"property\">a</span>) <span class=\"comment\">//0</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> <span class=\"title class_\">Obj</span>.<span class=\"property\">fn</span>) <span class=\"comment\">//function</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> o = <span class=\"keyword\">new</span> <span class=\"title class_\">Obj</span>()</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(o.<span class=\"property\">a</span>) <span class=\"comment\">//undefined</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> o.<span class=\"property\">fn</span>) <span class=\"comment\">//undefined</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å®ä¾‹å˜é‡ã€å‡½æ•°\"><a href=\"#å®ä¾‹å˜é‡ã€å‡½æ•°\" class=\"headerlink\" title=\"å®ä¾‹å˜é‡ã€å‡½æ•°\"></a>å®ä¾‹å˜é‡ã€å‡½æ•°</h3><p>åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­é™¤äº†ä¸€äº›åº“å‡½æ•°æˆ‘ä»¬è¿˜æ˜¯å¸Œæœ›åœ¨å¯¹è±¡å®šä¹‰çš„æ—¶å€™åŒæ—¶å®šä¹‰ä¸€äº›å±æ€§å’Œæ–¹æ³•ï¼Œå®ä¾‹åŒ–åå¯ä»¥è®¿é—®ï¼ŒJavaScriptä¹Ÿèƒ½åšåˆ°è¿™æ ·ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Obj</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">a</span>=[]; <span class=\"comment\">//å®ä¾‹å˜é‡</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">fn</span>=<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123; <span class=\"comment\">//å®ä¾‹æ–¹æ³•    </span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> <span class=\"title class_\">Obj</span>.<span class=\"property\">a</span>); <span class=\"comment\">//undefined</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> <span class=\"title class_\">Obj</span>.<span class=\"property\">fn</span>); <span class=\"comment\">//undefined</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"keyword\">var</span> o=<span class=\"keyword\">new</span> <span class=\"title class_\">Obj</span>();</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> o.<span class=\"property\">a</span>); <span class=\"comment\">//object</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> o.<span class=\"property\">fn</span>); <span class=\"comment\">//function</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ä¸€é“ç»¼åˆé¢è¯•é¢˜\"><a href=\"#ä¸€é“ç»¼åˆé¢è¯•é¢˜\" class=\"headerlink\" title=\"ä¸€é“ç»¼åˆé¢è¯•é¢˜\"></a>ä¸€é“ç»¼åˆé¢è¯•é¢˜</h3><p>é¢˜ç›®å¦‚ä¸‹</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Foo</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  getName = <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"title function_\">alert</span>(<span class=\"number\">1</span>)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"variable language_\">this</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title class_\">Foo</span>.<span class=\"property\">getName</span> = <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"title function_\">alert</span>(<span class=\"number\">2</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title class_\">Foo</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">getName</span> = <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"title function_\">alert</span>(<span class=\"number\">3</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> getName = <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"title function_\">alert</span>(<span class=\"number\">4</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">getName</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"title function_\">alert</span>(<span class=\"number\">5</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//è¯·å†™å‡ºä»¥ä¸‹è¾“å‡ºç»“æœï¼š</span></span><br><span class=\"line\"><span class=\"title class_\">Foo</span>.<span class=\"title function_\">getName</span>()</span><br><span class=\"line\"><span class=\"title function_\">getName</span>()</span><br><span class=\"line\"><span class=\"title class_\">Foo</span>().<span class=\"title function_\">getName</span>()</span><br><span class=\"line\"><span class=\"title function_\">getName</span>()</span><br><span class=\"line\"><span class=\"keyword\">new</span> <span class=\"title class_\">Foo</span>.<span class=\"title function_\">getName</span>()</span><br><span class=\"line\"><span class=\"keyword\">new</span> <span class=\"title class_\">Foo</span>().<span class=\"title function_\">getName</span>()</span><br><span class=\"line\"><span class=\"keyword\">new</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Foo</span>().<span class=\"title function_\">getName</span>()</span><br></pre></td></tr></table></figure>\n\n<p>è§£è¯»ï¼šé¦–å…ˆå®šä¹‰äº†ä¸€ä¸ªå« Foo çš„å‡½æ•°ï¼Œä¹‹åä¸º Foo åˆ›å»ºäº†ä¸€ä¸ªå« getName çš„é™æ€å±æ€§å­˜å‚¨äº†ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œä¹‹åä¸º Foo çš„åŸå‹å¯¹è±¡æ–°åˆ›å»ºäº†ä¸€ä¸ªå« getName çš„åŒ¿åå‡½æ•°ã€‚ä¹‹ååˆé€šè¿‡å‡½æ•°å˜é‡è¡¨è¾¾å¼åˆ›å»ºäº†ä¸€ä¸ª getName çš„å‡½æ•°ï¼Œæœ€åå†å£°æ˜ä¸€ä¸ªå« getName å‡½æ•°ã€‚</p>\n<p>å…ˆæ¥å‰§é€ä¸€ä¸‹ç­”æ¡ˆï¼Œå†æ¥çœ‹çœ‹å…·ä½“åˆ†æ</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//ç­”æ¡ˆï¼š</span></span><br><span class=\"line\"><span class=\"title class_\">Foo</span>.<span class=\"title function_\">getName</span>() <span class=\"comment\">//2</span></span><br><span class=\"line\"><span class=\"title function_\">getName</span>() <span class=\"comment\">//4</span></span><br><span class=\"line\"><span class=\"title class_\">Foo</span>().<span class=\"title function_\">getName</span>() <span class=\"comment\">//1</span></span><br><span class=\"line\"><span class=\"title function_\">getName</span>() <span class=\"comment\">//1</span></span><br><span class=\"line\"><span class=\"keyword\">new</span> <span class=\"title class_\">Foo</span>.<span class=\"title function_\">getName</span>() <span class=\"comment\">//2</span></span><br><span class=\"line\"><span class=\"keyword\">new</span> <span class=\"title class_\">Foo</span>().<span class=\"title function_\">getName</span>() <span class=\"comment\">//3</span></span><br><span class=\"line\"><span class=\"keyword\">new</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Foo</span>().<span class=\"title function_\">getName</span>() <span class=\"comment\">//3</span></span><br></pre></td></tr></table></figure>\n\n<ol>\n<li>ç¬¬ä¸€é—®:Foo.getName è‡ªç„¶æ˜¯è®¿é—® Foo å‡½æ•°ä¸Šå­˜å‚¨çš„é™æ€å±æ€§ï¼Œè‡ªç„¶æ˜¯ 2</li>\n<li>ç¬¬äºŒé—®ï¼Œç›´æ¥è°ƒç”¨ getName å‡½æ•°ã€‚æ—¢ç„¶æ˜¯ç›´æ¥è°ƒç”¨é‚£ä¹ˆå°±æ˜¯è®¿é—®å½“å‰ä¸Šæ–‡ä½œç”¨åŸŸå†…çš„å« getName çš„å‡½æ•°ï¼Œæ‰€ä»¥è·Ÿ 1 2 3 éƒ½æ²¡ä»€ä¹ˆå…³ç³»ã€‚ä½†æ˜¯æ­¤å¤„æœ‰ä¸¤ä¸ªå‘ï¼Œä¸€æ˜¯å˜é‡å£°æ˜æå‡ï¼ŒäºŒæ˜¯å‡½æ•°è¡¨è¾¾å¼ã€‚<br>å…³äºå‡½æ•°å˜é‡æç¤ºï¼Œæ­¤å¤„çœç•¥ä¸€ä¸‡å­—ã€‚ã€‚ã€‚ã€‚é¢˜ä¸­ä»£ç æœ€ç»ˆæ‰§è¡Œæ—¶çš„æ˜¯</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Foo</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  getName = <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"title function_\">alert</span>(<span class=\"number\">1</span>)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"variable language_\">this</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> getName <span class=\"comment\">//åªæå‡å˜é‡å£°æ˜</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">getName</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"title function_\">alert</span>(<span class=\"number\">5</span>)</span><br><span class=\"line\">&#125; <span class=\"comment\">//æå‡å‡½æ•°å£°æ˜ï¼Œè¦†ç›–varçš„å£°æ˜</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title class_\">Foo</span>.<span class=\"property\">getName</span> = <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"title function_\">alert</span>(<span class=\"number\">2</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title class_\">Foo</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">getName</span> = <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"title function_\">alert</span>(<span class=\"number\">3</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">getName = <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"title function_\">alert</span>(<span class=\"number\">4</span>)</span><br><span class=\"line\">&#125; <span class=\"comment\">//æœ€ç»ˆçš„èµ‹å€¼å†æ¬¡è¦†ç›–function getNameå£°æ˜</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">getName</span>() <span class=\"comment\">//æœ€ç»ˆè¾“å‡º4</span></span><br></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li>ç¬¬ä¸‰é—®çš„ Foo().getName(); å…ˆæ‰§è¡Œäº† Foo å‡½æ•°ï¼Œç„¶åè°ƒç”¨ Foo å‡½æ•°çš„è¿”å›å€¼å¯¹è±¡çš„ getName å±æ€§å‡½æ•°ã€‚è¿™é‡Œ Foo å‡½æ•°çš„è¿”å›å€¼æ˜¯ thisï¼Œthis æŒ‡å‘ window å¯¹è±¡ã€‚æ‰€ä»¥ç¬¬ä¸‰é—®ç›¸å½“äºæ‰§è¡Œ window.getName()ã€‚ ç„¶è€Œè¿™é‡Œ Foo å‡½æ•°å°†æ­¤å˜é‡çš„å€¼èµ‹å€¼ä¸º<code>function()&#123;alert(1)&#125;</code>ã€‚</li>\n<li>ç¬¬å››é—®ç›´æ¥è°ƒç”¨ getName å‡½æ•°ï¼Œç›¸å½“äº window.getName()ï¼Œç­”æ¡ˆå’Œå‰é¢ä¸€æ ·ã€‚</li>\n<li>åé¢ä¸‰é—®éƒ½æ˜¯è€ƒå¯Ÿ js çš„è¿ç®—ç¬¦ä¼˜å…ˆçº§é—®é¢˜ã€‚</li>\n</ol>\n"},{"title":"JSå¯¹è±¡åˆ›å»ºä¸æ‹·è´","url":"/LittleWhiteRabbit/2020/04/14/js%E5%AF%B9%E8%B1%A1%E5%8F%8A%E6%B7%B1%E6%8B%B7%E8%B4%9D/","content":"<h1 id=\"JS-å¯¹è±¡åˆ›å»ºä¸æ‹·è´\"><a href=\"#JS-å¯¹è±¡åˆ›å»ºä¸æ‹·è´\" class=\"headerlink\" title=\"JS å¯¹è±¡åˆ›å»ºä¸æ‹·è´\"></a>JS å¯¹è±¡åˆ›å»ºä¸æ‹·è´</h1><h3 id=\"äº”ç§åˆ›å»ºå¯¹è±¡çš„æ–¹æ³•\"><a href=\"#äº”ç§åˆ›å»ºå¯¹è±¡çš„æ–¹æ³•\" class=\"headerlink\" title=\"äº”ç§åˆ›å»ºå¯¹è±¡çš„æ–¹æ³•\"></a>äº”ç§åˆ›å»ºå¯¹è±¡çš„æ–¹æ³•</h3><p>1ã€å¯¹è±¡å­—é¢é‡çš„æ–¹å¼</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\">person = &#123; <span class=\"attr\">firstname</span>: <span class=\"string\">&#x27;Mark&#x27;</span>, <span class=\"attr\">lastname</span>: <span class=\"string\">&#x27;Yun&#x27;</span>, <span class=\"attr\">age</span>: <span class=\"number\">25</span>, <span class=\"attr\">eyecolor</span>: <span class=\"string\">&#x27;black&#x27;</span> &#125;</span><br></pre></td></tr></table></figure>\n<span id=\"more\"></span>\n<p>2ã€ç”¨ function æ¥æ¨¡æ‹Ÿæ— å‚çš„æ„é€ å‡½æ•°</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Person</span>(<span class=\"params\"></span>) &#123;&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> person = <span class=\"keyword\">new</span> <span class=\"title class_\">Person</span>() <span class=\"comment\">//å®šä¹‰ä¸€ä¸ªfunctionï¼Œå¦‚æœä½¿ç”¨new&quot;å®ä¾‹åŒ–&quot;,è¯¥functionå¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªClass</span></span><br><span class=\"line\">person.<span class=\"property\">name</span> = <span class=\"string\">&#x27;Mark&#x27;</span></span><br><span class=\"line\">person.<span class=\"property\">age</span> = <span class=\"string\">&#x27;25&#x27;</span></span><br><span class=\"line\">person.<span class=\"property\">work</span> = <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"title function_\">alert</span>(person.<span class=\"property\">name</span> + <span class=\"string\">&#x27; hello...&#x27;</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">person.<span class=\"title function_\">work</span>()</span><br></pre></td></tr></table></figure>\n\n<p>3ã€ç”¨ function æ¥æ¨¡æ‹Ÿå‚æ„é€ å‡½æ•°æ¥å®ç°ï¼ˆç”¨ this å…³é”®å­—å®šä¹‰æ„é€ çš„ä¸Šä¸‹æ–‡å±æ€§ï¼‰</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Pet</span>(<span class=\"params\">name, age, hobby</span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">name</span> = name <span class=\"comment\">//thisä½œç”¨åŸŸï¼šå½“å‰å¯¹è±¡</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">age</span> = age</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">hobby</span> = hobby</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">eat</span> = <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"title function_\">alert</span>(<span class=\"string\">&#x27;æˆ‘å«&#x27;</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">name</span> + <span class=\"string\">&#x27;,æˆ‘å–œæ¬¢&#x27;</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">hobby</span> + <span class=\"string\">&#x27;,æ˜¯ä¸ªç¨‹åºå‘˜&#x27;</span>)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> maidou = <span class=\"keyword\">new</span> <span class=\"title class_\">Pet</span>(<span class=\"string\">&#x27;éº¦å…œ&#x27;</span>, <span class=\"number\">25</span>, <span class=\"string\">&#x27;coding&#x27;</span>) <span class=\"comment\">//å®ä¾‹åŒ–ã€åˆ›å»ºå¯¹è±¡</span></span><br><span class=\"line\">maidou.<span class=\"title function_\">eat</span>() <span class=\"comment\">//è°ƒç”¨eatæ–¹æ³•</span></span><br></pre></td></tr></table></figure>\n\n<p>4ã€ç”¨å·¥å‚æ–¹å¼æ¥åˆ›å»ºï¼ˆå†…ç½®å¯¹è±¡ï¼‰</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> wcDog = <span class=\"keyword\">new</span> <span class=\"title class_\">Object</span>()</span><br><span class=\"line\">wcDog.<span class=\"property\">name</span> = <span class=\"string\">&#x27;æ—ºè´¢&#x27;</span></span><br><span class=\"line\">wcDog.<span class=\"property\">age</span> = <span class=\"number\">3</span></span><br><span class=\"line\">wcDog.<span class=\"property\">work</span> = <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"title function_\">alert</span>(<span class=\"string\">&#x27;æˆ‘æ˜¯&#x27;</span> + wcDog.<span class=\"property\">name</span> + <span class=\"string\">&#x27;,æ±ªæ±ªæ±ª......&#x27;</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">wcDog.<span class=\"title function_\">work</span>()</span><br></pre></td></tr></table></figure>\n\n<p>5ã€ç”¨åŸå‹æ–¹å¼æ¥åˆ›å»º</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Dog</span>(<span class=\"params\"></span>) &#123;&#125;</span><br><span class=\"line\"><span class=\"title class_\">Dog</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">name</span> = <span class=\"string\">&#x27;æ—ºè´¢&#x27;</span></span><br><span class=\"line\"><span class=\"title class_\">Dog</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">eat</span> = <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"title function_\">alert</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">name</span> + <span class=\"string\">&#x27;æ˜¯ä¸ªåƒè´§&#x27;</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> wangcai = <span class=\"keyword\">new</span> <span class=\"title class_\">Dog</span>()</span><br></pre></td></tr></table></figure>\n\n<p>åˆå¹¶ä¸¤ä¸ªå¯¹è±¡</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> object1 = &#123; <span class=\"attr\">a</span>: <span class=\"number\">1</span>, <span class=\"attr\">b</span>: <span class=\"number\">2</span>, <span class=\"attr\">c</span>: <span class=\"number\">3</span> &#125;</span><br><span class=\"line\"><span class=\"keyword\">let</span> object2 = &#123; <span class=\"attr\">b</span>: <span class=\"number\">30</span>, <span class=\"attr\">c</span>: <span class=\"number\">40</span>, <span class=\"attr\">d</span>: <span class=\"number\">50</span> &#125;</span><br><span class=\"line\"><span class=\"keyword\">let</span> merged = &#123; ...object1, ...object2 &#125; <span class=\"comment\">//spread and re-add into merged</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(merged) <span class=\"comment\">// &#123;a:1, b:30, c:40, d:50&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ·±æ‹·è´å’Œæµ…æ‹·è´\"><a href=\"#æ·±æ‹·è´å’Œæµ…æ‹·è´\" class=\"headerlink\" title=\"æ·±æ‹·è´å’Œæµ…æ‹·è´\"></a>æ·±æ‹·è´å’Œæµ…æ‹·è´</h3><p>js æ•°æ®åˆ†ä¸ºåŸºæœ¬æ•°æ®ç±»å‹(String, Number, Boolean, Null, Undefinedï¼ŒSymbol)å’Œå¼•ç”¨æ•°æ®ç±»å‹ã€‚</p>\n<ul>\n<li>åŸºæœ¬æ•°æ®ç±»å‹ï¼šç›´æ¥å­˜å‚¨åœ¨æ ˆ(stack)ä¸­çš„æ•°æ®</li>\n<li>å¼•ç”¨æ•°æ®ç±»å‹ç‚¹ï¼šå­˜å‚¨çš„æ˜¯è¯¥å¯¹è±¡åœ¨æ ˆä¸­å¼•ç”¨ï¼ŒçœŸå®çš„æ•°æ®å­˜æ”¾åœ¨å †å†…å­˜é‡Œ</li>\n</ul>\n<p>æ·±æ‹·è´å’Œæµ…æ‹·è´çš„ä¸»è¦åŒºåˆ«å°±æ˜¯åœ¨å†…å­˜ä¸­çš„å­˜å‚¨ç±»å‹ä¸åŒã€‚å †å’Œæ ˆæ˜¯å†…å­˜ä¸­åˆ’åˆ†å‡ºæ¥ç”¨æ¥å­˜å‚¨çš„åŒºåŸŸã€‚</p>\n<ul>\n<li>æ ˆï¼ˆstackï¼‰ä¸ºè‡ªåŠ¨åˆ†é…çš„å†…å­˜ç©ºé—´ï¼Œå®ƒç”±ç³»ç»Ÿè‡ªåŠ¨é‡Šæ”¾ã€‚</li>\n<li>å †ï¼ˆheapï¼‰åˆ™æ˜¯åŠ¨æ€åˆ†é…çš„å†…å­˜ï¼Œå¤§å°ä¸å®šä¹Ÿä¸ä¼šè‡ªåŠ¨é‡Šæ”¾ã€‚</li>\n</ul>\n<h4 id=\"æ•°æ®çš„æ¯”è¾ƒ\"><a href=\"#æ•°æ®çš„æ¯”è¾ƒ\" class=\"headerlink\" title=\"æ•°æ®çš„æ¯”è¾ƒ\"></a>æ•°æ®çš„æ¯”è¾ƒ</h4><p>åŸºæœ¬ç±»å‹çš„æ¯”è¾ƒæ˜¯å€¼çš„æ¯”è¾ƒï¼Œåªè¦å®ƒä»¬çš„å€¼ç›¸ç­‰å°±è®¤ä¸ºä»–ä»¬æ˜¯ç›¸ç­‰çš„ï¼Œä¾‹å¦‚ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"number\">10</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> b = <span class=\"number\">10</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a === b) <span class=\"comment\">//true</span></span><br></pre></td></tr></table></figure>\n\n<p>è€Œå¼•ç”¨ç±»å‹çš„æ¯”è¾ƒæ˜¯å¼•ç”¨çš„æ¯”è¾ƒï¼Œæ‰€ä»¥æ¯æ¬¡æˆ‘ä»¬å¯¹ js ä¸­çš„å¼•ç”¨ç±»å‹è¿›è¡Œæ“ä½œçš„æ—¶å€™ï¼Œéƒ½æ˜¯æ“ä½œå…¶å¯¹è±¡çš„å¼•ç”¨ï¼Œæ‰€ä»¥æ¯”è¾ƒä¸¤ä¸ªå¼•ç”¨ç±»å‹ï¼Œæ˜¯çœ‹å…¶çš„å¼•ç”¨æ˜¯å¦æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ã€‚ä¾‹å¦‚ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>]</span><br><span class=\"line\"><span class=\"keyword\">var</span> b = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>]</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a === b) <span class=\"comment\">// false</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"ä¼ å€¼ä¸ä¼ å€\"><a href=\"#ä¼ å€¼ä¸ä¼ å€\" class=\"headerlink\" title=\"ä¼ å€¼ä¸ä¼ å€\"></a>ä¼ å€¼ä¸ä¼ å€</h4><p>åŸºç¡€æ•°æ®ç±»å‹çš„èµ‹å€¼éƒ½æ˜¯å±äºä¼ å€¼ï¼Œä¸¤ä¸ªå˜é‡æ˜¯ä¸¤ä¸ªç‹¬ç«‹ç›¸äº’ä¸å½±å“çš„å˜é‡ã€‚ä¸¾ä¸ªä¾‹å­ï¼›</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"number\">10</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> b = a</span><br><span class=\"line\"></span><br><span class=\"line\">a++</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a) <span class=\"comment\">// 11</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(b) <span class=\"comment\">// 10</span></span><br></pre></td></tr></table></figure>\n\n<p>ä½†æ˜¯å¼•ç”¨ç±»å‹çš„èµ‹å€¼æ˜¯ä¼ å€ã€‚åªæ˜¯æ”¹å˜æŒ‡é’ˆçš„æŒ‡å‘ï¼Œä¾‹å¦‚ï¼Œä¹Ÿå°±æ˜¯è¯´å¼•ç”¨ç±»å‹çš„èµ‹å€¼æ˜¯å¯¹è±¡ä¿å­˜åœ¨æ ˆä¸­çš„åœ°å€çš„èµ‹å€¼ï¼Œè¿™æ ·çš„è¯ä¸¤ä¸ªå˜é‡å°±æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ï¼Œå› æ­¤ä¸¤è€…ä¹‹é—´æ“ä½œäº’ç›¸æœ‰å½±å“ã€‚ä¾‹å¦‚ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = &#123;&#125; <span class=\"comment\">// aä¿å­˜äº†ä¸€ä¸ªç©ºå¯¹è±¡çš„å®ä¾‹</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> b = a <span class=\"comment\">// aå’Œbéƒ½æŒ‡å‘äº†è¿™ä¸ªç©ºå¯¹è±¡</span></span><br><span class=\"line\"></span><br><span class=\"line\">a.<span class=\"property\">name</span> = <span class=\"string\">&#x27;jozo&#x27;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a.<span class=\"property\">name</span>) <span class=\"comment\">// &#x27;jozo&#x27;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(b.<span class=\"property\">name</span>) <span class=\"comment\">// &#x27;jozo&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">b.<span class=\"property\">age</span> = <span class=\"number\">22</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(b.<span class=\"property\">age</span>) <span class=\"comment\">// 22</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a.<span class=\"property\">age</span>) <span class=\"comment\">// 22</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a == b) <span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"æ·±æ‹·è´\"><a href=\"#æ·±æ‹·è´\" class=\"headerlink\" title=\"æ·±æ‹·è´\"></a>æ·±æ‹·è´</h4><p>æ·±æ‹·è´å¤åˆ¶å˜é‡å€¼ï¼Œå¯¹äºéåŸºæœ¬ç±»å‹çš„å˜é‡ï¼Œåˆ™é€’å½’è‡³åŸºæœ¬ç±»å‹å˜é‡åï¼Œå†å¤åˆ¶ã€‚ æ·±æ‹·è´åçš„å¯¹è±¡ä¸åŸæ¥çš„å¯¹è±¡æ˜¯å®Œå…¨éš”ç¦»çš„ï¼Œäº’ä¸å½±å“ï¼Œå¯¹ä¸€ä¸ªå¯¹è±¡çš„ä¿®æ”¹å¹¶ä¸ä¼šå½±å“å¦ä¸€ä¸ªå¯¹è±¡ã€‚</p>\n<h4 id=\"æµ…æ‹·è´\"><a href=\"#æµ…æ‹·è´\" class=\"headerlink\" title=\"æµ…æ‹·è´\"></a>æµ…æ‹·è´</h4><p>æµ…æ‹·è´æ˜¯ä¼šå°†å¯¹è±¡çš„æ¯ä¸ªå±æ€§è¿›è¡Œä¾æ¬¡å¤åˆ¶ï¼Œä½†æ˜¯å½“å¯¹è±¡çš„å±æ€§å€¼æ˜¯å¼•ç”¨ç±»å‹æ—¶ï¼Œå®è´¨å¤åˆ¶çš„æ˜¯å…¶å¼•ç”¨ï¼Œå½“å¼•ç”¨æŒ‡å‘çš„å€¼æ”¹å˜æ—¶ä¹Ÿä¼šè·Ÿç€å˜åŒ–ã€‚</p>\n<h4 id=\"åŒºåˆ«\"><a href=\"#åŒºåˆ«\" class=\"headerlink\" title=\"åŒºåˆ«\"></a>åŒºåˆ«</h4><p>æµ…æ‹·è´å’Œæ·±æ‹·è´éƒ½åªé’ˆå¯¹äºå¼•ç”¨æ•°æ®ç±»å‹ï¼Œæµ…æ‹·è´åªå¤åˆ¶æŒ‡å‘æŸä¸ªå¯¹è±¡çš„æŒ‡é’ˆï¼Œè€Œä¸å¤åˆ¶å¯¹è±¡æœ¬èº«ï¼Œæ–°æ—§å¯¹è±¡è¿˜æ˜¯å…±äº«åŒä¸€å—å†…å­˜ï¼›ä½†æ·±æ‹·è´ä¼šå¦å¤–åˆ›é€ ä¸€ä¸ªä¸€æ¨¡ä¸€æ ·çš„å¯¹è±¡ï¼Œæ–°å¯¹è±¡è·ŸåŸå¯¹è±¡ä¸å…±äº«å†…å­˜ï¼Œä¿®æ”¹æ–°å¯¹è±¡ä¸ä¼šæ”¹åˆ°åŸå¯¹è±¡ã€‚</p>\n<p>åŒºåˆ«ï¼šæµ…æ‹·è´åªå¤åˆ¶å¯¹è±¡çš„ç¬¬ä¸€å±‚å±æ€§ã€æ·±æ‹·è´å¯ä»¥å¯¹å¯¹è±¡çš„å±æ€§è¿›è¡Œé€’å½’å¤åˆ¶ï¼›</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> obj = &#123;</span><br><span class=\"line\">  <span class=\"attr\">name</span>: <span class=\"string\">&#x27;Tom&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">age</span>: <span class=\"number\">18</span>,</span><br><span class=\"line\">  <span class=\"attr\">hobbies</span>: [<span class=\"string\">&#x27;reading&#x27;</span>, <span class=\"string\">&#x27;photography&#x27;</span>]</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">let</span> obj1 = obj</span><br><span class=\"line\"><span class=\"keyword\">let</span> obj2 = <span class=\"title class_\">Object</span>.<span class=\"title function_\">assign</span>(&#123;&#125;, obj)</span><br><span class=\"line\"><span class=\"keyword\">let</span> obj3 = &#123; ...obj &#125;</span><br><span class=\"line\"><span class=\"keyword\">let</span> obj4 = <span class=\"title class_\">JSON</span>.<span class=\"title function_\">parse</span>(<span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(obj))</span><br><span class=\"line\"></span><br><span class=\"line\">obj.<span class=\"property\">name</span> = <span class=\"string\">&#x27;Jack&#x27;</span></span><br><span class=\"line\">obj.<span class=\"property\">hobbies</span>.<span class=\"title function_\">push</span>(<span class=\"string\">&#x27;coding&#x27;</span>)</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(obj) <span class=\"comment\">//&#123; name: &#x27;Jack&#x27;, age: 18,hobbies: [ &#x27;reading&#x27;, &#x27;photography&#x27;, &#x27;coding&#x27; ] &#125;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(obj1) <span class=\"comment\">//&#123; name: &#x27;Jack&#x27;, age: 18,hobbies: [ &#x27;reading&#x27;, &#x27;photography&#x27;, &#x27;coding&#x27; ] &#125;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(obj2) <span class=\"comment\">//&#123; name: &#x27;Tom&#x27;, age: 18,hobbies: [ &#x27;reading&#x27;, &#x27;photography&#x27;, &#x27;coding&#x27; ] &#125;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(obj3) <span class=\"comment\">//&#123; name: &#x27;Tom&#x27;, age: 18,hobbies: [ &#x27;reading&#x27;, &#x27;photography&#x27;, &#x27;coding&#x27; ] &#125;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(obj4) <span class=\"comment\">//&#123; name: &#x27;Tom&#x27;, age: 18,hobbies: [ &#x27;reading&#x27;, &#x27;photography&#x27; ] &#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>ä»ä»¥ä¸Šä¾‹å­å¯ä»¥çœ‹å‡ºï¼Œå½“æ•°æ®ä¸ºå¼•ç”¨æ•°æ®ç±»å‹æ—¶</p>\n<ol>\n<li>ç›´æ¥èµ‹å€¼å±äºæµ…æ‹·è´</li>\n<li>Object.assignï¼Œå½“æ•°æ®ç¬¬ä¸€å±‚ä¸ºåŸºæœ¬æ•°æ®ç±»å‹æ—¶ï¼Œæ–°çš„å¯¹è±¡å’ŒåŸå¯¹è±¡äº’ä¸å½±å“ï¼Œè¿™å±äºæ·±æ‹·è´ï¼Œä½†æ˜¯å¦‚æœç¬¬ä¸€å±‚çš„å±æ€§å€¼æ˜¯å¤æ‚æ•°æ®ç±»å‹ï¼Œé‚£ä¹ˆæ–°å¯¹è±¡å’ŒåŸå¯¹è±¡çš„å±æ€§å€¼å…¶æŒ‡å‘çš„æ˜¯åŒä¸€å—å†…å­˜åœ°å€ï¼Œè¿™æ˜¯æµ…æ‹·è´ã€‚</li>\n<li>æ‰©å±•è¿ç®—ç¬¦å’ŒObject.assignåŸç†ä¸€æ ·ã€‚</li>\n<li>JSON.parse(JSON.stringify(obj))å¯å®ç°æ·±æ‹·è´</li>\n</ol>\n<h3 id=\"æ·±æ‹·è´çš„å®ç°\"><a href=\"#æ·±æ‹·è´çš„å®ç°\" class=\"headerlink\" title=\"æ·±æ‹·è´çš„å®ç°\"></a>æ·±æ‹·è´çš„å®ç°</h3><ol>\n<li>JSON.parse(JSON.stringify(obj)) ä½†å­˜åœ¨ä¸€äº›ç¼ºé™·</li>\n</ol>\n<ul>\n<li>å¯¹è±¡çš„å±æ€§å€¼æ˜¯å‡½æ•°æ—¶ï¼Œæ— æ³•æ‹·è´ã€‚</li>\n<li>åŸå‹é“¾ä¸Šçš„å±æ€§æ— æ³•æ‹·è´</li>\n<li>ä¸èƒ½æ­£ç¡®çš„å¤„ç† Dateï¼ŒRegExp ç±»å‹çš„æ•°æ®</li>\n<li>ä¼šå¿½ç•¥ undefined</li>\n</ul>\n<ol start=\"2\">\n<li>å®ç°ä¸€ä¸ª deepClone å‡½æ•°</li>\n</ol>\n<ul>\n<li>å¦‚æœæ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œç›´æ¥è¿”å›</li>\n<li>å¦‚æœæ˜¯ RegExp æˆ–è€… Date ç±»å‹ï¼Œè¿”å›å¯¹åº”ç±»å‹</li>\n<li>å¦‚æœæ˜¯å¤æ‚æ•°æ®ç±»å‹ï¼Œé€’å½’ã€‚</li>\n<li>è€ƒè™‘å¾ªç¯å¼•ç”¨çš„é—®é¢˜</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">deepClone</span>(<span class=\"params\">obj, hash = <span class=\"keyword\">new</span> <span class=\"built_in\">WeakMap</span>()</span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">//é€’å½’æ‹·è´</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (obj <span class=\"keyword\">instanceof</span> <span class=\"title class_\">RegExp</span>) <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">RegExp</span>(obj)</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (obj <span class=\"keyword\">instanceof</span> <span class=\"title class_\">Date</span>) <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>(obj)</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (obj === <span class=\"literal\">null</span> || <span class=\"keyword\">typeof</span> obj !== <span class=\"string\">&#x27;object&#x27;</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">//å¦‚æœä¸æ˜¯å¤æ‚æ•°æ®ç±»å‹ï¼Œç›´æ¥è¿”å›</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> obj</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (hash.<span class=\"title function_\">has</span>(obj)) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> hash.<span class=\"title function_\">get</span>(obj)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">   * å¦‚æœobjæ˜¯æ•°ç»„ï¼Œé‚£ä¹ˆ obj.constructor æ˜¯ [Function: Array]</span></span><br><span class=\"line\"><span class=\"comment\">   * å¦‚æœobjæ˜¯å¯¹è±¡ï¼Œé‚£ä¹ˆ obj.constructor æ˜¯ [Function: Object]</span></span><br><span class=\"line\"><span class=\"comment\">   */</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> t = <span class=\"keyword\">new</span> obj.<span class=\"title function_\">constructor</span>(<span class=\"params\"></span>)</span><br><span class=\"line\">  hash.<span class=\"title function_\">set</span>(obj, t)</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> key <span class=\"keyword\">in</span> obj) &#123;</span><br><span class=\"line\">    <span class=\"comment\">//é€’å½’</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (obj.<span class=\"title function_\">hasOwnProperty</span>(key)) &#123;</span><br><span class=\"line\">      <span class=\"comment\">//æ˜¯å¦æ˜¯è‡ªèº«çš„å±æ€§</span></span><br><span class=\"line\">      t[key] = <span class=\"title function_\">deepClone</span>(obj[key], hash)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> t</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"JavaScriptæ•°ç»„å»é‡","url":"/LittleWhiteRabbit/2022/04/26/js%E5%8E%BB%E9%87%8D/","content":"<h1 id=\"JavaScriptæ•°ç»„å»é‡ï¼ˆ12ç§æ–¹æ³•ï¼Œå²ä¸Šæœ€å…¨ï¼‰\"><a href=\"#JavaScriptæ•°ç»„å»é‡ï¼ˆ12ç§æ–¹æ³•ï¼Œå²ä¸Šæœ€å…¨ï¼‰\" class=\"headerlink\" title=\"JavaScriptæ•°ç»„å»é‡ï¼ˆ12ç§æ–¹æ³•ï¼Œå²ä¸Šæœ€å…¨ï¼‰\"></a>JavaScriptæ•°ç»„å»é‡ï¼ˆ12ç§æ–¹æ³•ï¼Œå²ä¸Šæœ€å…¨ï¼‰</h1><p>æ•°ç»„å»é‡ï¼Œä¸€èˆ¬éƒ½æ˜¯åœ¨é¢è¯•çš„æ—¶å€™æ‰ä¼šç¢°åˆ°ï¼Œä¸€èˆ¬æ˜¯è¦æ±‚æ‰‹å†™æ•°ç»„å»é‡æ–¹æ³•çš„ä»£ç ã€‚å¦‚æœæ˜¯è¢«æé—®åˆ°ï¼Œæ•°ç»„å»é‡çš„æ–¹æ³•æœ‰å“ªäº›ï¼Ÿä½ èƒ½ç­”å‡ºå…¶ä¸­çš„10ç§ï¼Œé¢è¯•å®˜å¾ˆæœ‰å¯èƒ½å¯¹ä½ åˆ®ç›®ç›¸çœ‹ã€‚<br>åœ¨çœŸå®çš„é¡¹ç›®ä¸­ç¢°åˆ°çš„æ•°ç»„å»é‡ï¼Œä¸€èˆ¬éƒ½æ˜¯åå°å»å¤„ç†ï¼Œå¾ˆå°‘è®©å‰ç«¯å¤„ç†æ•°ç»„å»é‡ã€‚è™½ç„¶æ—¥å¸¸é¡¹ç›®ç”¨åˆ°çš„æ¦‚ç‡æ¯”è¾ƒä½ï¼Œä½†è¿˜æ˜¯éœ€è¦äº†è§£ä¸€ä¸‹ï¼Œä»¥é˜²é¢è¯•çš„æ—¶å€™å¯èƒ½å›è¢«é—®åˆ°ã€‚<br>æ•°ç»„å»é‡çš„æ–¹æ³•</p>\n<span id=\"more\"></span>\n<h2 id=\"ä¸€ã€åˆ©ç”¨ES6-Setå»é‡ï¼ˆES6ä¸­æœ€å¸¸ç”¨ï¼‰\"><a href=\"#ä¸€ã€åˆ©ç”¨ES6-Setå»é‡ï¼ˆES6ä¸­æœ€å¸¸ç”¨ï¼‰\" class=\"headerlink\" title=\"ä¸€ã€åˆ©ç”¨ES6 Setå»é‡ï¼ˆES6ä¸­æœ€å¸¸ç”¨ï¼‰\"></a>ä¸€ã€åˆ©ç”¨ES6 Setå»é‡ï¼ˆES6ä¸­æœ€å¸¸ç”¨ï¼‰</h2> <figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">unique</span> (arr) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"title class_\">Array</span>.<span class=\"title function_\">from</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>(arr))</span><br><span class=\"line\">&#125;<span class=\"keyword\">var</span> arr = [<span class=\"number\">1</span>,<span class=\"number\">1</span>,<span class=\"string\">&#x27;true&#x27;</span>,<span class=\"string\">&#x27;true&#x27;</span>,<span class=\"literal\">true</span>,<span class=\"literal\">true</span>,<span class=\"number\">15</span>,<span class=\"number\">15</span>,<span class=\"literal\">false</span>,<span class=\"literal\">false</span>, <span class=\"literal\">undefined</span>,<span class=\"literal\">undefined</span>, <span class=\"literal\">null</span>,<span class=\"literal\">null</span>, <span class=\"title class_\">NaN</span>, <span class=\"title class_\">NaN</span>,<span class=\"string\">&#x27;NaN&#x27;</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"string\">&#x27;a&#x27;</span>, <span class=\"string\">&#x27;a&#x27;</span>,&#123;&#125;,&#123;&#125;];<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">unique</span>(arr))</span><br><span class=\"line\"> <span class=\"comment\">//[1, &quot;true&quot;, true, 15, false, undefined, null, NaN, &quot;NaN&quot;, 0, &quot;a&quot;, &#123;&#125;, &#123;&#125;]</span></span><br></pre></td></tr></table></figure>\n\n<p>ä¸è€ƒè™‘å…¼å®¹æ€§ï¼Œè¿™ç§å»é‡çš„æ–¹æ³•ä»£ç æœ€å°‘ã€‚è¿™ç§æ–¹æ³•è¿˜æ— æ³•å»æ‰â€œ{}â€ç©ºå¯¹è±¡ï¼Œåé¢çš„é«˜é˜¶æ–¹æ³•ä¼šæ·»åŠ å»æ‰é‡å¤â€œ{}â€çš„æ–¹æ³•ã€‚</p>\n<h2 id=\"äºŒã€åˆ©ç”¨foråµŒå¥—forï¼Œç„¶åspliceå»é‡ï¼ˆES5ä¸­æœ€å¸¸ç”¨ï¼‰\"><a href=\"#äºŒã€åˆ©ç”¨foråµŒå¥—forï¼Œç„¶åspliceå»é‡ï¼ˆES5ä¸­æœ€å¸¸ç”¨ï¼‰\" class=\"headerlink\" title=\"äºŒã€åˆ©ç”¨foråµŒå¥—forï¼Œç„¶åspliceå»é‡ï¼ˆES5ä¸­æœ€å¸¸ç”¨ï¼‰\"></a>äºŒã€åˆ©ç”¨foråµŒå¥—forï¼Œç„¶åspliceå»é‡ï¼ˆES5ä¸­æœ€å¸¸ç”¨ï¼‰</h2> <figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">unique</span>(<span class=\"params\">arr</span>)&#123;            </span><br><span class=\"line\">        <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i=<span class=\"number\">0</span>; i&lt;arr.<span class=\"property\">length</span>; i++)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> j=i+<span class=\"number\">1</span>; j&lt;arr.<span class=\"property\">length</span>; j++)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span>(arr[i]==arr[j])&#123;         <span class=\"comment\">//ç¬¬ä¸€ä¸ªç­‰åŒäºç¬¬äºŒä¸ªï¼Œspliceæ–¹æ³•åˆ é™¤ç¬¬äºŒä¸ª</span></span><br><span class=\"line\">                    arr.<span class=\"title function_\">splice</span>(j,<span class=\"number\">1</span>);</span><br><span class=\"line\">                    j--;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;<span class=\"keyword\">return</span> arr;</span><br><span class=\"line\">&#125;<span class=\"keyword\">var</span> arr = [<span class=\"number\">1</span>,<span class=\"number\">1</span>,<span class=\"string\">&#x27;true&#x27;</span>,<span class=\"string\">&#x27;true&#x27;</span>,<span class=\"literal\">true</span>,<span class=\"literal\">true</span>,<span class=\"number\">15</span>,<span class=\"number\">15</span>,<span class=\"literal\">false</span>,<span class=\"literal\">false</span>, <span class=\"literal\">undefined</span>,<span class=\"literal\">undefined</span>, <span class=\"literal\">null</span>,<span class=\"literal\">null</span>, <span class=\"title class_\">NaN</span>, <span class=\"title class_\">NaN</span>,<span class=\"string\">&#x27;NaN&#x27;</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"string\">&#x27;a&#x27;</span>, <span class=\"string\">&#x27;a&#x27;</span>,&#123;&#125;,&#123;&#125;];</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">unique</span>(arr))</span><br><span class=\"line\">    <span class=\"comment\">//[1, &quot;true&quot;, 15, false, undefined, NaN, NaN, &quot;NaN&quot;, &quot;a&quot;, &#123;â€¦&#125;, &#123;â€¦&#125;]     //NaNå’Œ&#123;&#125;æ²¡æœ‰å»é‡ï¼Œä¸¤ä¸ªnullç›´æ¥æ¶ˆå¤±äº†</span></span><br></pre></td></tr></table></figure>\n<p>åŒå±‚å¾ªç¯ï¼Œå¤–å±‚å¾ªç¯å…ƒç´ ï¼Œå†…å±‚å¾ªç¯æ—¶æ¯”è¾ƒå€¼ã€‚å€¼ç›¸åŒæ—¶ï¼Œåˆ™åˆ å»è¿™ä¸ªå€¼ã€‚<br>æƒ³å¿«é€Ÿå­¦ä¹ æ›´å¤šå¸¸ç”¨çš„ES6è¯­æ³•ï¼Œå¯ä»¥çœ‹æˆ‘ä¹‹å‰çš„æ–‡ç« ã€Šå­¦ä¹ ES6ç¬”è®°â”€â”€å·¥ä½œä¸­å¸¸ç”¨åˆ°çš„ES6è¯­æ³•ã€‹ã€‚</p>\n<h2 id=\"ä¸‰ã€åˆ©ç”¨indexOfå»é‡\"><a href=\"#ä¸‰ã€åˆ©ç”¨indexOfå»é‡\" class=\"headerlink\" title=\"ä¸‰ã€åˆ©ç”¨indexOfå»é‡\"></a>ä¸‰ã€åˆ©ç”¨indexOfå»é‡</h2> <figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">unique</span>(<span class=\"params\">arr</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!<span class=\"title class_\">Array</span>.<span class=\"title function_\">isArray</span>(arr)) &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;type error!&#x27;</span>)</span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> array = [];</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; arr.<span class=\"property\">length</span>; i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (array .<span class=\"title function_\">indexOf</span>(arr[i]) === -<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">            array .<span class=\"title function_\">push</span>(arr[i])</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;<span class=\"keyword\">var</span> arr = [<span class=\"number\">1</span>,<span class=\"number\">1</span>,<span class=\"string\">&#x27;true&#x27;</span>,<span class=\"string\">&#x27;true&#x27;</span>,<span class=\"literal\">true</span>,<span class=\"literal\">true</span>,<span class=\"number\">15</span>,<span class=\"number\">15</span>,<span class=\"literal\">false</span>,<span class=\"literal\">false</span>, <span class=\"literal\">undefined</span>,<span class=\"literal\">undefined</span>, <span class=\"literal\">null</span>,<span class=\"literal\">null</span>, <span class=\"title class_\">NaN</span>, <span class=\"title class_\">NaN</span>,<span class=\"string\">&#x27;NaN&#x27;</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"string\">&#x27;a&#x27;</span>, <span class=\"string\">&#x27;a&#x27;</span>,&#123;&#125;,&#123;&#125;];<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">unique</span>(arr))</span><br><span class=\"line\">   <span class=\"comment\">// [1, &quot;true&quot;, true, 15, false, undefined, null, NaN, NaN, &quot;NaN&quot;, 0, &quot;a&quot;, &#123;â€¦&#125;, &#123;â€¦&#125;]  //NaNã€&#123;&#125;æ²¡æœ‰å»é‡</span></span><br></pre></td></tr></table></figure>\n<p>æ–°å»ºä¸€ä¸ªç©ºçš„ç»“æœæ•°ç»„ï¼Œfor å¾ªç¯åŸæ•°ç»„ï¼Œåˆ¤æ–­ç»“æœæ•°ç»„æ˜¯å¦å­˜åœ¨å½“å‰å…ƒç´ ï¼Œå¦‚æœæœ‰ç›¸åŒçš„å€¼åˆ™è·³è¿‡ï¼Œä¸ç›¸åŒåˆ™pushè¿›æ•°ç»„ã€‚</p>\n<h2 id=\"å››ã€åˆ©ç”¨sort\"><a href=\"#å››ã€åˆ©ç”¨sort\" class=\"headerlink\" title=\"å››ã€åˆ©ç”¨sort()\"></a>å››ã€åˆ©ç”¨sort()</h2> <figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">unique</span>(<span class=\"params\">arr</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!<span class=\"title class_\">Array</span>.<span class=\"title function_\">isArray</span>(arr)) &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;type error!&#x27;</span>)</span><br><span class=\"line\">        <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    arr = arr.<span class=\"title function_\">sort</span>()</span><br><span class=\"line\">    <span class=\"keyword\">var</span> arrry= [arr[<span class=\"number\">0</span>]];</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">1</span>; i &lt; arr.<span class=\"property\">length</span>; i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (arr[i] !== arr[i-<span class=\"number\">1</span>]) &#123;</span><br><span class=\"line\">            arrry.<span class=\"title function_\">push</span>(arr[i]);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> arrry;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">     <span class=\"keyword\">var</span> arr = [<span class=\"number\">1</span>,<span class=\"number\">1</span>,<span class=\"string\">&#x27;true&#x27;</span>,<span class=\"string\">&#x27;true&#x27;</span>,<span class=\"literal\">true</span>,<span class=\"literal\">true</span>,<span class=\"number\">15</span>,<span class=\"number\">15</span>,<span class=\"literal\">false</span>,<span class=\"literal\">false</span>, <span class=\"literal\">undefined</span>,<span class=\"literal\">undefined</span>, <span class=\"literal\">null</span>,<span class=\"literal\">null</span>, <span class=\"title class_\">NaN</span>, <span class=\"title class_\">NaN</span>,<span class=\"string\">&#x27;NaN&#x27;</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"string\">&#x27;a&#x27;</span>, <span class=\"string\">&#x27;a&#x27;</span>,&#123;&#125;,&#123;&#125;];</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">unique</span>(arr))<span class=\"comment\">// [0, 1, 15, &quot;NaN&quot;, NaN, NaN, &#123;â€¦&#125;, &#123;â€¦&#125;, &quot;a&quot;, false, null, true, &quot;true&quot;, undefined]      //NaNã€&#123;&#125;æ²¡æœ‰å»é‡</span></span><br></pre></td></tr></table></figure>\n<p>åˆ©ç”¨sort()æ’åºæ–¹æ³•ï¼Œç„¶åæ ¹æ®æ’åºåçš„ç»“æœè¿›è¡Œéå†åŠç›¸é‚»å…ƒç´ æ¯”å¯¹ã€‚</p>\n<h2 id=\"äº”ã€åˆ©ç”¨å¯¹è±¡çš„å±æ€§ä¸èƒ½ç›¸åŒçš„ç‰¹ç‚¹è¿›è¡Œå»é‡ï¼ˆè¿™ç§æ•°ç»„å»é‡çš„æ–¹æ³•æœ‰é—®é¢˜ï¼Œä¸å»ºè®®ç”¨ï¼Œæœ‰å¾…æ”¹è¿›ï¼‰\"><a href=\"#äº”ã€åˆ©ç”¨å¯¹è±¡çš„å±æ€§ä¸èƒ½ç›¸åŒçš„ç‰¹ç‚¹è¿›è¡Œå»é‡ï¼ˆè¿™ç§æ•°ç»„å»é‡çš„æ–¹æ³•æœ‰é—®é¢˜ï¼Œä¸å»ºè®®ç”¨ï¼Œæœ‰å¾…æ”¹è¿›ï¼‰\" class=\"headerlink\" title=\"äº”ã€åˆ©ç”¨å¯¹è±¡çš„å±æ€§ä¸èƒ½ç›¸åŒçš„ç‰¹ç‚¹è¿›è¡Œå»é‡ï¼ˆè¿™ç§æ•°ç»„å»é‡çš„æ–¹æ³•æœ‰é—®é¢˜ï¼Œä¸å»ºè®®ç”¨ï¼Œæœ‰å¾…æ”¹è¿›ï¼‰\"></a>äº”ã€åˆ©ç”¨å¯¹è±¡çš„å±æ€§ä¸èƒ½ç›¸åŒçš„ç‰¹ç‚¹è¿›è¡Œå»é‡ï¼ˆè¿™ç§æ•°ç»„å»é‡çš„æ–¹æ³•æœ‰é—®é¢˜ï¼Œä¸å»ºè®®ç”¨ï¼Œæœ‰å¾…æ”¹è¿›ï¼‰</h2><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">unique</span>(<span class=\"params\">arr</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!<span class=\"title class_\">Array</span>.<span class=\"title function_\">isArray</span>(arr)) &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;type error!&#x27;</span>)</span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> arrry= [];</span><br><span class=\"line\">     <span class=\"keyword\">var</span>  obj = &#123;&#125;;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; arr.<span class=\"property\">length</span>; i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!obj[arr[i]]) &#123;</span><br><span class=\"line\">            arrry.<span class=\"title function_\">push</span>(arr[i])</span><br><span class=\"line\">            obj[arr[i]] = <span class=\"number\">1</span></span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            obj[arr[i]]++</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> arrry;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> arr = [<span class=\"number\">1</span>,<span class=\"number\">1</span>,<span class=\"string\">&#x27;true&#x27;</span>,<span class=\"string\">&#x27;true&#x27;</span>,<span class=\"literal\">true</span>,<span class=\"literal\">true</span>,<span class=\"number\">15</span>,<span class=\"number\">15</span>,<span class=\"literal\">false</span>,<span class=\"literal\">false</span>, <span class=\"literal\">undefined</span>,<span class=\"literal\">undefined</span>, <span class=\"literal\">null</span>,<span class=\"literal\">null</span>, <span class=\"title class_\">NaN</span>, <span class=\"title class_\">NaN</span>,<span class=\"string\">&#x27;NaN&#x27;</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"string\">&#x27;a&#x27;</span>, <span class=\"string\">&#x27;a&#x27;</span>,&#123;&#125;,&#123;&#125;];</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">unique</span>(arr))<span class=\"comment\">//[1, &quot;true&quot;, 15, false, undefined, null, NaN, 0, &quot;a&quot;, &#123;â€¦&#125;]    //ä¸¤ä¸ªtrueç›´æ¥å»æ‰äº†ï¼ŒNaNå’Œ&#123;&#125;å»é‡</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"å…­ã€åˆ©ç”¨includes\"><a href=\"#å…­ã€åˆ©ç”¨includes\" class=\"headerlink\" title=\"å…­ã€åˆ©ç”¨includes\"></a>å…­ã€åˆ©ç”¨includes</h2><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">unique</span>(<span class=\"params\">arr</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!<span class=\"title class_\">Array</span>.<span class=\"title function_\">isArray</span>(arr)) &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;type error!&#x27;</span>)</span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> array =[];</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; arr.<span class=\"property\">length</span>; i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>( !array.<span class=\"title function_\">includes</span>( arr[i]) ) &#123;<span class=\"comment\">//includes æ£€æµ‹æ•°ç»„æ˜¯å¦æœ‰æŸä¸ªå€¼</span></span><br><span class=\"line\">                    array.<span class=\"title function_\">push</span>(arr[i]);</span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> array</span><br><span class=\"line\">&#125;<span class=\"keyword\">var</span> arr = [<span class=\"number\">1</span>,<span class=\"number\">1</span>,<span class=\"string\">&#x27;true&#x27;</span>,<span class=\"string\">&#x27;true&#x27;</span>,<span class=\"literal\">true</span>,<span class=\"literal\">true</span>,<span class=\"number\">15</span>,<span class=\"number\">15</span>,<span class=\"literal\">false</span>,<span class=\"literal\">false</span>, <span class=\"literal\">undefined</span>,<span class=\"literal\">undefined</span>, <span class=\"literal\">null</span>,<span class=\"literal\">null</span>, <span class=\"title class_\">NaN</span>, <span class=\"title class_\">NaN</span>,<span class=\"string\">&#x27;NaN&#x27;</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"string\">&#x27;a&#x27;</span>, <span class=\"string\">&#x27;a&#x27;</span>,&#123;&#125;,&#123;&#125;];</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">unique</span>(arr))</span><br><span class=\"line\">    <span class=\"comment\">//[1, &quot;true&quot;, true, 15, false, undefined, null, NaN, &quot;NaN&quot;, 0, &quot;a&quot;, &#123;â€¦&#125;, &#123;â€¦&#125;]     //&#123;&#125;æ²¡æœ‰å»é‡</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"ä¸ƒã€åˆ©ç”¨hasOwnProperty\"><a href=\"#ä¸ƒã€åˆ©ç”¨hasOwnProperty\" class=\"headerlink\" title=\"ä¸ƒã€åˆ©ç”¨hasOwnProperty\"></a>ä¸ƒã€åˆ©ç”¨hasOwnProperty</h2><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">unique</span>(<span class=\"params\">arr</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> obj = &#123;&#125;;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> arr.<span class=\"title function_\">filter</span>(<span class=\"keyword\">function</span>(<span class=\"params\">item, index, arr</span>)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> obj.<span class=\"title function_\">hasOwnProperty</span>(<span class=\"keyword\">typeof</span> item + item) ? <span class=\"literal\">false</span> : (obj[<span class=\"keyword\">typeof</span> item + item] = <span class=\"literal\">true</span>)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> arr = [<span class=\"number\">1</span>,<span class=\"number\">1</span>,<span class=\"string\">&#x27;true&#x27;</span>,<span class=\"string\">&#x27;true&#x27;</span>,<span class=\"literal\">true</span>,<span class=\"literal\">true</span>,<span class=\"number\">15</span>,<span class=\"number\">15</span>,<span class=\"literal\">false</span>,<span class=\"literal\">false</span>, <span class=\"literal\">undefined</span>,<span class=\"literal\">undefined</span>, <span class=\"literal\">null</span>,<span class=\"literal\">null</span>, <span class=\"title class_\">NaN</span>, <span class=\"title class_\">NaN</span>,<span class=\"string\">&#x27;NaN&#x27;</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"string\">&#x27;a&#x27;</span>, <span class=\"string\">&#x27;a&#x27;</span>,&#123;&#125;,&#123;&#125;];</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">unique</span>(arr))<span class=\"comment\">//[1, &quot;true&quot;, true, 15, false, undefined, null, NaN, &quot;NaN&quot;, 0, &quot;a&quot;, &#123;â€¦&#125;]   //æ‰€æœ‰çš„éƒ½å»é‡äº†</span></span><br></pre></td></tr></table></figure>\n<p> åˆ©ç”¨hasOwnProperty åˆ¤æ–­æ˜¯å¦å­˜åœ¨å¯¹è±¡å±æ€§</p>\n<h2 id=\"å…«ã€åˆ©ç”¨filter\"><a href=\"#å…«ã€åˆ©ç”¨filter\" class=\"headerlink\" title=\"å…«ã€åˆ©ç”¨filter\"></a>å…«ã€åˆ©ç”¨filter</h2><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">unique</span>(<span class=\"params\">arr</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> arr.<span class=\"title function_\">filter</span>(<span class=\"keyword\">function</span>(<span class=\"params\">item, index, arr</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">//å½“å‰å…ƒç´ ï¼Œåœ¨åŸå§‹æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªç´¢å¼•==å½“å‰ç´¢å¼•å€¼ï¼Œå¦åˆ™è¿”å›å½“å‰å…ƒç´ </span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> arr.<span class=\"title function_\">indexOf</span>(item, <span class=\"number\">0</span>) === index;</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> arr = [<span class=\"number\">1</span>,<span class=\"number\">1</span>,<span class=\"string\">&#x27;true&#x27;</span>,<span class=\"string\">&#x27;true&#x27;</span>,<span class=\"literal\">true</span>,<span class=\"literal\">true</span>,<span class=\"number\">15</span>,<span class=\"number\">15</span>,<span class=\"literal\">false</span>,<span class=\"literal\">false</span>, <span class=\"literal\">undefined</span>,<span class=\"literal\">undefined</span>, <span class=\"literal\">null</span>,<span class=\"literal\">null</span>, <span class=\"title class_\">NaN</span>, <span class=\"title class_\">NaN</span>,<span class=\"string\">&#x27;NaN&#x27;</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"string\">&#x27;a&#x27;</span>, <span class=\"string\">&#x27;a&#x27;</span>,&#123;&#125;,&#123;&#125;];</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">unique</span>(arr))<span class=\"comment\">//[1, &quot;true&quot;, true, 15, false, undefined, null, &quot;NaN&quot;, 0, &quot;a&quot;, &#123;â€¦&#125;, &#123;â€¦&#125;]</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ä¹ã€åˆ©ç”¨é€’å½’å»é‡\"><a href=\"#ä¹ã€åˆ©ç”¨é€’å½’å»é‡\" class=\"headerlink\" title=\"ä¹ã€åˆ©ç”¨é€’å½’å»é‡\"></a>ä¹ã€åˆ©ç”¨é€’å½’å»é‡</h2><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">unique</span>(<span class=\"params\">arr</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> array= arr;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> len = array.<span class=\"property\">length</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">    array.<span class=\"title function_\">sort</span>(<span class=\"keyword\">function</span>(<span class=\"params\">a,b</span>)&#123;   <span class=\"comment\">//æ’åºåæ›´åŠ æ–¹ä¾¿å»é‡</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> a - b;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">function</span> <span class=\"title function_\">loop</span>(<span class=\"params\">index</span>)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(index &gt;= <span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(array[index] === array[index-<span class=\"number\">1</span>])&#123;</span><br><span class=\"line\">                array.<span class=\"title function_\">splice</span>(index,<span class=\"number\">1</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"title function_\">loop</span>(index - <span class=\"number\">1</span>);    <span class=\"comment\">//é€’å½’loopï¼Œç„¶åæ•°ç»„å»é‡</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"title function_\">loop</span>(len-<span class=\"number\">1</span>);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> array;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> <span class=\"keyword\">var</span> arr = [<span class=\"number\">1</span>,<span class=\"number\">1</span>,<span class=\"string\">&#x27;true&#x27;</span>,<span class=\"string\">&#x27;true&#x27;</span>,<span class=\"literal\">true</span>,<span class=\"literal\">true</span>,<span class=\"number\">15</span>,<span class=\"number\">15</span>,<span class=\"literal\">false</span>,<span class=\"literal\">false</span>, <span class=\"literal\">undefined</span>,<span class=\"literal\">undefined</span>, <span class=\"literal\">null</span>,<span class=\"literal\">null</span>, <span class=\"title class_\">NaN</span>, <span class=\"title class_\">NaN</span>,<span class=\"string\">&#x27;NaN&#x27;</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"string\">&#x27;a&#x27;</span>, <span class=\"string\">&#x27;a&#x27;</span>,&#123;&#125;,&#123;&#125;];</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">unique</span>(arr))<span class=\"comment\">//[1, &quot;a&quot;, &quot;true&quot;, true, 15, false, 1, &#123;â€¦&#125;, null, NaN, NaN, &quot;NaN&quot;, 0, &quot;a&quot;, &#123;â€¦&#125;, undefined]</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"åã€åˆ©ç”¨Mapæ•°æ®ç»“æ„å»é‡\"><a href=\"#åã€åˆ©ç”¨Mapæ•°æ®ç»“æ„å»é‡\" class=\"headerlink\" title=\"åã€åˆ©ç”¨Mapæ•°æ®ç»“æ„å»é‡\"></a>åã€åˆ©ç”¨Mapæ•°æ®ç»“æ„å»é‡</h2><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">arrayNonRepeatfy</span>(<span class=\"params\">arr</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> map = <span class=\"keyword\">new</span> <span class=\"title class_\">Map</span>();</span><br><span class=\"line\">  <span class=\"keyword\">let</span> array = <span class=\"keyword\">new</span> <span class=\"title class_\">Array</span>();  <span class=\"comment\">// æ•°ç»„ç”¨äºè¿”å›ç»“æœ</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; arr.<span class=\"property\">length</span>; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(map .<span class=\"title function_\">has</span>(arr[i])) &#123;  <span class=\"comment\">// å¦‚æœæœ‰è¯¥keyå€¼</span></span><br><span class=\"line\">      map .<span class=\"title function_\">set</span>(arr[i], <span class=\"literal\">true</span>); </span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123; </span><br><span class=\"line\">      map .<span class=\"title function_\">set</span>(arr[i], <span class=\"literal\">false</span>);   <span class=\"comment\">// å¦‚æœæ²¡æœ‰è¯¥keyå€¼</span></span><br><span class=\"line\">      array .<span class=\"title function_\">push</span>(arr[i]);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125; </span><br><span class=\"line\">  <span class=\"keyword\">return</span> array ;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> <span class=\"keyword\">var</span> arr = [<span class=\"number\">1</span>,<span class=\"number\">1</span>,<span class=\"string\">&#x27;true&#x27;</span>,<span class=\"string\">&#x27;true&#x27;</span>,<span class=\"literal\">true</span>,<span class=\"literal\">true</span>,<span class=\"number\">15</span>,<span class=\"number\">15</span>,<span class=\"literal\">false</span>,<span class=\"literal\">false</span>, <span class=\"literal\">undefined</span>,<span class=\"literal\">undefined</span>, <span class=\"literal\">null</span>,<span class=\"literal\">null</span>, <span class=\"title class_\">NaN</span>, <span class=\"title class_\">NaN</span>,<span class=\"string\">&#x27;NaN&#x27;</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"string\">&#x27;a&#x27;</span>, <span class=\"string\">&#x27;a&#x27;</span>,&#123;&#125;,&#123;&#125;];</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">unique</span>(arr))<span class=\"comment\">//[1, &quot;a&quot;, &quot;true&quot;, true, 15, false, 1, &#123;â€¦&#125;, null, NaN, NaN, &quot;NaN&quot;, 0, &quot;a&quot;, &#123;â€¦&#125;, undefined]</span></span><br></pre></td></tr></table></figure>\n<p>åˆ›å»ºä¸€ä¸ªç©ºMapæ•°æ®ç»“æ„ï¼Œéå†éœ€è¦å»é‡çš„æ•°ç»„ï¼ŒæŠŠæ•°ç»„çš„æ¯ä¸€ä¸ªå…ƒç´ ä½œä¸ºkeyå­˜åˆ°Mapä¸­ã€‚ç”±äºMapä¸­ä¸ä¼šå‡ºç°ç›¸åŒçš„keyå€¼ï¼Œæ‰€ä»¥æœ€ç»ˆå¾—åˆ°çš„å°±æ˜¯å»é‡åçš„ç»“æœã€‚</p>\n<h2 id=\"åä¸€ã€åˆ©ç”¨reduce-includes\"><a href=\"#åä¸€ã€åˆ©ç”¨reduce-includes\" class=\"headerlink\" title=\"åä¸€ã€åˆ©ç”¨reduce+includes\"></a>åä¸€ã€åˆ©ç”¨reduce+includes</h2><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">unique</span>(<span class=\"params\">arr</span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> arr.<span class=\"title function_\">reduce</span>(<span class=\"function\">(<span class=\"params\">prev,cur</span>) =&gt;</span> prev.<span class=\"title function_\">includes</span>(cur) ? prev : [...prev,cur],[]);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"number\">1</span>,<span class=\"number\">1</span>,<span class=\"string\">&#x27;true&#x27;</span>,<span class=\"string\">&#x27;true&#x27;</span>,<span class=\"literal\">true</span>,<span class=\"literal\">true</span>,<span class=\"number\">15</span>,<span class=\"number\">15</span>,<span class=\"literal\">false</span>,<span class=\"literal\">false</span>, <span class=\"literal\">undefined</span>,<span class=\"literal\">undefined</span>, <span class=\"literal\">null</span>,<span class=\"literal\">null</span>, <span class=\"title class_\">NaN</span>, <span class=\"title class_\">NaN</span>,<span class=\"string\">&#x27;NaN&#x27;</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"string\">&#x27;a&#x27;</span>, <span class=\"string\">&#x27;a&#x27;</span>,&#123;&#125;,&#123;&#125;];<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">unique</span>(arr));<span class=\"comment\">// [1, &quot;true&quot;, true, 15, false, undefined, null, NaN, &quot;NaN&quot;, 0, &quot;a&quot;, &#123;â€¦&#125;, &#123;â€¦&#125;]</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"åäºŒã€-â€¦new-Set-arr\"><a href=\"#åäºŒã€-â€¦new-Set-arr\" class=\"headerlink\" title=\"åäºŒã€[â€¦new Set(arr)]\"></a>åäºŒã€[â€¦new Set(arr)]</h2> <figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">[...<span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>(arr)] <span class=\"comment\">//ä»£ç å°±æ˜¯è¿™ä¹ˆå°‘----ï¼ˆå…¶å®ï¼Œä¸¥æ ¼æ¥è¯´å¹¶ä¸ç®—æ˜¯ä¸€ç§ï¼Œç›¸å¯¹äºç¬¬ä¸€ç§æ–¹æ³•æ¥è¯´åªæ˜¯ç®€åŒ–äº†ä»£ç ï¼‰</span></span><br></pre></td></tr></table></figure>\n\n\n\n\n\n"},{"title":"JS æ‰§è¡Œæœºåˆ¶","url":"/LittleWhiteRabbit/2022/04/26/js%E6%89%A7%E8%A1%8C%E6%9C%BA%E5%88%B6%E5%8F%8AeventLoop/","content":"<h1 id=\"JS-æ‰§è¡Œæœºåˆ¶\"><a href=\"#JS-æ‰§è¡Œæœºåˆ¶\" class=\"headerlink\" title=\"JS æ‰§è¡Œæœºåˆ¶\"></a>JS æ‰§è¡Œæœºåˆ¶</h1><p>js æ˜¯ä¸€é—¨<strong>å•çº¿ç¨‹è¯­è¨€</strong>ã€‚æ‰€è°“å•çº¿ç¨‹ï¼Œæ˜¯æŒ‡åœ¨ JavaScript å¼•æ“ä¸­è´Ÿè´£è§£é‡Šå’Œæ‰§è¡Œ JavaScript ä»£ç çš„çº¿ç¨‹å”¯ä¸€ï¼ŒåŒä¸€æ—¶é—´ä¸Šåªèƒ½æ‰§è¡Œä¸€ä»¶ä»»åŠ¡ã€‚     </p>\n<p>js å¼•æ“æœ‰ä¸€ä¸ªä¸»çº¿ç¨‹ï¼ˆmain threadï¼‰ç”¨æ¥è§£é‡Šå’Œæ‰§è¡Œ js ç¨‹åºï¼Œè¿˜å­˜åœ¨å…¶ä»–çš„çº¿ç¨‹ã€‚ä¾‹å¦‚ï¼šå¤„ç† ajax è¯·æ±‚çš„çº¿ç¨‹ã€å¤„ç† DOM äº‹ä»¶çš„çº¿ç¨‹ã€å®šæ—¶å™¨çº¿ç¨‹ã€è¯»å†™æ–‡ä»¶çš„çº¿ç¨‹(ä¾‹å¦‚åœ¨ node.js ä¸­)ç­‰ç­‰ã€‚è¿™äº›çº¿ç¨‹å¯èƒ½å­˜åœ¨äº js å¼•æ“ä¹‹å†…ï¼Œä¹Ÿå¯èƒ½å­˜åœ¨äº js å¼•æ“ä¹‹å¤–ï¼Œåœ¨æ­¤æˆ‘ä»¬ä¸åšåŒºåˆ†ã€‚ä¸å¦¨å«å®ƒä»¬å·¥ä½œçº¿ç¨‹ã€‚  </p>\n<p>ä¸ºä»€ä¹ˆæ˜¯ js æ˜¯å•çº¿ç¨‹çš„å‘¢ï¼Ÿè¿™æ˜¯å› ä¸º JavaScript å¯ä»¥ä¿®æ”¹ DOM ç»“æ„ï¼Œå¦‚æœ JavaScript å¼•æ“çº¿ç¨‹ä¸æ˜¯å•çº¿ç¨‹çš„ï¼Œé‚£ä¹ˆå¯ä»¥åŒæ—¶æ‰§è¡Œå¤šæ®µ JavaScriptï¼Œå¦‚æœè¿™å¤šæ®µ JavaScript éƒ½ä¿®æ”¹ DOMï¼Œé‚£ä¹ˆå°±ä¼šå‡ºç° DOM å†²çªã€‚ä¸ºäº†é¿å… DOM æ¸²æŸ“çš„å†²çªï¼Œå¯ä»¥é‡‡ç”¨å•çº¿ç¨‹æˆ–è€…æ­»é”ï¼ŒJavaScript é‡‡ç”¨äº†å•çº¿ç¨‹æ–¹æ¡ˆã€‚  </p>\n<p>ä½†å•çº¿ç¨‹æœ‰ä¸€ä¸ªé—®é¢˜ï¼šå¦‚æœä»»åŠ¡é˜Ÿåˆ—é‡Œæœ‰ä¸€ä¸ªä»»åŠ¡è€—æ—¶å¾ˆé•¿ï¼Œå¯¼è‡´è¿™ä¸ªä»»åŠ¡åé¢çš„ä»»åŠ¡ä¸€ç›´æ’é˜Ÿç­‰å¾…ï¼Œå°±ä¼šå‘ç”Ÿé¡µé¢å¡æ­»ï¼Œä¸¥é‡å½±å“ç”¨æˆ·ä½“éªŒã€‚</p>\n<span id=\"more\"></span>\n<h2 id=\"JS-æ‰§è¡Œä¸Šä¸‹æ–‡\"><a href=\"#JS-æ‰§è¡Œä¸Šä¸‹æ–‡\" class=\"headerlink\" title=\"JS æ‰§è¡Œä¸Šä¸‹æ–‡\"></a>JS æ‰§è¡Œä¸Šä¸‹æ–‡</h2><p>å½“ä»£ç è¿è¡Œæ—¶ï¼Œä¼šäº§ç”Ÿä¸€ä¸ªå¯¹åº”çš„æ‰§è¡Œç¯å¢ƒï¼Œåœ¨è¿™ä¸ªç¯å¢ƒä¸­ï¼Œæ‰€æœ‰å˜é‡ä¼šè¢«äº‹å…ˆæå‡ºæ¥ï¼ˆå˜é‡æå‡ï¼‰ï¼Œæœ‰çš„ç›´æ¥èµ‹å€¼ï¼Œæœ‰çš„ä¸ºé»˜è®¤å€¼ undefinedï¼Œä»£ç ä»ä¸Šå¾€ä¸‹å¼€å§‹æ‰§è¡Œï¼Œå°±å«åšæ‰§è¡Œä¸Šä¸‹æ–‡ã€‚</p>\n<p>ä¾‹å­ 1:å˜é‡æå‡</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">foo <span class=\"comment\">// undefined</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> foo = <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;foo1&#x27;</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">foo</span>() <span class=\"comment\">// foo1ï¼Œfooèµ‹å€¼</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> foo = <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;foo2&#x27;</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">foo</span>() <span class=\"comment\">// foo2ï¼Œfooé‡æ–°èµ‹å€¼</span></span><br></pre></td></tr></table></figure>\n\n<p>ä¾‹å­ 2ï¼šå‡½æ•°æå‡</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">foo</span>() <span class=\"comment\">// foo2</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">foo</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;foo1&#x27;</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">foo</span>() <span class=\"comment\">// foo2</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">foo</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;foo2&#x27;</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">foo</span>() <span class=\"comment\">// foo2</span></span><br></pre></td></tr></table></figure>\n\n<p>ä¾‹å­ 3ï¼šå£°æ˜ä¼˜å…ˆçº§ï¼Œå‡½æ•° &gt; å˜é‡</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">foo</span>() <span class=\"comment\">// foo2</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> foo = <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;foo1&#x27;</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">foo</span>() <span class=\"comment\">// foo1ï¼Œfooé‡æ–°èµ‹å€¼</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">foo</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;foo2&#x27;</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">foo</span>() <span class=\"comment\">// foo1</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"æ‰§è¡Œä¸Šä¸‹æ–‡ç±»å‹ã€‚\"><a href=\"#æ‰§è¡Œä¸Šä¸‹æ–‡ç±»å‹ã€‚\" class=\"headerlink\" title=\"æ‰§è¡Œä¸Šä¸‹æ–‡ç±»å‹ã€‚\"></a>æ‰§è¡Œä¸Šä¸‹æ–‡ç±»å‹ã€‚</h4><ul>\n<li><p>å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡  </p>\n<p>è¿™æ˜¯é»˜è®¤æˆ–è€…è¯´åŸºç¡€çš„ä¸Šä¸‹æ–‡ï¼Œä»»ä½•ä¸åœ¨å‡½æ•°å†…éƒ¨çš„ä»£ç éƒ½åœ¨å…¨å±€ä¸Šä¸‹æ–‡ä¸­ã€‚å®ƒä¼šæ‰§è¡Œä¸¤ä»¶äº‹ï¼šåˆ›å»ºä¸€ä¸ªå…¨å±€çš„ window å¯¹è±¡ï¼ˆæµè§ˆå™¨çš„æƒ…å†µä¸‹ï¼‰ï¼Œå¹¶ä¸”è®¾ç½® this çš„å€¼ç­‰äºè¿™ä¸ªå…¨å±€å¯¹è±¡ã€‚ä¸€ä¸ªç¨‹åºä¸­åªä¼šæœ‰ä¸€ä¸ªå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚</p>\n</li>\n<li><p>å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡  </p>\n<p>æ¯å½“ä¸€ä¸ªå‡½æ•°è¢«è°ƒç”¨æ—¶, éƒ½ä¼šä¸ºè¯¥å‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°çš„ä¸Šä¸‹æ–‡ã€‚æ¯ä¸ªå‡½æ•°éƒ½æœ‰å®ƒè‡ªå·±çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œä¸è¿‡æ˜¯åœ¨å‡½æ•°è¢«è°ƒç”¨æ—¶åˆ›å»ºçš„ã€‚å‡½æ•°ä¸Šä¸‹æ–‡å¯ä»¥æœ‰ä»»æ„å¤šä¸ªã€‚æ¯å½“ä¸€ä¸ªæ–°çš„æ‰§è¡Œä¸Šä¸‹æ–‡è¢«åˆ›å»ºï¼Œå®ƒä¼šæŒ‰å®šä¹‰çš„é¡ºåºï¼ˆå°†åœ¨åæ–‡è®¨è®ºï¼‰æ‰§è¡Œä¸€ç³»åˆ—æ­¥éª¤ã€‚</p>\n</li>\n<li><p>Eval å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡  </p>\n<p>æ‰§è¡Œåœ¨ eval å‡½æ•°å†…éƒ¨çš„ä»£ç ä¹Ÿä¼šæœ‰å®ƒå±äºè‡ªå·±çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œä½†ç”±äº JavaScript å¼€å‘è€…å¹¶ä¸ç»å¸¸ä½¿ç”¨ evalï¼Œæ‰€ä»¥åœ¨è¿™é‡Œæˆ‘ä¸ä¼šè®¨è®ºå®ƒã€‚</p>\n</li>\n</ul>\n<h4 id=\"æ‰§è¡Œä¸Šä¸‹æ–‡ç‰¹ç‚¹\"><a href=\"#æ‰§è¡Œä¸Šä¸‹æ–‡ç‰¹ç‚¹\" class=\"headerlink\" title=\"æ‰§è¡Œä¸Šä¸‹æ–‡ç‰¹ç‚¹\"></a>æ‰§è¡Œä¸Šä¸‹æ–‡ç‰¹ç‚¹</h4><ol>\n<li>å•çº¿ç¨‹ï¼Œåœ¨ä¸»è¿›ç¨‹ä¸Šè¿è¡Œ</li>\n<li>åŒæ­¥æ‰§è¡Œï¼Œä»ä¸Šå¾€ä¸‹æŒ‰é¡ºåºæ‰§è¡Œ</li>\n<li>å…¨å±€ä¸Šä¸‹æ–‡åªæœ‰ä¸€ä¸ªï¼Œæµè§ˆå™¨å…³é—­æ—¶ä¼šè¢«å¼¹å‡ºæ ˆ</li>\n<li>å‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡æ²¡æœ‰æ•°ç›®é™åˆ¶</li>\n<li>å‡½æ•°æ¯è¢«è°ƒç”¨ä¸€æ¬¡ï¼Œéƒ½ä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒ</li>\n</ol>\n<h2 id=\"æ‰§è¡Œæ ˆ\"><a href=\"#æ‰§è¡Œæ ˆ\" class=\"headerlink\" title=\"æ‰§è¡Œæ ˆ\"></a>æ‰§è¡Œæ ˆ</h2><p>JavaScript å°†ä»»åŠ¡çš„æ‰§è¡Œæ¨¡å¼åˆ†ä¸ºä¸¤ç§ï¼šåŒæ­¥å’Œå¼‚æ­¥ã€‚åŒæ­¥ä»»åŠ¡éƒ½åœ¨ä¸»çº¿ç¨‹ï¼ˆè¿™é‡Œçš„ä¸»çº¿ç¨‹å°±æ˜¯ JavaScript å¼•æ“çº¿ç¨‹ï¼‰ä¸Šæ‰§è¡Œï¼Œä¼šå½¢æˆä¸€ä¸ª è°ƒç”¨æ ˆ ï¼Œåˆç§°<strong>æ‰§è¡Œæ ˆ</strong>ã€‚  </p>\n<p>å½“JavaScriptä»£ç è¢«è¿è¡Œçš„æ—¶å€™ï¼Œä¼šåˆ›å»ºä¸€ä¸ªå…¨å±€ä¸Šä¸‹æ–‡ï¼Œå¹¶pushåˆ°å½“å‰æ‰§è¡Œæ ˆã€‚ä¹‹åå½“å‘ç”Ÿå‡½æ•°è°ƒç”¨çš„æ—¶å€™ï¼Œå¼•æ“ä¼šä¸ºå‡½æ•°åˆ›å»ºä¸€ä¸ªå‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡å¹¶pushåˆ°æ ˆé¡¶ã€‚å¼•æ“ä¼šå…ˆæ‰§è¡Œè°ƒç”¨æ ˆé¡¶éƒ¨çš„å‡½æ•°ï¼Œå½“å‡½æ•°æ‰§è¡Œå®Œæˆåï¼Œå½“å‰å‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ä¼šè¢«ç§»é™¤å½“å‰æ‰§è¡Œæ ˆã€‚å¹¶ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªä¸Šä¸‹æ–‡ã€‚  </p>\n<p>é™¤äº†ä¸»çº¿ç¨‹å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ—ï¼ˆä¹Ÿç§°æ¶ˆæ¯é˜Ÿåˆ—ï¼‰ï¼Œç”¨äºç®¡ç†å¼‚æ­¥ä»»åŠ¡çš„äº‹ä»¶å›è°ƒ ï¼Œåœ¨è°ƒç”¨æ ˆçš„ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œç³»ç»Ÿä¼šæ£€æŸ¥ä»»åŠ¡é˜Ÿåˆ—ï¼Œçœ‹æ˜¯å¦æœ‰å¯ä»¥æ‰§è¡Œçš„å¼‚æ­¥ä»»åŠ¡ã€‚</p>\n<p>å…¶å®è¿™æ˜¯ä¸€ä¸ªå‹æ ˆå‡ºæ ˆçš„è¿‡ç¨‹â€”â€”æ‰§è¡Œæ ˆã€‚</p>\n<img src=\"../img/js1.png\">\n\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> <span class=\"comment\">// 1.è¿›å…¥å…¨å±€ä¸Šä¸‹æ–‡ç¯å¢ƒ</span></span><br><span class=\"line\">  a = <span class=\"number\">10</span>,</span><br><span class=\"line\">  fn,</span><br><span class=\"line\">  bar = <span class=\"keyword\">function</span>(<span class=\"params\">x</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> b = <span class=\"number\">20</span></span><br><span class=\"line\">    <span class=\"title function_\">fn</span>(x + b) <span class=\"comment\">// 3.è¿›å…¥fnä¸Šä¸‹æ–‡ç¯å¢ƒ</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">fn = <span class=\"keyword\">function</span>(<span class=\"params\">y</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> c = <span class=\"number\">20</span></span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(y + c)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">bar</span>(<span class=\"number\">5</span>) <span class=\"comment\">// 2.è¿›å…¥barä¸Šä¸‹æ–‡ç¯å¢ƒ</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"æ‰§è¡Œä¸Šä¸‹æ–‡ç”Ÿå‘½å‘¨æœŸ\"><a href=\"#æ‰§è¡Œä¸Šä¸‹æ–‡ç”Ÿå‘½å‘¨æœŸ\" class=\"headerlink\" title=\"æ‰§è¡Œä¸Šä¸‹æ–‡ç”Ÿå‘½å‘¨æœŸ\"></a>æ‰§è¡Œä¸Šä¸‹æ–‡ç”Ÿå‘½å‘¨æœŸ</h4><img src=\"../img/js2.png\">\n\n<ul>\n<li><p>åˆ›å»ºé˜¶æ®µ</p>\n<ul>\n<li>ç”Ÿæˆå˜é‡å¯¹</li>\n<li>å»ºç«‹ä½œç”¨åŸŸ</li>\n<li>ç¡®å®š this æŒ‡å‘</li>\n</ul>\n</li>\n<li><p>æ‰§è¡Œé˜¶æ®µ</p>\n<ul>\n<li>å˜é‡èµ‹å€¼</li>\n<li>å‡½æ•°å¼•ç”¨</li>\n<li>æ‰§è¡Œå…¶ä»–ä»£ç </li>\n</ul>\n</li>\n<li><p>é”€æ¯é˜¶æ®µ</p>\n<ul>\n<li>æ‰§è¡Œå®Œæ¯•å‡ºæ ˆï¼Œç­‰å¾…å›æ”¶è¢«é”€æ¯</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"æ ˆæº¢å‡º\"><a href=\"#æ ˆæº¢å‡º\" class=\"headerlink\" title=\"æ ˆæº¢å‡º\"></a>æ ˆæº¢å‡º</h4><p>åœ¨æˆ‘ä»¬æ‰§è¡Œ JavaScript ä»£ç çš„æ—¶å€™ï¼Œæœ‰æ—¶ä¼šå‡ºç°æ ˆæº¢å‡ºçš„æƒ…å†µï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"title class_\">Uncaught</span> <span class=\"title class_\">RangeError</span>: <span class=\"title class_\">Maximum</span> call stack size exceeded</span><br></pre></td></tr></table></figure>\n<p>è¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„æ ˆæº¢å‡ºã€‚è°ƒç”¨æ ˆæ˜¯ç”¨æ¥ç®¡ç†æ‰§è¡Œä¸Šä¸‹æ–‡çš„ä¸€ç§æ•°æ®ç»“æ„ï¼Œå®ƒæ˜¯æœ‰å¤§å°çš„ï¼Œå½“å…¥æ ˆçš„ä¸Šä¸‹æ–‡è¿‡å¤šçš„æ—¶å€™ï¼Œå®ƒå°±ä¼šæŠ¥æ ˆæº¢å‡ºã€‚æ¯”å¦‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">add</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"number\">1</span> + <span class=\"title function_\">add</span>()</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">add</span>()</span><br></pre></td></tr></table></figure>\n<p>add å‡½æ•°ä¸æ–­çš„é€’å½’ï¼Œä¸æ–­çš„å…¥æ ˆï¼Œè°ƒç”¨æ ˆçš„å®¹é‡æœ‰é™ï¼Œå®ƒå°±æº¢å‡ºäº†ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬æ—¥å¸¸çš„å¼€å‘ä¸­ï¼Œä¸€å®šè¦æ³¨æ„æ­¤ç±»ä»£ç çš„å‡ºç°ã€‚</p>\n<h2 id=\"javascript-äº‹ä»¶å¾ªç¯\"><a href=\"#javascript-äº‹ä»¶å¾ªç¯\" class=\"headerlink\" title=\"javascript äº‹ä»¶å¾ªç¯\"></a>javascript äº‹ä»¶å¾ªç¯</h2><ul>\n<li>åŒæ­¥å’Œå¼‚æ­¥ä»»åŠ¡åˆ†åˆ«è¿›å…¥ä¸åŒçš„æ‰§è¡Œâ€åœºæ‰€â€ï¼ŒåŒæ­¥çš„è¿›å…¥ä¸»çº¿ç¨‹ï¼Œå¼‚æ­¥çš„è¿›å…¥ <code>Event Table</code> å¹¶æ³¨å†Œå‡½æ•°ã€‚</li>\n<li>å½“æŒ‡å®šçš„äº‹æƒ…å®Œæˆæ—¶ï¼Œ<code>Event Table</code> ä¼šå°†è¿™ä¸ªå‡½æ•°ç§»å…¥ <code>Event Queue</code>ã€‚</li>\n<li>ä¸»çº¿ç¨‹å†…çš„ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ä¸ºç©ºï¼Œä¼šå» <code>Event Queue</code> è¯»å–å¯¹åº”çš„å‡½æ•°ï¼Œè¿›å…¥ä¸»çº¿ç¨‹æ‰§è¡Œã€‚</li>\n<li>ä¸Šè¿°è¿‡ç¨‹ä¼šä¸æ–­é‡å¤ï¼Œä¹Ÿå°±æ˜¯å¸¸è¯´çš„ <code>Event Loop</code>(äº‹ä»¶å¾ªç¯)ã€‚</li>\n</ul>\n<img src=\"../img/js3.png\">\n\n<p>åŒæ­¥ä»»åŠ¡å’Œå¼‚æ­¥ä»»åŠ¡ï¼Œæˆ‘ä»¬å¯¹ä»»åŠ¡æœ‰æ›´ç²¾ç»†çš„å®šä¹‰ï¼š</p>\n<h4 id=\"macro-task-å®ä»»åŠ¡-ï¼š\"><a href=\"#macro-task-å®ä»»åŠ¡-ï¼š\" class=\"headerlink\" title=\"macro-task(å®ä»»åŠ¡)ï¼š\"></a>macro-task(å®ä»»åŠ¡)ï¼š</h4><p>æ¯æ¬¡æ‰§è¡Œæ ˆæ‰§è¡Œçš„ä»£ç å°±æ˜¯ä¸€ä¸ªå®ä»»åŠ¡(åŒ…æ‹¬æ¯æ¬¡ä»äº‹ä»¶é˜Ÿåˆ—ä¸­è·å–ä¸€ä¸ªäº‹ä»¶å›è°ƒå¹¶æ”¾åˆ°æ‰§è¡Œæ ˆä¸­æ‰§è¡Œ)ã€‚æµè§ˆå™¨ä¸ºäº†èƒ½å¤Ÿä½¿å¾— js å†…éƒ¨<code>(macro)task</code>ä¸ DOM ä»»åŠ¡èƒ½å¤Ÿæœ‰åºæ‰§è¡Œï¼Œä¼šåœ¨ä¸€ä¸ª<code>(macro)task</code>æ‰§è¡Œç»“æŸåï¼Œåœ¨ä¸‹ä¸€ä¸ª<code>(macro)task</code>æ‰§è¡Œå¼€å§‹å‰ï¼Œå¯¹é¡µé¢è¿›è¡Œé‡æ–°æ¸²æŸ“ã€‚å®ä»»åŠ¡ä¸»è¦åŒ…å«ï¼š</p>\n<ul>\n<li>script(æ•´ä½“ä»£ç )</li>\n<li>setTimeout &#x2F; setInterval</li>\n<li>setImmediate(Node.js ç¯å¢ƒ)</li>\n<li>I&#x2F;O</li>\n<li>UI render</li>\n<li>postMessage</li>\n<li>MessageChannel</li>\n</ul>\n<h4 id=\"micro-task-å¾®ä»»åŠ¡-ï¼š\"><a href=\"#micro-task-å¾®ä»»åŠ¡-ï¼š\" class=\"headerlink\" title=\"micro-task(å¾®ä»»åŠ¡)ï¼š\"></a>micro-task(å¾®ä»»åŠ¡)ï¼š</h4><p>å¯ä»¥ç†è§£æ˜¯åœ¨å½“å‰ task æ‰§è¡Œç»“æŸåç«‹å³æ‰§è¡Œçš„ä»»åŠ¡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨å½“å‰ task ä»»åŠ¡åï¼Œä¸‹ä¸€ä¸ª task ä¹‹å‰ï¼Œåœ¨æ¸²æŸ“ä¹‹å‰ã€‚æ‰€ä»¥å®ƒçš„å“åº”é€Ÿåº¦ç›¸æ¯” setTimeoutï¼ˆsetTimeout æ˜¯ taskï¼‰ä¼šæ›´å¿«ï¼Œå› ä¸ºæ— éœ€ç­‰æ¸²æŸ“ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨æŸä¸€ä¸ª macrotask æ‰§è¡Œå®Œåï¼Œå°±ä¼šå°†åœ¨å®ƒæ‰§è¡ŒæœŸé—´äº§ç”Ÿçš„æ‰€æœ‰ microtask éƒ½æ‰§è¡Œå®Œæ¯•ï¼ˆåœ¨æ¸²æŸ“å‰ï¼‰ã€‚microtask ä¸»è¦åŒ…å«ï¼š</p>\n<ul>\n<li>process.nextTick(Node.js ç¯å¢ƒ)</li>\n<li>Promise</li>\n<li>Async&#x2F;Await</li>\n<li>MutationObserver(html5 æ–°ç‰¹æ€§)</li>\n</ul>\n<img src=\"../img/eventLoop.png\" width=\"80%\">\n\n<p>æ€»çš„ç»“è®ºå°±æ˜¯ï¼Œæ‰§è¡Œå®ä»»åŠ¡ï¼Œç„¶åæ‰§è¡Œè¯¥å®ä»»åŠ¡äº§ç”Ÿçš„å¾®ä»»åŠ¡ï¼Œè‹¥å¾®ä»»åŠ¡åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­äº§ç”Ÿäº†æ–°çš„å¾®ä»»åŠ¡ï¼Œåˆ™ç»§ç»­æ‰§è¡Œå¾®ä»»åŠ¡ï¼Œå¾®ä»»åŠ¡æ‰§è¡Œå®Œæ¯•åï¼Œå†å›åˆ°å®ä»»åŠ¡ä¸­è¿›è¡Œä¸‹ä¸€è½®å¾ªç¯ã€‚</p>\n<h4 id=\"ä¸¾ä¸ªä¾‹å­\"><a href=\"#ä¸¾ä¸ªä¾‹å­\" class=\"headerlink\" title=\"ä¸¾ä¸ªä¾‹å­\"></a>ä¸¾ä¸ªä¾‹å­</h4><p>æˆ‘ä»¬æ¥åˆ†æä¸€æ®µè¾ƒå¤æ‚çš„ä»£ç ï¼Œçœ‹çœ‹ä½ æ˜¯å¦çœŸçš„æŒæ¡äº† js çš„æ‰§è¡Œæœºåˆ¶ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;1&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">setTimeout</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;2&#x27;</span>)</span><br><span class=\"line\">  process.<span class=\"title function_\">nextTick</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;3&#x27;</span>)</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">  <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"keyword\">function</span>(<span class=\"params\">resolve</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;4&#x27;</span>)</span><br><span class=\"line\">    <span class=\"title function_\">resolve</span>()</span><br><span class=\"line\">  &#125;).<span class=\"title function_\">then</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;5&#x27;</span>)</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">process.<span class=\"title function_\">nextTick</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;6&#x27;</span>)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"keyword\">function</span>(<span class=\"params\">resolve</span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;7&#x27;</span>)</span><br><span class=\"line\">  <span class=\"title function_\">resolve</span>()</span><br><span class=\"line\">&#125;).<span class=\"title function_\">then</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;8&#x27;</span>)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">setTimeout</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;9&#x27;</span>)</span><br><span class=\"line\">  process.<span class=\"title function_\">nextTick</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;10&#x27;</span>)</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">  <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"keyword\">function</span>(<span class=\"params\">resolve</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;11&#x27;</span>)</span><br><span class=\"line\">    <span class=\"title function_\">resolve</span>()</span><br><span class=\"line\">  &#125;).<span class=\"title function_\">then</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;12&#x27;</span>)</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 1,7,8,2,4,5,6,3,9,11,12,10</span></span><br></pre></td></tr></table></figure>\n\n<p>å†æ¥ä¸€æ®µ</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">async1</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;async1 start&#x27;</span>)</span><br><span class=\"line\">  <span class=\"keyword\">await</span> <span class=\"title function_\">async2</span>()</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;async1 end&#x27;</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">async2</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;async2&#x27;</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;script start&#x27;</span>)</span><br><span class=\"line\"><span class=\"built_in\">setTimeout</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;setTimeout&#x27;</span>)</span><br><span class=\"line\">&#125;, <span class=\"number\">0</span>)</span><br><span class=\"line\"><span class=\"title function_\">async1</span>()</span><br><span class=\"line\"><span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"keyword\">function</span>(<span class=\"params\">resolve</span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;promise1&#x27;</span>)</span><br><span class=\"line\">  <span class=\"title function_\">resolve</span>()</span><br><span class=\"line\">&#125;).<span class=\"title function_\">then</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;promise2&#x27;</span>)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;script end&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// script start</span></span><br><span class=\"line\"><span class=\"comment\">// async1 start</span></span><br><span class=\"line\"><span class=\"comment\">// async2</span></span><br><span class=\"line\"><span class=\"comment\">// promise1</span></span><br><span class=\"line\"><span class=\"comment\">// script end</span></span><br><span class=\"line\"><span class=\"comment\">// async1 end</span></span><br><span class=\"line\"><span class=\"comment\">// promise2</span></span><br><span class=\"line\"><span class=\"comment\">// setTimeout</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"node-çš„äº‹ä»¶å¾ªç¯\"><a href=\"#node-çš„äº‹ä»¶å¾ªç¯\" class=\"headerlink\" title=\"node çš„äº‹ä»¶å¾ªç¯\"></a>node çš„äº‹ä»¶å¾ªç¯</h3><ul>\n<li>timers å®šæ—¶å™¨ï¼šæœ¬é˜¶æ®µæ‰§è¡Œå·²ç»å®‰æ’çš„ setTimeout() å’Œ setInterval() çš„å›è°ƒå‡½æ•°ã€‚</li>\n<li>pending callbacks å¾…å®šå›è°ƒï¼šæ‰§è¡Œå»¶è¿Ÿåˆ°ä¸‹ä¸€ä¸ªå¾ªç¯è¿­ä»£çš„ I&#x2F;O å›è°ƒã€‚</li>\n<li>idle, prepareï¼šä»…ç³»ç»Ÿå†…éƒ¨ä½¿ç”¨ã€‚</li>\n<li>poll è½®è¯¢ï¼šæ£€ç´¢æ–°çš„ I&#x2F;O äº‹ä»¶;æ‰§è¡Œä¸ I&#x2F;O ç›¸å…³çš„å›è°ƒï¼ˆå‡ ä¹æ‰€æœ‰æƒ…å†µä¸‹ï¼Œé™¤äº†å…³é—­çš„å›è°ƒå‡½æ•°ï¼Œå®ƒä»¬ç”±è®¡æ—¶å™¨å’Œ setImmediate() æ’å®šçš„ä¹‹å¤–ï¼‰ï¼Œå…¶ä½™æƒ…å†µ node å°†åœ¨æ­¤å¤„é˜»å¡ã€‚</li>\n<li>check æ£€æµ‹ï¼šsetImmediate() å›è°ƒå‡½æ•°åœ¨è¿™é‡Œæ‰§è¡Œã€‚</li>\n<li>close callbacks å…³é—­çš„å›è°ƒå‡½æ•°ï¼šä¸€äº›å‡†å¤‡å…³é—­çš„å›è°ƒå‡½æ•°ï¼Œå¦‚ï¼šsocket.on(â€˜closeâ€™, â€¦)ã€‚</li>\n</ul>\n<h4 id=\"å¾®ä»»åŠ¡å’Œå®ä»»åŠ¡åœ¨-Node-çš„æ‰§è¡Œé¡ºåº\"><a href=\"#å¾®ä»»åŠ¡å’Œå®ä»»åŠ¡åœ¨-Node-çš„æ‰§è¡Œé¡ºåº\" class=\"headerlink\" title=\"å¾®ä»»åŠ¡å’Œå®ä»»åŠ¡åœ¨ Node çš„æ‰§è¡Œé¡ºåº\"></a>å¾®ä»»åŠ¡å’Œå®ä»»åŠ¡åœ¨ Node çš„æ‰§è¡Œé¡ºåº</h4><p>Node 10 ä»¥å‰ï¼š</p>\n<ul>\n<li>æ‰§è¡Œå®Œä¸€ä¸ªé˜¶æ®µçš„æ‰€æœ‰ä»»åŠ¡</li>\n<li>æ‰§è¡Œå®Œ nextTick é˜Ÿåˆ—é‡Œé¢çš„å†…å®¹</li>\n<li>ç„¶åæ‰§è¡Œå®Œå¾®ä»»åŠ¡é˜Ÿåˆ—çš„å†…å®¹</li>\n</ul>\n<p>Node 11 ä»¥åï¼š</p>\n<ul>\n<li>å’Œæµè§ˆå™¨çš„è¡Œä¸ºç»Ÿä¸€äº†ï¼Œéƒ½æ˜¯æ¯æ‰§è¡Œä¸€ä¸ªå®ä»»åŠ¡å°±æ‰§è¡Œå®Œå¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚</li>\n</ul>\n<h2 id=\"node-ç¯å¢ƒå’Œæµè§ˆå™¨çš„åŒºåˆ«\"><a href=\"#node-ç¯å¢ƒå’Œæµè§ˆå™¨çš„åŒºåˆ«\" class=\"headerlink\" title=\"node ç¯å¢ƒå’Œæµè§ˆå™¨çš„åŒºåˆ«\"></a>node ç¯å¢ƒå’Œæµè§ˆå™¨çš„åŒºåˆ«</h2><h4 id=\"1ã€å…¨å±€ç¯å¢ƒä¸‹-this-çš„æŒ‡å‘\"><a href=\"#1ã€å…¨å±€ç¯å¢ƒä¸‹-this-çš„æŒ‡å‘\" class=\"headerlink\" title=\"1ã€å…¨å±€ç¯å¢ƒä¸‹ this çš„æŒ‡å‘\"></a>1ã€å…¨å±€ç¯å¢ƒä¸‹ this çš„æŒ‡å‘</h4><ul>\n<li>node ä¸­ this æŒ‡å‘ global</li>\n<li>æµè§ˆå™¨ä¸­ this æŒ‡å‘ window</li>\n<li>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ underscore ä¸­ä¸€ä¸Šæ¥å°±å®šä¹‰äº†ä¸€ rootï¼›</li>\n</ul>\n<p>æµè§ˆå™¨ä¸­çš„ window ä¸‹å°è£…äº†ä¸å°‘çš„ API æ¯”å¦‚ alert ã€documentã€locationã€history ç­‰ç­‰è¿˜æœ‰å¾ˆå¤š, æˆ‘ä»¬å°±ä¸èƒ½åœ¨ node ç¯å¢ƒä¸­ xxx();æˆ– window.xxx();äº†ã€‚å› ä¸ºè¿™äº› API æ˜¯æµè§ˆå™¨çº§åˆ«çš„å°è£…ï¼Œå­˜ javascript ä¸­æ˜¯æ²¡æœ‰çš„ã€‚å½“ç„¶ node ä¸­ä¹Ÿæä¾›äº†ä¸å°‘ node ç‰¹æœ‰çš„ APIã€‚</p>\n<h4 id=\"2ã€js-å¼•æ“\"><a href=\"#2ã€js-å¼•æ“\" class=\"headerlink\" title=\"2ã€js å¼•æ“\"></a>2ã€js å¼•æ“</h4><ul>\n<li><p>åœ¨æµè§ˆå™¨ä¸­ä¸åŒçš„æµè§ˆå™¨å‚å•†æä¾›äº†ä¸åŒçš„æµè§ˆå™¨å†…æ ¸ï¼Œæµè§ˆå™¨ä¾èµ–è¿™äº›å†…æ ¸è§£é‡ŠæŠ˜æˆ‘ä»¬ç¼–å†™çš„ jsã€‚ä½†æ˜¯è€ƒè™‘åˆ°ä¸åŒå†…æ ¸çš„å°‘é‡å·®å¼‚ï¼Œæˆ‘ä»¬éœ€è¦å¯¹åº”å…¼å®¹æ€§å¥½åœ¨æœ‰ä¸€äº›ä¼˜ç§€çš„åº“å¸®åŠ©æˆ‘ä»¬å¤„ç†è¿™ä¸ªé—®é¢˜ã€‚æ¯”å¦‚ jqueryã€underscore ç­‰ç­‰ã€‚</p>\n</li>\n<li><p>nodejs æ˜¯åŸºäº Chromeâ€™s JavaScript runtimeï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå®é™…ä¸Šå®ƒæ˜¯å¯¹ GoogleV8 å¼•æ“ï¼ˆåº”ç”¨äº Google Chrome æµè§ˆå™¨)è¿›è¡Œäº†å°è£…ã€‚V8 å¼• æ“æ‰§è¡Œ Javascript çš„é€Ÿåº¦éå¸¸å¿«ï¼Œæ€§èƒ½éå¸¸å¥½ã€‚</p>\n</li>\n</ul>\n<h4 id=\"3ã€DOM-æ“ä½œ\"><a href=\"#3ã€DOM-æ“ä½œ\" class=\"headerlink\" title=\"3ã€DOM æ“ä½œ\"></a>3ã€DOM æ“ä½œ</h4><ul>\n<li>æµè§ˆå™¨ä¸­çš„ js å¤§å¤šæ•°æƒ…å†µä¸‹æ˜¯åœ¨ç›´æ¥æˆ–é—´æ¥ï¼ˆä¸€äº›è™šæ‹Ÿ DOM çš„åº“å’Œæ¡†æ¶ï¼‰çš„æ“ä½œ DOMã€‚å› ä¸ºæµè§ˆå™¨ä¸­çš„ä»£ç ä¸»è¦æ˜¯åœ¨è¡¨ç°å±‚å·¥ä½œã€‚</li>\n<li>node æ˜¯ä¸€é—¨æœåŠ¡ç«¯æŠ€æœ¯ã€‚æ²¡æœ‰ä¸€ä¸ªå‰å°é¡µé¢ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸ä¼šå† node ä¸­æ“ä½œ DOMã€‚</li>\n</ul>\n<h4 id=\"4ã€I-x2F-O-è¯»å†™\"><a href=\"#4ã€I-x2F-O-è¯»å†™\" class=\"headerlink\" title=\"4ã€I&#x2F;O è¯»å†™\"></a>4ã€I&#x2F;O è¯»å†™</h4><p>ä¸æµè§ˆå™¨ä¸åŒï¼Œæˆ‘ä»¬éœ€è¦åƒå…¶ä»–æœåŠ¡ç«¯æŠ€æœ¯ä¸€æ ·è¯»å†™æ–‡ä»¶ï¼Œnodejs æä¾›äº†æ¯”è¾ƒæ–¹ä¾¿çš„ç»„ä»¶ã€‚è€Œæµè§ˆå™¨ï¼ˆç¡®ä¿å…¼å®¹æ€§çš„ï¼‰æƒ³åœ¨é¡µé¢ä¸­ç›´æ¥æ‰“å¼€ä¸€ä¸ªæœ¬åœ°çš„å›¾ç‰‡å°±éº»çƒ¦äº†å¥½å¤šï¼ˆåˆ«å’Œæˆ‘è¯´è¿™è¿˜ä¸ç®€å•ï¼Œç›¸å¯¹è·¯å¾„ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚è¯•è¯•å°±çŸ¥é“äº†è¦ä¹ˆæ‰¾ä¸ªåº“è¦ä¹ˆäºŒè¿›åˆ¶æµï¼Œè¦ä¹ˆä¸Šä¼ ä¸Šå»æœ‰äº†ç½‘ç»œåœ°å€åœ¨æ˜¾ç¤ºã€‚ä¸ç„¶äººå®¶ä¸ºä»€ä¹ˆè¦æä¸€ä¸ª js åº“å‘¢ï¼‰ï¼Œè€Œè¿™ä¸€åˆ‡ node éƒ½ç”¨ä¸€ä¸ªç»„ä»¶æå®šäº†ã€‚</p>\n<h4 id=\"5ã€æ¨¡å—åŠ è½½\"><a href=\"#5ã€æ¨¡å—åŠ è½½\" class=\"headerlink\" title=\"5ã€æ¨¡å—åŠ è½½\"></a>5ã€æ¨¡å—åŠ è½½</h4><ul>\n<li><p>javascript æœ‰ä¸ªç‰¹ç‚¹ï¼Œå°±æ˜¯åŸç”Ÿæ²¡æä¾›åŒ…å¼•ç”¨çš„ API ä¸€æ¬¡æ€§æŠŠè¦åŠ è½½çš„ä¸œè¥¿å…¨æ‰§è¡Œä¸€éï¼Œè¿™é‡Œå°±è¦çœ‹å„ä½é—­åŒ…çš„åŠŸåŠ›äº†ã€‚æ‰€ç”¨ä¸œè¥¿éƒ½åœ¨ä¸€èµ·ï¼Œæ²¡æœ‰åˆ†è€Œæ²»ä¹‹ï¼Œæçš„ç‰¹åˆ«æ²¡æœ‰é€»è¾‘æ€§å’Œå¤ç”¨æ€§ã€‚å¦‚æœé¡µé¢ç®€å•æˆ–ç½‘ç«™å½“ç„¶æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€äº› AMDã€CMD çš„ js åº“ï¼ˆæ¯”å¦‚ requireJS å’Œ seaJSï¼‰æå®šäº‹å®ä¸Šå¾ˆå¤šå¤§å‹ç½‘ç«™éƒ½æ˜¯è¿™ä¹ˆå¹²çš„ã€‚</p>\n</li>\n<li><p>nodeJS ä¸­æä¾›äº† CMD çš„æ¨¡å—åŠ è½½çš„ APIï¼Œå¦‚æœä½ ç”¨è¿‡ seaJSï¼Œé‚£ä¹ˆåº”è¯¥ä¸Šæ‰‹å¾ˆå¿«ã€‚node è¿˜æä¾›äº† npm è¿™ç§åŒ…ç®¡ç†å·¥å…·ï¼Œèƒ½æ›´æœ‰æ•ˆæ–¹ä¾¿çš„ç®¡ç†æˆ‘ä»¬é¥®ç”¨çš„åº“</p>\n</li>\n</ul>\n<h3 id=\"å‚è€ƒæ–‡çŒ®\"><a href=\"#å‚è€ƒæ–‡çŒ®\" class=\"headerlink\" title=\"å‚è€ƒæ–‡çŒ®\"></a>å‚è€ƒæ–‡çŒ®</h3><p><a href=\"https://juejin.im/post/5c337ae06fb9a049bc4cd218\">æµè§ˆå™¨ä¸Nodeçš„äº‹ä»¶å¾ªç¯(Event Loop)æœ‰ä½•åŒºåˆ«?</a>  </p>\n"},{"title":"JS å¼‚æ­¥å¤„ç†","url":"/LittleWhiteRabbit/2022/04/26/js%E5%BC%82%E6%AD%A5%E5%A4%84%E7%90%86/","content":"<p>javascriptè¯­è¨€çš„æ‰§è¡Œç¯å¢ƒæ˜¯<strong>å•çº¿ç¨‹</strong>ï¼ˆsingle threadï¼‰ï¼Œå°±æ˜¯æŒ‡ä¸€æ¬¡åªèƒ½å®Œæˆä¸€ä»¶ä»»åŠ¡ã€‚å¦‚æœæœ‰å¤šä¸ªä»»åŠ¡ï¼Œå°±å¿…é¡»æ’é˜Ÿï¼Œå‰é¢ä¸€ä¸ªä»»åŠ¡å®Œæˆï¼Œå†æ‰§è¡Œåé¢ä¸€ä¸ªä»»åŠ¡ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p>\n<p>è¿™ç§æ¨¡å¼çš„å¥½å¤„æ˜¯å®ç°èµ·æ¥æ¯”è¾ƒç®€å•ï¼Œæ‰§è¡Œç¯å¢ƒç›¸å¯¹å•çº¯ï¼›ä½†æ˜¯åªè¦è€—æ—¶æ¯”è¾ƒå¤šï¼Œå‡å¦‚æœ‰ä¸€ä¸ªä»»åŠ¡è€—æ—¶å¾ˆé•¿ï¼Œåé¢çš„ä»»åŠ¡éƒ½å¿…é¡»æ’é˜Ÿç­‰ç€ï¼Œä¼šæ‹–å»¶æ•´ä¸ªç¨‹åºçš„æ‰§è¡Œã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒJavascriptè¯­è¨€å°†ä»»åŠ¡çš„æ‰§è¡Œæ¨¡å¼åˆ†æˆä¸¤ç§ï¼šåŒæ­¥ï¼ˆSynchronousï¼‰å’Œå¼‚æ­¥ï¼ˆAsynchronousï¼‰ã€‚  </p>\n<span id=\"more\"></span>\n<ul>\n<li><strong>åŒæ­¥æ¨¡å¼</strong>: å°±æ˜¯ä¸€ä¸ªä»»åŠ¡å…ˆæ‰§è¡Œï¼Œåä¸€ä¸ªä»»åŠ¡ç­‰å¾…å‰ä¸€ä¸ªä»»åŠ¡ç»“æŸï¼Œç„¶åå†æ‰§è¡Œï¼Œç¨‹åºçš„æ‰§è¡Œé¡ºåºä¸ä»»åŠ¡çš„æ’åˆ—é¡ºåºæ˜¯ä¸€è‡´çš„ã€åŒæ­¥çš„ï¼›</li>\n<li><strong>å¼‚æ­¥æ¨¡å¼</strong>: æ¯ä¸€ä¸ªä»»åŠ¡æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªå›è°ƒå‡½æ•°ï¼ˆcallbackï¼‰ï¼Œå‰ä¸€ä¸ªä»»åŠ¡ç»“æŸåï¼Œä¸æ˜¯æ‰§è¡Œåä¸€ä¸ªä»»åŠ¡ï¼Œè€Œæ˜¯æ‰§è¡Œå›è°ƒå‡½æ•°ï¼Œåä¸€ä¸ªä»»åŠ¡åˆ™æ˜¯ä¸ç­‰å‰ä¸€ä¸ªä»»åŠ¡ç»“æŸå°±æ‰§è¡Œï¼Œæ‰€ä»¥ç¨‹åºçš„æ‰§è¡Œé¡ºåºä¸ä»»åŠ¡çš„æ’åˆ—é¡ºåºæ˜¯ä¸ä¸€è‡´çš„ã€å¼‚æ­¥çš„ã€‚</li>\n</ul>\n<p>Javascriptå¤„ç†å¼‚æ­¥çš„æ–¹æ³•æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p>\n<h3 id=\"å›è°ƒå‡½æ•°\"><a href=\"#å›è°ƒå‡½æ•°\" class=\"headerlink\" title=\"å›è°ƒå‡½æ•°\"></a>å›è°ƒå‡½æ•°</h3><p>å›è°ƒæ˜¯ä¸€ä¸ªå‡½æ•°è¢«ä½œä¸ºä¸€ä¸ªå‚æ•°ä¼ é€’åˆ°å¦ä¸€ä¸ªå‡½æ•°é‡Œï¼Œåœ¨é‚£ä¸ªå‡½æ•°æ‰§è¡Œå®Œåå†æ‰§è¡Œã€‚å›è°ƒå‡½æ•°æ˜¯å¼‚æ­¥ç¼–ç¨‹æœ€åŸºæœ¬çš„æ–¹æ³•ï¼Œå…¶ä¼˜ç‚¹æ˜¯ç®€å•ã€å®¹æ˜“ç†è§£å’Œéƒ¨ç½²ï¼›ç¼ºç‚¹æ˜¯å®¹æ˜“äº§ç”Ÿå›è°ƒåœ°ç‹±ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">ajax</span>(<span class=\"string\">&#x27;XXX1&#x27;</span>, <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// callback å‡½æ•°ä½“</span></span><br><span class=\"line\">  <span class=\"title function_\">ajax</span>(<span class=\"string\">&#x27;XXX2&#x27;</span>, <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// callback å‡½æ•°ä½“</span></span><br><span class=\"line\">    <span class=\"title function_\">ajax</span>(<span class=\"string\">&#x27;XXX3&#x27;</span>, <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">// callback å‡½æ•°ä½“</span></span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<p>è¿™å°±æ˜¯æ‰€è°“çš„å›è°ƒåœ°ç‹±ï¼Œå›è°ƒåœ°ç‹±å¸¦æ¥çš„è´Ÿé¢ä½œç”¨æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š</p>\n<ul>\n<li>ä»£ç è‡ƒè‚¿ï¼Œå¯è¯»æ€§å·®ï¼Œå¯ç»´æŠ¤æ€§å·®ã€‚</li>\n<li>ä»£ç å¤ç”¨æ€§å·®ã€‚</li>\n<li>å®¹æ˜“æ»‹ç”Ÿ bugã€‚</li>\n<li>åªèƒ½åœ¨å›è°ƒé‡Œå¤„ç†å¼‚å¸¸ã€‚</li>\n</ul>\n<h3 id=\"äº‹ä»¶ç›‘å¬\"><a href=\"#äº‹ä»¶ç›‘å¬\" class=\"headerlink\" title=\"äº‹ä»¶ç›‘å¬\"></a>äº‹ä»¶ç›‘å¬</h3><p>è¿™ç§æ–¹å¼ï¼Œå¼‚æ­¥ä»»åŠ¡çš„æ‰§è¡Œä¸å–å†³äºä»£ç çš„é¡ºåºï¼Œè€Œå–å†³äºæŸä¸ªäº‹ä»¶æ˜¯å¦å‘ç”Ÿã€‚  </p>\n<ol>\n<li><p>æ™®é€šæ–¹å¼</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">f1.<span class=\"title function_\">on</span>(<span class=\"string\">&#x27;done&#x27;</span>, f2);</span><br></pre></td></tr></table></figure>\n<p>ä¸Šé¢è¿™è¡Œä»£ç çš„æ„æ€æ˜¯ï¼Œå½“f1å‘ç”Ÿdoneäº‹ä»¶ï¼Œå°±æ‰§è¡Œf2ã€‚</p>\n</li>\n<li><p>onclickæ–¹æ³•</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">element.<span class=\"property\">onclick</span>=<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">   <span class=\"comment\">//å¤„ç†å‡½æ•°</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">element.<span class=\"property\">onclick</span>=handler1;</span><br><span class=\"line\">element.<span class=\"property\">onclick</span>=handler2;</span><br><span class=\"line\">element.<span class=\"property\">onclick</span>=handler3;</span><br><span class=\"line\"><span class=\"comment\">// åªæœ‰handler3ä¼šè¢«æ·»åŠ æ‰§è¡Œ</span></span><br></pre></td></tr></table></figure></li>\n</ol>\n<ul>\n<li>ä¼˜ç‚¹ï¼šå†™æ³•å…¼å®¹åˆ°ä¸»æµæµè§ˆå™¨;</li>\n<li>ç¼ºç‚¹ï¼šå½“åŒä¸€ä¸ªelementå…ƒç´ ç»‘å®šå¤šä¸ªäº‹ä»¶æ—¶ï¼Œåªæœ‰æœ€åä¸€ä¸ªäº‹ä»¶ä¼šè¢«æ·»åŠ </li>\n</ul>\n<ol start=\"3\">\n<li>addEvenListener<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">elment.<span class=\"title function_\">addEvenListener</span>(<span class=\"string\">&quot;click&quot;</span>,handler1,<span class=\"literal\">false</span>);</span><br><span class=\"line\">elment.<span class=\"title function_\">addEvenListener</span>(<span class=\"string\">&quot;click&quot;</span>,handler2,<span class=\"literal\">false</span>);</span><br><span class=\"line\">elment.<span class=\"title function_\">addEvenListener</span>(<span class=\"string\">&quot;click&quot;</span>,handler3,<span class=\"literal\">false</span>);</span><br></pre></td></tr></table></figure>\nè¯¥æ–¹æ³•çš„ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼šå½“ä¸ºfalseæ—¶è¡¨ç¤ºç”±é‡Œå‘å¤–ï¼Œtrueè¡¨ç¤ºç”±å¤–å‘é‡Œã€‚</li>\n</ol>\n<h3 id=\"å‘å¸ƒ-x2F-è®¢é˜…æ¨¡å¼\"><a href=\"#å‘å¸ƒ-x2F-è®¢é˜…æ¨¡å¼\" class=\"headerlink\" title=\"å‘å¸ƒ&#x2F;è®¢é˜…æ¨¡å¼\"></a>å‘å¸ƒ&#x2F;è®¢é˜…æ¨¡å¼</h3><p>æˆ‘ä»¬å‡å®šï¼Œå­˜åœ¨ä¸€ä¸ªâ€ä¿¡å·ä¸­å¿ƒâ€ï¼ŒæŸä¸ªä»»åŠ¡æ‰§è¡Œå®Œæˆï¼Œå°±å‘ä¿¡å·ä¸­å¿ƒâ€å‘å¸ƒâ€ï¼ˆpublishï¼‰ä¸€ä¸ªä¿¡å·ï¼Œå…¶ä»–ä»»åŠ¡å¯ä»¥å‘ä¿¡å·ä¸­å¿ƒâ€è®¢é˜…â€ï¼ˆsubscribeï¼‰è¿™ä¸ªä¿¡å·ï¼Œä»è€ŒçŸ¥é“ä»€ä¹ˆæ—¶å€™è‡ªå·±å¯ä»¥å¼€å§‹æ‰§è¡Œã€‚è¿™å°±å«åšâ€å‘å¸ƒ&#x2F;è®¢é˜…æ¨¡å¼â€ï¼ˆpublish-subscribe patternï¼‰  </p>\n<p>é¦–å…ˆï¼Œf2å‘ä¿¡å·ä¸­å¿ƒjQueryè®¢é˜…doneä¿¡å·ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">jQuery.<span class=\"title function_\">subscribe</span>(<span class=\"string\">&#x27;done&#x27;</span>, f2);</span><br></pre></td></tr></table></figure>\n\n<p>ç„¶åï¼Œf1è¿›è¡Œå¦‚ä¸‹æ”¹å†™ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">f1</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">setTimeout</span>(<span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    jQuery.<span class=\"title function_\">publish</span>(<span class=\"string\">&#x27;done&#x27;</span>);</span><br><span class=\"line\">  &#125;, <span class=\"number\">1000</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>f1æ‰§è¡Œå®Œæˆåï¼Œå‘ä¿¡å·ä¸­å¿ƒjQueryå‘å¸ƒdoneä¿¡å·ï¼Œä»è€Œå¼•å‘f2çš„æ‰§è¡Œã€‚f2å®Œæˆæ‰§è¡Œåï¼Œå¯ä»¥å–æ¶ˆè®¢é˜…ï¼ˆunsubscribeï¼‰</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">jQuery.<span class=\"title function_\">unsubscribe</span>(<span class=\"string\">&#x27;done&#x27;</span>, f2);</span><br></pre></td></tr></table></figure>\n<p>è¿™ç§æ–¹å¼çš„ä¼˜ç‚¹ï¼šå¯ä»¥é€šè¿‡æŸ¥çœ‹â€œæ¶ˆæ¯ä¸­å¿ƒâ€ï¼Œäº†è§£å­˜åœ¨å¤šå°‘ä¿¡å·ã€æ¯ä¸ªä¿¡å·æœ‰å¤šå°‘è®¢é˜…è€…ï¼Œä»è€Œç›‘æ§ç¨‹åºçš„è¿è¡Œã€‚</p>\n<h3 id=\"promise\"><a href=\"#promise\" class=\"headerlink\" title=\"promise\"></a>promise</h3><p>ä»¥ä¸Šéƒ½æ˜¯ES6ä¹‹å‰çš„å¼‚æ­¥å¤„ç†æ–¹å¼ã€‚ES6ä¹‹åå‡ºç°äº†promiseã€‚å®ƒæ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œæ¯”ä¼ ç»Ÿçš„è§£å†³æ–¹æ¡ˆ(å›è°ƒå‡½æ•°)â€”â€”æ›´åˆç†å’Œæ›´å¼ºå¤§ã€‚  </p>\n<p>Promise å¯¹è±¡æœ‰ä»¥ä¸‹ä¸¤ä¸ªç‰¹ç‚¹ã€‚</p>\n<ol>\n<li>å¯¹è±¡çš„çŠ¶æ€ä¸å—å¤–ç•Œå½±å“ã€‚Promise å¯¹è±¡ä»£è¡¨ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼Œæœ‰ä¸‰ç§çŠ¶æ€ï¼š<code>pending</code>ï¼ˆè¿›è¡Œä¸­ï¼‰ã€<code>fulfilled</code>ï¼ˆå·²æˆåŠŸï¼‰å’Œ<code>rejected</code>ï¼ˆå·²å¤±è´¥ï¼‰ã€‚åªæœ‰å¼‚æ­¥æ“ä½œçš„ç»“æœï¼Œå¯ä»¥å†³å®šå½“å‰æ˜¯å“ªä¸€ç§çŠ¶æ€ï¼Œä»»ä½•å…¶ä»–æ“ä½œéƒ½æ— æ³•æ”¹å˜è¿™ä¸ªçŠ¶æ€ã€‚</li>\n<li>ä¸€æ—¦çŠ¶æ€æ”¹å˜ï¼Œå°±ä¸ä¼šå†å˜ï¼Œä»»ä½•æ—¶å€™éƒ½å¯ä»¥å¾—åˆ°è¿™ä¸ªç»“æœ</li>\n</ol>\n<h4 id=\"åŸºæœ¬ç”¨æ³•\"><a href=\"#åŸºæœ¬ç”¨æ³•\" class=\"headerlink\" title=\"åŸºæœ¬ç”¨æ³•\"></a>åŸºæœ¬ç”¨æ³•</h4><ol>\n<li>ES6 è§„å®šï¼ŒPromise å¯¹è±¡æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œç”¨æ¥ç”Ÿæˆ Promise å®ä¾‹ã€‚</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> promise = <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"comment\">/* å¼‚æ­¥æ“ä½œæˆåŠŸ */</span>)&#123;</span><br><span class=\"line\">    <span class=\"title function_\">resolve</span>(success)</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"title function_\">reject</span>(error)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<p>Promiseæ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œå‡½æ•°é‡Œæœ‰resolveå’Œrejectä¸¤ä¸ªå‚æ•°:  </p>\n<ul>\n<li><code>resolve</code>æ–¹æ³•çš„ä½œç”¨æ˜¯å°†<code>Promise</code>çš„<code>pending</code>çŠ¶æ€å˜ä¸º<code>fullfilled</code>ï¼Œåœ¨å¼‚æ­¥æ“ä½œæˆåŠŸä¹‹åè°ƒç”¨ï¼Œå¯ä»¥å°†å¼‚æ­¥è¿”å›çš„ç»“æœä½œä¸ºå‚æ•°ä¼ é€’å‡ºå»ã€‚</li>\n<li><code>reject</code>æ–¹æ³•çš„ä½œç”¨æ˜¯å°†<code>Promise</code>çš„<code>pending</code>çŠ¶æ€å˜ä¸º<code>rejected</code>ï¼Œåœ¨å¼‚æ­¥æ“ä½œå¤±è´¥ä¹‹åè°ƒç”¨ï¼Œå¯ä»¥å°†å¼‚æ­¥è¿”å›çš„ç»“æœä½œä¸ºå‚æ•°ä¼ é€’å‡ºå»ã€‚</li>\n<li>ä»–ä»¬ä¹‹é—´åªèƒ½æœ‰ä¸€ä¸ªè¢«æ‰§è¡Œï¼Œä¸ä¼šåŒæ—¶è¢«æ‰§è¡Œï¼Œå› ä¸ºPromiseåªèƒ½ä¿æŒä¸€ç§çŠ¶æ€ã€‚</li>\n</ul>\n<ol start=\"2\">\n<li>Promise å®ä¾‹ç”Ÿæˆä»¥åï¼Œå¯ä»¥ç”¨<code>then</code>æ–¹æ³•åˆ†åˆ«æŒ‡å®š<code>resolved</code>çŠ¶æ€å’Œ<code>rejected</code>çŠ¶æ€çš„å›è°ƒå‡½æ•°ã€‚</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">promise.<span class=\"title function_\">then</span>(<span class=\"function\">(<span class=\"params\">success</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// å¯¹åº”äºä¸Šé¢çš„resolve(success)æ–¹æ³•</span></span><br><span class=\"line\">&#125;, <span class=\"function\">(<span class=\"params\">error</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// å¯¹åº”äºä¸Šé¢çš„reject(error)æ–¹æ³•</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è¿˜å¯ä»¥å†™æˆè¿™æ · (æ¨èä½¿ç”¨è¿™ç§å†™æ³•)</span></span><br><span class=\"line\">promise.<span class=\"title function_\">then</span>(<span class=\"function\">(<span class=\"params\">success</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// å¯¹åº”äºä¸Šé¢çš„resolve(success)æ–¹æ³•</span></span><br><span class=\"line\">&#125;).<span class=\"title function_\">catch</span>(<span class=\"function\">(<span class=\"params\">error</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// å¯¹åº”äºä¸Šé¢çš„reject(error)æ–¹æ³•</span></span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<p><code>then(onfulfilled,onrejected)</code>æ–¹æ³•ä¸­æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œä¸¤ä¸ªå‚æ•°éƒ½æ˜¯å‡½æ•°ï¼š</p>\n<ul>\n<li>ç¬¬ä¸€ä¸ªå‚æ•°æ‰§è¡Œçš„æ˜¯<code>resolve()</code>æ–¹æ³•(å³å¼‚æ­¥æˆåŠŸåçš„å›è°ƒæ–¹æ³•)</li>\n<li>ç¬¬äºŒå‚æ•°æ‰§è¡Œçš„æ˜¯<code>reject()</code>æ–¹æ³•(å³å¼‚æ­¥å¤±è´¥åçš„å›è°ƒæ–¹æ³•)(ç¬¬äºŒä¸ªå‚æ•°å¯é€‰)ã€‚</li>\n<li>å®ƒè¿”å›çš„æ˜¯ä¸€ä¸ªæ–°çš„Promiseå¯¹è±¡ã€‚</li>\n</ul>\n<ol start=\"3\">\n<li>promiseæ„é€ å‡½æ•°æ˜¯åŒæ­¥æ‰§è¡Œçš„ï¼Œthenæ–¹æ³•æ˜¯å¼‚æ­¥æ‰§è¡Œçš„<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> promise = <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"number\">1</span>)</span><br><span class=\"line\">  <span class=\"title function_\">resolve</span>()</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"number\">2</span>)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">promise.<span class=\"title function_\">then</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"number\">3</span>)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"number\">4</span>)</span><br><span class=\"line\"><span class=\"comment\">// 1  2  4   3</span></span><br></pre></td></tr></table></figure></li>\n</ol>\n<h4 id=\"Promise-finally\"><a href=\"#Promise-finally\" class=\"headerlink\" title=\"Promise.finally()\"></a>Promise.finally()</h4><p><code>Promise.finally()</code>ç”¨äºæŒ‡å®šä¸ç®¡ Promise å¯¹è±¡æœ€åçŠ¶æ€å¦‚ä½•ï¼Œéƒ½ä¼šæ‰§è¡Œçš„æ“ä½œã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">promise</span><br><span class=\"line\">.<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">result</span> =&gt;</span> &#123;Â·Â·Â·&#125;)</span><br><span class=\"line\">.<span class=\"title function_\">catch</span>(<span class=\"function\"><span class=\"params\">error</span> =&gt;</span> &#123;Â·Â·Â·&#125;)</span><br><span class=\"line\">.<span class=\"title function_\">finally</span>(<span class=\"function\">() =&gt;</span> &#123;Â·Â·Â·&#125;);</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"Promise-all\"><a href=\"#Promise-all\" class=\"headerlink\" title=\"Promise.all()\"></a>Promise.all()</h4><p><code>Promise.all()</code>ç”¨äºå¤„ç†å¤šä¸ªå¼‚æ­¥å¤„ç†ï¼Œæ¯”å¦‚è¯´ä¸€ä¸ªé¡µé¢ä¸Šéœ€è¦ç­‰å¤šä¸ª ajax çš„æ•°æ®å›æ¥æ‰æ‰§è¡Œç›¸å…³é€»è¾‘ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> p = <span class=\"title class_\">Promise</span>.<span class=\"title function_\">all</span>([p1, p2, p3]);</span><br></pre></td></tr></table></figure>\n<p>pçš„çŠ¶æ€ç”±p1ã€p2ã€p3å†³å®šï¼Œåˆ†æˆä¸¤ç§æƒ…å†µã€‚</p>\n<ul>\n<li>åªæœ‰p1ã€p2ã€p3çš„çŠ¶æ€éƒ½å˜æˆfulfilledï¼Œpçš„çŠ¶æ€æ‰ä¼šå˜æˆfulfilledï¼Œæ­¤æ—¶p1ã€p2ã€p3çš„è¿”å›å€¼ç»„æˆä¸€ä¸ªæ•°ç»„ï¼Œä¼ é€’ç»™pçš„å›è°ƒå‡½æ•°ã€‚</li>\n<li>åªè¦p1ã€p2ã€p3ä¹‹ä¸­æœ‰ä¸€ä¸ªè¢«rejectedï¼Œpçš„çŠ¶æ€å°±å˜æˆrejectedï¼Œæ­¤æ—¶ç¬¬ä¸€ä¸ªè¢«rejectçš„å®ä¾‹çš„è¿”å›å€¼ï¼Œä¼šä¼ é€’ç»™pçš„å›è°ƒå‡½æ•°ã€‚</li>\n</ul>\n<h4 id=\"Promse-race\"><a href=\"#Promse-race\" class=\"headerlink\" title=\"Promse.race()\"></a>Promse.race()</h4><p><code>Promse.race()</code>å°±æ˜¯èµ›è·‘çš„æ„æ€ï¼ŒPromise.race([p1, p2, p3])é‡Œé¢å“ªä¸ªç»“æœè·å¾—çš„å¿«ï¼Œå°±è¿”å›é‚£ä¸ªç»“æœï¼Œä¸ç®¡ç»“æœæœ¬èº«æ˜¯æˆåŠŸçŠ¶æ€è¿˜æ˜¯å¤±è´¥çŠ¶æ€ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> p = <span class=\"title class_\">Promise</span>.<span class=\"title function_\">race</span>([p1, p2, p3])</span><br></pre></td></tr></table></figure>\n<p>ä¸Šé¢ä»£ç ä¸­ï¼Œåªè¦p1ã€p2ã€p3ä¹‹ä¸­æœ‰ä¸€ä¸ªå®ä¾‹ç‡å…ˆæ”¹å˜çŠ¶æ€ï¼Œpçš„çŠ¶æ€å°±è·Ÿç€æ”¹å˜ã€‚é‚£ä¸ªç‡å…ˆæ”¹å˜çš„ Promise å®ä¾‹çš„è¿”å›å€¼ï¼Œå°±ä¼ é€’ç»™pçš„å›è°ƒå‡½æ•°ã€‚</p>\n<h3 id=\"async-x2F-await\"><a href=\"#async-x2F-await\" class=\"headerlink\" title=\"async&#x2F;await\"></a>async&#x2F;await</h3><p>async&#x2F;awaitæ˜¯JavaScriptä¸ºäº†è§£å†³å¼‚æ­¥é—®é¢˜è€Œæå‡ºçš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œè®¸å¤šäººå°†å…¶ç§°ä¸ºå¼‚æ­¥çš„ç»ˆæè§£å†³æ–¹æ¡ˆã€‚<strong>async å‡½æ•°ï¼Œå°±æ˜¯ Generator å‡½æ•°çš„è¯­æ³•ç³–ã€‚</strong></p>\n<p>ç›¸è¾ƒäº Generatorï¼ŒAsync å‡½æ•°çš„æ”¹è¿›åœ¨äºä¸‹é¢å››ç‚¹ï¼š</p>\n<ul>\n<li>å†…ç½®æ‰§è¡Œå™¨ã€‚Generator å‡½æ•°çš„æ‰§è¡Œå¿…é¡»ä¾é æ‰§è¡Œå™¨ï¼Œè€Œ Aysnc å‡½æ•°è‡ªå¸¦æ‰§è¡Œå™¨ï¼Œè°ƒç”¨æ–¹å¼è·Ÿæ™®é€šå‡½æ•°çš„è°ƒç”¨ä¸€æ ·ã€‚</li>\n<li>æ›´å¥½çš„è¯­ä¹‰ã€‚async å’Œ await ç›¸è¾ƒäº * å’Œ yield æ›´åŠ è¯­ä¹‰åŒ–ã€‚</li>\n<li>æ›´å¹¿çš„é€‚ç”¨æ€§ã€‚co æ¨¡å—çº¦å®šï¼Œyield å‘½ä»¤åé¢åªèƒ½æ˜¯ Thunk å‡½æ•°æˆ– Promiseå¯¹è±¡ã€‚è€Œ async å‡½æ•°çš„ await å‘½ä»¤åé¢å¯ä»¥æ˜¯ Promise æˆ–è€…åŸå§‹ç±»å‹ï¼ˆNumberï¼Œstringï¼Œbooleanï¼Œä½†è¿™æ—¶ç­‰åŒäºåŒæ­¥ï¼‰ã€‚</li>\n<li>è¿”å›å€¼æ˜¯ Promiseã€‚async å‡½æ•°è¿”å›å€¼æ˜¯ Promise å¯¹è±¡ï¼Œæ¯” Generator å‡½æ•°è¿”å›çš„ Iterator å¯¹è±¡æ–¹ä¾¿ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ then() æ–¹æ³•è¿›è¡Œè°ƒç”¨ã€‚</li>\n</ul>\n<h4 id=\"async-x2F-awaitä½¿ç”¨è§„åˆ™\"><a href=\"#async-x2F-awaitä½¿ç”¨è§„åˆ™\" class=\"headerlink\" title=\"async&#x2F;awaitä½¿ç”¨è§„åˆ™\"></a>async&#x2F;awaitä½¿ç”¨è§„åˆ™</h4><ol>\n<li><p>å‡¡æ˜¯åœ¨å‰é¢æ·»åŠ äº†asyncçš„å‡½æ•°åœ¨æ‰§è¡Œåéƒ½ä¼šè‡ªåŠ¨è¿”å›ä¸€ä¸ªPromiseå¯¹è±¡</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">test</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> result = <span class=\"title function_\">test</span>()</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(result)  <span class=\"comment\">//å³ä¾¿ä»£ç é‡Œtestå‡½æ•°ä»€ä¹ˆéƒ½æ²¡è¿”å›ï¼Œæˆ‘ä»¬ä¾ç„¶æ‰“å‡ºäº†Promiseå¯¹è±¡</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>awaitå¿…é¡»åœ¨asyncå‡½æ•°é‡Œä½¿ç”¨ï¼Œä¸èƒ½å•ç‹¬ä½¿ç”¨</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">test</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> result = <span class=\"keyword\">await</span> <span class=\"title class_\">Promise</span>.<span class=\"title function_\">resolve</span>(<span class=\"string\">&#x27;success&#x27;</span>)</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(result)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">test</span>()   <span class=\"comment\">//æ‰§è¡Œä»¥åä¼šæŠ¥é”™</span></span><br></pre></td></tr></table></figure></li>\n</ol>\n<h4 id=\"await-åœ¨ç­‰ä»€ä¹ˆ\"><a href=\"#await-åœ¨ç­‰ä»€ä¹ˆ\" class=\"headerlink\" title=\"await åœ¨ç­‰ä»€ä¹ˆ\"></a>await åœ¨ç­‰ä»€ä¹ˆ</h4><ul>\n<li>å¦‚æœawaitç­‰åˆ°çš„ä¸æ˜¯ä¸€ä¸ªpromiseå¯¹è±¡ï¼Œé‚£è·Ÿç€çš„è¡¨è¾¾å¼çš„è¿ç®—ç»“æœå°±æ˜¯å®ƒç­‰åˆ°çš„ä¸œè¥¿ï¼›</li>\n<li>å¦‚æœæ˜¯ä¸€ä¸ªpromiseå¯¹è±¡ï¼Œawaitä¼šé˜»å¡åé¢çš„ä»£ç ï¼Œç­‰promiseå¯¹è±¡resolveï¼Œå¾—åˆ°resolveçš„å€¼ä½œä¸ºawaitè¡¨è¾¾å¼çš„è¿ç®—ç»“æœ</li>\n<li>è™½ç„¶awaité˜»å¡äº†ï¼Œä½†awaitåœ¨asyncä¸­ï¼Œasyncä¸ä¼šé˜»å¡ï¼Œå®ƒå†…éƒ¨æ‰€æœ‰çš„é˜»å¡éƒ½è¢«å°è£…åœ¨ä¸€ä¸ªpromiseå¯¹è±¡ä¸­å¼‚æ­¥æ‰§è¡Œ</li>\n</ul>\n"},{"title":"JS æ•°ç»„æ“ä½œ","url":"/LittleWhiteRabbit/2022/04/26/js%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E6%80%BB%E7%BB%93/","content":"<h1 id=\"JS-æ•°æ®ç±»å‹\"><a href=\"#JS-æ•°æ®ç±»å‹\" class=\"headerlink\" title=\"JS æ•°æ®ç±»å‹\"></a>JS æ•°æ®ç±»å‹</h1><p><strong>JavaScript æ˜¯å¼±ç±»å‹è¯­è¨€</strong>ï¼Œè€Œä¸” JavaScript å£°æ˜å˜é‡çš„æ—¶å€™å¹¶æ²¡æœ‰é¢„å…ˆç¡®å®šçš„ç±»å‹ï¼Œå˜é‡çš„ç±»å‹å°±æ˜¯å…¶å€¼çš„ç±»å‹ï¼Œä¹Ÿå°±æ˜¯è¯´å˜é‡å½“å‰çš„ç±»å‹ç”±å…¶å€¼æ‰€å†³å®š,å¤¸å¼ ç‚¹è¯´ä¸Šä¸€ç§’ç§çš„ Stringï¼Œä¸‹ä¸€ç§’å¯èƒ½å°±æ˜¯ä¸ª Number ç±»å‹äº†ï¼Œè¿™ä¸ªè¿‡ç¨‹å¯èƒ½å°±è¿›è¡Œäº†æŸäº›æ“ä½œå‘ç”Ÿäº†å¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚</p>\n<span id=\"more\"></span>\n<p>js æ•°æ®åˆ†ä¸ºä¸¤ç§ç±»å‹ï¼šåŸå§‹æ•°æ®ç±»å‹å’Œå¼•ç”¨æ•°æ®ç±»å‹ã€‚</p>\n<ul>\n<li>åŸºæœ¬æ•°æ®ç±»å‹æœ‰ï¼šstringã€numberã€booleanã€undefinedã€null å’Œ symbolï¼ˆç¬¦å·ï¼‰</li>\n<li>å¼•ç”¨æ•°æ®ç±»å‹æœ‰ï¼šObjectã€Functionã€Dateã€RegExp ç­‰ã€‚</li>\n</ul>\n<h3 id=\"æ ˆå’Œå †\"><a href=\"#æ ˆå’Œå †\" class=\"headerlink\" title=\"æ ˆå’Œå †\"></a>æ ˆå’Œå †</h3><p>å †å’Œæ ˆçš„æ¦‚å¿µå­˜åœ¨äºæ•°æ®ç»“æ„ä¸­å’Œæ“ä½œç³»ç»Ÿå†…å­˜ä¸­ã€‚</p>\n<p>åœ¨æ•°æ®ç»“æ„ä¸­ï¼Œæ ˆä¸­æ•°æ®çš„å­˜å–æ–¹å¼ä¸ºå…ˆè¿›åå‡ºã€‚è€Œå †æ˜¯ä¸€ä¸ªä¼˜å…ˆé˜Ÿåˆ—ï¼Œæ˜¯æŒ‰ä¼˜å…ˆçº§æ¥è¿›è¡Œæ’åºçš„ï¼Œä¼˜å…ˆçº§å¯ä»¥æŒ‰ç…§å¤§å°æ¥è§„å®šã€‚å®Œå…¨<br>äºŒå‰æ ‘æ˜¯å †çš„ä¸€ç§å®ç°æ–¹å¼ã€‚</p>\n<p>åœ¨æ“ä½œç³»ç»Ÿä¸­ï¼Œå†…å­˜è¢«åˆ†ä¸ºæ ˆåŒºå’Œå †åŒºã€‚<br>æ ˆåŒºå†…å­˜ç”±ç¼–è¯‘å™¨è‡ªåŠ¨åˆ†é…é‡Šæ”¾ï¼Œå­˜æ”¾å‡½æ•°çš„å‚æ•°å€¼ï¼Œå±€éƒ¨å˜é‡çš„å€¼ç­‰ã€‚å…¶æ“ä½œæ–¹å¼ç±»ä¼¼äºæ•°æ®ç»“æ„ä¸­çš„æ ˆã€‚<br>å †åŒºå†…å­˜ä¸€èˆ¬ç”±ç¨‹åºå‘˜åˆ†é…é‡Šæ”¾ï¼Œè‹¥ç¨‹åºå‘˜ä¸é‡Šæ”¾ï¼Œç¨‹åºç»“æŸæ—¶å¯èƒ½ç”±åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶ã€‚</p>\n<p>åŸºæœ¬æ•°æ®ç±»å‹ç›´æ¥å­˜å‚¨åœ¨æ ˆï¼ˆstackï¼‰ä¸­çš„ç®€å•æ•°æ®æ®µï¼Œå æ®ç©ºé—´å°ã€å¤§å°å›ºå®šï¼Œå±äºè¢«é¢‘ç¹ä½¿ç”¨æ•°æ®ï¼Œæ‰€ä»¥æ”¾å…¥æ ˆä¸­å­˜å‚¨ã€‚</p>\n<p>å¼•ç”¨æ•°æ®ç±»å‹å­˜å‚¨åœ¨å †ï¼ˆheapï¼‰ä¸­çš„å¯¹è±¡ï¼Œå æ®ç©ºé—´å¤§ã€å¤§å°ä¸å›ºå®šã€‚å¦‚æœå­˜å‚¨åœ¨æ ˆä¸­ï¼Œå°†ä¼šå½±å“ç¨‹åºè¿è¡Œçš„æ€§èƒ½ï¼›å¼•ç”¨æ•°æ®ç±»å‹åœ¨<br>æ ˆä¸­å­˜å‚¨äº†æŒ‡é’ˆï¼Œè¯¥æŒ‡é’ˆæŒ‡å‘å †ä¸­è¯¥å®ä½“çš„èµ·å§‹åœ°å€ã€‚å½“è§£é‡Šå™¨å¯»æ‰¾å¼•ç”¨å€¼æ—¶ï¼Œä¼šé¦–å…ˆæ£€ç´¢å…¶åœ¨æ ˆä¸­çš„åœ°å€ï¼Œå–å¾—åœ°å€åä»å †ä¸­è·å¾—å®<br>ä½“ã€‚</p>\n<h3 id=\"åŸºæœ¬æ•°æ®ç±»å‹çš„ç‰¹ç‚¹\"><a href=\"#åŸºæœ¬æ•°æ®ç±»å‹çš„ç‰¹ç‚¹\" class=\"headerlink\" title=\"åŸºæœ¬æ•°æ®ç±»å‹çš„ç‰¹ç‚¹\"></a>åŸºæœ¬æ•°æ®ç±»å‹çš„ç‰¹ç‚¹</h3><ol>\n<li>åŸºæœ¬æ•°æ®ç±»å‹æ˜¯æŒ‰å€¼è®¿é—®çš„ï¼Œå°±æ˜¯è¯´æˆ‘ä»¬å¯ä»¥æ“ä½œä¿å­˜åœ¨å˜é‡ä¸­çš„å®é™…çš„å€¼ï¼›</li>\n<li>åŸºæœ¬æ•°æ®ç±»å‹çš„å€¼æ˜¯ä¸å¯å˜çš„ï¼Œä»»ä½•æ–¹æ³•éƒ½æ— æ³•æ”¹å˜ä¸€ä¸ªåŸºæœ¬æ•°æ®ç±»å‹çš„å€¼</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> name = <span class=\"string\">&#x27;zhangsan&#x27;</span></span><br><span class=\"line\">name.<span class=\"title function_\">substr</span>()</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(name) <span class=\"comment\">// è¾“å‡ºï¼šzhangsan</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> age = <span class=\"string\">&#x27;firstblood&#x27;</span></span><br><span class=\"line\">age.<span class=\"title function_\">toUpperCase</span>()</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(age) <span class=\"comment\">// è¾“å‡ºï¼šfirstblood</span></span><br></pre></td></tr></table></figure>\n\n<p>substr()å’Œ toUpperCase()æ–¹æ³•åè¿”å›çš„æ˜¯ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œè·ŸåŸæ¥å®šä¹‰çš„å˜é‡ name å¹¶æ²¡æœ‰ä»€ä¹ˆå…³ç³»ã€‚</p>\n<ol start=\"3\">\n<li>åŸºæœ¬æ•°æ®ç±»å‹ä¸å¯ä»¥æ·»åŠ å±æ€§å’Œæ–¹æ³•</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> user = <span class=\"string\">&#x27;zhangsan&#x27;</span></span><br><span class=\"line\">user.<span class=\"property\">age</span> = <span class=\"number\">18</span></span><br><span class=\"line\">user.<span class=\"property\">method</span> = <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;12345&#x27;</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(user.<span class=\"property\">age</span>) <span class=\"comment\">// è¾“å‡ºï¼šundefined</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(user.<span class=\"property\">method</span>) <span class=\"comment\">// è¾“å‡ºï¼šundefined</span></span><br></pre></td></tr></table></figure>\n\n<ol start=\"4\">\n<li>åŸºæœ¬æ•°æ®ç±»å‹çš„èµ‹å€¼æ˜¯ç®€å•çš„èµ‹å€¼(ä¸å½±å“åŸå˜é‡çš„å€¼)</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> a = <span class=\"number\">18</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> b = a</span><br><span class=\"line\">a++</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a) <span class=\"comment\">// è¾“å‡ºï¼š19</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(b) <span class=\"comment\">// è¾“å‡ºï¼š18</span></span><br></pre></td></tr></table></figure>\n\n<ol start=\"5\">\n<li>åŸºæœ¬æ•°æ®ç±»å‹çš„æ¯”è¾ƒæ˜¯å€¼çš„æ¯”è¾ƒ</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"string\">&#x27;&#123;&#125;&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> b = <span class=\"string\">&#x27;&#123;&#125;&#x27;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a === b) <span class=\"comment\">// è¾“å‡ºï¼štrue</span></span><br></pre></td></tr></table></figure>\n\n<ol start=\"6\">\n<li>åŸºæœ¬ç±»å‹çš„å€¼åœ¨å†…å­˜ä¸­å æ®å›ºå®šå¤§å°çš„ç©ºé—´ï¼Œè¢«ä¿å­˜åœ¨æ ˆå†…å­˜ä¸­</li>\n</ol>\n<h3 id=\"å¼•ç”¨æ•°æ®ç±»å‹\"><a href=\"#å¼•ç”¨æ•°æ®ç±»å‹\" class=\"headerlink\" title=\"å¼•ç”¨æ•°æ®ç±»å‹\"></a>å¼•ç”¨æ•°æ®ç±»å‹</h3><p>å¼•ç”¨ç±»å‹æ˜¯å­˜æ”¾åœ¨å †å†…å­˜ä¸­çš„å¯¹è±¡ï¼Œå˜é‡å…¶å®æ˜¯ä¿å­˜çš„åœ¨æ ˆå†…å­˜ä¸­çš„ä¸€ä¸ªæŒ‡é’ˆï¼ˆä¿å­˜çš„æ˜¯å †å†…å­˜ä¸­çš„å¼•ç”¨åœ°å€ï¼‰ï¼Œè¿™ä¸ªæŒ‡é’ˆæŒ‡å‘å †å†…å­˜ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj1 = <span class=\"keyword\">new</span> <span class=\"title class_\">Object</span>()</span><br><span class=\"line\"><span class=\"keyword\">var</span> obj2 = obj1</span><br><span class=\"line\">obj2.<span class=\"property\">name</span> = <span class=\"string\">&#x27;æˆ‘æœ‰åå­—äº†&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(obj1.<span class=\"property\">name</span>) <span class=\"comment\">// æˆ‘æœ‰åå­—äº†</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ•°æ®ç±»å‹è½¬æ¢\"><a href=\"#æ•°æ®ç±»å‹è½¬æ¢\" class=\"headerlink\" title=\"æ•°æ®ç±»å‹è½¬æ¢\"></a>æ•°æ®ç±»å‹è½¬æ¢</h3><h4 id=\"è½¬ä¸ºå­—ç¬¦ä¸²\"><a href=\"#è½¬ä¸ºå­—ç¬¦ä¸²\" class=\"headerlink\" title=\"è½¬ä¸ºå­—ç¬¦ä¸²\"></a>è½¬ä¸ºå­—ç¬¦ä¸²</h4><p>1ã€toString()æ–¹æ³•ï¼šæ³¨æ„ï¼Œä¸å¯ä»¥è½¬ null å’Œ underfined<br>2ã€String()æ–¹æ³•ï¼šéƒ½èƒ½è½¬</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> ab = <span class=\"string\">&#x27;zhangsan&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> bc = <span class=\"literal\">null</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> cd = <span class=\"literal\">undefined</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(ab.<span class=\"title function_\">toString</span>()) <span class=\"comment\">// è¾“å‡ºï¼šzhangsan</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(bc.<span class=\"title function_\">toString</span>()) <span class=\"comment\">// error æŠ¥é”™</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(cd.<span class=\"title function_\">toString</span>()) <span class=\"comment\">// error æŠ¥é”™</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">String</span>(ab)) <span class=\"comment\">// è¾“å‡ºï¼šzhangsan</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">String</span>(bc)) <span class=\"comment\">// è¾“å‡ºï¼šnull</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">String</span>(cd)) <span class=\"comment\">// è¾“å‡ºï¼šundefined</span></span><br></pre></td></tr></table></figure>\n\n<p>3ã€éšå¼è½¬æ¢ï¼šnum + â€œâ€ï¼Œå½“ + ä¸¤è¾¹ä¸€ä¸ªæ“ä½œç¬¦æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œä¸€ä¸ªæ“ä½œç¬¦æ˜¯å…¶å®ƒç±»å‹çš„æ—¶å€™ï¼Œä¼šå…ˆæŠŠå…¶å®ƒç±»å‹è½¬æ¢æˆå­—ç¬¦ä¸²å†è¿›è¡Œå­—ç¬¦ä¸²æ‹¼æ¥ï¼Œè¿”å›å­—ç¬¦ä¸²</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> str = a + <span class=\"string\">&#x27;&#x27;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;str&#x27;</span>)</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"è½¬ä¸ºæ•°å€¼ç±»å‹\"><a href=\"#è½¬ä¸ºæ•°å€¼ç±»å‹\" class=\"headerlink\" title=\"è½¬ä¸ºæ•°å€¼ç±»å‹\"></a>è½¬ä¸ºæ•°å€¼ç±»å‹</h4><p>1ã€Number()ï¼šå¯ä»¥æŠŠä»»æ„å€¼è½¬æ¢æˆæ•°å€¼ï¼Œå¦‚æœè¦è½¬æ¢çš„å­—ç¬¦ä¸²ä¸­æœ‰ä¸€ä¸ªä¸æ˜¯æ•°å€¼çš„å­—ç¬¦ï¼Œè¿”å› NaN</p>\n<p>2ã€parseInt()&#x2F;parseFloat():parseFloat()æŠŠå­—ç¬¦ä¸²è½¬æ¢æˆæµ®ç‚¹æ•°,parseFloat()å’Œ parseInt éå¸¸ç›¸ä¼¼ï¼Œä¸åŒä¹‹å¤„åœ¨ä¸ parseFloat ä¼šè§£æç¬¬ä¸€ä¸ª. é‡åˆ°ç¬¬äºŒä¸ª.æˆ–è€…éæ•°å­—ç»“æŸå¦‚æœè§£æçš„å†…å®¹é‡Œåªæœ‰æ•´æ•°ï¼Œè§£ææˆæ•´æ•°ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"string\">&#x27;12.3px&#x27;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"built_in\">parseInt</span>(a)) <span class=\"comment\">// 12</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"built_in\">parseFloat</span>(a)) <span class=\"comment\">// 12.3</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> b = <span class=\"string\">&#x27;abc2.3&#x27;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"built_in\">parseInt</span>(b)) <span class=\"comment\">//NAN</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"built_in\">parseFloat</span>(b)) <span class=\"comment\">//NAN</span></span><br></pre></td></tr></table></figure>\n\n<p>3ã€éšå¼è½¬æ¢</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> str = <span class=\"string\">&#x27;123&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> num = str - <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(num) <span class=\"comment\">// 122</span></span><br></pre></td></tr></table></figure>\n\n<p>4ã€isNaN()å‡½æ•°ç”¨äºåˆ¤æ–­æ˜¯å¦æ˜¯ä¸€ä¸ªéæ•°å­—ç±»å‹ï¼Œå¦‚æœä¼ å…¥çš„å‚æ•°æ˜¯ä¸€ä¸ªéæ•°å­—ç±»å‹ï¼Œé‚£ä¹ˆè¿”å› trueï¼Œå¦åˆ™è¿”å› false</p>\n<h4 id=\"è½¬æ¢ä¸º-Boolean\"><a href=\"#è½¬æ¢ä¸º-Boolean\" class=\"headerlink\" title=\"è½¬æ¢ä¸º Boolean()\"></a>è½¬æ¢ä¸º Boolean()</h4><p>é™¤äº† 0 â€˜â€™(ç©ºå­—ç¬¦ä¸²) null undefined NaN ä¼šè½¬æ¢æˆ false å…¶å®ƒéƒ½ä¼šè½¬æ¢æˆ true</p>\n<h3 id=\"åˆ¤æ–­-JS-æ•°æ®ç±»å‹\"><a href=\"#åˆ¤æ–­-JS-æ•°æ®ç±»å‹\" class=\"headerlink\" title=\"åˆ¤æ–­ JS æ•°æ®ç±»å‹\"></a>åˆ¤æ–­ JS æ•°æ®ç±»å‹</h3><h4 id=\"1ã€typeof-å‡½æ•°\"><a href=\"#1ã€typeof-å‡½æ•°\" class=\"headerlink\" title=\"1ã€typeof()å‡½æ•°\"></a>1ã€typeof()å‡½æ•°</h4><p>å¯¹äºåŸå§‹æ•°æ®ç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ typeof()å‡½æ•°æ¥åˆ¤æ–­ä»–çš„æ•°æ®ç±»å‹ã€‚ä½†ä»–æ˜¯æ²¡æ³•ç”¨æ¥åŒºåˆ†å¼•ç”¨æ•°æ®ç±»å‹çš„ï¼Œå› ä¸ºæ‰€æœ‰çš„å¼•ç”¨æ•°æ®ç±»å‹éƒ½ä¼šè¿”å›â€objectâ€ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">typeof</span> <span class=\"string\">&#x27;seymoe&#x27;</span> <span class=\"comment\">// &#x27;string&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">typeof</span> <span class=\"literal\">true</span> <span class=\"comment\">// &#x27;boolean&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">typeof</span> <span class=\"number\">10</span> <span class=\"comment\">// &#x27;number&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">typeof</span> <span class=\"title class_\">Symbol</span>() <span class=\"comment\">// &#x27;symbol&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">typeof</span> <span class=\"literal\">null</span> <span class=\"comment\">// &#x27;object&#x27; æ— æ³•åˆ¤å®šæ˜¯å¦ä¸º null</span></span><br><span class=\"line\"><span class=\"keyword\">typeof</span> <span class=\"literal\">undefined</span> <span class=\"comment\">// &#x27;undefined&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typeof</span> &#123;&#125; <span class=\"comment\">// &#x27;object&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">typeof</span> [] <span class=\"comment\">// &#x27;object&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">typeof</span> (<span class=\"function\">() =&gt;</span> &#123;&#125;) <span class=\"comment\">// &#x27;function&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"2ã€instanceof\"><a href=\"#2ã€instanceof\" class=\"headerlink\" title=\"2ã€instanceof\"></a>2ã€instanceof</h4><p>å¯¹äºå¼•ç”¨ç±»å‹æˆ‘ä»¬ä½¿ç”¨ instanceof æ¥è¿›è¡Œç±»å‹åˆ¤æ–­ã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;&#125;</span><br><span class=\"line\">obj <span class=\"keyword\">instanceof</span> <span class=\"title class_\">Object</span> <span class=\"comment\">//true</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> arr = []</span><br><span class=\"line\">arr <span class=\"keyword\">instanceof</span> <span class=\"title class_\">Array</span> <span class=\"comment\">//true</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"3ã€Object-prototype-toString-call\"><a href=\"#3ã€Object-prototype-toString-call\" class=\"headerlink\" title=\"3ã€Object.prototype.toString.call()\"></a>3ã€Object.prototype.toString.call()</h4><p>åœ¨ javascript é«˜çº§ç¨‹åºè®¾è®¡ä¸­æä¾›äº†å¦ä¸€ç§æ–¹æ³•ï¼Œå¯ä»¥é€šç”¨çš„æ¥åˆ¤æ–­åŸå§‹æ•°æ®ç±»å‹å’Œå¼•ç”¨æ•°æ®ç±»å‹</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = []</span><br><span class=\"line\"><span class=\"title class_\">Object</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">toString</span>.<span class=\"title function_\">call</span>(arr) == <span class=\"string\">&#x27;[object Array]&#x27;</span> <span class=\"comment\">//true</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> func = <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;&#125;</span><br><span class=\"line\"><span class=\"title class_\">Object</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">toString</span>.<span class=\"title function_\">call</span>(func) == <span class=\"string\">&#x27;[object Function]&#x27;</span> <span class=\"comment\">//true</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"4ã€constructor\"><a href=\"#4ã€constructor\" class=\"headerlink\" title=\"4ã€constructor\"></a>4ã€constructor</h4><p>constructor ä½œç”¨å’Œ instanceof éå¸¸ç›¸ä¼¼ã€‚ä½† constructor æ£€æµ‹ Object ä¸ instanceof ä¸ä¸€æ ·ï¼Œè¿˜å¯ä»¥å¤„ç†åŸºæœ¬æ•°æ®ç±»å‹çš„æ£€æµ‹ã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> aa = [<span class=\"number\">1</span>, <span class=\"number\">2</span>]</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(aa.<span class=\"property\">constructor</span> === <span class=\"title class_\">Array</span>) <span class=\"comment\">//true</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(aa.<span class=\"property\">constructor</span> === <span class=\"title class_\">RegExp</span>) <span class=\"comment\">//false</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>((<span class=\"number\">1</span>).<span class=\"property\">constructor</span> === <span class=\"title class_\">Number</span>) <span class=\"comment\">//true</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> reg = <span class=\"regexp\">/^$/</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(reg.<span class=\"property\">constructor</span> === <span class=\"title class_\">RegExp</span>) <span class=\"comment\">//true</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(reg.<span class=\"property\">constructor</span> === <span class=\"title class_\">Object</span>) <span class=\"comment\">//false</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"javascript-çš„å†…ç½®æ–¹æ³•\"><a href=\"#javascript-çš„å†…ç½®æ–¹æ³•\" class=\"headerlink\" title=\"javascript çš„å†…ç½®æ–¹æ³•\"></a>javascript çš„å†…ç½®æ–¹æ³•</h3><ul>\n<li>toString()æ–¹æ³•è¿”å›ä¸€ä¸ªè¡¨ç¤ºè¯¥å¯¹è±¡çš„å­—ç¬¦ä¸²ã€‚</li>\n<li>valueOf()æ–¹æ³•è¿”å›æŒ‡å®šå¯¹è±¡çš„åŸå§‹å€¼ã€‚</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> str = <span class=\"keyword\">new</span> <span class=\"title class_\">String</span>(<span class=\"string\">&#x27;123&#x27;</span>)</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(str.<span class=\"title function_\">valueOf</span>()) <span class=\"comment\">//123</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> num = <span class=\"keyword\">new</span> <span class=\"title class_\">Number</span>(<span class=\"number\">123</span>)</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(num.<span class=\"title function_\">valueOf</span>()) <span class=\"comment\">//123</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> date = <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>()</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(date.<span class=\"title function_\">valueOf</span>()) <span class=\"comment\">//1526990889729</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> bool = <span class=\"keyword\">new</span> <span class=\"title class_\">Boolean</span>(<span class=\"string\">&#x27;123&#x27;</span>)</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(bool.<span class=\"title function_\">valueOf</span>()) <span class=\"comment\">//true</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> obj = <span class=\"keyword\">new</span> <span class=\"title class_\">Object</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">valueOf</span>: <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">1</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(obj.<span class=\"title function_\">valueOf</span>()) <span class=\"comment\">//1</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>valueOf() å’Œ toString()åœ¨ç‰¹å®šçš„åœºåˆä¸‹ä¼šè‡ªè¡Œè°ƒç”¨ã€‚</strong></p>\n<h3 id=\"åŒ…è£…å¯¹è±¡ï¼ˆwrapper-objectï¼‰\"><a href=\"#åŒ…è£…å¯¹è±¡ï¼ˆwrapper-objectï¼‰\" class=\"headerlink\" title=\"åŒ…è£…å¯¹è±¡ï¼ˆwrapper objectï¼‰\"></a>åŒ…è£…å¯¹è±¡ï¼ˆwrapper objectï¼‰</h3><p>å…ˆæ¥çœ‹ä¸€ä¸ªä¾‹å­</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> name = <span class=\"string\">&#x27;marko&#x27;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">typeof</span> name) <span class=\"comment\">// &quot;string&quot;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(name.<span class=\"title function_\">toUpperCase</span>()) <span class=\"comment\">// &quot;MARKO&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>name ç±»å‹æ˜¯ stringï¼Œå±äºåŸºæœ¬ç±»å‹ï¼Œæ‰€ä»¥å®ƒæ²¡æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œä½†æ˜¯åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬è°ƒç”¨äº†ä¸€ä¸ª toUpperCase()æ–¹æ³•ï¼Œå®ƒä¸ä¼šæŠ›å‡ºé”™è¯¯ï¼Œè¿˜è¿”å›äº†å¯¹è±¡çš„å˜é‡å€¼ã€‚ åŸå› æ˜¯åŸºæœ¬ç±»å‹çš„å€¼è¢«ä¸´æ—¶è½¬æ¢æˆ–å¼ºåˆ¶è½¬æ¢ä¸ºå¯¹è±¡ï¼Œå› æ­¤ name å˜é‡çš„è¡Œä¸ºç±»ä¼¼äºå¯¹è±¡ã€‚name.toUpperCase()åœ¨å¹•åçœ‹èµ·æ¥å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">String</span>(name).<span class=\"title function_\">toUpperCase</span>()) <span class=\"comment\">// &quot;MARKO&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>é™¤ null å’Œ undefined ä¹‹å¤–çš„æ¯ä¸ªåŸºæœ¬ç±»å‹éƒ½æœ‰è‡ªå·±åŒ…è£…å¯¹è±¡ã€‚ä¹Ÿå°±æ˜¯ï¼šStringï¼ŒNumberï¼ŒBooleanï¼ŒSymbol å’Œ BigIntã€‚</p>\n"},{"title":"JS æ•°ç»„æ“ä½œ","url":"/LittleWhiteRabbit/2022/04/26/js%E6%95%B0%E7%BB%84%E6%93%8D%E4%BD%9C/","content":"<h1 id=\"js-æ•°ç»„æ“ä½œ\"><a href=\"#js-æ•°ç»„æ“ä½œ\" class=\"headerlink\" title=\"js æ•°ç»„æ“ä½œ\"></a>js æ•°ç»„æ“ä½œ</h1><p>åœ¨å¼€å‘ä¸­ï¼Œæ•°ç»„çš„ä½¿ç”¨åœºæ™¯éå¸¸å¤šï¼Œå¹³æ—¥ä¸­ä¹Ÿæ¶‰åŠåˆ°å¾ˆå¤šæ•°ç»„ç›¸å…³æ“ä½œï¼Œå¯¹ä¸€äº›å¸¸è§çš„æ“ä½œæ–¹æ³•è¿›è¡Œæ€»ç»“å’Œæ”¶è—ï¼Œåœ¨å¼€å‘ä¸­å°±èƒ½ä¿¡æ‰‹æ‹ˆæ¥ï¼Œå¤§å¤§æé«˜å¼€å‘æ•ˆç‡ã€‚</p>\n<h2 id=\"éšæœºæ’åº\"><a href=\"#éšæœºæ’åº\" class=\"headerlink\" title=\"éšæœºæ’åº\"></a>éšæœºæ’åº</h2><p>1ã€ç”Ÿæˆéšæœºæ•°</p>\n<p>éå†æ•°ç»„ï¼Œæ¯æ¬¡å¾ªç¯éƒ½éšæœºä¸€ä¸ªåœ¨æ•°ç»„é•¿åº¦èŒƒå›´å†…çš„æ•°ï¼Œå¹¶äº¤æ¢æœ¬æ¬¡å¾ªç¯çš„ä½ç½®å’Œéšæœºæ•°ä½ç½®ä¸Šçš„å…ƒç´ </p>\n<span id=\"more\"></span>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">randomSort1</span>(<span class=\"params\">arr</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>, l = arr.<span class=\"property\">length</span>; i &lt; l; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> rc = <span class=\"built_in\">parseInt</span>(<span class=\"title class_\">Math</span>.<span class=\"title function_\">random</span>() * l)</span><br><span class=\"line\">    <span class=\"comment\">// è®©å½“å‰å¾ªç¯çš„æ•°ç»„å…ƒç´ å’Œéšæœºå‡ºæ¥çš„æ•°ç»„å…ƒç´ äº¤æ¢ä½ç½®</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> empty = arr[i]</span><br><span class=\"line\">    arr[i] = arr[rc]</span><br><span class=\"line\">    arr[rc] = empty</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> arr</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> arr1 = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>, <span class=\"number\">6</span>, <span class=\"number\">7</span>, <span class=\"number\">8</span>, <span class=\"number\">9</span>]</span><br><span class=\"line\"><span class=\"comment\">// ä¸‹é¢ä¸¤æ¬¡çš„ç»“æœè‚¯å®šæ˜¯ä¸ä¸€æ ·çš„ï¼›</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">randomSort1</span>(arr1))</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">randomSort1</span>(arr1))</span><br></pre></td></tr></table></figure>\n\n<p>2ã€ç”Ÿæˆæ–°æ•°ç»„</p>\n<ol>\n<li>ç”³æ˜ä¸€ä¸ªæ–°çš„ç©ºæ•°ç»„,åˆ©ç”¨ while å¾ªç¯ï¼Œå¦‚æœæ•°ç»„é•¿åº¦å¤§äº 0ï¼Œå°±ç»§ç»­å¾ªç¯ï¼›</li>\n<li>æ¯æ¬¡å¾ªç¯éƒ½éšæœºä¸€ä¸ªåœ¨æ•°ç»„é•¿åº¦èŒƒå›´å†…çš„æ•°ï¼Œå°†éšæœºæ•°ä½ç½®ä¸Šçš„å…ƒç´  push åˆ°æ–°æ•°ç»„é‡Œï¼Œ</li>\n<li>å¹¶åˆ©ç”¨ spliceï¼ˆå¯¹ splice ä¸å¤ªç†è§£çš„åŒå­¦å¯ä»¥çœ‹è¿™é‡Œï¼‰æˆªå–å‡ºéšæœºæ•°ä½ç½®ä¸Šçš„å…ƒç´ ï¼ŒåŒæ—¶ä¹Ÿä¿®æ”¹äº†åŸå§‹æ•°ç»„çš„é•¿åº¦ï¼›</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">randomSort2</span>(<span class=\"params\">arr</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> mixedArr = []</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (arr.<span class=\"property\">length</span> &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> rc = <span class=\"built_in\">parseInt</span>(<span class=\"title class_\">Math</span>.<span class=\"title function_\">random</span>() * arr.<span class=\"property\">length</span>)</span><br><span class=\"line\">    mixedArr.<span class=\"title function_\">push</span>(arr[rc])</span><br><span class=\"line\">    arr.<span class=\"title function_\">splice</span>(rc, <span class=\"number\">1</span>)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> mixedArr</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// ä¾‹å­</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> arr1 = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>, <span class=\"number\">6</span>, <span class=\"number\">7</span>, <span class=\"number\">8</span>, <span class=\"number\">9</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">randomSort2</span>(arr1))</span><br></pre></td></tr></table></figure>\n\n<p>3ã€ arr.sort</p>\n<ol>\n<li>å¦‚æœ compareFunction(a, b)çš„è¿”å›å€¼ å°äº 0 ï¼Œé‚£ä¹ˆ a ä¼šè¢«æ’åˆ—åˆ° b ä¹‹å‰ï¼›</li>\n<li>å¦‚æœ compareFunction(a, b)çš„è¿”å›å€¼ ç­‰äº 0 ï¼Œé‚£ä¹ˆ a å’Œ b çš„ç›¸å¯¹ä½ç½®ä¸å˜ï¼›</li>\n<li>å¦‚æœ compareFunction(a, b)çš„è¿”å›å€¼ å¤§äº 0 ï¼Œé‚£ä¹ˆ b ä¼šè¢«æ’åˆ—åˆ° a ä¹‹å‰ï¼›</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">randomSort3</span>(<span class=\"params\">arr</span>) &#123;</span><br><span class=\"line\">  arr.<span class=\"title function_\">sort</span>(<span class=\"keyword\">function</span> (<span class=\"params\">a, b</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"title class_\">Math</span>.<span class=\"title function_\">random</span>() - <span class=\"number\">0.5</span></span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">  <span class=\"keyword\">return</span> arr</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// ä¾‹å­</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> arr1 = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>, <span class=\"number\">6</span>, <span class=\"number\">7</span>, <span class=\"number\">8</span>, <span class=\"number\">9</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">randomSort3</span>(arr1))</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æ•°ç»„å¯¹è±¡æ’åº\"><a href=\"#æ•°ç»„å¯¹è±¡æ’åº\" class=\"headerlink\" title=\"æ•°ç»„å¯¹è±¡æ’åº\"></a>æ•°ç»„å¯¹è±¡æ’åº</h2><p>1ã€å•ä¸ªå±æ€§æ’åº</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">compare</span>(<span class=\"params\">property</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">function</span> (<span class=\"params\">a, b</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> value1 = a[property]</span><br><span class=\"line\">    <span class=\"keyword\">let</span> value2 = b[property]</span><br><span class=\"line\">    <span class=\"keyword\">return</span> value1 - value2</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> arr = [</span><br><span class=\"line\">  &#123; <span class=\"attr\">name</span>: <span class=\"string\">&#x27;zopp&#x27;</span>, <span class=\"attr\">age</span>: <span class=\"number\">10</span> &#125;,</span><br><span class=\"line\">  &#123; <span class=\"attr\">name</span>: <span class=\"string\">&#x27;gpp&#x27;</span>, <span class=\"attr\">age</span>: <span class=\"number\">18</span> &#125;,</span><br><span class=\"line\">  &#123; <span class=\"attr\">name</span>: <span class=\"string\">&#x27;yjj&#x27;</span>, <span class=\"attr\">age</span>: <span class=\"number\">8</span> &#125;,</span><br><span class=\"line\">]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr.<span class=\"title function_\">sort</span>(<span class=\"title function_\">compare</span>(<span class=\"string\">&#x27;age&#x27;</span>)))</span><br></pre></td></tr></table></figure>\n\n<p>2ã€å¤šä¸ªå±æ€§æ’åº</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">by</span>(<span class=\"params\">name, minor</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">function</span>(<span class=\"params\">o, p</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> a, b</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (o &amp;&amp; p &amp;&amp; <span class=\"keyword\">typeof</span> o === <span class=\"string\">&#x27;object&#x27;</span> &amp;&amp; <span class=\"keyword\">typeof</span> p === <span class=\"string\">&#x27;object&#x27;</span>) &#123;</span><br><span class=\"line\">      a = o[name]</span><br><span class=\"line\">      b = p[name]</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (a === b) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">typeof</span> minor === <span class=\"string\">&#x27;function&#x27;</span> ? <span class=\"title function_\">minor</span>(o, p) : <span class=\"number\">0</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> a === <span class=\"keyword\">typeof</span> b) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> a &lt; b ? -<span class=\"number\">1</span> : <span class=\"number\">1</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"keyword\">typeof</span> a &lt; <span class=\"keyword\">typeof</span> b ? -<span class=\"number\">1</span> : <span class=\"number\">1</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"title function_\">thro</span>(<span class=\"string\">&#x27;error&#x27;</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æ•°ç»„æ‰å¹³åŒ–\"><a href=\"#æ•°ç»„æ‰å¹³åŒ–\" class=\"headerlink\" title=\"æ•°ç»„æ‰å¹³åŒ–\"></a>æ•°ç»„æ‰å¹³åŒ–</h2><p>1ã€è°ƒç”¨ ES6 ä¸­çš„ flat æ–¹æ³•</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">ary = arr.<span class=\"title function_\">flat</span>(<span class=\"title class_\">Infinity</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>([<span class=\"number\">1</span>, [<span class=\"number\">2</span>, <span class=\"number\">3</span>, [<span class=\"number\">4</span>, <span class=\"number\">5</span>, [<span class=\"number\">6</span>, <span class=\"number\">7</span>]]]].<span class=\"title function_\">flat</span>(<span class=\"title class_\">Infinity</span>))</span><br></pre></td></tr></table></figure>\n\n<p>2ã€æ™®é€šé€’å½’</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> result = []</span><br><span class=\"line\"><span class=\"keyword\">let</span> flatten = <span class=\"keyword\">function</span> (<span class=\"params\">arr</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; arr.<span class=\"property\">length</span>; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> item = arr[i]</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"title class_\">Array</span>.<span class=\"title function_\">isArray</span>(arr[i])) &#123;</span><br><span class=\"line\">      <span class=\"title function_\">flatten</span>(item)</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      result.<span class=\"title function_\">push</span>(item)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> result</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> arr = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, [<span class=\"number\">3</span>, <span class=\"number\">4</span>], [<span class=\"number\">5</span>, [<span class=\"number\">6</span>, <span class=\"number\">7</span>]]]</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">flatten</span>(arr))</span><br></pre></td></tr></table></figure>\n\n<p>3ã€åˆ©ç”¨ reduce å‡½æ•°è¿­ä»£</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">flatten</span>(<span class=\"params\">arr</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> arr.<span class=\"title function_\">reduce</span>(<span class=\"function\">(<span class=\"params\">pre, cur</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> pre.<span class=\"title function_\">concat</span>(<span class=\"title class_\">Array</span>.<span class=\"title function_\">isArray</span>(cur) ? <span class=\"title function_\">flatten</span>(cur) : cur)</span><br><span class=\"line\">  &#125;, [])</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> arr = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, [<span class=\"number\">3</span>, <span class=\"number\">4</span>], [<span class=\"number\">5</span>, [<span class=\"number\">6</span>, <span class=\"number\">7</span>]]]</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">flatten</span>(arr))</span><br></pre></td></tr></table></figure>\n\n<p>4ã€æ‰©å±•è¿ç®—ç¬¦</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">flatten</span>(<span class=\"params\">arr</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">while</span> (arr.<span class=\"title function_\">some</span>(<span class=\"function\">(<span class=\"params\">item</span>) =&gt;</span> <span class=\"title class_\">Array</span>.<span class=\"title function_\">isArray</span>(item))) &#123;</span><br><span class=\"line\">    arr = [].<span class=\"title function_\">concat</span>(...arr)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> arr</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> arr = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, [<span class=\"number\">3</span>, <span class=\"number\">4</span>], [<span class=\"number\">5</span>, [<span class=\"number\">6</span>, <span class=\"number\">7</span>]]]</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">flatten</span>(arr))</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æ•°ç»„å»é‡\"><a href=\"#æ•°ç»„å»é‡\" class=\"headerlink\" title=\"æ•°ç»„å»é‡\"></a>æ•°ç»„å»é‡</h2><p>1ã€åˆ©ç”¨æ•°ç»„çš„ indexOf ä¸‹æ ‡å±æ€§æ¥æŸ¥è¯¢</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">unique</span>(<span class=\"params\">arr</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> newArr = []</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; arr.<span class=\"property\">length</span>; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (newArr.<span class=\"title function_\">indexOf</span>(arr[i]) === -<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">      newArr.<span class=\"title function_\">push</span>(arr[i])</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> newArr</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">unique</span>([<span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">5</span>, <span class=\"number\">3</span>, <span class=\"number\">1</span>, <span class=\"number\">5</span>, <span class=\"number\">6</span>, <span class=\"number\">7</span>, <span class=\"number\">4</span>]))</span><br></pre></td></tr></table></figure>\n\n<p>2ã€å…ˆå°†åŸæ•°ç»„æ’åºï¼Œåœ¨ä¸ç›¸é‚»çš„è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœä¸åŒåˆ™å­˜å…¥æ–°æ•°ç»„ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">unique</span>(<span class=\"params\">arr</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> formArr = arr.<span class=\"title function_\">sort</span>()</span><br><span class=\"line\">  <span class=\"keyword\">var</span> newArr = [formArr[<span class=\"number\">0</span>]]</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">1</span>; i &lt; formArr.<span class=\"property\">length</span>; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (formArr[i] !== formArr[i - <span class=\"number\">1</span>]) &#123;</span><br><span class=\"line\">      newArr.<span class=\"title function_\">push</span>(formArr[i])</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> newArr</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">unique</span>([<span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">5</span>, <span class=\"number\">3</span>, <span class=\"number\">1</span>, <span class=\"number\">5</span>, <span class=\"number\">6</span>, <span class=\"number\">7</span>, <span class=\"number\">4</span>]))</span><br></pre></td></tr></table></figure>\n\n<p>3ã€åˆ©ç”¨å¯¹è±¡å±æ€§å­˜åœ¨çš„ç‰¹æ€§ï¼Œå¦‚æœæ²¡æœ‰è¯¥å±æ€§åˆ™å­˜å…¥æ–°æ•°ç»„ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">unique</span>(<span class=\"params\">arr</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> obj = &#123;&#125;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> newArr = []</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; arr.<span class=\"property\">length</span>; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!obj[arr[i]]) &#123;</span><br><span class=\"line\">      obj[arr[i]] = <span class=\"number\">1</span></span><br><span class=\"line\">      newArr.<span class=\"title function_\">push</span>(arr[i])</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> newArr</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">unique</span>([<span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">5</span>, <span class=\"number\">3</span>, <span class=\"number\">1</span>, <span class=\"number\">5</span>, <span class=\"number\">6</span>, <span class=\"number\">7</span>, <span class=\"number\">4</span>]))</span><br></pre></td></tr></table></figure>\n\n<p>4ã€åˆ©ç”¨æ•°ç»„åŸå‹å¯¹è±¡ä¸Šçš„ includes æ–¹æ³•ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">unique</span>(<span class=\"params\">arr</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> newArr = []</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; arr.<span class=\"property\">length</span>; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!newArr.<span class=\"title function_\">includes</span>(arr[i])) &#123;</span><br><span class=\"line\">      newArr.<span class=\"title function_\">push</span>(arr[i])</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> newArr</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">unique</span>([<span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">5</span>, <span class=\"number\">3</span>, <span class=\"number\">1</span>, <span class=\"number\">5</span>, <span class=\"number\">6</span>, <span class=\"number\">7</span>, <span class=\"number\">4</span>]))</span><br></pre></td></tr></table></figure>\n\n<p>5ã€åˆ©ç”¨æ•°ç»„åŸå‹å¯¹è±¡ä¸Šçš„ filter å’Œ includes æ–¹æ³•ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">unique</span>(<span class=\"params\">arr</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> newArr = []</span><br><span class=\"line\">  newArr = arr.<span class=\"title function_\">filter</span>(<span class=\"keyword\">function</span> (<span class=\"params\">item</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> newArr.<span class=\"title function_\">includes</span>(item) ? <span class=\"string\">&#x27;&#x27;</span> : newArr.<span class=\"title function_\">push</span>(item)</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">  <span class=\"keyword\">return</span> newArr</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">unique</span>([<span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">5</span>, <span class=\"number\">3</span>, <span class=\"number\">1</span>, <span class=\"number\">5</span>, <span class=\"number\">6</span>, <span class=\"number\">7</span>, <span class=\"number\">4</span>]))</span><br></pre></td></tr></table></figure>\n\n<p>6ã€åˆ©ç”¨ ES6 çš„ set æ–¹æ³•ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">unique</span>(<span class=\"params\">arr</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"title class_\">Array</span>.<span class=\"title function_\">from</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>(arr)) <span class=\"comment\">// åˆ©ç”¨Array.fromå°†Setç»“æ„è½¬æ¢æˆæ•°ç»„</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">unique</span>([<span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">5</span>, <span class=\"number\">3</span>, <span class=\"number\">1</span>, <span class=\"number\">5</span>, <span class=\"number\">6</span>, <span class=\"number\">7</span>, <span class=\"number\">4</span>]))</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æ ¹æ®å±æ€§å»é‡\"><a href=\"#æ ¹æ®å±æ€§å»é‡\" class=\"headerlink\" title=\"æ ¹æ®å±æ€§å»é‡\"></a>æ ¹æ®å±æ€§å»é‡</h2><p>æ–¹æ³•ä¸€</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">unique</span>(<span class=\"params\">arr</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> res = <span class=\"keyword\">new</span> <span class=\"title class_\">Map</span>()</span><br><span class=\"line\">  <span class=\"keyword\">return</span> arr.<span class=\"title function_\">filter</span>(<span class=\"function\">(<span class=\"params\">item</span>) =&gt;</span> !res.<span class=\"title function_\">has</span>(item.<span class=\"property\">productName</span>) &amp;&amp; res.<span class=\"title function_\">set</span>(item.<span class=\"property\">productName</span>, <span class=\"number\">1</span>))</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æ–¹æ³•äºŒ</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">unique</span>(<span class=\"params\">arr</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> result = &#123;&#125;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> obj = &#123;&#125;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; arr.<span class=\"property\">length</span>; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!obj[arr[i].<span class=\"property\">key</span>]) &#123;</span><br><span class=\"line\">      result.<span class=\"title function_\">push</span>(arr[i])</span><br><span class=\"line\">      obj[arr[i].<span class=\"property\">key</span>] = <span class=\"literal\">true</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"äº¤é›†-x2F-å¹¶é›†-x2F-å·®é›†\"><a href=\"#äº¤é›†-x2F-å¹¶é›†-x2F-å·®é›†\" class=\"headerlink\" title=\"äº¤é›†&#x2F;å¹¶é›†&#x2F;å·®é›†\"></a>äº¤é›†&#x2F;å¹¶é›†&#x2F;å·®é›†</h2><p>1ã€includes æ–¹æ³•ç»“åˆ filter æ–¹æ³•</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> a = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>]</span><br><span class=\"line\"><span class=\"keyword\">let</span> b = [<span class=\"number\">2</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å¹¶é›†</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> union = a.<span class=\"title function_\">concat</span>(b.<span class=\"title function_\">filter</span>(<span class=\"function\">(<span class=\"params\">v</span>) =&gt;</span> !a.<span class=\"title function_\">includes</span>(v)))</span><br><span class=\"line\"><span class=\"comment\">// [1,2,3,4,5]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// äº¤é›†</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> intersection = a.<span class=\"title function_\">filter</span>(<span class=\"function\">(<span class=\"params\">v</span>) =&gt;</span> b.<span class=\"title function_\">includes</span>(v))</span><br><span class=\"line\"><span class=\"comment\">// [2]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å·®é›†</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> difference = a.<span class=\"title function_\">concat</span>(b).<span class=\"title function_\">filter</span>(<span class=\"function\">(<span class=\"params\">v</span>) =&gt;</span> !a.<span class=\"title function_\">includes</span>(v) || !b.<span class=\"title function_\">includes</span>(v))</span><br><span class=\"line\"><span class=\"comment\">// [1,3,4,5]</span></span><br></pre></td></tr></table></figure>\n\n<p>2ã€ES6 çš„ Set æ•°æ®ç»“æ„</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> a = <span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>([<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>])</span><br><span class=\"line\"><span class=\"keyword\">let</span> b = <span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>([<span class=\"number\">2</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>])</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å¹¶é›†</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> union = <span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>([...a, ...b])</span><br><span class=\"line\"><span class=\"comment\">// Set &#123;1, 2, 3, 4,5&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// äº¤é›†</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> intersect = <span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>([...a].<span class=\"title function_\">filter</span>(<span class=\"function\">(<span class=\"params\">x</span>) =&gt;</span> b.<span class=\"title function_\">has</span>(x)))</span><br><span class=\"line\"><span class=\"comment\">// set &#123;2&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å·®é›†</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> difference = <span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>([...a].<span class=\"title function_\">filter</span>(<span class=\"function\">(<span class=\"params\">x</span>) =&gt;</span> !b.<span class=\"title function_\">has</span>(x)))</span><br><span class=\"line\"><span class=\"comment\">// Set &#123;1, 3, 4, 5&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æ•°ç»„æ±‚å’Œ\"><a href=\"#æ•°ç»„æ±‚å’Œ\" class=\"headerlink\" title=\"æ•°ç»„æ±‚å’Œ\"></a>æ•°ç»„æ±‚å’Œ</h2><p>1ã€ä¸‡èƒ½çš„ for å¾ªç¯</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">sum</span>(<span class=\"params\">arr</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> s = <span class=\"number\">0</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = arr.<span class=\"property\">length</span> - <span class=\"number\">1</span>; i &gt;= <span class=\"number\">0</span>; i--) &#123;</span><br><span class=\"line\">    s += arr[i]</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> s</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">sum</span>([<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>]) <span class=\"comment\">// 15</span></span><br></pre></td></tr></table></figure>\n\n<p>2ã€é€’å½’æ–¹æ³•</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">sum</span>(<span class=\"params\">arr</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> len = arr.<span class=\"property\">length</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (len == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (len == <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> arr[<span class=\"number\">0</span>]</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> arr[<span class=\"number\">0</span>] + <span class=\"title function_\">sum</span>(arr.<span class=\"title function_\">slice</span>(<span class=\"number\">1</span>))</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">sum</span>([<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>]) <span class=\"comment\">// 15</span></span><br></pre></td></tr></table></figure>\n\n<p>3ã€ES6 çš„ reduce æ–¹æ³•</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">sum</span>(<span class=\"params\">arr</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> arr.<span class=\"title function_\">reduce</span>(<span class=\"keyword\">function</span> (<span class=\"params\">prev, curr</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> prev + curr</span><br><span class=\"line\">  &#125;, <span class=\"number\">0</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">sum</span>([<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>]) <span class=\"comment\">// 15</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ç±»æ•°ç»„è½¬åŒ–\"><a href=\"#ç±»æ•°ç»„è½¬åŒ–\" class=\"headerlink\" title=\"ç±»æ•°ç»„è½¬åŒ–\"></a>ç±»æ•°ç»„è½¬åŒ–</h2><p>1ã€Array çš„ slice æ–¹æ³•</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> arr = <span class=\"title class_\">Array</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">slice</span>.<span class=\"title function_\">call</span>(<span class=\"variable language_\">arguments</span>)</span><br></pre></td></tr></table></figure>\n\n<p>2ã€ES6 çš„ Array.from()</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> arr = <span class=\"title class_\">Array</span>.<span class=\"title function_\">from</span>(<span class=\"variable language_\">arguments</span>)</span><br></pre></td></tr></table></figure>\n\n<p>3ã€æ‰©å±•è¿ç®—ç¬¦â€¦</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> arr = [...<span class=\"variable language_\">arguments</span>]</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æ•°ç»„ä¸Šä¸‹ç§»åŠ¨\"><a href=\"#æ•°ç»„ä¸Šä¸‹ç§»åŠ¨\" class=\"headerlink\" title=\"æ•°ç»„ä¸Šä¸‹ç§»åŠ¨\"></a>æ•°ç»„ä¸Šä¸‹ç§»åŠ¨</h2><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">swapItems</span>(<span class=\"params\">arr, index1, index2</span>) &#123;</span><br><span class=\"line\">  arr[index1] = arr.<span class=\"title function_\">splice</span>(index2, <span class=\"number\">1</span>, arr[index1])[<span class=\"number\">0</span>]</span><br><span class=\"line\">  <span class=\"keyword\">return</span> arr</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">up</span>(<span class=\"params\">arr, index</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (index === <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"title function_\">swapItems</span>(arr, index, index - <span class=\"number\">1</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">down</span>(<span class=\"params\">arr, index</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (index === <span class=\"variable language_\">this</span>.<span class=\"property\">list</span>.<span class=\"property\">length</span> - <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"title function_\">swapItems</span>(arr, index, index + <span class=\"number\">1</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æ•°ç»„è½¬åŒ–ä¸ºæ ‘å½¢ç»“æ„\"><a href=\"#æ•°ç»„è½¬åŒ–ä¸ºæ ‘å½¢ç»“æ„\" class=\"headerlink\" title=\"æ•°ç»„è½¬åŒ–ä¸ºæ ‘å½¢ç»“æ„\"></a>æ•°ç»„è½¬åŒ–ä¸ºæ ‘å½¢ç»“æ„</h2><p>å°†å¦‚ä¸‹æ•°æ®è½¬åŒ–ä¸ºæ ‘çŠ¶ç»“æ„</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> arr = [</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"attr\">id</span>: <span class=\"number\">1</span>,</span><br><span class=\"line\">    <span class=\"attr\">name</span>: <span class=\"string\">&#x27;1&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">pid</span>: <span class=\"number\">0</span>,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"attr\">id</span>: <span class=\"number\">2</span>,</span><br><span class=\"line\">    <span class=\"attr\">name</span>: <span class=\"string\">&#x27;1-1&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">pid</span>: <span class=\"number\">1</span>,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"attr\">id</span>: <span class=\"number\">3</span>,</span><br><span class=\"line\">    <span class=\"attr\">name</span>: <span class=\"string\">&#x27;1-1-1&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">pid</span>: <span class=\"number\">2</span>,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"attr\">id</span>: <span class=\"number\">4</span>,</span><br><span class=\"line\">    <span class=\"attr\">name</span>: <span class=\"string\">&#x27;1-2&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">pid</span>: <span class=\"number\">1</span>,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"attr\">id</span>: <span class=\"number\">5</span>,</span><br><span class=\"line\">    <span class=\"attr\">name</span>: <span class=\"string\">&#x27;1-2-2&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">pid</span>: <span class=\"number\">4</span>,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"attr\">id</span>: <span class=\"number\">6</span>,</span><br><span class=\"line\">    <span class=\"attr\">name</span>: <span class=\"string\">&#x27;1-1-1-1&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">pid</span>: <span class=\"number\">3</span>,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"attr\">id</span>: <span class=\"number\">7</span>,</span><br><span class=\"line\">    <span class=\"attr\">name</span>: <span class=\"string\">&#x27;2&#x27;</span>,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n\n<p>å®ç°æ–¹æ³•</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">toTree</span>(<span class=\"params\">data, parentId = <span class=\"number\">0</span></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> itemArr = []</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; data.<span class=\"property\">length</span>; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> node = data[i]</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (node.<span class=\"property\">pid</span> === parentId) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">var</span> newNode = &#123;</span><br><span class=\"line\">        ...node,</span><br><span class=\"line\">        <span class=\"attr\">name</span>: node.<span class=\"property\">name</span>,</span><br><span class=\"line\">        <span class=\"attr\">id</span>: node.<span class=\"property\">id</span>,</span><br><span class=\"line\">        <span class=\"attr\">children</span>: <span class=\"title function_\">toTree</span>(data, node.<span class=\"property\">id</span>),</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      itemArr.<span class=\"title function_\">push</span>(newNode)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> itemArr</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">toTree</span>(arr))</span><br></pre></td></tr></table></figure>\n"},{"title":"JS ç®—æ³•","url":"/LittleWhiteRabbit/2022/04/26/js%E7%AE%97%E6%B3%95%E7%BB%8F%E5%85%B8%E6%A1%88%E4%BE%8B/","content":"<h1 id=\"é€’å½’ç®—æ³•\"><a href=\"#é€’å½’ç®—æ³•\" class=\"headerlink\" title=\"é€’å½’ç®—æ³•\"></a>é€’å½’ç®—æ³•</h1><p>é€’å½’ç®—æ³•ï¼Œæ˜¯å°†é—®é¢˜è½¬åŒ–ä¸ºè§„æ¨¡ç¼©å°çš„åŒç±»é—®é¢˜çš„å­é—®é¢˜ï¼Œæ¯ä¸€ä¸ªå­é—®é¢˜éƒ½ç”¨ä¸€ä¸ªåŒæ ·çš„ç®—æ³•å»è§£å†³ã€‚ä¸€ä¸ªé€’å½’ç®—æ³•å°±æ˜¯<strong>å‡½æ•°è°ƒç”¨è‡ªèº«å»è§£å†³å®ƒçš„å­é—®é¢˜</strong>ã€‚</p>\n<p><strong>é€’å½’ç®—æ³•çš„ç‰¹ç‚¹</strong>ï¼š</p>\n<ul>\n<li>åœ¨å‡½æ•°è¿‡ç¨‹ä¸­è°ƒç”¨è‡ªèº«ã€‚</li>\n<li>å¿…é¡»æœ‰ä¸€ä¸ªæ˜ç¡®çš„æ¡ä»¶åˆ¤æ–­é€’å½’çš„ç»“æŸï¼Œæ—¢é€’å½’å‡ºå£ã€‚</li>\n</ul>\n<p><strong>é€’å½’ç®—æ³•çš„æ­¥éª¤</strong></p>\n<ul>\n<li>å‡è®¾é€’å½’å‡½æ•°å·²ç»å†™å¥½</li>\n<li>å¯»æ‰¾é€’æ¨å…³ç³»</li>\n<li>å°†é€’æ¨å…³ç³»çš„ç»“æ„è½¬æ¢ä¸ºé€’å½’ä½“</li>\n<li>å°†ä¸´ç•Œæ¡ä»¶åŠ å…¥åˆ°é€’å½’ä½“ä¸­<span id=\"more\"></span>\n<h3 id=\"é˜¶ä¹˜\"><a href=\"#é˜¶ä¹˜\" class=\"headerlink\" title=\"é˜¶ä¹˜\"></a>é˜¶ä¹˜</h3></li>\n</ul>\n<p>é˜¶ä¹˜ï¼Œå®šä¹‰ä¸º nï¼ï¼Œè¡¨ç¤ºä» 1 åˆ° n çš„æ•´æ•°çš„ä¹˜ç§¯ã€‚</p>\n<p>æ–¹æ³• 1ï¼š for å¾ªç¯</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">factorial</span> = (<span class=\"params\">n</span>) =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (n &lt;= <span class=\"number\">1</span>) <span class=\"keyword\">return</span> <span class=\"number\">1</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> total = <span class=\"number\">1</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = n; i &gt; <span class=\"number\">1</span>; i--) &#123;</span><br><span class=\"line\">    total = total * i</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> total</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">factorial</span>(<span class=\"number\">5</span>)) <span class=\"comment\">// 120</span></span><br></pre></td></tr></table></figure>\n\n<p>æ–¹æ³• 2ï¼šé€’å½’</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">factorial</span> = (<span class=\"params\">n</span>) =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (n &lt;= <span class=\"number\">1</span>) <span class=\"keyword\">return</span> <span class=\"number\">1</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> n * <span class=\"title function_\">factorial</span>(n - <span class=\"number\">1</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">factorial</span>(<span class=\"number\">5</span>)) <span class=\"comment\">// 120</span></span><br></pre></td></tr></table></figure>\n\n<p>è¿™ç§é€’å½’æ–¹æ³•å†™èµ·æ¥å¾ˆæ–¹ä¾¿ï¼Œä½†æ˜¯ä¹Ÿå­˜åœ¨ç¼ºç‚¹ï¼Œå°±æ˜¯ä¼šä¿å­˜å¾ˆå¤šä¸ªè°ƒç”¨å¸§ï¼Œæ¯”å¦‚ä¸Šè¾¹çš„ factorial(5)ï¼Œè¿™ä¸ªæ–¹æ³•è¦æ‰§è¡Œ 5 æ¬¡ï¼Œæ‰èƒ½è¿”å›æœ€ç»ˆçš„è®¡ç®—è¡¨è¾¾å¼ï¼Œè¿™æ ·æ¯æ¬¡éƒ½è¦ä¿å­˜è¿™ä¸ªæ–¹æ³•ï¼Œå°±å®¹æ˜“é€ æˆæ ˆæº¢å‡ºã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<strong>å°¾é€’å½’</strong>ã€‚</p>\n<p>å½“é€’å½’è°ƒç”¨æ˜¯æ•´ä¸ªå‡½æ•°ä½“ä¸­æœ€åæ‰§è¡Œçš„è¯­å¥ä¸”å®ƒçš„è¿”å›å€¼ä¸å±äºè¡¨è¾¾å¼çš„ä¸€éƒ¨åˆ†æ—¶ï¼Œè¿™ä¸ªé€’å½’è°ƒç”¨å°±æ˜¯å°¾é€’å½’ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">factorial</span> = (<span class=\"params\">n, total = <span class=\"number\">1</span></span>) =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (n &lt;= <span class=\"number\">1</span>) <span class=\"keyword\">return</span> total</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"title function_\">factorial</span>(n - <span class=\"number\">1</span>, total * n)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">factorial</span>(<span class=\"number\">5</span>)) <span class=\"comment\">// 120</span></span><br></pre></td></tr></table></figure>\n\n<p>è¿™æ ·ï¼Œæ¯ä¸€æ¬¡è¿”å›çš„å°±æ˜¯ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œä¸å¸¦ä¸Šä¸€ä¸ªå‡½æ•°çš„å‚æ•°ï¼Œä¹Ÿå°±ä¸éœ€è¦å‚¨å­˜ä¸Šä¸€ä¸ªå‡½æ•°äº†ã€‚åªéœ€è¦ä¸€ä¸ªå¸§å³å¯ã€‚</p>\n<h3 id=\"æ–æ³¢é‚£å¥‘æ•°åˆ—\"><a href=\"#æ–æ³¢é‚£å¥‘æ•°åˆ—\" class=\"headerlink\" title=\"æ–æ³¢é‚£å¥‘æ•°åˆ—\"></a>æ–æ³¢é‚£å¥‘æ•°åˆ—</h3><p>æ–æ³¢é‚£å¥‘æ•°åˆ—ä»ç¬¬ä¸‰é¡¹å¼€å§‹ï¼Œæ¯ä¸€é¡¹éƒ½ç­‰äºå‰ä¸¤é¡¹ä¹‹å’Œã€‚0, 1, 1, 2, 3, 5, 8, 13â€¦</p>\n<p>æ–¹æ³• 1: éé€’å½’ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(n)</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">fib</span>(<span class=\"params\">n</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> a = <span class=\"number\">0</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> b = <span class=\"number\">1</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> c = a + b</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">3</span>; i &lt; n; i++) &#123;</span><br><span class=\"line\">    a = b</span><br><span class=\"line\">    b = c</span><br><span class=\"line\">    c = a + b</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> c</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">fib</span>(<span class=\"number\">10</span>)) <span class=\"comment\">// 34</span></span><br></pre></td></tr></table></figure>\n\n<p>æ–¹æ³• 2ï¼šé€’å½’ã€‚æ—¶é—´å¤æ‚åº¦ä¸º O(2^n)</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">fib</span>(<span class=\"params\">n</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (n === <span class=\"number\">1</span> || n === <span class=\"number\">2</span>) <span class=\"keyword\">return</span> n - <span class=\"number\">1</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"title function_\">fib</span>(n - <span class=\"number\">1</span>) + <span class=\"title function_\">fib</span>(n - <span class=\"number\">2</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">fib</span>(<span class=\"number\">10</span>)) <span class=\"comment\">// 34</span></span><br></pre></td></tr></table></figure>\n\n<p>æ–¹æ³• 3ï¼šå°¾é€’å½’</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">fib</span>(<span class=\"params\">n, ac1 = <span class=\"number\">1</span>, ac2 = <span class=\"number\">1</span></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (n &lt;= <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ac2</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"title function_\">fib</span>(n - <span class=\"number\">1</span>, ac2, ac1 + ac2)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">fib</span>(<span class=\"number\">10</span>)) <span class=\"comment\">// 34</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"çˆ¬æ¥¼æ¢¯\"><a href=\"#çˆ¬æ¥¼æ¢¯\" class=\"headerlink\" title=\"çˆ¬æ¥¼æ¢¯\"></a>çˆ¬æ¥¼æ¢¯</h3><p>é—®é¢˜æè¿°ï¼šä¸€å…± 10 çº§æ¥¼æ¢¯ï¼Œæ¯æ¬¡å¯ä»¥èµ°ä¸€æ­¥æˆ–ä¸¤æ­¥ï¼Œæ±‚ä¸€å…±å¤šå°‘ç§èµ°æ³•ã€‚</p>\n<p>è¦æƒ³èµ°åˆ° N(N&#x3D;10)çº§,å¯ä»¥åˆ†ä¸º 2 ç§æƒ…å†µã€‚</p>\n<ul>\n<li>ä» n-2 çº§è¿ˆä¸¤æ­¥</li>\n<li>ä» n-1 çº§è¿ˆä¸€æ­¥</li>\n</ul>\n<p>é‚£ä¹ˆå¯¹äº n-2 å’Œ n-1 çš„æƒ…å†µä¹Ÿæ˜¯å„è‡ªåˆ†ä¸ºä¸¤ç§ï¼Œä»¥æ­¤ç±»æ¨ã€‚é‚£ä¹ˆèµ°æ³•çš„å’Œå°±æ˜¯ n-2 çš„èµ°æ³•å’Œ n-1 çš„èµ°æ³•ä¹‹å’Œã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">climbStairs</span>(<span class=\"params\">n</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (n == <span class=\"number\">1</span>) <span class=\"keyword\">return</span> <span class=\"number\">1</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (n == <span class=\"number\">2</span>) <span class=\"keyword\">return</span> <span class=\"number\">2</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"title function_\">climbStairs</span>(n - <span class=\"number\">1</span>) + <span class=\"title function_\">climbStairs</span>(n - <span class=\"number\">2</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æœ€å¤§å…¬çº¦æ•°\"><a href=\"#æœ€å¤§å…¬çº¦æ•°\" class=\"headerlink\" title=\"æœ€å¤§å…¬çº¦æ•°\"></a>æœ€å¤§å…¬çº¦æ•°</h3><p>æ–¹æ³• 1ï¼šçŸ­é™¤æ³•</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">gcd</span>(<span class=\"params\">a, b</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> result = <span class=\"number\">1</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">1</span>; i &lt;= a &amp;&amp; i &lt;= b; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (a % i == <span class=\"number\">0</span> &amp;&amp; b % i == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">      result = i</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> result</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æ–¹æ³• 2ï¼šè¾—è½¬ç›¸é™¤æ³•</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">gcd</span>(<span class=\"params\">m, n</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> a = <span class=\"title class_\">Math</span>.<span class=\"title function_\">max</span>(m, n)</span><br><span class=\"line\">  <span class=\"keyword\">var</span> b = <span class=\"title class_\">Math</span>.<span class=\"title function_\">min</span>(m, n)</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (a % b == <span class=\"number\">0</span>) <span class=\"keyword\">return</span> b</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"title function_\">gcd</span>(b, a % b)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"äºŒåˆ†æ³•æ’åº\"><a href=\"#äºŒåˆ†æ³•æ’åº\" class=\"headerlink\" title=\"äºŒåˆ†æ³•æ’åº\"></a>äºŒåˆ†æ³•æ’åº</h3><p>äºŒåˆ†æ³•æ’åºçš„åŸç†å¦‚ä¸‹</p>\n<ul>\n<li>å–æ•°ç»„ä¸€ä¸ªéšæœºç´¢å¼•å€¼ä½œä¸ºæ¯”è¾ƒå€¼</li>\n<li>æ•°ç»„æ¯ä¸€é¡¹ä¸æ¯”è¾ƒå€¼åšå¤§å°æ¯”è¾ƒï¼Œæ¯”ä¹‹å°çš„æ”¾åœ¨å·¦è¾¹æ•°ç»„ï¼Œæ¯”ä¹‹å¤§çš„æ”¾åœ¨å³è¾¹æ•°ç»„</li>\n<li>ä¾æ¬¡é€’å½’ç›´åˆ°æ‰§è¡Œçš„æ•°ç»„é•¿åº¦ä¸º 1</li>\n<li>concat() æ–¹æ³•è¿æ¥ä¸¤ä¸ªæˆ–å¤šä¸ªæ•°ç»„</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">quickSort</span>(<span class=\"params\">arr</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (arr.<span class=\"property\">length</span> &lt;= <span class=\"number\">1</span>) <span class=\"keyword\">return</span> arr</span><br><span class=\"line\">  <span class=\"keyword\">var</span> leftArr = []</span><br><span class=\"line\">  <span class=\"keyword\">var</span> rightArr = []</span><br><span class=\"line\">  <span class=\"keyword\">var</span> pivot = <span class=\"title class_\">Math</span>.<span class=\"title function_\">random</span>(arr.<span class=\"property\">length</span> / <span class=\"number\">2</span>)</span><br><span class=\"line\">  <span class=\"keyword\">var</span> baseNum = arr.<span class=\"title function_\">splice</span>(pivot, <span class=\"number\">1</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">  arr.<span class=\"title function_\">forEach</span>(<span class=\"keyword\">function</span> (<span class=\"params\">num</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (num &lt; baseNum) &#123;</span><br><span class=\"line\">      leftArr.<span class=\"title function_\">push</span>(num)</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      rightArr.<span class=\"title function_\">push</span>(num)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"title function_\">quickSort</span>(leftArr).<span class=\"title function_\">concat</span>(baseNum, <span class=\"title function_\">quickSort</span>(rightArr))</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">quickSort</span>([<span class=\"number\">1</span>, <span class=\"number\">10</span>, <span class=\"number\">2</span>, <span class=\"number\">5</span>, <span class=\"number\">9</span>, <span class=\"number\">12</span>, <span class=\"number\">5</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>]))</span><br></pre></td></tr></table></figure>\n"},{"title":"JSé˜²æŠ–ä¸èŠ‚æµ","url":"/LittleWhiteRabbit/2020/04/14/js%E9%98%B2%E6%8A%96%E4%B8%8E%E8%8A%82%E6%B5%81/","content":"<h1 id=\"é˜²æŠ–ä¸èŠ‚æµ\"><a href=\"#é˜²æŠ–ä¸èŠ‚æµ\" class=\"headerlink\" title=\"é˜²æŠ–ä¸èŠ‚æµ\"></a>é˜²æŠ–ä¸èŠ‚æµ</h1><p>åº”ç”¨åœºæ™¯ï¼šåœ¨å‰ç«¯å¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šéœ€è¦ç»‘å®šä¸€äº›æŒç»­è§¦å‘çš„äº‹ä»¶ï¼Œå¦‚ resizeã€scrollã€mousemove ç­‰ç­‰ï¼Œä½†æœ‰äº›æ—¶å€™æˆ‘ä»¬å¹¶ä¸å¸Œæœ›åœ¨äº‹ä»¶æŒç»­è§¦å‘çš„è¿‡ç¨‹ä¸­é‚£ä¹ˆé¢‘ç¹åœ°å»æ‰§è¡Œå‡½æ•°ã€‚è¿™æ—¶å€™å°±ç”¨åˆ°é˜²æŠ–ä¸èŠ‚æµã€‚</p>\n<span id=\"more\"></span>\n<h3 id=\"å‡½æ•°é˜²æŠ–ï¼ˆdebounceï¼‰ï¼š\"><a href=\"#å‡½æ•°é˜²æŠ–ï¼ˆdebounceï¼‰ï¼š\" class=\"headerlink\" title=\"å‡½æ•°é˜²æŠ–ï¼ˆdebounceï¼‰ï¼š\"></a>å‡½æ•°é˜²æŠ–ï¼ˆdebounceï¼‰ï¼š</h3><p>å½“æŒç»­è§¦å‘äº‹ä»¶æ—¶ï¼Œä¸€å®šæ—¶é—´æ®µå†…æ²¡æœ‰å†è§¦å‘äº‹ä»¶ï¼Œäº‹ä»¶å¤„ç†å‡½æ•°æ‰ä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œå¦‚æœè®¾å®šçš„æ—¶é—´åˆ°æ¥ä¹‹å‰ï¼Œåˆä¸€æ¬¡è§¦å‘äº†äº‹ä»¶ï¼Œå°±é‡æ–°å¼€å§‹å»¶æ—¶ã€‚å¦‚ä¸‹å›¾ï¼ŒæŒç»­è§¦å‘scrolläº‹ä»¶æ—¶ï¼Œå¹¶ä¸æ‰§è¡Œhandleå‡½æ•°ï¼Œå½“1000æ¯«ç§’å†…æ²¡æœ‰è§¦å‘scrolläº‹ä»¶æ—¶ï¼Œæ‰ä¼šå»¶æ—¶è§¦å‘scrolläº‹ä»¶ã€‚</p>\n<p>éç«‹å³æ‰§è¡Œç‰ˆ</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">debounce</span>(<span class=\"params\">func, wait</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> timeout;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> context = <span class=\"variable language_\">this</span>;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> args = <span class=\"variable language_\">arguments</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (timeout) <span class=\"built_in\">clearTimeout</span>(timeout);      </span><br><span class=\"line\">        timeout = <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">            func.<span class=\"title function_\">apply</span>(context, args)</span><br><span class=\"line\">        &#125;, wait);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<!--more-->\n<p>éç«‹å³æ‰§è¡Œç‰ˆçš„æ„æ€æ˜¯è§¦å‘äº‹ä»¶åå‡½æ•°ä¸ä¼šç«‹å³æ‰§è¡Œï¼Œè€Œæ˜¯åœ¨ n ç§’åæ‰§è¡Œï¼Œå¦‚æœåœ¨ n ç§’å†…åˆè§¦å‘äº†äº‹ä»¶ï¼Œåˆ™ä¼šé‡æ–°è®¡ç®—å‡½æ•°æ‰§è¡Œæ—¶é—´ã€‚</p>\n<p>ç«‹å³æ‰§è¡Œç‰ˆ</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">debounce</span>(<span class=\"params\">func,wait</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> timeout;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> context = <span class=\"variable language_\">this</span>;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> args = <span class=\"variable language_\">arguments</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (timeout) <span class=\"built_in\">clearTimeout</span>(timeout);</span><br><span class=\"line\">        <span class=\"keyword\">let</span> callNow = !timeout;</span><br><span class=\"line\">        timeout = <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">            timeout = <span class=\"literal\">null</span>;</span><br><span class=\"line\">        &#125;, wait)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (callNow) func.<span class=\"title function_\">apply</span>(context, args)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ç«‹å³æ‰§è¡Œç‰ˆçš„æ„æ€æ˜¯è§¦å‘äº‹ä»¶åå‡½æ•°ä¼šç«‹å³æ‰§è¡Œï¼Œç„¶å n ç§’å†…ä¸è§¦å‘äº‹ä»¶æ‰èƒ½ç»§ç»­æ‰§è¡Œå‡½æ•°çš„æ•ˆæœ</p>\n<h4 id=\"é˜²æŠ–åº”ç”¨åœºæ™¯\"><a href=\"#é˜²æŠ–åº”ç”¨åœºæ™¯\" class=\"headerlink\" title=\"é˜²æŠ–åº”ç”¨åœºæ™¯\"></a>é˜²æŠ–åº”ç”¨åœºæ™¯</h4><ol>\n<li>æœç´¢æ¡†è¾“å…¥æŸ¥è¯¢ï¼Œå¦‚æœç”¨æˆ·ä¸€ç›´åœ¨è¾“å…¥ä¸­ï¼Œæ²¡æœ‰å¿…è¦ä¸åœåœ°è°ƒç”¨å»è¯·æ±‚æœåŠ¡ç«¯æ¥å£ï¼Œç­‰ç”¨æˆ·åœæ­¢è¾“å…¥çš„æ—¶å€™ï¼Œå†è°ƒç”¨ï¼Œè®¾ç½®ä¸€ä¸ªåˆé€‚çš„æ—¶é—´é—´éš”ï¼Œæœ‰æ•ˆå‡è½»æœåŠ¡ç«¯å‹åŠ›ã€‚</li>\n<li>è¡¨å•éªŒè¯</li>\n<li>æŒ‰é’®æäº¤äº‹ä»¶ã€‚</li>\n<li>æµè§ˆå™¨çª—å£ç¼©æ”¾ï¼Œresizeäº‹ä»¶(å¦‚çª—å£åœæ­¢æ”¹å˜å¤§å°ä¹‹åé‡æ–°è®¡ç®—å¸ƒå±€)ç­‰ã€‚</li>\n</ol>\n<h3 id=\"å‡½æ•°èŠ‚æµï¼ˆthrottleï¼‰ï¼š\"><a href=\"#å‡½æ•°èŠ‚æµï¼ˆthrottleï¼‰ï¼š\" class=\"headerlink\" title=\"å‡½æ•°èŠ‚æµï¼ˆthrottleï¼‰ï¼š\"></a>å‡½æ•°èŠ‚æµï¼ˆthrottleï¼‰ï¼š</h3><p>å½“æŒç»­è§¦å‘äº‹ä»¶æ—¶ï¼Œä¿è¯ä¸€å®šæ—¶é—´æ®µå†…åªè°ƒç”¨ä¸€æ¬¡äº‹ä»¶å¤„ç†å‡½æ•°ã€‚èŠ‚æµé€šä¿—è§£é‡Šå°±æ¯”å¦‚æˆ‘ä»¬æ°´é¾™å¤´æ”¾æ°´ï¼Œé˜€é—¨ä¸€æ‰“å¼€ï¼Œæ°´å“—å“—çš„å¾€ä¸‹æµï¼Œç§‰ç€å‹¤ä¿­èŠ‚çº¦çš„ä¼˜è‰¯ä¼ ç»Ÿç¾å¾·ï¼Œæˆ‘ä»¬è¦æŠŠæ°´é¾™å¤´å…³å°ç‚¹ï¼Œæœ€å¥½æ˜¯å¦‚æˆ‘ä»¬å¿ƒæ„æŒ‰ç…§ä¸€å®šè§„å¾‹åœ¨æŸä¸ªæ—¶é—´é—´éš”å†…ä¸€æ»´ä¸€æ»´çš„å¾€ä¸‹æ»´ã€‚å¦‚ä¸‹å›¾ï¼ŒæŒç»­è§¦å‘scrolläº‹ä»¶æ—¶ï¼Œå¹¶ä¸ç«‹å³æ‰§è¡Œhandleå‡½æ•°ï¼Œæ¯éš”1000æ¯«ç§’æ‰ä¼šæ‰§è¡Œä¸€æ¬¡handleå‡½æ•°ã€‚å‡½æ•°èŠ‚æµä¸»è¦æœ‰ä¸¤ç§å®ç°æ–¹æ³•ï¼šæ—¶é—´æˆ³å’Œå®šæ—¶å™¨</p>\n<p>æ—¶é—´æˆ³ç‰ˆ:</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">throttle</span>(<span class=\"params\">func, wait</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> previous = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> now = <span class=\"title class_\">Date</span>.<span class=\"title function_\">now</span>();</span><br><span class=\"line\">        <span class=\"keyword\">let</span> context = <span class=\"variable language_\">this</span>;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> args = <span class=\"variable language_\">arguments</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (now - previous &gt; wait) &#123;</span><br><span class=\"line\">            func.<span class=\"title function_\">apply</span>(context, args);</span><br><span class=\"line\">            previous = now;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>å®šæ—¶å™¨ç‰ˆ:</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">throttle</span>(<span class=\"params\">func, wait</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> timeout;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> context = <span class=\"variable language_\">this</span>;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> args = <span class=\"variable language_\">arguments</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!timeout) &#123;</span><br><span class=\"line\">            timeout = <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">                timeout = <span class=\"literal\">null</span>;</span><br><span class=\"line\">                func.<span class=\"title function_\">apply</span>(context, args)</span><br><span class=\"line\">            &#125;, wait)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"èŠ‚æµåº”ç”¨åœºæ™¯\"><a href=\"#èŠ‚æµåº”ç”¨åœºæ™¯\" class=\"headerlink\" title=\"èŠ‚æµåº”ç”¨åœºæ™¯\"></a>èŠ‚æµåº”ç”¨åœºæ™¯</h4><ol>\n<li>æŒ‰é’®ç‚¹å‡»äº‹ä»¶</li>\n<li>æ‹–æ‹½äº‹ä»¶</li>\n<li>onScoll</li>\n<li>è®¡ç®—é¼ æ ‡ç§»åŠ¨çš„è·ç¦»(mousemove)</li>\n</ol>\n<h3 id=\"æ€»ç»“\"><a href=\"#æ€»ç»“\" class=\"headerlink\" title=\"æ€»ç»“\"></a>æ€»ç»“</h3><p>å‡½æ•°é˜²æŠ–ï¼šå°†å‡ æ¬¡æ“ä½œåˆå¹¶ä¸ºä¸€æ­¤æ“ä½œè¿›è¡Œã€‚åŸç†æ˜¯ç»´æŠ¤ä¸€ä¸ªè®¡æ—¶å™¨ï¼Œè§„å®šåœ¨delayæ—¶é—´åè§¦å‘å‡½æ•°ï¼Œä½†æ˜¯åœ¨delayæ—¶é—´å†…å†æ¬¡è§¦å‘çš„è¯ï¼Œå°±ä¼šå–æ¶ˆä¹‹å‰çš„è®¡æ—¶å™¨è€Œé‡æ–°è®¾ç½®ã€‚è¿™æ ·ä¸€æ¥ï¼Œåªæœ‰æœ€åä¸€æ¬¡æ“ä½œèƒ½è¢«è§¦å‘ã€‚</p>\n<p>å‡½æ•°èŠ‚æµï¼šä½¿å¾—ä¸€å®šæ—¶é—´å†…åªè§¦å‘ä¸€æ¬¡å‡½æ•°ã€‚åŸç†æ˜¯é€šè¿‡åˆ¤æ–­æ˜¯å¦åˆ°è¾¾ä¸€å®šæ—¶é—´æ¥è§¦å‘å‡½æ•°ã€‚</p>\n<p>åŒºåˆ«ï¼š å‡½æ•°èŠ‚æµä¸ç®¡äº‹ä»¶è§¦å‘æœ‰å¤šé¢‘ç¹ï¼Œéƒ½ä¼šä¿è¯åœ¨è§„å®šæ—¶é—´å†…ä¸€å®šä¼šæ‰§è¡Œä¸€æ¬¡çœŸæ­£çš„äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œè€Œå‡½æ•°é˜²æŠ–åªæ˜¯åœ¨æœ€åä¸€æ¬¡äº‹ä»¶åæ‰è§¦å‘ä¸€æ¬¡å‡½æ•°ã€‚ æ¯”å¦‚åœ¨é¡µé¢çš„æ— é™åŠ è½½åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬éœ€è¦ç”¨æˆ·åœ¨æ»šåŠ¨é¡µé¢æ—¶ï¼Œæ¯éš”ä¸€æ®µæ—¶é—´å‘ä¸€æ¬¡ Ajax è¯·æ±‚ï¼Œè€Œä¸æ˜¯åœ¨ç”¨æˆ·åœä¸‹æ»šåŠ¨é¡µé¢æ“ä½œæ—¶æ‰å»è¯·æ±‚æ•°æ®ã€‚è¿™æ ·çš„åœºæ™¯ï¼Œå°±é€‚åˆç”¨èŠ‚æµæŠ€æœ¯æ¥å®ç°ã€‚</p>\n"},{"title":"JS ç»§æ‰¿","url":"/LittleWhiteRabbit/2022/04/26/js%E7%BB%A7%E6%89%BF%E7%9A%84%E6%96%B9%E6%B3%95/","content":"<h1 id=\"JS-ç»§æ‰¿\"><a href=\"#JS-ç»§æ‰¿\" class=\"headerlink\" title=\"JS ç»§æ‰¿\"></a>JS ç»§æ‰¿</h1><h3 id=\"1ã€å±æ€§æ‹·è´\"><a href=\"#1ã€å±æ€§æ‹·è´\" class=\"headerlink\" title=\"1ã€å±æ€§æ‹·è´\"></a>1ã€å±æ€§æ‹·è´</h3><p>å¦‚æœç»§æ‰¿è¿‡æ¥çš„æˆå‘˜æ˜¯å¼•ç”¨ç±»å‹çš„è¯, é‚£ä¹ˆè¿™ä¸ªå¼•ç”¨ç±»å‹çš„æˆå‘˜åœ¨çˆ¶å¯¹è±¡å’Œå­å¯¹è±¡ä¹‹é—´æ˜¯å…±äº«çš„, ä¹Ÿå°±æ˜¯è¯´ä¿®æ”¹äº†ä¹‹å, çˆ¶å­å¯¹è±¡éƒ½ä¼šå—åˆ°å½±å“.</p>\n<span id=\"more\"></span>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// åˆ›å»ºçˆ¶å¯¹è±¡</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> superObj = &#123;</span><br><span class=\"line\">  <span class=\"attr\">age</span>: <span class=\"number\">25</span>,</span><br><span class=\"line\">  <span class=\"attr\">friends</span>: &#123; <span class=\"attr\">age</span>: <span class=\"number\">33</span> &#125;,</span><br><span class=\"line\">  <span class=\"attr\">showName</span>: <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">name</span>)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// åˆ›å»ºéœ€è¦ç»§æ‰¿çš„å­å¯¹è±¡</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> subObj = &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å¼€å§‹æ‹·è´å±æ€§(ä½¿ç”¨for...in...å¾ªç¯)</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i <span class=\"keyword\">in</span> superObj) &#123;</span><br><span class=\"line\">  subObj[i] = superObj[i]</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">subObj.<span class=\"property\">age</span> = <span class=\"number\">20</span></span><br><span class=\"line\">subObj.<span class=\"property\">friends</span>.<span class=\"property\">age</span> = <span class=\"number\">44</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(subObj) <span class=\"comment\">//  &#123;age:20,friends: &#123; age: 44 &#125;&#125;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(superObj) <span class=\"comment\">//  &#123;age:25,friends: &#123; age: 44 &#125;&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"2ã€åŸå‹å¼ç»§æ‰¿\"><a href=\"#2ã€åŸå‹å¼ç»§æ‰¿\" class=\"headerlink\" title=\"2ã€åŸå‹å¼ç»§æ‰¿\"></a>2ã€åŸå‹å¼ç»§æ‰¿</h3><ul>\n<li>çˆ¶æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡å’Œå­æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ä¸Šçš„æˆå‘˜æœ‰å…±äº«é—®é¢˜</li>\n<li>åªèƒ½ç»§æ‰¿çˆ¶æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ä¸Šçš„æˆå‘˜, ä¸èƒ½ç»§æ‰¿çˆ¶æ„é€ å‡½æ•°çš„å®ä¾‹å¯¹è±¡çš„æˆå‘˜</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// åˆ›å»ºçˆ¶æ„é€ å‡½æ•°</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">SuperClass</span>(<span class=\"params\">name</span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">name</span> = name</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">showName</span> = <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"title function_\">alert</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">name</span>)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è®¾ç½®çˆ¶æ„é€ å™¨çš„åŸå‹å¯¹è±¡</span></span><br><span class=\"line\"><span class=\"title class_\">SuperClass</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">showAge</span> = <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">age</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// åˆ›å»ºå­æ„é€ å‡½æ•°</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">SubClass</span>(<span class=\"params\"></span>) &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è®¾ç½®å­æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡å®ç°ç»§æ‰¿</span></span><br><span class=\"line\"><span class=\"title class_\">SubClass</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span> = <span class=\"title class_\">SuperClass</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> child = <span class=\"keyword\">new</span> <span class=\"title class_\">SubClass</span>()</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"3ã€åŸå‹é“¾ç»§æ‰¿\"><a href=\"#3ã€åŸå‹é“¾ç»§æ‰¿\" class=\"headerlink\" title=\"3ã€åŸå‹é“¾ç»§æ‰¿\"></a>3ã€åŸå‹é“¾ç»§æ‰¿</h3><p>ä¸èƒ½ç»™çˆ¶æ„é€ å‡½æ•°ä¼ é€’å‚æ•°ï¼Œçˆ¶å­æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ä¹‹é—´æœ‰å…±äº«é—®é¢˜</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// åˆ›å»ºçˆ¶æ„é€ å‡½æ•°</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">SuperClass</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">name</span> = <span class=\"string\">&#x27;liyajie&#x27;</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">age</span> = <span class=\"number\">25</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">showName</span> = <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">name</span>)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// è®¾ç½®çˆ¶æ„é€ å‡½æ•°çš„åŸå‹</span></span><br><span class=\"line\"><span class=\"title class_\">SuperClass</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">friends</span> = [<span class=\"string\">&#x27;å°å&#x27;</span>, <span class=\"string\">&#x27;å°å¼º&#x27;</span>]</span><br><span class=\"line\"><span class=\"title class_\">SuperClass</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">showAge</span> = <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">age</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// åˆ›å»ºå­æ„é€ å‡½æ•°</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">SubClass</span>(<span class=\"params\"></span>) &#123;&#125;</span><br><span class=\"line\"><span class=\"comment\">// å®ç°ç»§æ‰¿</span></span><br><span class=\"line\"><span class=\"title class_\">SubClass</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span> = <span class=\"keyword\">new</span> <span class=\"title class_\">SuperClass</span>()</span><br><span class=\"line\"><span class=\"comment\">// ä¿®æ”¹å­æ„é€ å‡½æ•°çš„åŸå‹çš„æ„é€ å™¨å±æ€§</span></span><br><span class=\"line\"><span class=\"title class_\">SubClass</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">constructor</span> = <span class=\"title class_\">SubClass</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> child = <span class=\"keyword\">new</span> <span class=\"title class_\">SubClass</span>()</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(child.<span class=\"property\">name</span>) <span class=\"comment\">// liyajie</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(child.<span class=\"property\">age</span>) <span class=\"comment\">// 25</span></span><br><span class=\"line\">child.<span class=\"title function_\">showName</span>() <span class=\"comment\">// liyajie</span></span><br><span class=\"line\">child.<span class=\"title function_\">showAge</span>() <span class=\"comment\">// 25</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(child.<span class=\"property\">friends</span>) <span class=\"comment\">// [&#x27;å°å&#x27;,&#x27;å°å¼º&#x27;]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å½“æˆ‘ä»¬æ”¹å˜friendsçš„æ—¶å€™, çˆ¶æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡çš„ä¹Ÿä¼šå˜åŒ–</span></span><br><span class=\"line\">child.<span class=\"property\">friends</span>.<span class=\"title function_\">push</span>(<span class=\"string\">&#x27;å°ç‹å…«&#x27;</span>)</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(child.<span class=\"property\">friends</span>) <span class=\"comment\">//[(&#x27;å°å&#x27;, &#x27;å°å¼º&#x27;, &#x27;å°ç‹å…«&#x27;)]</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> father = <span class=\"keyword\">new</span> <span class=\"title class_\">SuperClass</span>()</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(father.<span class=\"property\">friends</span>) <span class=\"comment\">//[(&#x27;å°å&#x27;, &#x27;å°å¼º&#x27;, &#x27;å°ç‹å…«&#x27;)]</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"4ã€å€Ÿç”¨æ„é€ å‡½æ•°\"><a href=\"#4ã€å€Ÿç”¨æ„é€ å‡½æ•°\" class=\"headerlink\" title=\"4ã€å€Ÿç”¨æ„é€ å‡½æ•°\"></a>4ã€å€Ÿç”¨æ„é€ å‡½æ•°</h3><p>ä½¿ç”¨ call å’Œ apply å€Ÿç”¨å…¶ä»–æ„é€ å‡½æ•°çš„æˆå‘˜, å¯ä»¥è§£å†³ç»™çˆ¶æ„é€ å‡½æ•°ä¼ é€’å‚æ•°çš„é—®é¢˜, ä½†æ˜¯è·å–ä¸åˆ°çˆ¶æ„é€ å‡½æ•°åŸå‹ä¸Šçš„æˆå‘˜.ä¹Ÿä¸å­˜åœ¨å…±äº«é—®é¢˜</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// åˆ›å»ºçˆ¶æ„é€ å‡½æ•°</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Person</span>(<span class=\"params\">name</span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">name</span> = name</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">friends</span> = [<span class=\"string\">&#x27;å°ç‹&#x27;</span>, <span class=\"string\">&#x27;å°å¼º&#x27;</span>]</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">showName</span> = <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">name</span>)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title class_\">Person</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">showAge</span> = <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">age</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// åˆ›å»ºå­æ„é€ å‡½æ•°</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Student</span>(<span class=\"params\">name</span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// ä½¿ç”¨callå€Ÿç”¨Personçš„æ„é€ å‡½æ•°</span></span><br><span class=\"line\">  <span class=\"title class_\">Person</span>.<span class=\"title function_\">call</span>(<span class=\"variable language_\">this</span>, name)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æµ‹è¯•æ˜¯å¦æœ‰äº† Person çš„æˆå‘˜</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> stu = <span class=\"keyword\">new</span> <span class=\"title class_\">Student</span>(<span class=\"string\">&#x27;Li&#x27;</span>)</span><br><span class=\"line\">stu.<span class=\"title function_\">showName</span>() <span class=\"comment\">// Li</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(stu.<span class=\"property\">friends</span>) <span class=\"comment\">// [&#x27;å°ç‹&#x27;,&#x27;å°å¼º&#x27;]</span></span><br><span class=\"line\">stu.<span class=\"title function_\">showAge</span>()  <span class=\"comment\">// stu.showAge is not a function</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"5ã€ç»„åˆç»§æ‰¿-å€Ÿç”¨æ„é€ å‡½æ•°-åŸå‹å¼ç»§æ‰¿\"><a href=\"#5ã€ç»„åˆç»§æ‰¿-å€Ÿç”¨æ„é€ å‡½æ•°-åŸå‹å¼ç»§æ‰¿\" class=\"headerlink\" title=\"5ã€ç»„åˆç»§æ‰¿ (å€Ÿç”¨æ„é€ å‡½æ•° + åŸå‹å¼ç»§æ‰¿)\"></a>5ã€ç»„åˆç»§æ‰¿ (å€Ÿç”¨æ„é€ å‡½æ•° + åŸå‹å¼ç»§æ‰¿)</h3><ul>\n<li>è§£å†³äº†çˆ¶æ„é€ å‡½æ•°çš„å±æ€§ç»§æ‰¿åˆ°äº†å­æ„é€ å‡½æ•°çš„å®ä¾‹å¯¹è±¡ä¸Šäº†,</li>\n<li>å¹¶ä¸”ç»§æ‰¿äº†çˆ¶æ„é€ å‡½æ•°åŸå‹å¯¹è±¡ä¸Šçš„æˆå‘˜</li>\n<li>è§£å†³äº†ç»™çˆ¶æ„é€ å‡½æ•°ä¼ é€’å‚æ•°é—®é¢˜</li>\n<li>å­˜åœ¨å…±äº«çš„é—®é¢˜</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// åˆ›å»ºçˆ¶æ„é€ å‡½æ•°</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Person</span>(<span class=\"params\">name, age</span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">name</span> = name</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">age</span> = age</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">showName</span> = <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">name</span>)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// è®¾ç½®çˆ¶æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡</span></span><br><span class=\"line\"><span class=\"title class_\">Person</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">showAge</span> = <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">age</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// åˆ›å»ºå­æ„é€ å‡½æ•°</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Student</span>(<span class=\"params\">name</span>) &#123;</span><br><span class=\"line\">  <span class=\"title class_\">Person</span>.<span class=\"title function_\">call</span>(<span class=\"variable language_\">this</span>, name)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// è®¾ç½®ç»§æ‰¿</span></span><br><span class=\"line\"><span class=\"title class_\">Student</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span> = <span class=\"title class_\">Person</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span></span><br><span class=\"line\"><span class=\"title class_\">Student</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">constructor</span> = <span class=\"title class_\">Student</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"6ã€å€Ÿç”¨æ„é€ å‡½æ•°-æ·±æ‹·è´\"><a href=\"#6ã€å€Ÿç”¨æ„é€ å‡½æ•°-æ·±æ‹·è´\" class=\"headerlink\" title=\"6ã€å€Ÿç”¨æ„é€ å‡½æ•° + æ·±æ‹·è´\"></a>6ã€å€Ÿç”¨æ„é€ å‡½æ•° + æ·±æ‹·è´</h3><p>è¿™æ ·å°±å°† Person çš„åŸå‹å¯¹è±¡ä¸Šçš„æˆå‘˜æ‹·è´åˆ°äº† Student çš„åŸå‹ä¸Šäº†, è¿™ç§æ–¹å¼æ²¡æœ‰å±æ€§å…±äº«çš„é—®é¢˜.</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Person</span>(<span class=\"params\">name,age</span>)&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">name</span> = name;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">age</span> = age;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">showName</span> = <span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">name</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title class_\">Person</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">friends</span> = [<span class=\"string\">&#x27;å°ç‹&#x27;</span>,<span class=\"string\">&#x27;å°å¼º&#x27;</span>,<span class=\"string\">&#x27;å°ç‹å…«&#x27;</span>];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Student</span>(<span class=\"params\">name,<span class=\"number\">25</span></span>)&#123;</span><br><span class=\"line\">    <span class=\"comment\">// å€Ÿç”¨æ„é€ å‡½æ•°(Person)</span></span><br><span class=\"line\">    <span class=\"title class_\">Person</span>.<span class=\"title function_\">call</span>(<span class=\"variable language_\">this</span>,name,<span class=\"number\">25</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// ä½¿ç”¨æ·±æ‹·è´å®ç°ç»§æ‰¿</span></span><br><span class=\"line\"><span class=\"title function_\">deepCopy</span>(<span class=\"title class_\">Student</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>,<span class=\"title class_\">Person</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>);</span><br><span class=\"line\"><span class=\"title class_\">Student</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">constructor</span> = <span class=\"title class_\">Student</span>;</span><br></pre></td></tr></table></figure>\n"},{"title":"JS é«˜çº§å‡½æ•°","url":"/LittleWhiteRabbit/2022/04/26/js%E9%AB%98%E7%BA%A7%E5%87%BD%E6%95%B0/","content":"<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><p>é«˜é˜¶å‡½æ•°æ˜¯å¯¹å…¶ä»–å‡½æ•°è¿›è¡Œæ“ä½œçš„å‡½æ•°ï¼Œå¯ä»¥å°†å®ƒä»¬ä½œä¸ºå‚æ•°æˆ–é€šè¿‡è¿”å›å®ƒä»¬ã€‚ç®€å•æ¥è¯´ï¼Œé«˜é˜¶å‡½æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ¥æ”¶å‡½æ•°ä½œä¸ºå‚æ•°æˆ–å°†å‡½æ•°ä½œä¸ºè¾“å‡ºè¿”å›ã€‚</p>\n<p>ä¾‹å¦‚<code>Array.prototype.map</code>ï¼Œ<code>Array.prototype.filter</code>ï¼Œ<code>Array.prototype.reduce</code> éƒ½æ˜¯ä¸€äº›é«˜é˜¶å‡½æ•°ã€‚</p>\n<span id=\"more\"></span>\n<h2 id=\"å°¾è°ƒç”¨å’Œå°¾é€’å½’\"><a href=\"#å°¾è°ƒç”¨å’Œå°¾é€’å½’\" class=\"headerlink\" title=\"å°¾è°ƒç”¨å’Œå°¾é€’å½’\"></a>å°¾è°ƒç”¨å’Œå°¾é€’å½’</h2><p>å°¾è°ƒç”¨ï¼ˆTail Callï¼‰æ˜¯å‡½æ•°å¼ç¼–ç¨‹çš„ä¸€ä¸ªé‡è¦æ¦‚å¿µï¼Œæœ¬èº«éå¸¸ç®€å•ï¼Œä¸€å¥è¯å°±èƒ½è¯´æ¸…æ¥šã€‚å°±æ˜¯æŒ‡æŸä¸ªå‡½æ•°çš„æœ€åä¸€æ­¥æ˜¯è°ƒç”¨å¦ä¸€ä¸ªå‡½æ•°ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">g</span>(<span class=\"params\">x</span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(x)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">f</span>(<span class=\"params\">x</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"title function_\">g</span>(x)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">f</span>(<span class=\"number\">1</span>))</span><br><span class=\"line\"><span class=\"comment\">//ä¸Šé¢ä»£ç ä¸­ï¼Œå‡½æ•°fçš„æœ€åä¸€æ­¥æ˜¯è°ƒç”¨å‡½æ•°gï¼Œè¿™å°±æ˜¯å°¾è°ƒç”¨ã€‚</span></span><br></pre></td></tr></table></figure>\n\n<p>ä¸Šé¢ä»£ç ä¸­ï¼Œå‡½æ•° f çš„æœ€åä¸€æ­¥æ˜¯è°ƒç”¨å‡½æ•° gï¼Œè¿™å°±æ˜¯å°¾è°ƒç”¨ã€‚å°¾è°ƒç”¨ä¸ä¸€å®šå‡ºç°åœ¨å‡½æ•°å°¾éƒ¨ï¼Œåªè¦æ˜¯æœ€åä¸€æ­¥æ“ä½œå³å¯ã€‚</p>\n<p>å‡½æ•°è°ƒç”¨è‡ªèº«ï¼Œç§°ä¸ºé€’å½’ã€‚å¦‚æœå°¾è°ƒç”¨è‡ªèº«ï¼Œå°±ç§°ä¸ºå°¾é€’å½’ã€‚é€’å½’éå¸¸è€—è´¹å†…å­˜ï¼Œå› ä¸ºéœ€è¦åŒæ—¶ä¿å­˜æˆåƒä¸Šç™¾ä¸ªè°ƒç”¨å¸§ï¼Œå¾ˆå®¹æ˜“å‘ç”Ÿæ ˆæº¢å‡ºé”™è¯¯ã€‚ä½†æ˜¯é˜Ÿä¼å°¾é€’å½’æ¥è¯´ï¼Œç”±äºåªå­˜åœ¨ä¸€ä¸ªè°ƒç”¨å¸§ï¼Œæ‰€ä»¥æ°¸è¿œä¸ä¼šå‘ç”Ÿæ ˆæº¢å‡ºé”™è¯¯ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">factorial</span>(<span class=\"params\">n</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (n === <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">1</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> n * <span class=\"title function_\">factorial</span>(n - <span class=\"number\">1</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ä¸Šé¢ä»£ç æ˜¯ä¸€ä¸ªé˜¶ä¹˜å‡½æ•°ï¼Œè®¡ç®— n çš„é˜¶ä¹˜ï¼Œæœ€å¤šéœ€è¦ä¿å­˜ n ä¸ªè°ƒç”¨æ•°æ®ï¼Œå¤æ‚åº¦ä¸º Oï¼ˆnï¼‰ï¼Œå¦‚æœæ”¹å†™æˆå°¾è°ƒç”¨ï¼Œåªä¿ç•™ä¸€ä¸ªè°ƒç”¨è®°å½•ï¼Œå¤æ‚åº¦ä¸º Oï¼ˆ1ï¼‰ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">factor</span>(<span class=\"params\">n, total</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (n === <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> total</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"title function_\">factor</span>(n - <span class=\"number\">1</span>, n * total)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æ–æ³¢æ‹‰åˆ‡æ•°åˆ—ä¹Ÿæ˜¯å¯ä»¥ç”¨äºå°¾è°ƒç”¨ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Fibonacci</span>(<span class=\"params\">n</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (n &lt;= <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">1</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"title class_\">Fibonacci</span>(n - <span class=\"number\">1</span>) + <span class=\"title class_\">Fibonacci</span>(n - <span class=\"number\">2</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//å°¾é€’å½’</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Fibona</span>(<span class=\"params\">n, ac1 = <span class=\"number\">1</span>, ac2 = <span class=\"number\">1</span></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (n &lt;= <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> ac2</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"title class_\">Fibona</span>(n - <span class=\"number\">1</span>, ac2, ac1 + ac2)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æŸ¯ç†åŒ–å‡½æ•°\"><a href=\"#æŸ¯ç†åŒ–å‡½æ•°\" class=\"headerlink\" title=\"æŸ¯ç†åŒ–å‡½æ•°\"></a>æŸ¯ç†åŒ–å‡½æ•°</h2><p>åœ¨æ•°å­¦å’Œè®¡ç®—æœºç§‘å­¦ä¸­ï¼ŒæŸ¯é‡ŒåŒ–æ˜¯ä¸€ç§å°†ä½¿ç”¨å¤šä¸ªå‚æ•°çš„ä¸€ä¸ªå‡½æ•°è½¬æ¢æˆä¸€ç³»åˆ—ä½¿ç”¨ä¸€ä¸ªå‚æ•°çš„å‡½æ•°çš„æŠ€æœ¯ã€‚<strong>æ‰€è°“æŸ¯é‡ŒåŒ–å°±æ˜¯æŠŠå…·æœ‰è¾ƒå¤šå‚æ•°çš„å‡½æ•°è½¬æ¢æˆå…·æœ‰è¾ƒå°‘å‚æ•°çš„å‡½æ•°çš„è¿‡ç¨‹ã€‚</strong><br>ä¸¾ä¸ªä¾‹å­</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//æ™®é€šå‡½æ•°</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">fn</span>(<span class=\"params\">a, b, c, d, e</span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a, b, c, d, e)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//ç”Ÿæˆçš„æŸ¯é‡ŒåŒ–å‡½æ•°</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> _fn = <span class=\"title function_\">curry</span>(fn)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">_fn</span>(<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>) <span class=\"comment\">// print: 1,2,3,4,5</span></span><br><span class=\"line\"><span class=\"title function_\">_fn</span>(<span class=\"number\">1</span>)(<span class=\"number\">2</span>)(<span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>) <span class=\"comment\">// print: 1,2,3,4,5</span></span><br><span class=\"line\"><span class=\"title function_\">_fn</span>(<span class=\"number\">1</span>, <span class=\"number\">2</span>)(<span class=\"number\">3</span>, <span class=\"number\">4</span>)(<span class=\"number\">5</span>) <span class=\"comment\">// print: 1,2,3,4,5</span></span><br><span class=\"line\"><span class=\"title function_\">_fn</span>(<span class=\"number\">1</span>)(<span class=\"number\">2</span>)(<span class=\"number\">3</span>)(<span class=\"number\">4</span>)(<span class=\"number\">5</span>) <span class=\"comment\">// print: 1,2,3,4,5</span></span><br></pre></td></tr></table></figure>\n\n<p>æŸ¯ç†åŒ–å‡½æ•°çš„å®ç°</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// å¯¹æ±‚å’Œå‡½æ•°åšcurryåŒ–</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> f1 = <span class=\"title function_\">curry</span>(add, <span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>)</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;å¤æ‚ç‰ˆ&#x27;</span>, <span class=\"title function_\">f1</span>()) <span class=\"comment\">// 6</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å¯¹æ±‚å’Œå‡½æ•°åšcurryåŒ–</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> f2 = <span class=\"title function_\">curry</span>(add, <span class=\"number\">1</span>, <span class=\"number\">2</span>)</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;å¤æ‚ç‰ˆ&#x27;</span>, <span class=\"title function_\">f2</span>(<span class=\"number\">3</span>)) <span class=\"comment\">// 6</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å¯¹æ±‚å’Œå‡½æ•°åšcurryåŒ–</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> f3 = <span class=\"title function_\">curry</span>(add)</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;å¤æ‚ç‰ˆ&#x27;</span>, <span class=\"title function_\">f3</span>(<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>)) <span class=\"comment\">// 6</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å¤æ‚ç‰ˆcurryå‡½æ•°å¯ä»¥å¤šæ¬¡è°ƒç”¨ï¼Œå¦‚ä¸‹ï¼š</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;å¤æ‚ç‰ˆ&#x27;</span>, <span class=\"title function_\">f3</span>(<span class=\"number\">1</span>)(<span class=\"number\">2</span>)(<span class=\"number\">3</span>)) <span class=\"comment\">// 6</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;å¤æ‚ç‰ˆ&#x27;</span>, <span class=\"title function_\">f3</span>(<span class=\"number\">1</span>, <span class=\"number\">2</span>)(<span class=\"number\">3</span>)) <span class=\"comment\">// 6</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;å¤æ‚ç‰ˆ&#x27;</span>, <span class=\"title function_\">f3</span>(<span class=\"number\">1</span>)(<span class=\"number\">2</span>, <span class=\"number\">3</span>)) <span class=\"comment\">// 6</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å¤æ‚ç‰ˆ(æ¯æ¬¡å¯ä¼ å…¥ä¸å®šæ•°é‡çš„å‚æ•°ï¼Œå½“æ‰€ä¼ å‚æ•°æ€»æ•°ä¸å°‘äºå‡½æ•°çš„å½¢å‚æ€»æ•°æ—¶ï¼Œæ‰ä¼šæ‰§è¡Œ)</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">curry</span>(<span class=\"params\">fn</span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// é—­åŒ…</span></span><br><span class=\"line\">  <span class=\"comment\">// ç¼“å­˜é™¤å‡½æ•°fnä¹‹å¤–çš„æ‰€æœ‰å‚æ•°</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> args = <span class=\"title class_\">Array</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">slice</span>.<span class=\"title function_\">call</span>(<span class=\"variable language_\">arguments</span>, <span class=\"number\">1</span>)</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// è¿æ¥å·²ç¼“å­˜çš„è€çš„å‚æ•°å’Œæ–°ä¼ å…¥çš„å‚æ•°(å³æŠŠæ¯æ¬¡ä¼ å…¥çš„å‚æ•°å…¨éƒ¨å…ˆä¿å­˜ä¸‹æ¥ï¼Œä½†æ˜¯å¹¶ä¸æ‰§è¡Œ)</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> newArgs = args.<span class=\"title function_\">concat</span>(<span class=\"title class_\">Array</span>.<span class=\"title function_\">from</span>(<span class=\"variable language_\">arguments</span>))</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (newArgs.<span class=\"property\">length</span> &lt; fn.<span class=\"property\">length</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// ç´¯ç§¯çš„å‚æ•°æ€»æ•°å°‘äºfnå½¢å‚æ€»æ•°</span></span><br><span class=\"line\">      <span class=\"comment\">// é€’å½’ä¼ å…¥fnå’Œå·²ç´¯ç§¯çš„å‚æ•°</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> curry.<span class=\"title function_\">call</span>(<span class=\"variable language_\">this</span>, fn, ...newArgs)</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">// è°ƒç”¨</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> fn.<span class=\"title function_\">apply</span>(<span class=\"variable language_\">this</span>, newArgs)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æŸ¯é‡ŒåŒ–çš„ç”¨é€”\"><a href=\"#æŸ¯é‡ŒåŒ–çš„ç”¨é€”\" class=\"headerlink\" title=\"æŸ¯é‡ŒåŒ–çš„ç”¨é€”\"></a>æŸ¯é‡ŒåŒ–çš„ç”¨é€”</h3><p>æŸ¯é‡ŒåŒ–å®é™…æ˜¯æŠŠç®€ç­”çš„é—®é¢˜å¤æ‚åŒ–äº†ï¼Œä½†æ˜¯å¤æ‚åŒ–çš„åŒæ—¶ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨å‡½æ•°æ—¶æ‹¥æœ‰äº†æ›´åŠ å¤šçš„è‡ªç”±åº¦ã€‚ è€Œè¿™é‡Œå¯¹äºå‡½æ•°å‚æ•°çš„è‡ªç”±å¤„ç†ï¼Œæ­£æ˜¯æŸ¯é‡ŒåŒ–çš„æ ¸å¿ƒæ‰€åœ¨ã€‚ æŸ¯é‡ŒåŒ–æœ¬è´¨ä¸Šæ˜¯é™ä½é€šç”¨æ€§ï¼Œæé«˜é€‚ç”¨æ€§ã€‚æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š</p>\n<p>æˆ‘ä»¬å·¥ä½œä¸­ä¼šé‡åˆ°å„ç§éœ€è¦é€šè¿‡æ­£åˆ™æ£€éªŒçš„éœ€æ±‚ï¼Œæ¯”å¦‚æ ¡éªŒç”µè¯å·ç ã€æ ¡éªŒé‚®ç®±ã€æ ¡éªŒèº«ä»½è¯å·ã€æ ¡éªŒå¯†ç ç­‰ï¼Œ è¿™æ—¶æˆ‘ä»¬ä¼šå°è£…ä¸€ä¸ªé€šç”¨å‡½æ•° checkByRegExp ,æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œæ ¡éªŒçš„æ­£åˆ™å¯¹è±¡å’Œå¾…æ ¡éªŒçš„å­—ç¬¦ä¸²</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">checkByRegExp</span>(<span class=\"params\">regExp, string</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> regExp.<span class=\"title function_\">text</span>(string)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">checkByRegExp</span>(<span class=\"regexp\">/^1\\d&#123;10&#125;$/</span>, <span class=\"string\">&#x27;18642838455&#x27;</span>) <span class=\"comment\">// æ ¡éªŒç”µè¯å·ç </span></span><br><span class=\"line\"><span class=\"title function_\">checkByRegExp</span>(<span class=\"regexp\">/^(\\w)+(\\.\\w+)*@(\\w)+((\\.\\w+)+)$/</span>, <span class=\"string\">&#x27;test@163.com&#x27;</span>) <span class=\"comment\">// æ ¡éªŒé‚®ç®±</span></span><br></pre></td></tr></table></figure>\n\n<p>æˆ‘ä»¬æ¯æ¬¡è¿›è¡Œæ ¡éªŒçš„æ—¶å€™éƒ½éœ€è¦è¾“å…¥ä¸€ä¸²æ­£åˆ™ï¼Œå†æ ¡éªŒåŒä¸€ç±»å‹çš„æ•°æ®æ—¶ï¼Œç›¸åŒçš„æ­£åˆ™æˆ‘ä»¬éœ€è¦å†™å¤šæ¬¡ï¼Œ è¿™å°±å¯¼è‡´æˆ‘ä»¬åœ¨ä½¿ç”¨çš„æ—¶å€™æ•ˆç‡ä½ä¸‹ï¼Œå¹¶ä¸”ç”±äº checkByRegExp å‡½æ•°æœ¬èº«æ˜¯ä¸€ä¸ªå·¥å…·å‡½æ•°å¹¶æ²¡æœ‰ä»»ä½•æ„ä¹‰ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©æŸ¯é‡ŒåŒ–å¯¹ checkByRegExp å‡½æ•°è¿›è¡Œå°è£…ï¼Œä»¥ç®€åŒ–ä»£ç ä¹¦å†™ï¼Œæé«˜ä»£ç å¯è¯»æ€§ã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//è¿›è¡ŒæŸ¯é‡ŒåŒ–</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> _check = <span class=\"title function_\">curry</span>(checkByRegExp)</span><br><span class=\"line\"><span class=\"comment\">//ç”Ÿæˆå·¥å…·å‡½æ•°ï¼ŒéªŒè¯ç”µè¯å·ç </span></span><br><span class=\"line\"><span class=\"keyword\">let</span> checkCellPhone = <span class=\"title function_\">_check</span>(<span class=\"regexp\">/^1\\d&#123;10&#125;$/</span>)</span><br><span class=\"line\"><span class=\"comment\">//ç”Ÿæˆå·¥å…·å‡½æ•°ï¼ŒéªŒè¯é‚®ç®±</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> checkEmail = <span class=\"title function_\">_check</span>(<span class=\"regexp\">/^(\\w)+(\\.\\w+)*@(\\w)+((\\.\\w+)+)$/</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">checkCellPhone</span>(<span class=\"string\">&#x27;18642838455&#x27;</span>) <span class=\"comment\">// æ ¡éªŒç”µè¯å·ç </span></span><br><span class=\"line\"><span class=\"title function_\">checkCellPhone</span>(<span class=\"string\">&#x27;13109840560&#x27;</span>) <span class=\"comment\">// æ ¡éªŒç”µè¯å·ç </span></span><br><span class=\"line\"><span class=\"title function_\">checkCellPhone</span>(<span class=\"string\">&#x27;13204061212&#x27;</span>) <span class=\"comment\">// æ ¡éªŒç”µè¯å·ç </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">checkEmail</span>(<span class=\"string\">&#x27;test@163.com&#x27;</span>) <span class=\"comment\">// æ ¡éªŒé‚®ç®±</span></span><br><span class=\"line\"><span class=\"title function_\">checkEmail</span>(<span class=\"string\">&#x27;test@qq.com&#x27;</span>) <span class=\"comment\">// æ ¡éªŒé‚®ç®±</span></span><br><span class=\"line\"><span class=\"title function_\">checkEmail</span>(<span class=\"string\">&#x27;test@gmail.com&#x27;</span>) <span class=\"comment\">// æ ¡éªŒé‚®ç®±</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æŸ¯é‡ŒåŒ–å‡½æ•°å‚æ•°-length\"><a href=\"#æŸ¯é‡ŒåŒ–å‡½æ•°å‚æ•°-length\" class=\"headerlink\" title=\"æŸ¯é‡ŒåŒ–å‡½æ•°å‚æ•° length\"></a>æŸ¯é‡ŒåŒ–å‡½æ•°å‚æ•° length</h3><p>å‡½æ•° currying çš„å®ç°ä¸­ï¼Œä½¿ç”¨äº† fn.length æ¥è¡¨ç¤ºå‡½æ•°å‚æ•°çš„ä¸ªæ•°ï¼Œé‚£ fn.length è¡¨ç¤ºå‡½æ•°çš„æ‰€æœ‰å‚æ•°ä¸ªæ•°å—ï¼Ÿå¹¶ä¸æ˜¯ã€‚</p>\n<p>å‡½æ•°çš„ length å±æ€§è·å–çš„æ˜¯å½¢å‚çš„ä¸ªæ•°ï¼Œä½†æ˜¯å½¢å‚çš„æ•°é‡ä¸åŒ…æ‹¬å‰©ä½™å‚æ•°ä¸ªæ•°ï¼Œè€Œä¸”ä»…åŒ…æ‹¬ç¬¬ä¸€ä¸ªå…·æœ‰é»˜è®¤å€¼ä¹‹å‰çš„å‚æ•°ä¸ªæ•°ï¼Œçœ‹ä¸‹é¢çš„ä¾‹å­ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">;(<span class=\"function\">(<span class=\"params\">a, b, c</span>) =&gt;</span> &#123;&#125;)</span><br><span class=\"line\">  .<span class=\"title function_\">length</span>(</span><br><span class=\"line\">    <span class=\"comment\">// 3</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\">(<span class=\"params\">a, b, c = <span class=\"number\">3</span></span>) =&gt;</span> &#123;&#125;</span><br><span class=\"line\">  )</span><br><span class=\"line\">  .<span class=\"title function_\">length</span>(</span><br><span class=\"line\">    <span class=\"comment\">// 2</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\">(<span class=\"params\">a, b = <span class=\"number\">2</span>, c</span>) =&gt;</span> &#123;&#125;</span><br><span class=\"line\">  )</span><br><span class=\"line\">  .<span class=\"title function_\">length</span>(</span><br><span class=\"line\">    <span class=\"comment\">// 1</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\">(<span class=\"params\">a = <span class=\"number\">1</span>, b, c</span>) =&gt;</span> &#123;&#125;</span><br><span class=\"line\">  )</span><br><span class=\"line\">  .<span class=\"title function_\">length</span>(</span><br><span class=\"line\">    <span class=\"comment\">// 0</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\">(<span class=\"params\">...args</span>) =&gt;</span> &#123;&#125;</span><br><span class=\"line\">  ).<span class=\"property\">length</span></span><br><span class=\"line\"><span class=\"comment\">// 0</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">fn</span> = (<span class=\"params\">...args</span>) =&gt; &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(args.<span class=\"property\">length</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">fn</span>(<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>)</span><br><span class=\"line\"><span class=\"comment\">// 3</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"compose-å‡½æ•°\"><a href=\"#compose-å‡½æ•°\" class=\"headerlink\" title=\"compose å‡½æ•°\"></a>compose å‡½æ•°</h2><p>compose å°±æ˜¯ç»„åˆå‡½æ•°ï¼Œå°†å­å‡½æ•°ä¸²è”èµ·æ¥æ‰§è¡Œï¼Œä¸€ä¸ªå‡½æ•°çš„è¾“å‡ºç»“æœæ˜¯å¦ä¸€ä¸ªå‡½æ•°çš„è¾“å…¥å‚æ•°ï¼Œä¸€æ—¦ç¬¬ä¸€ä¸ªå‡½æ•°å¼€å§‹æ‰§è¡Œï¼Œä¼šåƒå¤šç±³è¯ºéª¨ç‰Œä¸€æ ·æ¨å¯¼æ‰§è¡Œåç»­å‡½æ•°ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">greeting</span> = (<span class=\"params\">name</span>) =&gt; <span class=\"string\">`Hello <span class=\"subst\">$&#123;name&#125;</span>`</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">toUpper</span> = (<span class=\"params\">str</span>) =&gt; str.<span class=\"title function_\">toUpperCase</span>()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">toUpper</span>(<span class=\"title function_\">greeting</span>(<span class=\"string\">&#x27;Onion&#x27;</span>)) <span class=\"comment\">// HELLO ONION</span></span><br></pre></td></tr></table></figure>\n\n<p>compose å‡½æ•°çš„ç‰¹ç‚¹</p>\n<ul>\n<li>compose æ¥å—å‡½æ•°ä½œä¸ºå‚æ•°ï¼Œä»å³å‘å·¦æ‰§è¡Œï¼Œè¿”å›ç±»å‹å‡½æ•°</li>\n<li>fn()å…¨éƒ¨å‚æ•°ä¼ ç»™æœ€å³è¾¹çš„å‡½æ•°ï¼Œå¾—åˆ°ç»“æœåä¼ ç»™å€’æ•°ç¬¬äºŒä¸ªï¼Œä¾æ¬¡ä¼ é€’</li>\n</ul>\n<p>compose çš„å®ç°</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> compose = <span class=\"keyword\">function</span> (<span class=\"params\">...args</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> len = args.<span class=\"property\">length</span> <span class=\"comment\">// argså‡½æ•°çš„ä¸ªæ•°</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> count = len - <span class=\"number\">1</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> result</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">function</span> <span class=\"title function_\">func</span>(<span class=\"params\">...args1</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// funcå‡½æ•°çš„args1å‚æ•°æšä¸¾</span></span><br><span class=\"line\">    result = args[count].<span class=\"title function_\">call</span>(<span class=\"variable language_\">this</span>, args1)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (count &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">      count--</span><br><span class=\"line\">      <span class=\"keyword\">return</span> func.<span class=\"title function_\">call</span>(<span class=\"literal\">null</span>, result) <span class=\"comment\">// result ä¸Šä¸€ä¸ªå‡½æ•°çš„è¿”å›ç»“æœ</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">//å›å¤countåˆå§‹çŠ¶æ€</span></span><br><span class=\"line\">      count = len - <span class=\"number\">1</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> result</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ä¸¾ä¸ªä¾‹å­</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> <span class=\"title function_\">greeting</span> = (<span class=\"params\">name</span>) =&gt; <span class=\"string\">`Hello <span class=\"subst\">$&#123;name&#125;</span>`</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> <span class=\"title function_\">toUpper</span> = (<span class=\"params\">str</span>) =&gt; str.<span class=\"title function_\">toUpperCase</span>()</span><br><span class=\"line\"><span class=\"keyword\">var</span> fn = <span class=\"title function_\">compose</span>(toUpper, greeting)</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">fn</span>(<span class=\"string\">&#x27;jack&#x27;</span>))</span><br></pre></td></tr></table></figure>\n\n<p>å¤§å®¶ç†Ÿæ‚‰çš„ webpack é‡Œé¢çš„ loader æ‰§è¡Œé¡ºåºæ˜¯ä»å³åˆ°å·¦ï¼Œæ˜¯å› ä¸º webpack é€‰æ‹©çš„æ˜¯ compose æ–¹å¼ï¼Œä»å³åˆ°å·¦ä¾æ¬¡æ‰§è¡Œ loaderï¼Œæ¯ä¸ª loader æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">rules</span>: [&#123; <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.css$/</span>, <span class=\"attr\">use</span>: [<span class=\"string\">&#x27;style-loader&#x27;</span>, <span class=\"string\">&#x27;css-loader&#x27;</span>] &#125;]</span><br></pre></td></tr></table></figure>\n\n<p>å¦‚ä¸Šï¼Œwebpack ä½¿ç”¨äº† style-loader å’Œ css-loaderï¼Œå®ƒæ˜¯å…ˆç”¨ css-loader åŠ è½½.css æ–‡ä»¶ï¼Œç„¶å style-loader å°†å†…éƒ¨æ ·å¼æ³¨å…¥åˆ°æˆ‘ä»¬çš„ html é¡µé¢ã€‚</p>\n<p>webpack é‡Œé¢çš„ compose ä»£ç å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">compose</span> = (<span class=\"params\">...fns</span>) =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> fns.<span class=\"title function_\">reduce</span>(</span><br><span class=\"line\">    <span class=\"function\">(<span class=\"params\">prevFn, nextFn</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"function\">(<span class=\"params\">value</span>) =&gt;</span> <span class=\"title function_\">prevFn</span>(<span class=\"title function_\">nextFn</span>(value))</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"function\">(<span class=\"params\">value</span>) =&gt;</span> value</span><br><span class=\"line\">  )</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"SVG è½¬åœ°å›¾json æ•°æ®","url":"/LittleWhiteRabbit/2022/04/26/svg-to-geojson/","content":"<h1 id=\"svg-yo-geojson\"><a href=\"#svg-yo-geojson\" class=\"headerlink\" title=\"svg-yo-geojson\"></a>svg-yo-geojson</h1><p> svg è½¬ json</p>\n<h1 id=\"æºç åœ°å€\"><a href=\"#æºç åœ°å€\" class=\"headerlink\" title=\"æºç åœ°å€\"></a>æºç åœ°å€</h1><p><a href=\"https://github.com/data-cz/svg-to-geojson.git\">DEMO_HERE</a></p>\n","categories":["Map"],"tags":["json"]},{"title":"thisæŒ‡å‘é—®é¢˜","url":"/LittleWhiteRabbit/2022/04/26/this%E6%8C%87%E5%90%91%E9%97%AE%E9%A2%98/","content":"<h1 id=\"this-æŒ‡å‘\"><a href=\"#this-æŒ‡å‘\" class=\"headerlink\" title=\"this æŒ‡å‘\"></a>this æŒ‡å‘</h1><p>ä½¿ç”¨ JavaScript å¼€å‘çš„æ—¶å€™ï¼Œå¾ˆå¤šå¼€å‘è€…å¤šå¤šå°‘å°‘ä¼šè¢« this çš„æŒ‡å‘æè’™åœˆï¼Œä½†æ˜¯å®é™…ä¸Šï¼Œå…³äº this çš„æŒ‡å‘ï¼Œè®°ä½æœ€æ ¸å¿ƒçš„ä¸€å¥è¯ï¼š<strong>å“ªä¸ªå¯¹è±¡è°ƒç”¨å‡½æ•°ï¼Œå‡½æ•°é‡Œé¢çš„ this æŒ‡å‘å“ªä¸ªå¯¹è±¡ã€‚</strong></p>\n<span id=\"more\"></span>\n<h3 id=\"1ã€æ™®é€šå‡½æ•°ï¼šè°è°ƒç”¨æŒ‡å‘è°\"><a href=\"#1ã€æ™®é€šå‡½æ•°ï¼šè°è°ƒç”¨æŒ‡å‘è°\" class=\"headerlink\" title=\"1ã€æ™®é€šå‡½æ•°ï¼šè°è°ƒç”¨æŒ‡å‘è°\"></a>1ã€æ™®é€šå‡½æ•°ï¼šè°è°ƒç”¨æŒ‡å‘è°</h3><p>å…¨å±€å˜é‡æŒ‡å‘å…¨å±€å¯¹è±¡-window</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> username = <span class=\"string\">&#x27;cn&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">fn</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"title function_\">alert</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">username</span>) <span class=\"comment\">//cn</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">fu</span>()</span><br></pre></td></tr></table></figure>\n\n<p>æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„ï¼Œlet å£°æ˜çš„å…¨å±€å˜é‡ï¼Œä¸æ˜¯æŒ‡å‘ window å¯¹è±¡</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> username = <span class=\"string\">&#x27;cn&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">fn</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"title function_\">alert</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">username</span>) <span class=\"comment\">//undefined</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">fn</span>()</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"2ã€å¯¹è±¡å‡½æ•°è°ƒç”¨\"><a href=\"#2ã€å¯¹è±¡å‡½æ•°è°ƒç”¨\" class=\"headerlink\" title=\"2ã€å¯¹è±¡å‡½æ•°è°ƒç”¨\"></a>2ã€å¯¹è±¡å‡½æ•°è°ƒç”¨</h3><p>å°±æ˜¯é‚£ä¸ªå‡½æ•°è°ƒç”¨ï¼Œthis æŒ‡å‘å“ªé‡Œ</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"property\">b</span> = <span class=\"number\">2222</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> obj = &#123;</span><br><span class=\"line\">  <span class=\"attr\">a</span>: <span class=\"number\">111</span>,</span><br><span class=\"line\">  <span class=\"attr\">fn</span>: <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"title function_\">alert</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">a</span>) <span class=\"comment\">//111</span></span><br><span class=\"line\">    <span class=\"title function_\">alert</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">b</span>) <span class=\"comment\">//undefined</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">obj.<span class=\"title function_\">fn</span>()</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"3-æ„é€ å‡½æ•°ä¸­è°ƒç”¨\"><a href=\"#3-æ„é€ å‡½æ•°ä¸­è°ƒç”¨\" class=\"headerlink\" title=\"3.æ„é€ å‡½æ•°ä¸­è°ƒç”¨\"></a>3.æ„é€ å‡½æ•°ä¸­è°ƒç”¨</h3><p>JSé‡Œçš„æ™®é€šå‡½æ•°å¯ä»¥ä½¿ç”¨newæ“ä½œç¬¦æ¥åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œæ­¤æ—¶è¯¥å‡½æ•°å°±æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œç®­å¤´å‡½æ•°ä¸èƒ½ä½œä¸ºæ„é€ å‡½æ•°ã€‚æ‰§è¡Œnewæ“ä½œç¬¦ï¼Œå…¶å®JSå†…éƒ¨å®Œæˆäº†ä»¥ä¸‹äº‹æƒ…ï¼š</p>\n<ol>\n<li>åˆ›å»ºä¸€ä¸ªç©ºçš„ç®€å•JavaScriptå¯¹è±¡ï¼ˆå³{}ï¼‰ï¼›</li>\n<li>å°†æ„é€ å‡½æ•°çš„prototypeç»‘å®šä¸ºæ–°å¯¹è±¡çš„åŸå‹å¯¹è±¡ ï¼›</li>\n<li>å°†æ­¥éª¤1æ–°åˆ›å»ºçš„å¯¹è±¡ä½œä¸ºthisçš„ä¸Šä¸‹æ–‡å¹¶æ‰§è¡Œå‡½æ•° ï¼›</li>\n<li>å¦‚æœè¯¥å‡½æ•°æ²¡æœ‰è¿”å›å¯¹è±¡ï¼Œåˆ™è¿”å›thisã€‚</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">A</span> () &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">a</span> = <span class=\"number\">1</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">func</span> = <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"variable language_\">this</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> obj = <span class=\"keyword\">new</span> <span class=\"title function_\">A</span>()</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(obj.<span class=\"property\">a</span>) <span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(obj.<span class=\"title function_\">func</span>() === obj) <span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"4-ç®­å¤´å‡½æ•°ä¸­è°ƒç”¨\"><a href=\"#4-ç®­å¤´å‡½æ•°ä¸­è°ƒç”¨\" class=\"headerlink\" title=\"4.ç®­å¤´å‡½æ•°ä¸­è°ƒç”¨\"></a>4.ç®­å¤´å‡½æ•°ä¸­è°ƒç”¨</h3><p>ç®­å¤´å‡½æ•°çš„thisæŒ‡å‘ï¼Œå’Œç®­å¤´å‡½æ•°å®šä¹‰æ‰€åœ¨ä¸Šä¸‹æ–‡çš„thisç›¸åŒã€‚å¯¹äºæ™®é€šå‡½æ•°ï¼Œthisåœ¨å‡½æ•°è°ƒç”¨æ—¶æ‰ç¡®å®šï¼›è€Œå¯¹äºç®­å¤´å‡½æ•°ï¼Œthisåœ¨ç®­å¤´å‡½æ•°å®šä¹‰æ—¶å°±å·²ç»ç¡®å®šäº†ï¼Œå¹¶ä¸”ä¸èƒ½å†è¢«ä¿®æ”¹ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> obj = &#123;</span><br><span class=\"line\">  A () &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"variable language_\">this</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  B () &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"variable language_\">this</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> func = obj.<span class=\"title function_\">A</span>()</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">func</span>() === obj) <span class=\"comment\">// true</span></span><br><span class=\"line\"></span><br><span class=\"line\">func = obj.<span class=\"title function_\">B</span>()</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">func</span>() === obj) <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">func</span>() === <span class=\"variable language_\">window</span>) <span class=\"comment\">// true</span></span><br></pre></td></tr></table></figure>\n\n\n<h3 id=\"applyã€callã€bind\"><a href=\"#applyã€callã€bind\" class=\"headerlink\" title=\"applyã€callã€bind\"></a>applyã€callã€bind</h3><p>åœ¨ javascript ä¸­ï¼Œcall å’Œ apply éƒ½æ˜¯ä¸ºäº†æ”¹å˜æŸä¸ªå‡½æ•°è¿è¡Œæ—¶çš„ä¸Šä¸‹æ–‡ï¼ˆcontextï¼‰è€Œå­˜åœ¨çš„ï¼Œæ¢å¥è¯è¯´ï¼Œå°±æ˜¯ä¸ºäº†æ”¹å˜å‡½æ•°ä½“å†…éƒ¨ this çš„æŒ‡å‘ã€‚<br>ä¸¾ä¸ªä¾‹å­</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">fruits</span>(<span class=\"params\"></span>) &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">fruits.<span class=\"property\"><span class=\"keyword\">prototype</span></span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">color</span>: <span class=\"string\">&#x27;red&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">say</span>: <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;My color is &#x27;</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">color</span>)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> apple = <span class=\"keyword\">new</span> <span class=\"title function_\">fruits</span>()</span><br><span class=\"line\">apple.<span class=\"title function_\">say</span>() <span class=\"comment\">//My color is red</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ä½†æ˜¯å¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ªå¯¹è±¡banana= &#123;color : &quot;yellow&quot;&#125; ,æˆ‘ä»¬ä¸æƒ³å¯¹å®ƒé‡æ–°å®šä¹‰ say æ–¹æ³•ï¼Œ</span></span><br><span class=\"line\"><span class=\"comment\">//é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥é€šè¿‡ call æˆ– apply ç”¨ apple çš„ say æ–¹æ³•ï¼š</span></span><br><span class=\"line\">banana = &#123;</span><br><span class=\"line\">  <span class=\"attr\">color</span>: <span class=\"string\">&#x27;yellow&#x27;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">apple.<span class=\"property\">say</span>.<span class=\"title function_\">call</span>(banana) <span class=\"comment\">//My color is yellow</span></span><br><span class=\"line\">apple.<span class=\"property\">say</span>.<span class=\"title function_\">apply</span>(banana) <span class=\"comment\">//My color is yellow</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"applyã€call-åŒºåˆ«\"><a href=\"#applyã€call-åŒºåˆ«\" class=\"headerlink\" title=\"applyã€call åŒºåˆ«\"></a>applyã€call åŒºåˆ«</h4><p>å¯¹äº applyã€call äºŒè€…è€Œè¨€ï¼Œä½œç”¨å®Œå…¨ä¸€æ ·ï¼Œåªæ˜¯æ¥å—å‚æ•°çš„æ–¹å¼ä¸å¤ªä¸€æ ·</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\">func.<span class=\"title function_\">call</span>(<span class=\"variable language_\">this</span>, arg1, arg2)</span><br><span class=\"line\">func.<span class=\"title function_\">apply</span>(<span class=\"variable language_\">this</span>, [arg1, arg2])</span><br></pre></td></tr></table></figure>\n\n<p>applyã€call å®ä¾‹</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// æ•°ç»„è¿½åŠ </span></span><br><span class=\"line\"><span class=\"keyword\">var</span> array1 = [<span class=\"number\">12</span> , <span class=\"string\">&quot;foo&quot;</span> , &#123;<span class=\"attr\">name</span>:<span class=\"string\">&quot;Joe&quot;</span>&#125; , -<span class=\"number\">2458</span>];</span><br><span class=\"line\"><span class=\"keyword\">var</span> array2 = [<span class=\"string\">&quot;Doe&quot;</span> , <span class=\"number\">555</span> , <span class=\"number\">100</span>];</span><br><span class=\"line\"><span class=\"title class_\">Array</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">push</span>.<span class=\"title function_\">apply</span>(array1, array2);</span><br><span class=\"line\"><span class=\"comment\">// array1 å€¼ä¸º  [12 , &quot;foo&quot; , &#123;name:&quot;Joe&quot;&#125; , -2458 , &quot;Doe&quot; , 555 , 100]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// è·å–æ•°ç»„ä¸­çš„æœ€å¤§å€¼å’Œæœ€å°å€¼</span></span><br><span class=\"line\"><span class=\"keyword\">var</span>  numbers = [<span class=\"number\">5</span>, <span class=\"number\">458</span> , <span class=\"number\">120</span> , -<span class=\"number\">215</span> ];</span><br><span class=\"line\"><span class=\"keyword\">var</span> maxInNumbers = <span class=\"title class_\">Math</span>.<span class=\"property\">max</span>.<span class=\"title function_\">apply</span>(<span class=\"title class_\">Math</span>, numbers),   <span class=\"comment\">//458</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> maxInNumbers = <span class=\"title class_\">Math</span>.<span class=\"property\">max</span>.<span class=\"title function_\">call</span>(<span class=\"title class_\">Math</span>,<span class=\"number\">5</span>, <span class=\"number\">458</span> , <span class=\"number\">120</span> , -<span class=\"number\">215</span>); <span class=\"comment\">//458</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// éªŒè¯æ˜¯å¦æ˜¯æ•°ç»„</span></span><br><span class=\"line\"><span class=\"title function_\">functionisArray</span>(obj)&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"title class_\">Object</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">toString</span>.<span class=\"title function_\">call</span>(obj) === <span class=\"string\">&#x27;[object Array]&#x27;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"bind\"><a href=\"#bind\" class=\"headerlink\" title=\"bind()\"></a>bind()</h4><p>bind()æœ€ç®€å•çš„ç”¨æ³•æ˜¯åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œä½¿è¿™ä¸ªå‡½æ•°ä¸è®ºæ€ä¹ˆè°ƒç”¨éƒ½æœ‰åŒæ ·çš„ this å€¼ã€‚<br>bind()æ–¹æ³•ä¼šåˆ›å»ºä¸€ä¸ªæ–°å‡½æ•°ï¼Œç§°ä¸ºç»‘å®šå‡½æ•°ï¼Œå½“è°ƒç”¨è¿™ä¸ªç»‘å®šå‡½æ•°æ—¶ï¼Œç»‘å®šå‡½æ•°ä¼šä»¥åˆ›å»ºå®ƒæ—¶ä¼ å…¥ bind()æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°ä½œä¸º thisï¼Œä¼ å…¥ bind() æ–¹æ³•çš„ç¬¬äºŒä¸ªä»¥åŠä»¥åçš„å‚æ•°åŠ ä¸Šç»‘å®šå‡½æ•°è¿è¡Œæ—¶æœ¬èº«çš„å‚æ•°æŒ‰ç…§é¡ºåºä½œä¸ºåŸå‡½æ•°çš„å‚æ•°æ¥è°ƒç”¨åŸå‡½æ•°ã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">this</span>.<span class=\"property\">num</span> = <span class=\"number\">9</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> mymodule = &#123;</span><br><span class=\"line\">  <span class=\"attr\">num</span>: <span class=\"number\">81</span>,</span><br><span class=\"line\">  <span class=\"attr\">getNum</span>: <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">num</span>)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">mymodule.<span class=\"title function_\">getNum</span>() <span class=\"comment\">// 81</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> getNum = mymodule.<span class=\"property\">getNum</span></span><br><span class=\"line\"><span class=\"title function_\">getNum</span>() <span class=\"comment\">// 9, å› ä¸ºåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ&quot;this&quot;æŒ‡å‘å…¨å±€å¯¹è±¡</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> boundGetNum = getNum.<span class=\"title function_\">bind</span>(mymodule)</span><br><span class=\"line\"><span class=\"title function_\">boundGetNum</span>() <span class=\"comment\">// 81</span></span><br></pre></td></tr></table></figure>\n\n<p>å½“è°ƒç”¨ bind å‡½æ•°åï¼Œbind å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°å°±æ˜¯åŸå‡½æ•°ä½œç”¨åŸŸä¸­ this æŒ‡å‘çš„å€¼</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">func</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> newFunc = func.<span class=\"title function_\">bind</span>(&#123; <span class=\"attr\">a</span>: <span class=\"number\">1</span> &#125;)</span><br><span class=\"line\"><span class=\"title function_\">newFunc</span>() <span class=\"comment\">// æ‰“å°ï¼š&#123;a:1&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> newFunc2 = func.<span class=\"title function_\">bind</span>([<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>])</span><br><span class=\"line\"><span class=\"title function_\">newFunc2</span>() <span class=\"comment\">// æ‰“å°ï¼š[1,2,3]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> newFunc3 = func.<span class=\"title function_\">bind</span>(<span class=\"number\">1</span>)</span><br><span class=\"line\"><span class=\"title function_\">newFunc3</span>() <span class=\"comment\">// æ‰“å°ï¼šNumber:&#123;1&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> newFunc4 = func.<span class=\"title function_\">bind</span>(<span class=\"literal\">undefined</span> / <span class=\"literal\">null</span>)</span><br><span class=\"line\"><span class=\"title function_\">newFunc4</span>() <span class=\"comment\">// æ‰“å°ï¼šwindow</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>å½“ä¼ å…¥ä¸º null æˆ–è€… undefined æ—¶ï¼Œåœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œthis æŒ‡å‘ä¸º windowã€‚</li>\n<li>å½“ä¼ å…¥ä¸ºç®€å•å€¼æ—¶ï¼Œå†…éƒ¨ä¼šå°†ç®€å•çš„å€¼åŒ…è£…æˆå¯¹åº”ç±»å‹çš„å¯¹è±¡ï¼Œæ•°å­—å°±è°ƒç”¨ Number æ–¹æ³•åŒ…è£…ï¼›å­—ç¬¦ä¸²å°±è°ƒç”¨ String æ–¹æ³•åŒ…è£…ï¼›true&#x2F;false å°±è°ƒç”¨ Boolean æ–¹æ³•åŒ…è£…ã€‚è¦æƒ³å–åˆ°åŸå§‹å€¼ï¼Œå¯ä»¥è°ƒç”¨ valueOf æ–¹æ³•ã€‚</li>\n</ul>\n<p>ä¼ é€’çš„å‚æ•°çš„é¡ºåºé—®é¢˜</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">func</span>(<span class=\"params\">a, b, c</span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a, b, c) <span class=\"comment\">// æ‰“å°ä¼ å…¥çš„å®å‚</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> newFunc = func.<span class=\"title function_\">bind</span>(&#123;&#125;, <span class=\"number\">1</span>, <span class=\"number\">2</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">newFunc</span>(<span class=\"number\">3</span>) <span class=\"comment\">//1,2,3</span></span><br><span class=\"line\"><span class=\"comment\">// å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ bind ä¸­ä¼ é€’çš„å‚æ•°è¦å…ˆä¼ å…¥åˆ°åŸå‡½æ•°ä¸­ã€‚</span></span><br></pre></td></tr></table></figure>\n\n<p>è¿”å›çš„æ–°å‡½æ•°è¢«å½“æˆæ„é€ å‡½æ•°</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// åŸå‡½æ•°</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">func</span>(<span class=\"params\">name</span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>) <span class=\"comment\">// æ‰“å°ï¼šé€šè¿‡&#123;name:&#x27;wy&#x27;&#125;</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">name</span> = name</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">func.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">hello</span> = <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">name</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">let</span> obj = &#123; <span class=\"attr\">a</span>: <span class=\"number\">1</span> &#125;</span><br><span class=\"line\"><span class=\"comment\">// è°ƒç”¨bind,è¿”å›æ–°å‡½æ•°</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> newFunc = func.<span class=\"title function_\">bind</span>(obj)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æŠŠæ–°å‡½æ•°ä½œä¸ºæ„é€ å‡½æ•°,åˆ›å»ºå®ä¾‹</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> o = <span class=\"keyword\">new</span> <span class=\"title function_\">newFunc</span>(<span class=\"string\">&#x27;seven&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(o.<span class=\"title function_\">hello</span>()) <span class=\"comment\">// æ‰“å°ï¼š&#x27;seven&#x27;</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(obj) <span class=\"comment\">// æ‰“å°ï¼š&#123;a:1&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>æ–°å‡½æ•°è¢«å½“æˆäº†æ„é€ å‡½æ•°ï¼ŒåŸå‡½æ•° func ä¸­çš„ this ä¸å†æŒ‡å‘ä¼ å…¥ç»™ bind çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œè€Œæ˜¯æŒ‡å‘ç”¨ new åˆ›å»ºçš„å®ä¾‹ã€‚åœ¨é€šè¿‡å®ä¾‹ o æ‰¾åŸå‹ä¸Šçš„æ–¹æ³• hello æ—¶ï¼Œèƒ½å¤Ÿæ‰¾åˆ°åŸå‡½æ•° func åŸå‹ä¸Šçš„æ–¹æ³•ã€‚</p>\n<h4 id=\"applyã€callã€bind-æ¯”è¾ƒ\"><a href=\"#applyã€callã€bind-æ¯”è¾ƒ\" class=\"headerlink\" title=\"applyã€callã€bind æ¯”è¾ƒ\"></a>applyã€callã€bind æ¯”è¾ƒ</h4><ul>\n<li>apply ã€call ã€bind ä¸‰è€…éƒ½æ˜¯ç”¨æ¥æ”¹å˜å‡½æ•°çš„ this å¯¹è±¡çš„æŒ‡å‘çš„ï¼›</li>\n<li>apply ã€call ã€bind ä¸‰è€…ç¬¬ä¸€ä¸ªå‚æ•°éƒ½æ˜¯ this è¦æŒ‡å‘çš„å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯æƒ³æŒ‡å®šçš„ä¸Šä¸‹æ–‡ï¼›</li>\n<li>apply ã€call ã€bind ä¸‰è€…éƒ½å¯ä»¥åˆ©ç”¨åç»­å‚æ•°ä¼ å‚ï¼›</li>\n<li>bind æ˜¯è¿”å›å¯¹åº”å‡½æ•°ï¼Œä¾¿äºç¨åè°ƒç”¨ï¼›apply ã€call åˆ™æ˜¯ç«‹å³è°ƒç”¨ ã€‚</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123;</span><br><span class=\"line\">  <span class=\"attr\">x</span>: <span class=\"number\">81</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> foo = &#123;</span><br><span class=\"line\">  <span class=\"attr\">getX</span>: <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"property\">x</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(foo.<span class=\"property\">getX</span>.<span class=\"title function_\">bind</span>(obj)()) <span class=\"comment\">//81</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(foo.<span class=\"property\">getX</span>.<span class=\"title function_\">call</span>(obj)) <span class=\"comment\">//81</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(foo.<span class=\"property\">getX</span>.<span class=\"title function_\">apply</span>(obj)) <span class=\"comment\">//81</span></span><br></pre></td></tr></table></figure>\n"},{"title":"åŸºäº vue çš„è‡ªå®šä¹‰æŒ‡ä»¤é›†åˆ","url":"/LittleWhiteRabbit/2022/04/26/vue%20%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8C%87%E4%BB%A4/","content":"<h1 id=\"v-directives\"><a href=\"#v-directives\" class=\"headerlink\" title=\"v-directives\"></a>v-directives</h1><p>åŸºäº vue çš„è‡ªå®šä¹‰æŒ‡ä»¤é›†åˆï¼ŒåŒ…å«</p>\n<ul>\n<li>å¤åˆ¶ç²˜è´´æŒ‡ä»¤ v-copy</li>\n<li>é•¿æŒ‰æŒ‡ä»¤ v-longpress</li>\n<li>è¾“å…¥æ¡†é˜²æŠ–æŒ‡ä»¤ v-debounce</li>\n<li>ç¦æ­¢è¡¨æƒ…åŠç‰¹æ®Šå­—ç¬¦ v-emoji</li>\n<li>å›¾ç‰‡æ‡’åŠ è½½ v-LazyLoad</li>\n<li>æƒé™æ ¡éªŒæŒ‡ä»¤ v-premission</li>\n<li>å®ç°é¡µé¢æ°´å° v-waterMarker</li>\n<li>æ‹–æ‹½æŒ‡ä»¤ v-draggable<span id=\"more\"></span>\n<h2 id=\"v-copy\"><a href=\"#v-copy\" class=\"headerlink\" title=\"v-copy\"></a>v-copy</h2></li>\n</ul>\n<p>éœ€æ±‚ï¼šå®ç°ä¸€é”®å¤åˆ¶æ–‡æœ¬å†…å®¹ï¼Œç”¨äºé¼ æ ‡å³é”®ç²˜è´´ã€‚</p>\n<p>æ€è·¯ï¼š</p>\n<ol>\n<li>åŠ¨æ€åˆ›å»º textarea æ ‡ç­¾ï¼Œå¹¶è®¾ç½® readOnly å±æ€§åŠç§»å‡ºå¯è§†åŒºåŸŸ</li>\n<li>å°†è¦ copy çš„å€¼èµ‹ç»™ textarea æ ‡ç­¾çš„ value å±æ€§ï¼Œå¹¶æ’å…¥åˆ° body</li>\n<li>é€‰ä¸­å€¼ textarea å¹¶å¤åˆ¶</li>\n<li>å°† body ä¸­æ’å…¥çš„ textarea ç§»é™¤</li>\n<li>åœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨æ—¶ç»‘å®šäº‹ä»¶ï¼Œåœ¨è§£ç»‘æ—¶ç§»é™¤äº‹ä»¶</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> copy = &#123;</span><br><span class=\"line\">  <span class=\"title function_\">bind</span>(<span class=\"params\">el, &#123; value &#125;</span>) &#123;</span><br><span class=\"line\">    el.<span class=\"property\">$value</span> = value</span><br><span class=\"line\">    el.<span class=\"property\">handler</span> = <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (!el.<span class=\"property\">$value</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// å€¼ä¸ºç©ºçš„æ—¶å€™ï¼Œç»™å‡ºæç¤ºã€‚å¯æ ¹æ®é¡¹ç›®UIä»”ç»†è®¾è®¡</span></span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;æ— å¤åˆ¶å†…å®¹&#x27;</span>)</span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"comment\">// åŠ¨æ€åˆ›å»º textarea æ ‡ç­¾</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> textarea = <span class=\"variable language_\">document</span>.<span class=\"title function_\">createElement</span>(<span class=\"string\">&#x27;textarea&#x27;</span>)</span><br><span class=\"line\">      <span class=\"comment\">// å°†è¯¥ textarea è®¾ä¸º readonly é˜²æ­¢ iOS ä¸‹è‡ªåŠ¨å”¤èµ·é”®ç›˜ï¼ŒåŒæ—¶å°† textarea ç§»å‡ºå¯è§†åŒºåŸŸ</span></span><br><span class=\"line\">      textarea.<span class=\"property\">readOnly</span> = <span class=\"string\">&#x27;readonly&#x27;</span></span><br><span class=\"line\">      textarea.<span class=\"property\">style</span>.<span class=\"property\">position</span> = <span class=\"string\">&#x27;absolute&#x27;</span></span><br><span class=\"line\">      textarea.<span class=\"property\">style</span>.<span class=\"property\">left</span> = <span class=\"string\">&#x27;-9999px&#x27;</span></span><br><span class=\"line\">      <span class=\"comment\">// å°†è¦ copy çš„å€¼èµ‹ç»™ textarea æ ‡ç­¾çš„ value å±æ€§</span></span><br><span class=\"line\">      textarea.<span class=\"property\">value</span> = el.<span class=\"property\">$value</span></span><br><span class=\"line\">      <span class=\"comment\">// å°† textarea æ’å…¥åˆ° body ä¸­</span></span><br><span class=\"line\">      <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"title function_\">appendChild</span>(textarea)</span><br><span class=\"line\">      <span class=\"comment\">// é€‰ä¸­å€¼å¹¶å¤åˆ¶</span></span><br><span class=\"line\">      textarea.<span class=\"title function_\">select</span>()</span><br><span class=\"line\">      <span class=\"keyword\">const</span> result = <span class=\"variable language_\">document</span>.<span class=\"title function_\">execCommand</span>(<span class=\"string\">&#x27;Copy&#x27;</span>)</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (result) &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;å¤åˆ¶æˆåŠŸ&#x27;</span>) <span class=\"comment\">// å¯æ ¹æ®é¡¹ç›®UIä»”ç»†è®¾è®¡</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"title function_\">removeChild</span>(textarea)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// ç»‘å®šç‚¹å‡»äº‹ä»¶ï¼Œå°±æ˜¯æ‰€è°“çš„ä¸€é”® copy å•¦</span></span><br><span class=\"line\">    el.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;click&#x27;</span>, el.<span class=\"property\">handler</span>)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// å½“ä¼ è¿›æ¥çš„å€¼æ›´æ–°çš„æ—¶å€™è§¦å‘</span></span><br><span class=\"line\">  <span class=\"title function_\">componentUpdated</span>(<span class=\"params\">el, &#123; value &#125;</span>) &#123;</span><br><span class=\"line\">    el.<span class=\"property\">$value</span> = value</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// æŒ‡ä»¤ä¸å…ƒç´ è§£ç»‘çš„æ—¶å€™ï¼Œç§»é™¤äº‹ä»¶ç»‘å®š</span></span><br><span class=\"line\">  <span class=\"title function_\">unbind</span>(<span class=\"params\">el</span>) &#123;</span><br><span class=\"line\">    el.<span class=\"title function_\">removeEventListener</span>(<span class=\"string\">&#x27;click&#x27;</span>, el.<span class=\"property\">handler</span>)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> copy</span><br></pre></td></tr></table></figure>\n\n<p>ä½¿ç”¨ï¼šç»™ Dom åŠ ä¸Š v-copy åŠå¤åˆ¶çš„æ–‡æœ¬å³å¯</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">v-copy</span>=<span class=\"string\">&quot;copyText&quot;</span>&gt;</span>å¤åˆ¶<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"title function_\">data</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"keyword\">return</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">copyText</span>: <span class=\"string\">&#x27;a copy directives&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"v-longpress\"><a href=\"#v-longpress\" class=\"headerlink\" title=\"v-longpress\"></a>v-longpress</h2><p>éœ€æ±‚ï¼šå®ç°é•¿æŒ‰ï¼Œç”¨æˆ·éœ€è¦æŒ‰ä¸‹å¹¶æŒ‰ä½æŒ‰é’®å‡ ç§’é’Ÿï¼Œè§¦å‘ç›¸åº”çš„äº‹ä»¶</p>\n<p>æ€è·¯ï¼š</p>\n<ol>\n<li>åˆ›å»ºä¸€ä¸ªè®¡æ—¶å™¨ï¼Œ 2 ç§’åæ‰§è¡Œå‡½æ•°</li>\n<li>å½“ç”¨æˆ·æŒ‰ä¸‹æŒ‰é’®æ—¶è§¦å‘ mousedown äº‹ä»¶ï¼Œå¯åŠ¨è®¡æ—¶å™¨ï¼›ç”¨æˆ·æ¾å¼€æŒ‰é’®æ—¶è°ƒç”¨ mouseout äº‹ä»¶ã€‚</li>\n<li>å¦‚æœ mouseup äº‹ä»¶ 2 ç§’å†…è¢«è§¦å‘ï¼Œå°±æ¸…é™¤è®¡æ—¶å™¨ï¼Œå½“ä½œä¸€ä¸ªæ™®é€šçš„ç‚¹å‡»äº‹ä»¶</li>\n<li>å¦‚æœè®¡æ—¶å™¨æ²¡æœ‰åœ¨ 2 ç§’å†…æ¸…é™¤ï¼Œåˆ™åˆ¤å®šä¸ºä¸€æ¬¡é•¿æŒ‰ï¼Œå¯ä»¥æ‰§è¡Œå…³è”çš„å‡½æ•°ã€‚</li>\n<li>åœ¨ç§»åŠ¨ç«¯è¦è€ƒè™‘ touchstartï¼Œtouchend äº‹ä»¶</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> longpress = &#123;</span><br><span class=\"line\">  <span class=\"attr\">bind</span>: <span class=\"keyword\">function</span> (<span class=\"params\">el, binding, vNode</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> binding.<span class=\"property\">value</span> !== <span class=\"string\">&#x27;function&#x27;</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">throw</span> <span class=\"string\">&#x27;callback must be a function&#x27;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// å®šä¹‰å˜é‡</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> pressTimer = <span class=\"literal\">null</span></span><br><span class=\"line\">    <span class=\"comment\">// åˆ›å»ºè®¡æ—¶å™¨ï¼ˆ 2ç§’åæ‰§è¡Œå‡½æ•° ï¼‰</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> <span class=\"title function_\">start</span> = (<span class=\"params\">e</span>) =&gt; &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (e.<span class=\"property\">type</span> === <span class=\"string\">&#x27;click&#x27;</span> &amp;&amp; e.<span class=\"property\">button</span> !== <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (pressTimer === <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        pressTimer = <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">          <span class=\"title function_\">handler</span>()</span><br><span class=\"line\">        &#125;, <span class=\"number\">2000</span>)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// å–æ¶ˆè®¡æ—¶å™¨</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> <span class=\"title function_\">cancel</span> = (<span class=\"params\">e</span>) =&gt; &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (pressTimer !== <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"built_in\">clearTimeout</span>(pressTimer)</span><br><span class=\"line\">        pressTimer = <span class=\"literal\">null</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// è¿è¡Œå‡½æ•°</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> <span class=\"title function_\">handler</span> = (<span class=\"params\">e</span>) =&gt; &#123;</span><br><span class=\"line\">      binding.<span class=\"title function_\">value</span>(e)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// æ·»åŠ äº‹ä»¶ç›‘å¬å™¨</span></span><br><span class=\"line\">    el.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;mousedown&#x27;</span>, start)</span><br><span class=\"line\">    el.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;touchstart&#x27;</span>, start)</span><br><span class=\"line\">    <span class=\"comment\">// å–æ¶ˆè®¡æ—¶å™¨</span></span><br><span class=\"line\">    el.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;click&#x27;</span>, cancel)</span><br><span class=\"line\">    el.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;mouseout&#x27;</span>, cancel)</span><br><span class=\"line\">    el.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;touchend&#x27;</span>, cancel)</span><br><span class=\"line\">    el.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;touchcancel&#x27;</span>, cancel)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// å½“ä¼ è¿›æ¥çš„å€¼æ›´æ–°çš„æ—¶å€™è§¦å‘</span></span><br><span class=\"line\">  <span class=\"title function_\">componentUpdated</span>(<span class=\"params\">el, &#123; value &#125;</span>) &#123;</span><br><span class=\"line\">    el.<span class=\"property\">$value</span> = value</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// æŒ‡ä»¤ä¸å…ƒç´ è§£ç»‘çš„æ—¶å€™ï¼Œç§»é™¤äº‹ä»¶ç»‘å®š</span></span><br><span class=\"line\">  <span class=\"title function_\">unbind</span>(<span class=\"params\">el</span>) &#123;</span><br><span class=\"line\">    el.<span class=\"title function_\">removeEventListener</span>(<span class=\"string\">&#x27;click&#x27;</span>, el.<span class=\"property\">handler</span>)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> longpress</span><br></pre></td></tr></table></figure>\n\n<p>ä½¿ç”¨ï¼šç»™ Dom åŠ ä¸Š longpress åŠå›è°ƒå‡½æ•°å³å¯</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">v-longpress</span>=<span class=\"string\">&quot;longpress&quot;</span>&gt;</span>é•¿æŒ‰<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"attr\">methods</span>: &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    longpress () &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"title function_\">alert</span>(<span class=\"string\">&#x27;é•¿æŒ‰æŒ‡ä»¤ç”Ÿæ•ˆ&#x27;</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"v-debounce\"><a href=\"#v-debounce\" class=\"headerlink\" title=\"v-debounce\"></a>v-debounce</h2><p>èƒŒæ™¯ï¼šåœ¨å¼€å‘ä¸­ï¼Œæœ‰äº›æäº¤ä¿å­˜æŒ‰é’®æœ‰æ—¶å€™ä¼šåœ¨çŸ­æ—¶é—´å†…è¢«ç‚¹å‡»å¤šæ¬¡ï¼Œè¿™æ ·å°±ä¼šå¤šæ¬¡é‡å¤è¯·æ±‚åç«¯æ¥å£ï¼Œé€ æˆæ•°æ®çš„æ··ä¹±ï¼Œæ¯”å¦‚æ–°å¢è¡¨å•çš„æäº¤æŒ‰é’®ï¼Œå¤šæ¬¡ç‚¹å‡»å°±ä¼šæ–°å¢å¤šæ¡é‡å¤çš„æ•°æ®ã€‚</p>\n<p>éœ€æ±‚ï¼šé˜²æ­¢æŒ‰é’®åœ¨çŸ­æ—¶é—´å†…è¢«å¤šæ¬¡ç‚¹å‡»ï¼Œä½¿ç”¨é˜²æŠ–å‡½æ•°é™åˆ¶è§„å®šæ—¶é—´å†…åªèƒ½ç‚¹å‡»ä¸€æ¬¡ã€‚</p>\n<p>æ€è·¯ï¼š</p>\n<ol>\n<li>å®šä¹‰ä¸€ä¸ªå»¶è¿Ÿæ‰§è¡Œçš„æ–¹æ³•ï¼Œå¦‚æœåœ¨å»¶è¿Ÿæ—¶é—´å†…å†è°ƒç”¨è¯¥æ–¹æ³•ï¼Œåˆ™é‡æ–°è®¡ç®—æ‰§è¡Œæ—¶é—´ã€‚</li>\n<li>å°†æ—¶é—´ç»‘å®šåœ¨ click æ–¹æ³•ä¸Šã€‚</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> debounce = &#123;</span><br><span class=\"line\">  <span class=\"attr\">inserted</span>: <span class=\"keyword\">function</span> (<span class=\"params\">el, binding</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> timer</span><br><span class=\"line\">    el.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (timer) &#123;</span><br><span class=\"line\">        <span class=\"built_in\">clearTimeout</span>(timer)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      timer = <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">        binding.<span class=\"title function_\">value</span>()</span><br><span class=\"line\">      &#125;, <span class=\"number\">1000</span>)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> debounce</span><br></pre></td></tr></table></figure>\n\n<p>ä½¿ç”¨ï¼šç»™ Dom åŠ ä¸Š v-debounce åŠå›è°ƒå‡½æ•°å³å¯</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">v-debounce</span>=<span class=\"string\">&quot;debounceClick&quot;</span>&gt;</span>é˜²æŠ–<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"attr\">methods</span>: &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    debounceClick () &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;åªè§¦å‘ä¸€æ¬¡&#x27;</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"v-emoji\"><a href=\"#v-emoji\" class=\"headerlink\" title=\"v-emoji\"></a>v-emoji</h2><p>èƒŒæ™¯ï¼šå¼€å‘ä¸­é‡åˆ°çš„è¡¨å•è¾“å…¥ï¼Œå¾€å¾€ä¼šæœ‰å¯¹è¾“å…¥å†…å®¹çš„é™åˆ¶ï¼Œæ¯”å¦‚ä¸èƒ½è¾“å…¥è¡¨æƒ…å’Œç‰¹æ®Šå­—ç¬¦ï¼Œåªèƒ½è¾“å…¥æ•°å­—æˆ–å­—æ¯ç­‰ã€‚</p>\n<p>æˆ‘ä»¬å¸¸è§„æ–¹æ³•æ˜¯åœ¨æ¯ä¸€ä¸ªè¡¨å•çš„@change äº‹ä»¶ä¸Šåšå¤„ç†ã€‚</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span> <span class=\"attr\">v-model</span>=<span class=\"string\">&quot;note&quot;</span> @<span class=\"attr\">change</span>=<span class=\"string\">&quot;vaidateEmoji&quot;</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"attr\">methods</span>: &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"title function_\">vaidateEmoji</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">var</span> reg = <span class=\"regexp\">/[^\\u4E00-\\u9FA5|\\d|\\a-zA-Z|\\r\\n\\s,.?!ï¼Œã€‚ï¼Ÿï¼â€¦â€”&amp;$=()-+/*&#123;&#125;[\\]]|\\s/g</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"variable language_\">this</span>.<span class=\"property\">note</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">note</span>.<span class=\"title function_\">replace</span>(reg, <span class=\"string\">&#x27;&#x27;</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>è¿™æ ·ä»£ç é‡æ¯”è¾ƒå¤§è€Œä¸”ä¸å¥½ç»´æŠ¤ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦è‡ªå®šä¹‰ä¸€ä¸ªæŒ‡ä»¤æ¥è§£å†³è¿™é—®é¢˜ã€‚</p>\n<p>éœ€æ±‚ï¼šæ ¹æ®æ­£åˆ™è¡¨è¾¾å¼ï¼Œè®¾è®¡è‡ªå®šä¹‰å¤„ç†è¡¨å•è¾“å…¥è§„åˆ™çš„æŒ‡ä»¤ï¼Œä¸‹é¢ä»¥ç¦æ­¢è¾“å…¥è¡¨æƒ…å’Œç‰¹æ®Šå­—ç¬¦ä¸ºä¾‹ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> <span class=\"title function_\">findEle</span> = (<span class=\"params\">parent, type</span>) =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> parent.<span class=\"property\">tagName</span>.<span class=\"title function_\">toLowerCase</span>() === type ? parent : parent.<span class=\"title function_\">querySelector</span>(type)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">trigger</span> = (<span class=\"params\">el, type</span>) =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> e = <span class=\"variable language_\">document</span>.<span class=\"title function_\">createEvent</span>(<span class=\"string\">&#x27;HTMLEvents&#x27;</span>)</span><br><span class=\"line\">  e.<span class=\"title function_\">initEvent</span>(type, <span class=\"literal\">true</span>, <span class=\"literal\">true</span>)</span><br><span class=\"line\">  el.<span class=\"title function_\">dispatchEvent</span>(e)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> emoji = &#123;</span><br><span class=\"line\">  <span class=\"attr\">bind</span>: <span class=\"keyword\">function</span> (<span class=\"params\">el, binding, vnode</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// æ­£åˆ™è§„åˆ™å¯æ ¹æ®éœ€æ±‚è‡ªå®šä¹‰</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> regRule = <span class=\"regexp\">/[^\\u4E00-\\u9FA5|\\d|\\a-zA-Z|\\r\\n\\s,.?!ï¼Œã€‚ï¼Ÿï¼â€¦â€”&amp;$=()-+/*&#123;&#125;[\\]]|\\s/g</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> $inp = <span class=\"title function_\">findEle</span>(el, <span class=\"string\">&#x27;input&#x27;</span>)</span><br><span class=\"line\">    el.<span class=\"property\">$inp</span> = $inp</span><br><span class=\"line\">    $inp.<span class=\"property\">handle</span> = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> val = $inp.<span class=\"property\">value</span></span><br><span class=\"line\">      $inp.<span class=\"property\">value</span> = val.<span class=\"title function_\">replace</span>(regRule, <span class=\"string\">&#x27;&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"title function_\">trigger</span>($inp, <span class=\"string\">&#x27;input&#x27;</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    $inp.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;keyup&#x27;</span>, $inp.<span class=\"property\">handle</span>)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">unbind</span>: <span class=\"keyword\">function</span> (<span class=\"params\">el</span>) &#123;</span><br><span class=\"line\">    el.<span class=\"property\">$inp</span>.<span class=\"title function_\">removeEventListener</span>(<span class=\"string\">&#x27;keyup&#x27;</span>, el.<span class=\"property\">$inp</span>.<span class=\"property\">handle</span>)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> emoji</span><br></pre></td></tr></table></figure>\n\n<p>ä½¿ç”¨ï¼šå°†éœ€è¦æ ¡éªŒçš„è¾“å…¥æ¡†åŠ ä¸Š v-emoji å³å¯</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span> <span class=\"attr\">v-model</span>=<span class=\"string\">&quot;note&quot;</span> <span class=\"attr\">v-emoji</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"v-LazyLoad\"><a href=\"#v-LazyLoad\" class=\"headerlink\" title=\"v-LazyLoad\"></a>v-LazyLoad</h2><p>èƒŒæ™¯ï¼šåœ¨ç±»ç”µå•†ç±»é¡¹ç›®ï¼Œå¾€å¾€å­˜åœ¨å¤§é‡çš„å›¾ç‰‡ï¼Œå¦‚ banner å¹¿å‘Šå›¾ï¼Œèœå•å¯¼èˆªå›¾ï¼Œç¾å›¢ç­‰å•†å®¶åˆ—è¡¨å¤´å›¾ç­‰ã€‚å›¾ç‰‡ä¼—å¤šä»¥åŠå›¾ç‰‡ä½“ç§¯è¿‡å¤§å¾€å¾€ä¼šå½±å“é¡µé¢åŠ è½½é€Ÿåº¦ï¼Œé€ æˆä¸è‰¯çš„ç”¨æˆ·ä½“éªŒï¼Œæ‰€ä»¥è¿›è¡Œå›¾ç‰‡æ‡’åŠ è½½ä¼˜åŒ–åŠ¿åœ¨å¿…è¡Œã€‚</p>\n<p>éœ€æ±‚ï¼šå®ç°ä¸€ä¸ªå›¾ç‰‡æ‡’åŠ è½½æŒ‡ä»¤ï¼ŒåªåŠ è½½æµè§ˆå™¨å¯è§åŒºåŸŸçš„å›¾ç‰‡ã€‚</p>\n<p>æ€è·¯ï¼š</p>\n<ol>\n<li>å›¾ç‰‡æ‡’åŠ è½½çš„åŸç†ä¸»è¦æ˜¯åˆ¤æ–­å½“å‰å›¾ç‰‡æ˜¯å¦åˆ°äº†å¯è§†åŒºåŸŸè¿™ä¸€æ ¸å¿ƒé€»è¾‘å®ç°çš„</li>\n<li>æ‹¿åˆ°æ‰€æœ‰çš„å›¾ç‰‡ dome ï¼Œéå†æ¯ä¸ªå›¾ç‰‡åˆ¤æ–­å½“å‰å›¾ç‰‡æ˜¯å¦åˆ°äº†å¯è§†åŒºèŒƒå›´å†…</li>\n<li>å¦‚æœåˆ°äº†å°±è®¾ç½®å›¾ç‰‡çš„ src å±æ€§ï¼Œå¦åˆ™æ˜¾ç¤ºé»˜è®¤å›¾ç‰‡</li>\n</ol>\n<p>å›¾ç‰‡æ‡’åŠ è½½æœ‰ä¸¤ç§æ–¹å¼å¯ä»¥å®ç°ï¼Œä¸€æ˜¯ç»‘å®š srcoll äº‹ä»¶è¿›è¡Œç›‘å¬ï¼ŒäºŒæ˜¯ä½¿ç”¨ IntersectionObserver åˆ¤æ–­å›¾ç‰‡æ˜¯å¦åˆ°äº†å¯è§†åŒºåŸŸï¼Œä½†æ˜¯æœ‰æµè§ˆå™¨å…¼å®¹æ€§é—®é¢˜ã€‚</p>\n<p>ä¸‹é¢å°è£…ä¸€ä¸ªæ‡’åŠ è½½æŒ‡ä»¤å…¼å®¹ä¸¤ç§æ–¹æ³•ï¼Œåˆ¤æ–­æµè§ˆå™¨æ˜¯å¦æ”¯æŒ IntersectionObserver APIï¼Œå¦‚æœæ”¯æŒå°±ä½¿ç”¨ IntersectionObserver å®ç°æ‡’åŠ è½½ï¼Œå¦åˆ™åˆ™ä½¿ç”¨ srcoll äº‹ä»¶ç›‘å¬ + èŠ‚æµçš„æ–¹æ³•å®ç°ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">LazyLoad</span> = &#123;</span><br><span class=\"line\">  <span class=\"comment\">// installæ–¹æ³•</span></span><br><span class=\"line\">  <span class=\"title function_\">install</span>(<span class=\"params\">Vue, options</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> defaultSrc = options.<span class=\"property\">default</span></span><br><span class=\"line\">    <span class=\"title class_\">Vue</span>.<span class=\"title function_\">directive</span>(<span class=\"string\">&#x27;lazy&#x27;</span>, &#123;</span><br><span class=\"line\">      <span class=\"title function_\">bind</span>(<span class=\"params\">el, binding</span>) &#123;</span><br><span class=\"line\">        <span class=\"title class_\">LazyLoad</span>.<span class=\"title function_\">init</span>(el, binding.<span class=\"property\">value</span>, defaultSrc)</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"title function_\">inserted</span>(<span class=\"params\">el</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"title class_\">IntersectionObserver</span>) &#123;</span><br><span class=\"line\">          <span class=\"title class_\">LazyLoad</span>.<span class=\"title function_\">observe</span>(el)</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">          <span class=\"title class_\">LazyLoad</span>.<span class=\"title function_\">listenerScroll</span>(el)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// åˆå§‹åŒ–</span></span><br><span class=\"line\">  <span class=\"title function_\">init</span>(<span class=\"params\">el, val, def</span>) &#123;</span><br><span class=\"line\">    el.<span class=\"title function_\">setAttribute</span>(<span class=\"string\">&#x27;data-src&#x27;</span>, val)</span><br><span class=\"line\">    el.<span class=\"title function_\">setAttribute</span>(<span class=\"string\">&#x27;src&#x27;</span>, def)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// åˆ©ç”¨IntersectionObserverç›‘å¬el</span></span><br><span class=\"line\">  <span class=\"title function_\">observe</span>(<span class=\"params\">el</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> io = <span class=\"keyword\">new</span> <span class=\"title class_\">IntersectionObserver</span>(<span class=\"function\">(<span class=\"params\">entries</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> realSrc = el.<span class=\"property\">dataset</span>.<span class=\"property\">src</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (entries[<span class=\"number\">0</span>].<span class=\"property\">isIntersecting</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (realSrc) &#123;</span><br><span class=\"line\">          el.<span class=\"property\">src</span> = realSrc</span><br><span class=\"line\">          el.<span class=\"title function_\">removeAttribute</span>(<span class=\"string\">&#x27;data-src&#x27;</span>)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    io.<span class=\"title function_\">observe</span>(el)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// ç›‘å¬scrolläº‹ä»¶</span></span><br><span class=\"line\">  <span class=\"title function_\">listenerScroll</span>(<span class=\"params\">el</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> handler = <span class=\"title class_\">LazyLoad</span>.<span class=\"title function_\">throttle</span>(<span class=\"title class_\">LazyLoad</span>.<span class=\"property\">load</span>, <span class=\"number\">300</span>)</span><br><span class=\"line\">    <span class=\"title class_\">LazyLoad</span>.<span class=\"title function_\">load</span>(el)</span><br><span class=\"line\">    <span class=\"variable language_\">window</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;scroll&#x27;</span>, <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"title function_\">handler</span>(el)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// åŠ è½½çœŸå®å›¾ç‰‡</span></span><br><span class=\"line\">  <span class=\"title function_\">load</span>(<span class=\"params\">el</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> windowHeight = <span class=\"variable language_\">document</span>.<span class=\"property\">documentElement</span>.<span class=\"property\">clientHeight</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> elTop = el.<span class=\"title function_\">getBoundingClientRect</span>().<span class=\"property\">top</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> elBtm = el.<span class=\"title function_\">getBoundingClientRect</span>().<span class=\"property\">bottom</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> realSrc = el.<span class=\"property\">dataset</span>.<span class=\"property\">src</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (elTop - windowHeight &lt; <span class=\"number\">0</span> &amp;&amp; elBtm &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (realSrc) &#123;</span><br><span class=\"line\">        el.<span class=\"property\">src</span> = realSrc</span><br><span class=\"line\">        el.<span class=\"title function_\">removeAttribute</span>(<span class=\"string\">&#x27;data-src&#x27;</span>)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// èŠ‚æµ</span></span><br><span class=\"line\">  <span class=\"title function_\">throttle</span>(<span class=\"params\">fn, delay</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> timer</span><br><span class=\"line\">    <span class=\"keyword\">let</span> prevTime</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">function</span> (<span class=\"params\">...args</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> currTime = <span class=\"title class_\">Date</span>.<span class=\"title function_\">now</span>()</span><br><span class=\"line\">      <span class=\"keyword\">const</span> context = <span class=\"variable language_\">this</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (!prevTime) prevTime = currTime</span><br><span class=\"line\">      <span class=\"built_in\">clearTimeout</span>(timer)</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (currTime - prevTime &gt; delay) &#123;</span><br><span class=\"line\">        prevTime = currTime</span><br><span class=\"line\">        fn.<span class=\"title function_\">apply</span>(context, args)</span><br><span class=\"line\">        <span class=\"built_in\">clearTimeout</span>(timer)</span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      timer = <span class=\"built_in\">setTimeout</span>(<span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        prevTime = <span class=\"title class_\">Date</span>.<span class=\"title function_\">now</span>()</span><br><span class=\"line\">        timer = <span class=\"literal\">null</span></span><br><span class=\"line\">        fn.<span class=\"title function_\">apply</span>(context, args)</span><br><span class=\"line\">      &#125;, delay)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"title class_\">LazyLoad</span></span><br></pre></td></tr></table></figure>\n\n<p>ä½¿ç”¨ï¼Œå°†ç»„ä»¶å†… <img> æ ‡ç­¾çš„ src æ¢æˆ v-LazyLoad</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">v-LazyLoad</span>=<span class=\"string\">&quot;xxx.jpg&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"v-permission\"><a href=\"#v-permission\" class=\"headerlink\" title=\"v-permission\"></a>v-permission</h2><p>èƒŒæ™¯ï¼šåœ¨ä¸€äº›åå°ç®¡ç†ç³»ç»Ÿï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦æ ¹æ®ç”¨æˆ·è§’è‰²è¿›è¡Œä¸€äº›æ“ä½œæƒé™çš„åˆ¤æ–­ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬éƒ½æ˜¯ç²—æš´åœ°ç»™ä¸€ä¸ªå…ƒç´ æ·»åŠ  v-if &#x2F; v-show æ¥è¿›è¡Œæ˜¾ç¤ºéšè—ï¼Œä½†å¦‚æœåˆ¤æ–­æ¡ä»¶ç¹çä¸”å¤šä¸ªåœ°æ–¹éœ€è¦åˆ¤æ–­ï¼Œè¿™ç§æ–¹å¼çš„ä»£ç ä¸ä»…ä¸ä¼˜é›…è€Œä¸”å†—ä½™ã€‚é’ˆå¯¹è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å…¨å±€è‡ªå®šä¹‰æŒ‡ä»¤æ¥å¤„ç†ã€‚</p>\n<p>éœ€æ±‚ï¼šè‡ªå®šä¹‰ä¸€ä¸ªæƒé™æŒ‡ä»¤ï¼Œå¯¹éœ€è¦æƒé™åˆ¤æ–­çš„ dom è¿›è¡Œæ˜¾ç¤ºéšè—ã€‚</p>\n<p>æ€è·¯ï¼š</p>\n<ol>\n<li>è‡ªå®šä¹‰ä¸€ä¸ªæƒé™æ•°ç»„</li>\n<li>åˆ¤æ–­ç”¨æˆ·çš„æƒé™æ˜¯å¦åœ¨è¿™ä¸ªæ•°ç»„å†…ï¼Œå¦‚æœæ˜¯åˆ™æ˜¾ç¤ºï¼Œå¦åˆ™åˆ™ç§»é™¤ Dom</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">checkArray</span>(<span class=\"params\">key</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> arr = [<span class=\"string\">&#x27;1&#x27;</span>, <span class=\"string\">&#x27;2&#x27;</span>, <span class=\"string\">&#x27;3&#x27;</span>, <span class=\"string\">&#x27;4&#x27;</span>]</span><br><span class=\"line\">  <span class=\"keyword\">let</span> index = arr.<span class=\"title function_\">indexOf</span>(key)</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (index &gt; -<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span> <span class=\"comment\">// æœ‰æƒé™</span></span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span> <span class=\"comment\">// æ— æƒé™</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> permission = &#123;</span><br><span class=\"line\">  <span class=\"attr\">inserted</span>: <span class=\"keyword\">function</span> (<span class=\"params\">el, binding</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> permission = binding.<span class=\"property\">value</span> <span class=\"comment\">// è·å–åˆ° v-permissionçš„å€¼</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (permission) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> hasPermission = <span class=\"title function_\">checkArray</span>(permission)</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (!hasPermission) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// æ²¡æœ‰æƒé™ ç§»é™¤Domå…ƒç´ </span></span><br><span class=\"line\">        el.<span class=\"property\">parentNode</span> &amp;&amp; el.<span class=\"property\">parentNode</span>.<span class=\"title function_\">removeChild</span>(el)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> permission</span><br></pre></td></tr></table></figure>\n\n<p>ä½¿ç”¨ï¼šç»™ v-permission èµ‹å€¼åˆ¤æ–­å³å¯</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;btns&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- æ˜¾ç¤º --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">v-permission</span>=<span class=\"string\">&quot;&#x27;1&#x27;&quot;</span>&gt;</span>æƒé™æŒ‰é’®1<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- ä¸æ˜¾ç¤º --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">v-permission</span>=<span class=\"string\">&quot;&#x27;10&#x27;&quot;</span>&gt;</span>æƒé™æŒ‰é’®2<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"vue-waterMarker\"><a href=\"#vue-waterMarker\" class=\"headerlink\" title=\"vue-waterMarker\"></a>vue-waterMarker</h2><p>éœ€æ±‚ï¼šç»™æ•´ä¸ªé¡µé¢æ·»åŠ èƒŒæ™¯æ°´å°</p>\n<p>æ€è·¯ï¼š</p>\n<ol>\n<li>ä½¿ç”¨ canvas ç‰¹æ€§ç”Ÿæˆ base64 æ ¼å¼çš„å›¾ç‰‡æ–‡ä»¶ï¼Œè®¾ç½®å…¶å­—ä½“å¤§å°ï¼Œé¢œè‰²ç­‰ã€‚</li>\n<li>å°†å…¶è®¾ç½®ä¸ºèƒŒæ™¯å›¾ç‰‡ï¼Œä»è€Œå®ç°é¡µé¢æˆ–ç»„ä»¶æ°´å°æ•ˆæœ</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">addWaterMarker</span>(<span class=\"params\">str, parentNode, font, textColor</span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// æ°´å°æ–‡å­—ï¼Œçˆ¶å…ƒç´ ï¼Œå­—ä½“ï¼Œæ–‡å­—é¢œè‰²</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> can = <span class=\"variable language_\">document</span>.<span class=\"title function_\">createElement</span>(<span class=\"string\">&#x27;canvas&#x27;</span>)</span><br><span class=\"line\">  parentNode.<span class=\"title function_\">appendChild</span>(can)</span><br><span class=\"line\">  can.<span class=\"property\">width</span> = <span class=\"number\">200</span></span><br><span class=\"line\">  can.<span class=\"property\">height</span> = <span class=\"number\">150</span></span><br><span class=\"line\">  can.<span class=\"property\">style</span>.<span class=\"property\">display</span> = <span class=\"string\">&#x27;none&#x27;</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> cans = can.<span class=\"title function_\">getContext</span>(<span class=\"string\">&#x27;2d&#x27;</span>)</span><br><span class=\"line\">  cans.<span class=\"title function_\">rotate</span>((-<span class=\"number\">20</span> * <span class=\"title class_\">Math</span>.<span class=\"property\">PI</span>) / <span class=\"number\">180</span>)</span><br><span class=\"line\">  cans.<span class=\"property\">font</span> = font || <span class=\"string\">&#x27;16px Microsoft JhengHei&#x27;</span></span><br><span class=\"line\">  cans.<span class=\"property\">fillStyle</span> = textColor || <span class=\"string\">&#x27;rgba(180, 180, 180, 0.3)&#x27;</span></span><br><span class=\"line\">  cans.<span class=\"property\">textAlign</span> = <span class=\"string\">&#x27;left&#x27;</span></span><br><span class=\"line\">  cans.<span class=\"property\">textBaseline</span> = <span class=\"string\">&#x27;Middle&#x27;</span></span><br><span class=\"line\">  cans.<span class=\"title function_\">fillText</span>(str, can.<span class=\"property\">width</span> / <span class=\"number\">10</span>, can.<span class=\"property\">height</span> / <span class=\"number\">2</span>)</span><br><span class=\"line\">  parentNode.<span class=\"property\">style</span>.<span class=\"property\">backgroundImage</span> = <span class=\"string\">&#x27;url(&#x27;</span> + can.<span class=\"title function_\">toDataURL</span>(<span class=\"string\">&#x27;image/png&#x27;</span>) + <span class=\"string\">&#x27;)&#x27;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> waterMarker = &#123;</span><br><span class=\"line\">  <span class=\"attr\">bind</span>: <span class=\"keyword\">function</span> (<span class=\"params\">el, binding</span>) &#123;</span><br><span class=\"line\">    <span class=\"title function_\">addWaterMarker</span>(binding.<span class=\"property\">value</span>.<span class=\"property\">text</span>, el, binding.<span class=\"property\">value</span>.<span class=\"property\">font</span>, binding.<span class=\"property\">value</span>.<span class=\"property\">textColor</span>)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> waterMarker</span><br></pre></td></tr></table></figure>\n\n<p>ä½¿ç”¨ï¼Œè®¾ç½®æ°´å°æ–‡æ¡ˆï¼Œé¢œè‰²ï¼Œå­—ä½“å¤§å°å³å¯</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">v-waterMarker</span>=<span class=\"string\">&quot;&#123;text:&#x27;lzgç‰ˆæƒæ‰€æœ‰&#x27;,textColor:&#x27;rgba(180, 180, 180, 0.4)&#x27;&#125;&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"v-draggable\"><a href=\"#v-draggable\" class=\"headerlink\" title=\"v-draggable\"></a>v-draggable</h2><p>éœ€æ±‚ï¼šå®ç°ä¸€ä¸ªæ‹–æ‹½æŒ‡ä»¤ï¼Œå¯åœ¨é¡µé¢å¯è§†åŒºåŸŸä»»æ„æ‹–æ‹½å…ƒç´ ã€‚</p>\n<p>æ€è·¯ï¼š</p>\n<ol>\n<li>è®¾ç½®éœ€è¦æ‹–æ‹½çš„å…ƒç´ ä¸ºç›¸å¯¹å®šä½ï¼Œå…¶çˆ¶å…ƒç´ ä¸ºç»å¯¹å®šä½ã€‚</li>\n<li>é¼ æ ‡æŒ‰ä¸‹(onmousedown)æ—¶è®°å½•ç›®æ ‡å…ƒç´ å½“å‰çš„ left å’Œ top å€¼ã€‚</li>\n<li>é¼ æ ‡ç§»åŠ¨(onmousemove)æ—¶è®¡ç®—æ¯æ¬¡ç§»åŠ¨çš„æ¨ªå‘è·ç¦»å’Œçºµå‘è·ç¦»çš„å˜åŒ–å€¼ï¼Œå¹¶æ”¹å˜å…ƒç´ çš„ left å’Œ top å€¼</li>\n<li>é¼ æ ‡æ¾å¼€(onmouseup)æ—¶å®Œæˆä¸€æ¬¡æ‹–æ‹½</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> draggable = &#123;</span><br><span class=\"line\">  <span class=\"attr\">inserted</span>: <span class=\"keyword\">function</span> (<span class=\"params\">el</span>) &#123;</span><br><span class=\"line\">    el.<span class=\"property\">style</span>.<span class=\"property\">cursor</span> = <span class=\"string\">&#x27;move&#x27;</span></span><br><span class=\"line\">    el.<span class=\"property\">onmousedown</span> = <span class=\"keyword\">function</span> (<span class=\"params\">e</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> disx = e.<span class=\"property\">pageX</span> - el.<span class=\"property\">offsetLeft</span></span><br><span class=\"line\">      <span class=\"keyword\">let</span> disy = e.<span class=\"property\">pageY</span> - el.<span class=\"property\">offsetTop</span></span><br><span class=\"line\">      <span class=\"variable language_\">document</span>.<span class=\"property\">onmousemove</span> = <span class=\"keyword\">function</span> (<span class=\"params\">e</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> x = e.<span class=\"property\">pageX</span> - disx</span><br><span class=\"line\">        <span class=\"keyword\">let</span> y = e.<span class=\"property\">pageY</span> - disy</span><br><span class=\"line\">        <span class=\"keyword\">let</span> maxX = <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"property\">clientWidth</span> - <span class=\"built_in\">parseInt</span>(<span class=\"variable language_\">window</span>.<span class=\"title function_\">getComputedStyle</span>(el).<span class=\"property\">width</span>)</span><br><span class=\"line\">        <span class=\"keyword\">let</span> maxY = <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"property\">clientHeight</span> - <span class=\"built_in\">parseInt</span>(<span class=\"variable language_\">window</span>.<span class=\"title function_\">getComputedStyle</span>(el).<span class=\"property\">height</span>)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (x &lt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">          x = <span class=\"number\">0</span></span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (x &gt; maxX) &#123;</span><br><span class=\"line\">          x = maxX</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (y &lt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">          y = <span class=\"number\">0</span></span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (y &gt; maxY) &#123;</span><br><span class=\"line\">          y = maxY</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        el.<span class=\"property\">style</span>.<span class=\"property\">left</span> = x + <span class=\"string\">&#x27;px&#x27;</span></span><br><span class=\"line\">        el.<span class=\"property\">style</span>.<span class=\"property\">top</span> = y + <span class=\"string\">&#x27;px&#x27;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"variable language_\">document</span>.<span class=\"property\">onmouseup</span> = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">document</span>.<span class=\"property\">onmousemove</span> = <span class=\"variable language_\">document</span>.<span class=\"property\">onmouseup</span> = <span class=\"literal\">null</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> draggable</span><br></pre></td></tr></table></figure>\n\n<p>ä½¿ç”¨: åœ¨ Dom ä¸ŠåŠ ä¸Š v-draggable å³å¯</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;el-dialog&quot;</span> <span class=\"attr\">v-draggable</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>æºç é“¾æ¥åœ°å€:<a href=\"https://github.com/Michael-lzg/v-directives.git\">Vueè‡ªå®šä¹‰æŒ‡ä»¤æºç åœ°å€</a></p>\n"},{"title":"vue-electron é¡¹ç›®æ­å»º","url":"/LittleWhiteRabbit/2022/05/26/vue-electron%20%E9%A1%B9%E7%9B%AE%E6%90%AD%E5%BB%BA/","content":"<h1 id=\"åˆ‡æ¢é•œåƒ\"><a href=\"#åˆ‡æ¢é•œåƒ\" class=\"headerlink\" title=\"åˆ‡æ¢é•œåƒ\"></a>åˆ‡æ¢é•œåƒ</h1><ul>\n<li>åœ¨ç»ˆç«¯å‘½ä»¤è¡Œè¾“å…¥</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm config ls -l </span><br></pre></td></tr></table></figure>\n\n<p>æŸ¥çœ‹</p>\n<p>  .npmrcé…ç½®è·¯å¾„ï¼ˆå¦‚æœæ²¡æœ‰ï¼Œåˆ™æ‰§è¡Œnpm config set registry <a href=\"https://registry.npm.taobao.orgå°±ä¼šç”Ÿæˆè¯¥æ–‡ä»¶)/\">https://registry.npm.taobao.orgå°±ä¼šç”Ÿæˆè¯¥æ–‡ä»¶ï¼‰</a></p>\n<p>ä¿®æ”¹.npmrcé…ç½®æ–‡ä»¶å†…å®¹ï¼Œæ”¹æˆ</p>\n<p>registry&#x3D;<a href=\"https://registry.npm.taobao.org/\">https://registry.npm.taobao.org</a></p>\n<p>sass_binary_site&#x3D;<a href=\"https://npm.taobao.org/mirrors/node-sass/\">https://npm.taobao.org/mirrors/node-sass/</a></p>\n<p>phantomjs_cdnurl&#x3D;<a href=\"http://npm.taobao.org/mirrors/phantomjs\">http://npm.taobao.org/mirrors/phantomjs</a></p>\n<p>electron_mirror&#x3D;<a href=\"https://npm.taobao.org/mirrors/electron/\">https://npm.taobao.org/mirrors/electron/</a></p>\n<span id=\"more\"></span>\n\n<h2 id=\"åˆ›å»ºVue-é¡¹ç›®\"><a href=\"#åˆ›å»ºVue-é¡¹ç›®\" class=\"headerlink\" title=\"åˆ›å»ºVue é¡¹ç›®\"></a>åˆ›å»ºVue é¡¹ç›®</h2><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">vue create yourProject</span><br></pre></td></tr></table></figure>\n<h2 id=\"å®‰è£…electron\"><a href=\"#å®‰è£…electron\" class=\"headerlink\" title=\"å®‰è£…electron\"></a>å®‰è£…electron</h2><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">yarn add -D electron@<span class=\"number\">18.0</span><span class=\"number\">.3</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"å®‰è£…ç¼–è¯‘vue-ä¾èµ–\"><a href=\"#å®‰è£…ç¼–è¯‘vue-ä¾èµ–\" class=\"headerlink\" title=\"å®‰è£…ç¼–è¯‘vue ä¾èµ–\"></a>å®‰è£…ç¼–è¯‘vue ä¾èµ–</h2><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">vue  add electron-builder  </span><br></pre></td></tr></table></figure>\n\n\n\n"},{"title":"webpack æ’ä»¶åŸç†","url":"/LittleWhiteRabbit/2022/04/26/webpack%E6%8F%92%E4%BB%B6%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/","content":"<h1 id=\"webpack-æ’ä»¶åŸç†\"><a href=\"#webpack-æ’ä»¶åŸç†\" class=\"headerlink\" title=\"webpack æ’ä»¶åŸç†\"></a>webpack æ’ä»¶åŸç†</h1><p>åœ¨ webpack ä¸­ï¼Œä¸“æ³¨äºå¤„ç† webpack åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­çš„æŸä¸ªç‰¹å®šçš„ä»»åŠ¡çš„åŠŸèƒ½æ¨¡å—ï¼Œå¯ä»¥ç§°ä¸ºæ’ä»¶ã€‚å®ƒå’Œ <code>loader</code> æœ‰ä»¥ä¸‹åŒºåˆ«ï¼š</p>\n<ol>\n<li><p><code>loader</code> æ˜¯ä¸€ä¸ªè½¬æ¢å™¨ï¼Œå°† A æ–‡ä»¶è¿›è¡Œç¼–è¯‘æˆ B æ–‡ä»¶ï¼Œæ¯”å¦‚ï¼šå°† <code>A.less</code> è½¬æ¢ä¸º <code>A.css</code>ï¼Œå•çº¯çš„æ–‡ä»¶è½¬æ¢è¿‡ç¨‹ã€‚webpack è‡ªèº«åªæ”¯æŒ js å’Œ json è¿™ä¸¤ç§æ ¼å¼çš„æ–‡ä»¶ï¼Œå¯¹äºå…¶ä»–æ–‡ä»¶éœ€è¦é€šè¿‡ <code>loader</code> å°†å…¶è½¬æ¢ä¸º commonJS è§„èŒƒçš„æ–‡ä»¶åï¼Œwebpack æ‰èƒ½è§£æåˆ°ã€‚</p>\n</li>\n<li><p><code>plugin</code> æ˜¯ä¸€ä¸ªæ‰©å±•å™¨ï¼Œå®ƒä¸°å¯Œäº† webpack æœ¬èº«ï¼Œé’ˆå¯¹æ˜¯ <code>loader</code> ç»“æŸåï¼Œwebpack æ‰“åŒ…çš„æ•´ä¸ªè¿‡ç¨‹ï¼Œå®ƒå¹¶ä¸ç›´æ¥æ“ä½œæ–‡ä»¶ï¼Œè€Œæ˜¯åŸºäºäº‹ä»¶æœºåˆ¶å·¥ä½œï¼Œä¼šç›‘å¬ webpack æ‰“åŒ…è¿‡ç¨‹ä¸­çš„æŸäº›èŠ‚ç‚¹ï¼Œæ‰§è¡Œå¹¿æ³›çš„ä»»åŠ¡ã€‚</p>\n<span id=\"more\"></span>\n<h3 id=\"plugin-çš„ç‰¹å¾\"><a href=\"#plugin-çš„ç‰¹å¾\" class=\"headerlink\" title=\"plugin çš„ç‰¹å¾\"></a>plugin çš„ç‰¹å¾</h3></li>\n</ol>\n<p>webpack æ’ä»¶æœ‰ä»¥ä¸‹ç‰¹å¾</p>\n<ul>\n<li>æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æ¨¡å—ã€‚</li>\n<li>æ¨¡å—å¯¹å¤–æš´éœ²ä¸€ä¸ª js å‡½æ•°ã€‚</li>\n<li>å‡½æ•°çš„åŸå‹ <code>(prototype)</code> ä¸Šå®šä¹‰äº†ä¸€ä¸ªæ³¨å…¥ <code>compiler</code> å¯¹è±¡çš„ <code>apply</code> æ–¹æ³•ã€‚</li>\n<li><code>apply</code> å‡½æ•°ä¸­éœ€è¦æœ‰é€šè¿‡ <code>compiler</code> å¯¹è±¡æŒ‚è½½çš„ webpack äº‹ä»¶é’©å­ï¼Œé’©å­çš„å›è°ƒä¸­èƒ½æ‹¿åˆ°å½“å‰ç¼–è¯‘çš„ <code>compilation</code> å¯¹è±¡ï¼Œå¦‚æœæ˜¯å¼‚æ­¥ç¼–è¯‘æ’ä»¶çš„è¯å¯ä»¥æ‹¿åˆ°å›è°ƒ callbackã€‚</li>\n<li>å®Œæˆè‡ªå®šä¹‰å­ç¼–è¯‘æµç¨‹å¹¶å¤„ç† <code>complition</code> å¯¹è±¡çš„å†…éƒ¨æ•°æ®ã€‚</li>\n<li>å¦‚æœå¼‚æ­¥ç¼–è¯‘æ’ä»¶çš„è¯ï¼Œæ•°æ®å¤„ç†å®Œæˆåæ‰§è¡Œ callback å›è°ƒã€‚</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">HelloPlugin</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// åœ¨æ„é€ å‡½æ•°ä¸­è·å–ç”¨æˆ·ç»™è¯¥æ’ä»¶ä¼ å…¥çš„é…ç½®</span></span><br><span class=\"line\">  <span class=\"title function_\">constructor</span>(<span class=\"params\">options</span>) &#123;&#125;</span><br><span class=\"line\">  <span class=\"comment\">// Webpack ä¼šè°ƒç”¨ HelloPlugin å®ä¾‹çš„ apply æ–¹æ³•ç»™æ’ä»¶å®ä¾‹ä¼ å…¥ compiler å¯¹è±¡</span></span><br><span class=\"line\">  <span class=\"title function_\">apply</span>(<span class=\"params\">compiler</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// åœ¨emité˜¶æ®µæ’å…¥é’©å­å‡½æ•°ï¼Œç”¨äºç‰¹å®šæ—¶æœºå¤„ç†é¢å¤–çš„é€»è¾‘ï¼›</span></span><br><span class=\"line\">    compiler.<span class=\"property\">hooks</span>.<span class=\"property\">emit</span>.<span class=\"title function_\">tap</span>(<span class=\"string\">&#x27;HelloPlugin&#x27;</span>, <span class=\"function\">(<span class=\"params\">compilation</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">// åœ¨åŠŸèƒ½æµç¨‹å®Œæˆåå¯ä»¥è°ƒç”¨ webpack æä¾›çš„å›è°ƒå‡½æ•°ï¼›</span></span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    <span class=\"comment\">// å¦‚æœäº‹ä»¶æ˜¯å¼‚æ­¥çš„ï¼Œä¼šå¸¦ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºå›è°ƒå‡½æ•°ï¼Œ</span></span><br><span class=\"line\">    compiler.<span class=\"title function_\">plugin</span>(<span class=\"string\">&#x27;emit&#x27;</span>, <span class=\"keyword\">function</span> (<span class=\"params\">compilation, callback</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// å¤„ç†å®Œæ¯•åæ‰§è¡Œ callback ä»¥é€šçŸ¥ Webpack</span></span><br><span class=\"line\">      <span class=\"comment\">// å¦‚æœä¸æ‰§è¡Œ callbackï¼Œè¿è¡Œæµç¨‹å°†ä¼šä¸€ç›´å¡åœ¨è¿™ä¸å¾€ä¸‹æ‰§è¡Œ</span></span><br><span class=\"line\">      <span class=\"title function_\">callback</span>()</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = <span class=\"title class_\">HelloPlugin</span></span><br></pre></td></tr></table></figure>\n\n<ol>\n<li>webpack è¯»å–é…ç½®çš„è¿‡ç¨‹ä¸­ä¼šå…ˆæ‰§è¡Œ <code>new HelloPlugin(options)</code> åˆå§‹åŒ–ä¸€ä¸ª <code>HelloPlugin</code> è·å¾—å…¶å®ä¾‹ã€‚</li>\n<li>åˆå§‹åŒ– <code>compiler</code> å¯¹è±¡åè°ƒç”¨ <code>HelloPlugin.apply(compiler)</code> ç»™æ’ä»¶å®ä¾‹ä¼ å…¥ compiler å¯¹è±¡ã€‚</li>\n<li>æ’ä»¶å®ä¾‹åœ¨è·å–åˆ° <code>compiler</code> å¯¹è±¡åï¼Œå°±å¯ä»¥é€šè¿‡ <code>compiler.plugin</code> (äº‹ä»¶åç§°, å›è°ƒå‡½æ•°) ç›‘å¬åˆ° Webpack å¹¿æ’­å‡ºæ¥çš„äº‹ä»¶ã€‚ å¹¶ä¸”å¯ä»¥é€šè¿‡ <code>compiler</code> å¯¹è±¡å»æ“ä½œ Webpackã€‚</li>\n</ol>\n<h3 id=\"äº‹ä»¶æµæœºåˆ¶\"><a href=\"#äº‹ä»¶æµæœºåˆ¶\" class=\"headerlink\" title=\"äº‹ä»¶æµæœºåˆ¶\"></a>äº‹ä»¶æµæœºåˆ¶</h3><p>webpack æœ¬è´¨ä¸Šæ˜¯ä¸€ç§äº‹ä»¶æµçš„æœºåˆ¶ï¼Œå®ƒçš„å·¥ä½œæµç¨‹å°±æ˜¯å°†å„ä¸ªæ’ä»¶ä¸²è”èµ·æ¥ï¼Œè€Œå®ç°è¿™ä¸€åˆ‡çš„æ ¸å¿ƒå°±æ˜¯ <code>Tapable</code>ã€‚</p>\n<p>Webpack çš„ <code>Tapable</code> äº‹ä»¶æµæœºåˆ¶ä¿è¯äº†æ’ä»¶çš„æœ‰åºæ€§ï¼Œå°†å„ä¸ªæ’ä»¶ä¸²è”èµ·æ¥ï¼Œ Webpack åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ä¼šå¹¿æ’­äº‹ä»¶ï¼Œæ’ä»¶åªéœ€è¦ç›‘å¬å®ƒæ‰€å…³å¿ƒçš„äº‹ä»¶ï¼Œå°±èƒ½åŠ å…¥åˆ°è¿™æ¡ webapck æœºåˆ¶ä¸­ï¼Œå»æ”¹å˜ webapck çš„è¿ä½œï¼Œä½¿å¾—æ•´ä¸ªç³»ç»Ÿæ‰©å±•æ€§è‰¯å¥½ã€‚</p>\n<p><code>Tapable</code> ä¹Ÿæ˜¯ä¸€ä¸ªå°å‹çš„ libraryï¼Œæ˜¯ Webpack çš„ä¸€ä¸ªæ ¸å¿ƒå·¥å…·ã€‚ç±»ä¼¼äº node ä¸­çš„ events åº“ï¼Œæ ¸å¿ƒåŸç†å°±æ˜¯ä¸€ä¸ª<code>è®¢é˜…å‘å¸ƒæ¨¡å¼</code>ã€‚ä½œç”¨æ˜¯æä¾›ç±»ä¼¼çš„æ’ä»¶æ¥å£ã€‚æ–¹æ³•å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//  å¹¿æ’­äº‹ä»¶</span></span><br><span class=\"line\">compiler.<span class=\"title function_\">apply</span>(<span class=\"string\">&#x27;event-name&#x27;</span>, params)</span><br><span class=\"line\">compilation.<span class=\"title function_\">apply</span>(<span class=\"string\">&#x27;event-name&#x27;</span>, params)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ç›‘å¬äº‹ä»¶</span></span><br><span class=\"line\">compiler.<span class=\"title function_\">plugin</span>(<span class=\"string\">&#x27;event-name&#x27;</span>, <span class=\"keyword\">function</span> (<span class=\"params\">params</span>) &#123;&#125;)</span><br><span class=\"line\">compilation.<span class=\"title function_\">plugin</span>(<span class=\"string\">&#x27;event-name&#x27;</span>, <span class=\"keyword\">function</span> (<span class=\"params\">params</span>) &#123;&#125;)</span><br></pre></td></tr></table></figure>\n\n<p>æˆ‘ä»¬æ¥çœ‹ä¸‹ Tapable</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Tapable</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">_plugins</span> = &#123;&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//å‘å¸ƒnameæ¶ˆæ¯</span></span><br><span class=\"line\"><span class=\"title class_\">Tapable</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">applyPlugins</span> = <span class=\"keyword\">function</span> <span class=\"title function_\">applyPlugins</span>(<span class=\"params\">name</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (!<span class=\"variable language_\">this</span>.<span class=\"property\">_plugins</span>[name]) <span class=\"keyword\">return</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> args = <span class=\"title class_\">Array</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">slice</span>.<span class=\"title function_\">call</span>(<span class=\"variable language_\">arguments</span>, <span class=\"number\">1</span>)</span><br><span class=\"line\">  <span class=\"keyword\">var</span> plugins = <span class=\"variable language_\">this</span>.<span class=\"property\">_plugins</span>[name]</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; plugins.<span class=\"property\">length</span>; i++) &#123;</span><br><span class=\"line\">    plugins[i].<span class=\"title function_\">apply</span>(<span class=\"variable language_\">this</span>, args)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// fnè®¢é˜…nameæ¶ˆæ¯</span></span><br><span class=\"line\"><span class=\"title class_\">Tapable</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">plugin</span> = <span class=\"keyword\">function</span> <span class=\"title function_\">plugin</span>(<span class=\"params\">name, fn</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (!<span class=\"variable language_\">this</span>.<span class=\"property\">_plugins</span>[name]) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">_plugins</span>[name] = [fn]</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">_plugins</span>[name].<span class=\"title function_\">push</span>(fn)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//ç»™å®šä¸€ä¸ªæ’ä»¶æ•°ç»„ï¼Œå¯¹å…¶ä¸­çš„æ¯ä¸€ä¸ªæ’ä»¶è°ƒç”¨æ’ä»¶è‡ªèº«çš„applyæ–¹æ³•æ³¨å†Œæ’ä»¶</span></span><br><span class=\"line\"><span class=\"title class_\">Tapable</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">apply</span> = <span class=\"keyword\">function</span> <span class=\"title function_\">apply</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"variable language_\">arguments</span>.<span class=\"property\">length</span>; i++) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">arguments</span>[i].<span class=\"title function_\">apply</span>(<span class=\"variable language_\">this</span>)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><code>Tapable</code> ä¸º webpack æä¾›äº†ç»Ÿä¸€çš„æ’ä»¶æ¥å£ï¼ˆé’©å­ï¼‰ç±»å‹å®šä¹‰ï¼Œå®ƒæ˜¯ webpack çš„æ ¸å¿ƒåŠŸèƒ½åº“ã€‚webpack ä¸­ç›®å‰æœ‰åç§ hooksï¼Œåœ¨ Tapable æºç ä¸­å¯ä»¥çœ‹åˆ°ï¼Œä»–ä»¬æ˜¯ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">exports</span>.<span class=\"property\">SyncHook</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;./SyncHook&#x27;</span>)</span><br><span class=\"line\"><span class=\"built_in\">exports</span>.<span class=\"property\">SyncBailHook</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;./SyncBailHook&#x27;</span>)</span><br><span class=\"line\"><span class=\"built_in\">exports</span>.<span class=\"property\">SyncWaterfallHook</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;./SyncWaterfallHook&#x27;</span>)</span><br><span class=\"line\"><span class=\"built_in\">exports</span>.<span class=\"property\">SyncLoopHook</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;./SyncLoopHook&#x27;</span>)</span><br><span class=\"line\"><span class=\"built_in\">exports</span>.<span class=\"property\">AsyncParallelHook</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;./AsyncParallelHook&#x27;</span>)</span><br><span class=\"line\"><span class=\"built_in\">exports</span>.<span class=\"property\">AsyncParallelBailHook</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;./AsyncParallelBailHook&#x27;</span>)</span><br><span class=\"line\"><span class=\"built_in\">exports</span>.<span class=\"property\">AsyncSeriesHook</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;./AsyncSeriesHook&#x27;</span>)</span><br><span class=\"line\"><span class=\"built_in\">exports</span>.<span class=\"property\">AsyncSeriesBailHook</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;./AsyncSeriesBailHook&#x27;</span>)</span><br><span class=\"line\"><span class=\"built_in\">exports</span>.<span class=\"property\">AsyncSeriesLoopHook</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;./AsyncSeriesLoopHook&#x27;</span>)</span><br><span class=\"line\"><span class=\"built_in\">exports</span>.<span class=\"property\">AsyncSeriesWaterfallHook</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;./AsyncSeriesWaterfallHook&#x27;</span>)</span><br></pre></td></tr></table></figure>\n\n<p><code>Tapable</code> è¿˜ç»Ÿä¸€æš´éœ²äº†ä¸‰ä¸ªæ–¹æ³•ç»™æ’ä»¶ï¼Œç”¨äºæ³¨å…¥ä¸åŒç±»å‹çš„è‡ªå®šä¹‰æ„å»ºè¡Œä¸ºï¼š</p>\n<ul>\n<li>tapï¼šå¯ä»¥æ³¨å†ŒåŒæ­¥é’©å­å’Œå¼‚æ­¥é’©å­ã€‚</li>\n<li>tapAsyncï¼šå›è°ƒæ–¹å¼æ³¨å†Œå¼‚æ­¥é’©å­ã€‚</li>\n<li>tapPromiseï¼šPromise æ–¹å¼æ³¨å†Œå¼‚æ­¥é’©å­ã€‚</li>\n</ul>\n<p>webpack é‡Œçš„å‡ ä¸ªéå¸¸é‡è¦çš„å¯¹è±¡ï¼Œ<code>Compiler</code>, <code>Compilation</code> å’Œ <code>JavascriptParser</code> éƒ½ç»§æ‰¿äº† <code>Tapable</code> ç±»ï¼Œå®ƒä»¬èº«ä¸ŠæŒ‚ç€ä¸°å¯Œçš„é’©å­ã€‚</p>\n<h3 id=\"ç¼–å†™ä¸€ä¸ªæ’ä»¶\"><a href=\"#ç¼–å†™ä¸€ä¸ªæ’ä»¶\" class=\"headerlink\" title=\"ç¼–å†™ä¸€ä¸ªæ’ä»¶\"></a>ç¼–å†™ä¸€ä¸ªæ’ä»¶</h3><p>ä¸€ä¸ª webpack æ’ä»¶ç”±ä»¥ä¸‹ç»„æˆï¼š</p>\n<ul>\n<li>ä¸€ä¸ª JavaScript å‘½åå‡½æ•°ã€‚</li>\n<li>åœ¨æ’ä»¶å‡½æ•°çš„ prototype ä¸Šå®šä¹‰ä¸€ä¸ª apply æ–¹æ³•ã€‚</li>\n<li>æŒ‡å®šä¸€ä¸ªç»‘å®šåˆ° webpack è‡ªèº«çš„äº‹ä»¶é’©å­ã€‚</li>\n<li>å¤„ç† webpack å†…éƒ¨å®ä¾‹çš„ç‰¹å®šæ•°æ®ã€‚</li>\n<li>åŠŸèƒ½å®Œæˆåè°ƒç”¨ webpack æä¾›çš„å›è°ƒã€‚</li>\n</ul>\n<p>ä¸‹é¢å®ç°ä¸€ä¸ªæœ€ç®€å•çš„æ’ä»¶</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">WebpackPlugin1</span> &#123;</span><br><span class=\"line\">  <span class=\"title function_\">constructor</span>(<span class=\"params\">options</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">options</span> = options</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"title function_\">apply</span>(<span class=\"params\">compiler</span>) &#123;</span><br><span class=\"line\">    compiler.<span class=\"property\">hooks</span>.<span class=\"property\">done</span>.<span class=\"title function_\">tap</span>(<span class=\"string\">&#x27;MYWebpackPlugin&#x27;</span>, <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">options</span>)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = <span class=\"title class_\">WebpackPlugin1</span></span><br></pre></td></tr></table></figure>\n\n<p>ç„¶ååœ¨ webpack çš„é…ç½®ä¸­æ³¨å†Œä½¿ç”¨å°±è¡Œï¼Œåªéœ€è¦åœ¨ <code>webpack.config.js</code> é‡Œå¼•å…¥å¹¶å®ä¾‹åŒ–å°±å¯ä»¥äº†ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">WebpackPlugin1</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;./src/plugin/plugin1&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">entry</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">index</span>: path.<span class=\"title function_\">join</span>(__dirname, <span class=\"string\">&#x27;/src/main.js&#x27;</span>),</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">output</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">path</span>: path.<span class=\"title function_\">join</span>(__dirname, <span class=\"string\">&#x27;/dist&#x27;</span>),</span><br><span class=\"line\">    <span class=\"attr\">filename</span>: <span class=\"string\">&#x27;index.js&#x27;</span>,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">plugins</span>: [<span class=\"keyword\">new</span> <span class=\"title class_\">WebpackPlugin1</span>(&#123; <span class=\"attr\">msg</span>: <span class=\"string\">&#x27;hello world&#x27;</span> &#125;)],</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æ­¤æ—¶æˆ‘ä»¬æ‰§è¡Œä¸€ä¸‹ <code>npm run build</code> å°±èƒ½çœ‹åˆ°æ•ˆæœäº†</p>\n<img src=\"../img/plugin1.png\">\n\n<h3 id=\"Compiler-å¯¹è±¡-ï¼ˆè´Ÿè´£ç¼–è¯‘ï¼‰\"><a href=\"#Compiler-å¯¹è±¡-ï¼ˆè´Ÿè´£ç¼–è¯‘ï¼‰\" class=\"headerlink\" title=\"Compiler å¯¹è±¡ ï¼ˆè´Ÿè´£ç¼–è¯‘ï¼‰\"></a>Compiler å¯¹è±¡ ï¼ˆè´Ÿè´£ç¼–è¯‘ï¼‰</h3><p><code>Compiler</code> å¯¹è±¡åŒ…å«äº†å½“å‰è¿è¡Œ Webpack çš„é…ç½®ï¼ŒåŒ…æ‹¬ <code>entry</code>ã€<code>output</code>ã€<code>loaders</code> ç­‰é…ç½®ï¼Œè¿™ä¸ªå¯¹è±¡åœ¨å¯åŠ¨ Webpack æ—¶è¢«å®ä¾‹åŒ–ï¼Œè€Œä¸”æ˜¯å…¨å±€å”¯ä¸€çš„ã€‚<code>Plugin</code> å¯ä»¥é€šè¿‡è¯¥å¯¹è±¡è·å–åˆ° Webpack çš„é…ç½®ä¿¡æ¯è¿›è¡Œå¤„ç†ã€‚</p>\n<p>compiler ä¸Šæš´éœ²çš„ä¸€äº›å¸¸ç”¨çš„é’©å­ï¼š</p>\n<img src=\"../img/compiler.png\">\n\n<p>ä¸‹é¢æ¥ä¸¾ä¸ªä¾‹å­</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">WebpackPlugin2</span> &#123;</span><br><span class=\"line\">  <span class=\"title function_\">constructor</span>(<span class=\"params\">options</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">options</span> = options</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"title function_\">apply</span>(<span class=\"params\">compiler</span>) &#123;</span><br><span class=\"line\">    compiler.<span class=\"property\">hooks</span>.<span class=\"property\">run</span>.<span class=\"title function_\">tap</span>(<span class=\"string\">&#x27;run&#x27;</span>, <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;å¼€å§‹ç¼–è¯‘...&#x27;</span>)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">    compiler.<span class=\"property\">hooks</span>.<span class=\"property\">compile</span>.<span class=\"title function_\">tap</span>(<span class=\"string\">&#x27;compile&#x27;</span>, <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;compile&#x27;</span>)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">    compiler.<span class=\"property\">hooks</span>.<span class=\"property\">done</span>.<span class=\"title function_\">tap</span>(<span class=\"string\">&#x27;compilation&#x27;</span>, <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;compilation&#x27;</span>)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = <span class=\"title class_\">WebpackPlugin2</span></span><br></pre></td></tr></table></figure>\n\n<p>æ­¤æ—¶æˆ‘ä»¬æ‰§è¡Œä¸€ä¸‹ <code>npm run build</code> å°±èƒ½çœ‹åˆ°æ•ˆæœäº†</p>\n<img src=\"../img/plugin2.png\">\n\n<p>æœ‰ä¸€äº›ç¼–è¯‘æ’ä»¶ä¸­çš„æ­¥éª¤æ˜¯å¼‚æ­¥çš„ï¼Œè¿™æ ·å°±éœ€è¦é¢å¤–ä¼ å…¥ä¸€ä¸ª callback å›è°ƒå‡½æ•°ï¼Œå¹¶ä¸”åœ¨æ’ä»¶è¿è¡Œç»“æŸæ—¶æ‰§è¡Œè¿™ä¸ªå›è°ƒå‡½æ•°</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">WebpackPlugin2</span> &#123;</span><br><span class=\"line\">  <span class=\"title function_\">constructor</span>(<span class=\"params\">options</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">options</span> = options</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"title function_\">apply</span>(<span class=\"params\">compiler</span>) &#123;</span><br><span class=\"line\">    compiler.<span class=\"property\">hooks</span>.<span class=\"property\">beforeCompile</span>.<span class=\"title function_\">tapAsync</span>(<span class=\"string\">&#x27;compilation&#x27;</span>, <span class=\"function\">(<span class=\"params\">compilation, cb</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;ç¼–è¯‘ä¸­...&#x27;</span>)</span><br><span class=\"line\">        <span class=\"title function_\">cb</span>()</span><br><span class=\"line\">      &#125;, <span class=\"number\">1000</span>)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = <span class=\"title class_\">WebpackPlugin2</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Compilation-å¯¹è±¡\"><a href=\"#Compilation-å¯¹è±¡\" class=\"headerlink\" title=\"Compilation å¯¹è±¡\"></a>Compilation å¯¹è±¡</h3><p><code>Compilation</code> å¯¹è±¡ä»£è¡¨äº†ä¸€æ¬¡èµ„æºç‰ˆæœ¬æ„å»ºã€‚å½“è¿è¡Œ webpack å¼€å‘ç¯å¢ƒä¸­é—´ä»¶æ—¶ï¼Œæ¯å½“æ£€æµ‹åˆ°ä¸€ä¸ªæ–‡ä»¶å˜åŒ–ï¼Œå°±ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ <code>compilation</code>ï¼Œä»è€Œç”Ÿæˆä¸€ç»„æ–°çš„ç¼–è¯‘èµ„æºã€‚ä¸€ä¸ª <code>Compilation</code> å¯¹è±¡è¡¨ç°äº†å½“å‰çš„æ¨¡å—èµ„æºã€ç¼–è¯‘ç”Ÿæˆèµ„æºã€å˜åŒ–çš„æ–‡ä»¶ã€ä»¥åŠè¢«è·Ÿè¸ªä¾èµ–çš„çŠ¶æ€ä¿¡æ¯ï¼Œç®€å•æ¥è®²å°±æ˜¯æŠŠæœ¬æ¬¡æ‰“åŒ…ç¼–è¯‘çš„å†…å®¹å­˜åˆ°å†…å­˜é‡Œã€‚<code>Compilation</code> å¯¹è±¡ä¹Ÿæä¾›äº†æ’ä»¶éœ€è¦è‡ªå®šä¹‰åŠŸèƒ½çš„å›è°ƒï¼Œä»¥ä¾›æ’ä»¶åšè‡ªå®šä¹‰å¤„ç†æ—¶é€‰æ‹©ä½¿ç”¨æ‹“å±•ã€‚</p>\n<p>ç®€å•æ¥è¯´ï¼Œ<code>Compilation</code> çš„èŒè´£å°±æ˜¯æ„å»ºæ¨¡å—å’Œ Chunkï¼Œå¹¶åˆ©ç”¨æ’ä»¶ä¼˜åŒ–æ„å»ºè¿‡ç¨‹ã€‚</p>\n<p><code>Compiler</code> ä»£è¡¨äº†æ•´ä¸ª Webpack ä»å¯åŠ¨åˆ°å…³é—­çš„ç”Ÿå‘½å‘¨æœŸï¼Œè€Œ <code>Compilation</code> åªæ˜¯ä»£è¡¨äº†ä¸€æ¬¡æ–°çš„ç¼–è¯‘ï¼Œåªè¦æ–‡ä»¶æœ‰æ”¹åŠ¨ï¼Œ<code>compilation</code> å°±ä¼šè¢«é‡æ–°åˆ›å»ºã€‚</p>\n<p><code>Compilation</code> ä¸Šæš´éœ²çš„ä¸€äº›å¸¸ç”¨çš„é’©å­ï¼š<br><img src=\"../img/compilation.png\"></p>\n<p><code>Compiler</code> å’Œ <code>Compilation</code> çš„åŒºåˆ«</p>\n<ul>\n<li><code>Compiler</code> ä»£è¡¨äº†æ•´ä¸ª Webpack ä»å¯åŠ¨åˆ°å…³é—­çš„ç”Ÿå‘½å‘¨æœŸ</li>\n<li><code>Compilation</code> åªæ˜¯ä»£è¡¨äº†ä¸€æ¬¡æ–°çš„ç¼–è¯‘ï¼Œåªè¦æ–‡ä»¶æœ‰æ”¹åŠ¨ï¼Œ<code>compilation</code> å°±ä¼šè¢«é‡æ–°åˆ›å»ºã€‚</li>\n</ul>\n<h3 id=\"æ‰‹å†™æ’ä»¶-1ï¼šæ–‡ä»¶æ¸…å•\"><a href=\"#æ‰‹å†™æ’ä»¶-1ï¼šæ–‡ä»¶æ¸…å•\" class=\"headerlink\" title=\"æ‰‹å†™æ’ä»¶ 1ï¼šæ–‡ä»¶æ¸…å•\"></a>æ‰‹å†™æ’ä»¶ 1ï¼šæ–‡ä»¶æ¸…å•</h3><p>åœ¨æ¯æ¬¡ webpack æ‰“åŒ…ä¹‹åï¼Œè‡ªåŠ¨äº§ç”Ÿä¸€ä¸ªä¸€ä¸ª markdown æ–‡ä»¶æ¸…å•ï¼Œè®°å½•æ‰“åŒ…ä¹‹åçš„æ–‡ä»¶å¤¹ dist é‡Œæ‰€æœ‰çš„æ–‡ä»¶çš„ä¸€äº›ä¿¡æ¯ã€‚</p>\n<p>æ€è·¯ï¼š</p>\n<ol>\n<li>é€šè¿‡ <code>compiler.hooks.emit.tapAsync()</code> æ¥è§¦å‘ç”Ÿæˆèµ„æºåˆ° output ç›®å½•ä¹‹å‰çš„é’©å­</li>\n<li>é€šè¿‡ <code>compilation.assets</code> è·å–æ–‡ä»¶æ•°é‡</li>\n<li>å®šä¹‰ markdown æ–‡ä»¶çš„å†…å®¹ï¼Œå°†æ–‡ä»¶ä¿¡æ¯å†™å…¥ markdown æ–‡ä»¶å†…</li>\n<li>ç»™ dist æ–‡ä»¶å¤¹é‡Œæ·»åŠ ä¸€ä¸ªèµ„æºåç§°ä¸º fileListName çš„å˜é‡</li>\n<li>å†™å…¥èµ„æºçš„å†…å®¹å’Œæ–‡ä»¶å¤§å°</li>\n<li>æ‰§è¡Œå›è°ƒï¼Œè®© webpack ç»§ç»­æ‰§è¡Œ</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">FileListPlugin</span> &#123;</span><br><span class=\"line\">  <span class=\"title function_\">constructor</span>(<span class=\"params\">options</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// è·å–æ’ä»¶é…ç½®é¡¹</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">filename</span> = options &amp;&amp; options.<span class=\"property\">filename</span> ? options.<span class=\"property\">filename</span> : <span class=\"string\">&#x27;FILELIST.md&#x27;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"title function_\">apply</span>(<span class=\"params\">compiler</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// æ³¨å†Œ compiler ä¸Šçš„ emit é’©å­</span></span><br><span class=\"line\">    compiler.<span class=\"property\">hooks</span>.<span class=\"property\">emit</span>.<span class=\"title function_\">tapAsync</span>(<span class=\"string\">&#x27;FileListPlugin&#x27;</span>, <span class=\"function\">(<span class=\"params\">compilation, cb</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">// é€šè¿‡ compilation.assets è·å–æ–‡ä»¶æ•°é‡</span></span><br><span class=\"line\">      <span class=\"keyword\">let</span> len = <span class=\"title class_\">Object</span>.<span class=\"title function_\">keys</span>(compilation.<span class=\"property\">assets</span>).<span class=\"property\">length</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// æ·»åŠ ç»Ÿè®¡ä¿¡æ¯</span></span><br><span class=\"line\">      <span class=\"keyword\">let</span> content = <span class=\"string\">`# <span class=\"subst\">$&#123;len&#125;</span> file<span class=\"subst\">$&#123;len &gt; <span class=\"number\">1</span> ? <span class=\"string\">&#x27;s&#x27;</span> : <span class=\"string\">&#x27;&#x27;</span>&#125;</span> emitted by webpack\\n\\n`</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// é€šè¿‡ compilation.assets è·å–æ–‡ä»¶ååˆ—è¡¨</span></span><br><span class=\"line\">      <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> filename <span class=\"keyword\">in</span> compilation.<span class=\"property\">assets</span>) &#123;</span><br><span class=\"line\">        content += <span class=\"string\">`- <span class=\"subst\">$&#123;filename&#125;</span>\\n`</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// å¾€ compilation.assets ä¸­æ·»åŠ æ¸…å•æ–‡ä»¶</span></span><br><span class=\"line\">      compilation.<span class=\"property\">assets</span>[<span class=\"variable language_\">this</span>.<span class=\"property\">filename</span>] = &#123;</span><br><span class=\"line\">        <span class=\"comment\">// å†™å…¥æ–°æ–‡ä»¶çš„å†…å®¹</span></span><br><span class=\"line\">        <span class=\"attr\">source</span>: <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">          <span class=\"keyword\">return</span> content</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"comment\">// æ–°æ–‡ä»¶å¤§å°ï¼ˆç»™ webapck è¾“å‡ºå±•ç¤ºç”¨ï¼‰</span></span><br><span class=\"line\">        <span class=\"attr\">size</span>: <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">          <span class=\"keyword\">return</span> content.<span class=\"property\">length</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">// æ‰§è¡Œå›è°ƒï¼Œè®© webpack ç»§ç»­æ‰§è¡Œ</span></span><br><span class=\"line\">      <span class=\"title function_\">cb</span>()</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = <span class=\"title class_\">FileListPlugin</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ‰‹å†™æ’ä»¶-2ï¼šå»é™¤æ³¨é‡Š\"><a href=\"#æ‰‹å†™æ’ä»¶-2ï¼šå»é™¤æ³¨é‡Š\" class=\"headerlink\" title=\"æ‰‹å†™æ’ä»¶ 2ï¼šå»é™¤æ³¨é‡Š\"></a>æ‰‹å†™æ’ä»¶ 2ï¼šå»é™¤æ³¨é‡Š</h3><p>å¼€å‘ä¸€ä¸ªæ’ä»¶èƒ½å¤Ÿå»é™¤æ‰“åŒ…åä»£ç çš„æ³¨é‡Šï¼Œè¿™æ ·æˆ‘ä»¬çš„ <code>bundle.js</code> å°†æ›´å®¹æ˜“é˜…è¯»</p>\n<p>æ€è·¯ï¼š</p>\n<ol>\n<li>é€šè¿‡ <code>compiler.hooks.emit.tap()</code> æ¥è§¦å‘ç”Ÿæˆæ–‡ä»¶åçš„é’©å­</li>\n<li>é€šè¿‡ <code>compilation.assets</code> æ‹¿åˆ°ç”Ÿäº§åçš„æ–‡ä»¶ï¼Œç„¶åå»éå†å„ä¸ªæ–‡ä»¶</li>\n<li>é€šè¿‡ <code>.source()</code> è·å–æ„å»ºäº§ç‰©çš„æ–‡æœ¬ï¼Œç„¶åç”¨æ­£åˆ™å» replace è°ƒæ³¨é‡Šçš„ä»£ç </li>\n<li>æ›´æ–°æ„å»ºäº§ç‰©å¯¹è±¡</li>\n<li>æ‰§è¡Œå›è°ƒï¼Œè®© webpack ç»§ç»­æ‰§è¡Œ</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">RemoveCommentPlugin</span> &#123;</span><br><span class=\"line\">  <span class=\"title function_\">constructor</span>(<span class=\"params\">options</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">options</span> = options</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"title function_\">apply</span>(<span class=\"params\">compiler</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// å»é™¤æ³¨é‡Šæ­£åˆ™</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> reg = <span class=\"regexp\">/(&quot;([^\\\\\\&quot;]*(\\\\.)?)*&quot;)|(&#x27;([^\\\\\\&#x27;]*(\\\\.)?)*&#x27;)|(\\/&#123;2,&#125;.*?(\\r|\\n))|(\\/\\*(\\n|.)*?\\*\\/)|(\\/\\*\\*\\*\\*\\*\\*\\/)/g</span></span><br><span class=\"line\"></span><br><span class=\"line\">    compiler.<span class=\"property\">hooks</span>.<span class=\"property\">emit</span>.<span class=\"title function_\">tap</span>(<span class=\"string\">&#x27;RemoveComment&#x27;</span>, <span class=\"function\">(<span class=\"params\">compilation</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">// éå†æ„å»ºäº§ç‰©ï¼Œ.assetsä¸­åŒ…å«æ„å»ºäº§ç‰©çš„æ–‡ä»¶å</span></span><br><span class=\"line\">      <span class=\"title class_\">Object</span>.<span class=\"title function_\">keys</span>(compilation.<span class=\"property\">assets</span>).<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">item</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// .source()æ˜¯è·å–æ„å»ºäº§ç‰©çš„æ–‡æœ¬</span></span><br><span class=\"line\">        <span class=\"keyword\">let</span> content = compilation.<span class=\"property\">assets</span>[item].<span class=\"title function_\">source</span>()</span><br><span class=\"line\">        content = content.<span class=\"title function_\">replace</span>(reg, <span class=\"keyword\">function</span> (<span class=\"params\">word</span>) &#123;</span><br><span class=\"line\">          <span class=\"comment\">// å»é™¤æ³¨é‡Šåçš„æ–‡æœ¬</span></span><br><span class=\"line\">          <span class=\"keyword\">return</span> <span class=\"regexp\">/^\\/&#123;2,&#125;/</span>.<span class=\"title function_\">test</span>(word) || <span class=\"regexp\">/^\\/\\*!/</span>.<span class=\"title function_\">test</span>(word) || <span class=\"regexp\">/^\\/\\*&#123;3,&#125;\\//</span>.<span class=\"title function_\">test</span>(word) ? <span class=\"string\">&#x27;&#x27;</span> : word</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        <span class=\"comment\">// æ›´æ–°æ„å»ºäº§ç‰©å¯¹è±¡</span></span><br><span class=\"line\">        compilation.<span class=\"property\">assets</span>[item] = &#123;</span><br><span class=\"line\">          <span class=\"attr\">source</span>: <span class=\"function\">() =&gt;</span> content,</span><br><span class=\"line\">          <span class=\"attr\">size</span>: <span class=\"function\">() =&gt;</span> content.<span class=\"property\">length</span>,</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = <span class=\"title class_\">RemoveCommentPlugin</span></span><br></pre></td></tr></table></figure>\n","categories":["webpack"],"tags":["webpack"]},{"title":"webpack å¼‚æ­¥åŠ è½½åŸç†","url":"/LittleWhiteRabbit/2022/04/26/webpack%E7%9A%84%E5%BC%82%E6%AD%A5%E5%8A%A0%E8%BD%BD%E5%8F%8A%E5%88%86%E5%8C%85%E7%AD%96%E7%95%A5/","content":"<h2 id=\"webpack-å¼‚æ­¥åŠ è½½åŸç†\"><a href=\"#webpack-å¼‚æ­¥åŠ è½½åŸç†\" class=\"headerlink\" title=\"webpack å¼‚æ­¥åŠ è½½åŸç†\"></a>webpack å¼‚æ­¥åŠ è½½åŸç†</h2><p><code>webpack ensure</code> æœ‰äººç§°å®ƒä¸ºå¼‚æ­¥åŠ è½½ï¼Œä¹Ÿæœ‰äººç§°ä¸ºä»£ç åˆ‡å‰²ï¼Œä»–å…¶å®å°±æ˜¯å°† js æ¨¡å—ç»™ç‹¬ç«‹å¯¼å‡ºä¸€ä¸ª.js æ–‡ä»¶ï¼Œç„¶åä½¿ç”¨è¿™ä¸ªæ¨¡å—çš„æ—¶å€™ï¼Œå†åˆ›å»ºä¸€ä¸ª <code>script</code> å¯¹è±¡ï¼ŒåŠ å…¥åˆ° <code>document.head</code> å¯¹è±¡ä¸­ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬å‘èµ·è¯·æ±‚ï¼Œå»è¯·æ±‚è¿™ä¸ª js æ–‡ä»¶ï¼Œç„¶åå†™ä¸ªå›è°ƒå‡½æ•°ï¼Œè®©è¯·æ±‚åˆ°çš„ js æ–‡ä»¶åšä¸€äº›ä¸šåŠ¡æ“ä½œã€‚</p>\n<h3 id=\"ä¸¾ä¸ªä¾‹å­\"><a href=\"#ä¸¾ä¸ªä¾‹å­\" class=\"headerlink\" title=\"ä¸¾ä¸ªä¾‹å­\"></a>ä¸¾ä¸ªä¾‹å­</h3><p>éœ€æ±‚ï¼š<code>main.js</code> ä¾èµ–ä¸¤ä¸ª js æ–‡ä»¶ï¼š<code>A.js</code> æ˜¯ç‚¹å‡» aBtn æŒ‰é’®åï¼Œæ‰æ‰§è¡Œçš„é€»è¾‘ï¼Œ<code>B.js</code> æ˜¯ç‚¹å‡» bBtn æŒ‰é’®åï¼Œæ‰æ‰§è¡Œçš„é€»è¾‘ã€‚</p>\n<p><code>webpack.config.js</code>ï¼Œæˆ‘ä»¬å…ˆæ¥å†™ä¸€ä¸‹ <code>webpack</code> æ‰“åŒ…çš„é…ç½®çš„ä»£ç </p>\n<span id=\"more\"></span>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> path = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;path&#x27;</span>) <span class=\"comment\">// è·¯å¾„å¤„ç†æ¨¡å—</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">HtmlWebpackPlugin</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;html-webpack-plugin&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">const</span> &#123; <span class=\"title class_\">CleanWebpackPlugin</span> &#125; = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;clean-webpack-plugin&#x27;</span>) <span class=\"comment\">// å¼•å…¥CleanWebpackPluginæ’ä»¶</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">entry</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">index</span>: path.<span class=\"title function_\">join</span>(__dirname, <span class=\"string\">&#x27;/src/main.js&#x27;</span>),</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">output</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">path</span>: path.<span class=\"title function_\">join</span>(__dirname, <span class=\"string\">&#x27;/dist&#x27;</span>),</span><br><span class=\"line\">    <span class=\"attr\">filename</span>: <span class=\"string\">&#x27;index.js&#x27;</span>,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">HtmlWebpackPlugin</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">template</span>: path.<span class=\"title function_\">join</span>(__dirname, <span class=\"string\">&#x27;/index.html&#x27;</span>),</span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">CleanWebpackPlugin</span>(), <span class=\"comment\">// æ‰€è¦æ¸…ç†çš„æ–‡ä»¶å¤¹åç§°</span></span><br><span class=\"line\">  ],</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><code>index.html</code> ä»£ç å¦‚ä¸‹</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>webpack<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;aBtn&quot;</span>&gt;</span>æŒ‰é’®A<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;bBtn&quot;</span>&gt;</span>æŒ‰é’®B<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>å…¥å£æ–‡ä»¶ <code>main.js</code> å¦‚ä¸‹</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> A <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./A&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> B <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./B&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;aBtn&#x27;</span>).<span class=\"property\">onclick</span> = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"title function_\">alert</span>(A)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;bBtn&#x27;</span>).<span class=\"property\">onclick</span> = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"title function_\">alert</span>(B)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><code>A.js</code> å’Œ <code>B.js</code> çš„ä»£ç åˆ†åˆ«å¦‚ä¸‹</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// A.js</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> A = <span class=\"string\">&#x27;hello A&#x27;</span></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = A</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// B.js</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> B = <span class=\"string\">&#x27;hello B&#x27;</span></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = B</span><br></pre></td></tr></table></figure>\n\n<p>æ­¤æ—¶ï¼Œæˆ‘ä»¬å¯¹é¡¹ç›®è¿›è¡Œ <code>npm run build</code>ï¼Œ æ‰“åŒ…å‡ºæ¥çš„åªæœ‰ä¸¤ä¸ªæ–‡ä»¶</p>\n<ul>\n<li>index.html</li>\n<li>index.js</li>\n</ul>\n<p>ç”±æ­¤å¯è§ï¼Œæ­¤æ—¶ <code>webpack</code> æŠŠ <code>main.js</code> ä¾èµ–çš„ä¸¤ä¸ªæ–‡ä»¶éƒ½åŒæ—¶æ‰“åŒ…åˆ°åŒä¸€ä¸ª js æ–‡ä»¶ï¼Œå¹¶åœ¨ index.html ä¸­å¼•å…¥ã€‚ä½†æ˜¯ <code>A.js</code> å’Œ <code>B.js</code> éƒ½æ˜¯ç‚¹å‡»ç›¸åº”æŒ‰é’®æ‰ä¼šæ‰§è¡Œçš„é€»è¾‘ï¼Œå¦‚æœç”¨æˆ·å¹¶æ²¡æœ‰ç‚¹å‡»ç›¸åº”æŒ‰é’®ï¼Œè€Œä¸”è¿™ä¸¤ä¸ªæ–‡ä»¶åˆæ˜¯æ¯”è¾ƒå¤§çš„è¯ï¼Œè¿™æ ·æ˜¯ä¸æ˜¯å°±å¯¼è‡´é¦–é¡µé»˜è®¤åŠ è½½çš„ js æ–‡ä»¶å¤ªå¤§ï¼Œä»è€Œå¯¼è‡´é¦–é¡µæ¸²æŸ“è¾ƒæ…¢å‘¢ï¼Ÿé‚£ä¹ˆæœ‰èƒ½å¦å®ç°å½“ç”¨æˆ·ç‚¹å‡»æŒ‰é’®çš„æ—¶å€™å†åŠ è½½ç›¸åº”çš„ä¾èµ–æ–‡ä»¶å‘¢ï¼Ÿ</p>\n<p><code>webpack.ensure</code> å°±è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚</p>\n<h3 id=\"require-ensure-å¼‚æ­¥åŠ è½½\"><a href=\"#require-ensure-å¼‚æ­¥åŠ è½½\" class=\"headerlink\" title=\"require.ensure å¼‚æ­¥åŠ è½½\"></a>require.ensure å¼‚æ­¥åŠ è½½</h3><p>ä¸‹é¢æˆ‘ä»¬å°† <code>main.js</code> æ”¹æˆå¼‚æ­¥åŠ è½½çš„æ–¹å¼</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;aBtn&#x27;</span>).<span class=\"property\">onclick</span> = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">//å¼‚æ­¥åŠ è½½A</span></span><br><span class=\"line\">  <span class=\"built_in\">require</span>.<span class=\"title function_\">ensure</span>([], <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> A = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;./A.js&#x27;</span>)</span><br><span class=\"line\">    <span class=\"title function_\">alert</span>(A)</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;bBtn&#x27;</span>).<span class=\"property\">onclick</span> = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">//å¼‚æ­¥åŠ è½½b</span></span><br><span class=\"line\">  <span class=\"built_in\">require</span>.<span class=\"title function_\">ensure</span>([], <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> B = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;./B.js&#x27;</span>)</span><br><span class=\"line\">    <span class=\"title function_\">alert</span>(B)</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æ­¤æ—¶ï¼Œæˆ‘ä»¬å†è¿›è¡Œä¸€ä¸‹æ‰“åŒ…ï¼Œå‘ç°å¤šäº† <code>1.index.js</code> å’Œ <code>2.index.js</code> ä¸¤ä¸ªæ–‡ä»¶ã€‚è€Œæˆ‘ä»¬æ‰“å¼€é¡µé¢æ—¶åªå¼•å…¥äº† <code>index.js</code> ä¸€ä¸ªæ–‡ä»¶ï¼Œå½“ç‚¹å‡»æŒ‰é’® A çš„æ—¶å€™æ‰å¼•å…¥ <code>1.index.js</code> æ–‡ä»¶ï¼Œç‚¹å‡»æŒ‰é’® B çš„æ—¶å€™æ‰å¼•å…¥ <code>2.index.js</code> æ–‡ä»¶ã€‚è¿™æ ·å°±æ»¡è¶³äº†æˆ‘ä»¬æŒ‰éœ€åŠ è½½çš„éœ€æ±‚ã€‚</p>\n<p><code>require.ensure</code> è¿™ä¸ªå‡½æ•°æ˜¯ä¸€ä¸ªä»£ç åˆ†ç¦»çš„åˆ†å‰²çº¿ï¼Œè¡¨ç¤ºå›è°ƒé‡Œé¢çš„ <code>require</code> æ˜¯æˆ‘ä»¬æƒ³è¦è¿›è¡Œåˆ†å‰²å‡ºå»çš„ï¼Œå³ <code>require(&#39;./A.js&#39;)</code>ï¼ŒæŠŠ A.js åˆ†å‰²å‡ºå»ï¼Œå½¢æˆä¸€ä¸ª <code>webpack</code> æ‰“åŒ…çš„å•ç‹¬ js æ–‡ä»¶ã€‚å®ƒçš„è¯­æ³•å¦‚ä¸‹</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">require</span>.<span class=\"title function_\">ensure</span>(<span class=\"attr\">dependencies</span>: <span class=\"title class_\">String</span>[], <span class=\"attr\">callback</span>: <span class=\"keyword\">function</span>(<span class=\"params\"><span class=\"built_in\">require</span></span>), <span class=\"attr\">chunkName</span>: <span class=\"title class_\">String</span>)</span><br></pre></td></tr></table></figure>\n\n<p>æˆ‘ä»¬æ‰“å¼€ <code>1.index.js</code> æ–‡ä»¶ï¼Œå‘ç°å®ƒçš„ä»£ç å¦‚ä¸‹</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">;(<span class=\"variable language_\">window</span>.<span class=\"property\">webpackJsonp</span> = <span class=\"variable language_\">window</span>.<span class=\"property\">webpackJsonp</span> || []).<span class=\"title function_\">push</span>([</span><br><span class=\"line\">  [<span class=\"number\">1</span>],</span><br><span class=\"line\">  [</span><br><span class=\"line\">    ,</span><br><span class=\"line\">    <span class=\"keyword\">function</span> (<span class=\"params\">o, n</span>) &#123;</span><br><span class=\"line\">      o.<span class=\"property\">exports</span> = <span class=\"string\">&#x27;hello A&#x27;</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  ],</span><br><span class=\"line\">])</span><br></pre></td></tr></table></figure>\n\n<p>ç”±ä¸Šé¢çš„ä»£ç å¯ä»¥çœ‹å‡ºï¼š</p>\n<ol>\n<li>å¼‚æ­¥åŠ è½½çš„ä»£ç ï¼Œä¼šä¿å­˜åœ¨ä¸€ä¸ªå…¨å±€çš„ <code>webpackJsonp</code> ä¸­ã€‚</li>\n<li><code>webpackJsonp.push</code> çš„çš„å€¼ï¼Œä¸¤ä¸ªå‚æ•°åˆ†åˆ«ä¸ºå¼‚æ­¥åŠ è½½çš„æ–‡ä»¶ä¸­å­˜æ”¾çš„éœ€è¦å®‰è£…çš„æ¨¡å—å¯¹åº”çš„ id å’Œå¼‚æ­¥åŠ è½½çš„æ–‡ä»¶ä¸­å­˜æ”¾çš„éœ€è¦å®‰è£…çš„æ¨¡å—åˆ—è¡¨ã€‚</li>\n<li>åœ¨æ»¡è¶³æŸç§æƒ…å†µä¸‹ï¼Œä¼šæ‰§è¡Œå…·ä½“æ¨¡å—ä¸­çš„ä»£ç ã€‚</li>\n</ol>\n<h3 id=\"import-æŒ‰éœ€åŠ è½½\"><a href=\"#import-æŒ‰éœ€åŠ è½½\" class=\"headerlink\" title=\"import() æŒ‰éœ€åŠ è½½\"></a>import() æŒ‰éœ€åŠ è½½</h3><p>webpack4 å®˜æ–¹æ–‡æ¡£æä¾›äº†æ¨¡å—æŒ‰éœ€åˆ‡å‰²åŠ è½½ï¼Œé…åˆ es6 çš„æŒ‰éœ€åŠ è½½ <code>import()</code> æ–¹æ³•ï¼Œå¯ä»¥åšåˆ°å‡å°‘é¦–é¡µåŒ…ä½“ç§¯ï¼ŒåŠ å¿«é¦–é¡µçš„è¯·æ±‚é€Ÿåº¦ï¼Œåªæœ‰å…¶ä»–æ¨¡å—ï¼Œåªæœ‰å½“éœ€è¦çš„æ—¶å€™æ‰ä¼šåŠ è½½å¯¹åº” jsã€‚</p>\n<p><code>import()</code>çš„è¯­æ³•ååˆ†ç®€å•ã€‚è¯¥å‡½æ•°åªæ¥å—ä¸€ä¸ªå‚æ•°ï¼Œå°±æ˜¯å¼•ç”¨åŒ…çš„åœ°å€ï¼Œå¹¶ä¸”ä½¿ç”¨äº† <code>promise</code> å¼çš„å›è°ƒï¼Œè·å–åŠ è½½çš„åŒ…ã€‚åœ¨ä»£ç ä¸­æ‰€æœ‰è¢« <code>import()</code>çš„æ¨¡å—ï¼Œéƒ½å°†æ‰“æˆä¸€ä¸ªå•ç‹¬çš„åŒ…ï¼Œæ”¾åœ¨ <code>chunk</code> å­˜å‚¨çš„ç›®å½•ä¸‹ã€‚åœ¨æµè§ˆå™¨è¿è¡Œåˆ°è¿™ä¸€è¡Œä»£ç æ—¶ï¼Œå°±ä¼šè‡ªåŠ¨è¯·æ±‚è¿™ä¸ªèµ„æºï¼Œå®ç°å¼‚æ­¥åŠ è½½ã€‚</p>\n<p>ä¸‹é¢æˆ‘ä»¬å°†ä¸Šè¿°ä»£ç æ”¹æˆ <code>import()</code>æ–¹å¼ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;aBtn&#x27;</span>).<span class=\"property\">onclick</span> = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">//å¼‚æ­¥åŠ è½½A</span></span><br><span class=\"line\">  <span class=\"title function_\">import</span>(<span class=\"string\">&#x27;./A&#x27;</span>).<span class=\"title function_\">then</span>(<span class=\"function\">(<span class=\"params\">data</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"title function_\">alert</span>(data.<span class=\"property\">A</span>)</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;bBtn&#x27;</span>).<span class=\"property\">onclick</span> = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">//å¼‚æ­¥åŠ è½½b</span></span><br><span class=\"line\">  <span class=\"title function_\">import</span>(<span class=\"string\">&#x27;./B&#x27;</span>).<span class=\"title function_\">then</span>(<span class=\"function\">(<span class=\"params\">data</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"title function_\">alert</span>(data.<span class=\"property\">B</span>)</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æ­¤æ—¶æ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶å’Œ <code>webpack.ensure</code> æ–¹æ³•æ˜¯ä¸€æ ·çš„ã€‚</p>\n<h2 id=\"è·¯ç”±æ‡’åŠ è½½\"><a href=\"#è·¯ç”±æ‡’åŠ è½½\" class=\"headerlink\" title=\"è·¯ç”±æ‡’åŠ è½½\"></a>è·¯ç”±æ‡’åŠ è½½</h2><p>ä¸ºä»€ä¹ˆéœ€è¦æ‡’åŠ è½½ï¼Ÿ</p>\n<p>åƒ vue è¿™ç§å•é¡µé¢åº”ç”¨ï¼Œå¦‚æœæ²¡æœ‰è·¯ç”±æ‡’åŠ è½½ï¼Œè¿ç”¨ webpack æ‰“åŒ…åçš„æ–‡ä»¶å°†ä¼šå¾ˆå¤§ï¼Œé€ æˆè¿›å…¥é¦–é¡µæ—¶ï¼Œéœ€è¦åŠ è½½çš„å†…å®¹è¿‡å¤šï¼Œå‡ºç°è¾ƒé•¿æ—¶é—´çš„ç™½å±ï¼Œè¿ç”¨è·¯ç”±æ‡’åŠ è½½åˆ™å¯ä»¥å°†é¡µé¢è¿›è¡Œåˆ’åˆ†ï¼Œéœ€è¦çš„æ—¶å€™æ‰åŠ è½½é¡µé¢ï¼Œå¯ä»¥æœ‰æ•ˆçš„åˆ†æ‹…é¦–é¡µæ‰€æ‰¿æ‹…çš„åŠ è½½å‹åŠ›ï¼Œå‡å°‘é¦–é¡µåŠ è½½ç”¨æ—¶ã€‚</p>\n<p>vue è·¯ç”±æ‡’åŠ è½½æœ‰ä»¥ä¸‹ä¸‰ç§æ–¹å¼</p>\n<ul>\n<li>vue å¼‚æ­¥ç»„ä»¶</li>\n<li>ES6 çš„ <code>import()</code></li>\n<li>webpack çš„ <code>require.ensure()</code></li>\n</ul>\n<h3 id=\"vue-å¼‚æ­¥ç»„ä»¶\"><a href=\"#vue-å¼‚æ­¥ç»„ä»¶\" class=\"headerlink\" title=\"vue å¼‚æ­¥ç»„ä»¶\"></a>vue å¼‚æ­¥ç»„ä»¶</h3><p>è¿™ç§æ–¹æ³•ä¸»è¦æ˜¯ä½¿ç”¨äº† <code>resolve</code> çš„å¼‚æ­¥æœºåˆ¶ï¼Œç”¨ <code>require</code> ä»£æ›¿äº† <code>import</code> å®ç°æŒ‰éœ€åŠ è½½</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Router</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">routes</span>: [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">path</span>: <span class=\"string\">&#x27;/home&#x27;</span>,<span class=\"string\">&#x27;,</span></span><br><span class=\"line\"><span class=\"string\">      component: (resolve) =&gt; require([&#x27;</span>@/components/home<span class=\"string\">&#x27;], resolve),</span></span><br><span class=\"line\"><span class=\"string\">    &#125;,</span></span><br><span class=\"line\"><span class=\"string\">    &#123;</span></span><br><span class=\"line\"><span class=\"string\">      path: &#x27;</span>/about<span class=\"string\">&#x27;,&#x27;</span>,</span><br><span class=\"line\">      <span class=\"attr\">component</span>: <span class=\"function\">(<span class=\"params\">resolve</span>) =&gt;</span> <span class=\"built_in\">require</span>([<span class=\"string\">&#x27;@/components/about&#x27;</span>], resolve),</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  ],</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"require-ensure\"><a href=\"#require-ensure\" class=\"headerlink\" title=\"require.ensure\"></a>require.ensure</h3><p>è¿™ç§æ¨¡å¼å¯ä»¥é€šè¿‡å‚æ•°ä¸­çš„ <code>webpackChunkName</code> å°† js åˆ†å¼€æ‰“åŒ…ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Router</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">routes</span>: [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">path</span>: <span class=\"string\">&#x27;/home&#x27;</span>,</span><br><span class=\"line\">      <span class=\"attr\">component</span>: <span class=\"function\">(<span class=\"params\">resolve</span>) =&gt;</span> <span class=\"built_in\">require</span>.<span class=\"title function_\">ensure</span>([], <span class=\"function\">() =&gt;</span> <span class=\"title function_\">resolve</span>(<span class=\"built_in\">require</span>(<span class=\"string\">&#x27;@/components/home&#x27;</span>)), <span class=\"string\">&#x27;home&#x27;</span>),</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">path</span>: <span class=\"string\">&#x27;/about&#x27;</span>,</span><br><span class=\"line\">      <span class=\"attr\">component</span>: <span class=\"function\">(<span class=\"params\">resolve</span>) =&gt;</span> <span class=\"built_in\">require</span>.<span class=\"title function_\">ensure</span>([], <span class=\"function\">() =&gt;</span> <span class=\"title function_\">resolve</span>(<span class=\"built_in\">require</span>(<span class=\"string\">&#x27;@/components/about&#x27;</span>)), <span class=\"string\">&#x27;about&#x27;</span>),</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  ],</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ES6-çš„-import\"><a href=\"#ES6-çš„-import\" class=\"headerlink\" title=\"ES6 çš„ import()\"></a>ES6 çš„ import()</h3><p><code>vue-router</code> åœ¨å®˜ç½‘æä¾›äº†ä¸€ç§æ–¹æ³•ï¼Œå¯ä»¥ç†è§£ä¹Ÿæ˜¯ä¸ºé€šè¿‡ <code>Promise</code> çš„ <code>resolve</code> æœºåˆ¶ã€‚å› ä¸º <code>Promise</code> å‡½æ•°è¿”å›çš„ <code>Promise</code> ä¸º <code>resolve</code> ç»„ä»¶æœ¬èº«ï¼Œè€Œæˆ‘ä»¬åˆå¯ä»¥ä½¿ç”¨ <code>import</code> æ¥å¯¼å…¥ç»„ä»¶ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Router</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">routes</span>: [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">path</span>: <span class=\"string\">&#x27;/home&#x27;</span>,</span><br><span class=\"line\">      <span class=\"attr\">component</span>: <span class=\"function\">() =&gt;</span> <span class=\"title function_\">import</span>(<span class=\"string\">&#x27;@/components/home&#x27;</span>),</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">path</span>: <span class=\"string\">&#x27;/about&#x27;</span>,</span><br><span class=\"line\">      <span class=\"attr\">component</span>: <span class=\"function\">() =&gt;</span> <span class=\"title function_\">import</span>(<span class=\"string\">&#x27;@/components/home&#x27;</span>),</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  ],</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"webpack-åˆ†åŒ…ç­–ç•¥\"><a href=\"#webpack-åˆ†åŒ…ç­–ç•¥\" class=\"headerlink\" title=\"webpack åˆ†åŒ…ç­–ç•¥\"></a>webpack åˆ†åŒ…ç­–ç•¥</h2><p>åœ¨ webpack æ‰“åŒ…è¿‡ç¨‹ä¸­ï¼Œç»å¸¸å‡ºç° <code>vendor.js</code>ï¼Œ <code>app.js</code> å•ä¸ªæ–‡ä»¶è¾ƒå¤§çš„æƒ…å†µï¼Œè¿™åååˆæ˜¯ç½‘é¡µæœ€å…ˆåŠ è½½çš„æ–‡ä»¶ï¼Œè¿™å°±ä¼šä½¿å¾—åŠ è½½æ—¶é—´è¿‡é•¿ï¼Œä»è€Œä½¿å¾—ç™½å±æ—¶é—´è¿‡é•¿ï¼Œå½±å“ç”¨æˆ·ä½“éªŒã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦æœ‰åˆç†çš„åˆ†åŒ…ç­–ç•¥ã€‚</p>\n<h3 id=\"CommonsChunkPlugin\"><a href=\"#CommonsChunkPlugin\" class=\"headerlink\" title=\"CommonsChunkPlugin\"></a>CommonsChunkPlugin</h3><p>åœ¨ Webapck4.x ç‰ˆæœ¬ä¹‹å‰ï¼Œæˆ‘ä»¬éƒ½æ˜¯ä½¿ç”¨ <code>CommonsChunkPlugin</code> å»åšåˆ†ç¦»</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">  <span class=\"keyword\">new</span> webpack.<span class=\"property\">optimize</span>.<span class=\"title class_\">CommonsChunkPlugin</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">name</span>: <span class=\"string\">&#x27;vendor&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">minChunks</span>: <span class=\"keyword\">function</span> (<span class=\"params\"><span class=\"variable language_\">module</span>, count</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> (</span><br><span class=\"line\">        <span class=\"variable language_\">module</span>.<span class=\"property\">resource</span> &amp;&amp;</span><br><span class=\"line\">        <span class=\"regexp\">/\\.js$/</span>.<span class=\"title function_\">test</span>(<span class=\"variable language_\">module</span>.<span class=\"property\">resource</span>) &amp;&amp;</span><br><span class=\"line\">        <span class=\"variable language_\">module</span>.<span class=\"property\">resource</span>.<span class=\"title function_\">indexOf</span>(path.<span class=\"title function_\">join</span>(__dirname, <span class=\"string\">&#x27;./node_modules&#x27;</span>)) === <span class=\"number\">0</span></span><br><span class=\"line\">      )</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  &#125;),</span><br><span class=\"line\">  <span class=\"keyword\">new</span> webpack.<span class=\"property\">optimize</span>.<span class=\"title class_\">CommonsChunkPlugin</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">name</span>: <span class=\"string\">&#x27;common&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">chunks</span>: <span class=\"string\">&#x27;initial&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">minChunks</span>: <span class=\"number\">2</span>,</span><br><span class=\"line\">  &#125;),</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n\n<p>æˆ‘ä»¬æŠŠä»¥ä¸‹æ–‡ä»¶å•ç‹¬æŠ½ç¦»å‡ºæ¥æ‰“åŒ…</p>\n<ul>\n<li><code>node_modules</code> æ–‡ä»¶å¤¹ä¸‹çš„ï¼Œæ¨¡å—</li>\n<li>è¢« 3 ä¸ª å…¥å£ <code>chunk</code> å…±äº«çš„æ¨¡å—</li>\n</ul>\n<h3 id=\"optimization-splitChunks\"><a href=\"#optimization-splitChunks\" class=\"headerlink\" title=\"optimization.splitChunks\"></a>optimization.splitChunks</h3><p>webpack 4 æœ€å¤§çš„æ”¹åŠ¨å°±æ˜¯åºŸé™¤äº† <code>CommonsChunkPlugin</code> å¼•å…¥äº† <code>optimization.splitChunks</code>ã€‚å¦‚æœä½ çš„ <code>mode</code> æ˜¯ <code>production</code>ï¼Œé‚£ä¹ˆ webpack4 å°±ä¼šè‡ªåŠ¨å¼€å¯ <code>Code Splitting</code>ã€‚</p>\n<p>å®ƒå†…ç½®çš„ä»£ç åˆ†å‰²ç­–ç•¥æ˜¯è¿™æ ·çš„ï¼š</p>\n<ul>\n<li>æ–°çš„ chunk æ˜¯å¦è¢«å…±äº«æˆ–è€…æ˜¯æ¥è‡ª <code>node_modules</code> çš„æ¨¡å—</li>\n<li>æ–°çš„ chunk ä½“ç§¯åœ¨å‹ç¼©ä¹‹å‰æ˜¯å¦å¤§äº 30kb</li>\n<li>æŒ‰éœ€åŠ è½½ chunk çš„å¹¶å‘è¯·æ±‚æ•°é‡å°äºç­‰äº 5 ä¸ª</li>\n<li>é¡µé¢åˆå§‹åŠ è½½æ—¶çš„å¹¶å‘è¯·æ±‚æ•°é‡å°äºç­‰äº 3 ä¸ª</li>\n</ul>\n<p>è™½ç„¶åœ¨ webpack4 ä¼šè‡ªåŠ¨å¼€å¯ <code>Code Splitting</code>ï¼Œä½†æ˜¯éšç€é¡¹ç›®å·¥ç¨‹çš„æœ€å¤§ï¼Œè¿™å¾€å¾€ä¸èƒ½æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ï¼Œæˆ‘ä»¬éœ€è¦å†è¿›è¡Œä¸ªæ€§åŒ–çš„ä¼˜åŒ–ã€‚</p>\n<h3 id=\"åº”ç”¨å®ä¾‹\"><a href=\"#åº”ç”¨å®ä¾‹\" class=\"headerlink\" title=\"åº”ç”¨å®ä¾‹\"></a>åº”ç”¨å®ä¾‹</h3><p>æˆ‘ä»¬å…ˆæ‰¾åˆ°ä¸€ä¸ªä¼˜åŒ–ç©ºé—´è¾ƒå¤§çš„é¡¹ç›®æ¥è¿›è¡Œæ“ä½œã€‚è¿™æ˜¯ä¸€ä¸ªåå°ç®¡ç†ç³»ç»Ÿé¡¹ç›®ï¼Œå¤§éƒ¨åˆ†å†…å®¹ç”± 3-4 ä¸ªå‰ç«¯å¼€å‘ï¼Œå¹³æ—¶å¼€å‘å‘¨æœŸè¾ƒçŸ­ï¼Œä¸”å¤§éƒ¨åˆ†äººæ²¡æœ‰ä¼˜åŒ–æ„è¯†ï¼Œåªæ˜¯å†™å¥½ä¸šåŠ¡ä»£ç å®Œæˆéœ€æ±‚ï¼Œæ—¥å­ä¸€é•¿ï¼Œé€ æˆæ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶è¾ƒå¤§ï¼Œå¤§å¤§å½±å“æ€§èƒ½ã€‚</p>\n<p>æˆ‘ä»¬å…ˆç”¨ <code>webpack-bundle-analyzer</code> åˆ†ææ‰“åŒ…åçš„æ¨¡å—ä¾èµ–åŠæ–‡ä»¶å¤§å°ï¼Œç¡®å®šä¼˜åŒ–çš„æ–¹å‘åœ¨å“ªã€‚</p>\n<img src=\"../img/21.png\">\n\n<p>ç„¶åæˆ‘ä»¬å†çœ‹ä¸‹æ‰“åŒ…å‡ºæ¥çš„ js æ–‡ä»¶</p>\n<img src=\"../img/31.png\">\n\n<p>çœ‹åˆ°è¿™ä¸¤å¼ å›¾çš„æ—¶å€™ï¼Œæˆ‘å†…å¿ƒæ˜¯å´©æºƒçš„ï¼Œæ§½ç‚¹å¦‚ä¸‹</p>\n<ul>\n<li>æ‰“åŒ…åç”Ÿæˆå¤šä¸ªå°†è¿‘ 1M çš„ js æ–‡ä»¶ï¼Œå…¶ä¸­ä¸ä¹ <code>vendor.js</code> é¦–é¡µå¿…é¡»åŠ è½½çš„å¤§æ–‡ä»¶</li>\n<li><code>xlsx.js</code> è¿™æ ·çš„æ’ä»¶æ²¡å¿…è¦ä½¿ç”¨ï¼Œå¯¼å‡º excel æ›´å¥½çš„æ–¹æ³•åº”è¯¥æ˜¯åç«¯è¿”å›æ–‡ä»¶æµæ ¼å¼ç»™å‰ç«¯å¤„ç†</li>\n<li><code>echart</code> å’Œ <code>iview</code> æ–‡ä»¶å¤ªå¤§ï¼Œåº”è¯¥ä½¿ç”¨ cdn å¼•å…¥çš„æ–¹æ³•</li>\n</ul>\n<p>åæ§½å®Œä¹‹åæˆ‘ä»¬å°±è¦å¼€å§‹åšæ­£äº‹äº†ã€‚æ­£æ˜¯å› ä¸ºæœ‰è¿™ä¹ˆå¤šæ§½ç‚¹ï¼Œæˆ‘ä»¬æ‰æ›´å¥½ç”¨æ¥éªŒè¯æˆ‘ä»¬ä¼˜åŒ–æ–¹æ³•çš„å¯è¡Œæ€§ã€‚</p>\n<h4 id=\"æŠ½ç¦»-echart-å’Œ-iview\"><a href=\"#æŠ½ç¦»-echart-å’Œ-iview\" class=\"headerlink\" title=\"æŠ½ç¦» echart å’Œ iview\"></a>æŠ½ç¦» echart å’Œ iview</h4><p>ç”±ä¸Šé¢åˆ†æå¯çŸ¥ï¼Œ<code>echart</code> å’Œ <code>iview</code> æ–‡ä»¶å¤ªå¤§ï¼Œæ­¤æ—¶æˆ‘ä»¬å°±ç”¨åˆ° webpack4 çš„ <code>optimization.splitChunks</code> è¿›è¡Œä»£ç åˆ†å‰²äº†ï¼ŒæŠŠä»–ä»¬å•ç‹¬æŠ½ç¦»æ‰“åŒ…æˆæ–‡ä»¶ã€‚(ä¸ºäº†æ›´å¥½åœ°å‘ˆç°ä¼˜åŒ–æ•ˆæœï¼Œæˆ‘ä»¬å…ˆæŠŠ xlsx.js å»æ‰)</p>\n<p><code>vue.config.js</code> ä¿®æ”¹å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">chainWebpack</span>: <span class=\"function\"><span class=\"params\">config</span> =&gt;</span> &#123;</span><br><span class=\"line\">    config.<span class=\"property\">optimization</span>.<span class=\"title function_\">splitChunks</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">chunks</span>: <span class=\"string\">&#x27;all&#x27;</span>,</span><br><span class=\"line\">      <span class=\"attr\">cacheGroups</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">vendors</span>: &#123;</span><br><span class=\"line\">          <span class=\"attr\">name</span>: <span class=\"string\">&#x27;chunk-vendors&#x27;</span>,</span><br><span class=\"line\">          <span class=\"attr\">test</span>: <span class=\"regexp\">/[\\\\/]node_modules[\\\\/]/</span>,</span><br><span class=\"line\">          <span class=\"attr\">priority</span>: <span class=\"number\">10</span>,</span><br><span class=\"line\">          <span class=\"attr\">chunks</span>: <span class=\"string\">&#x27;initial&#x27;</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"attr\">iview</span>: &#123;</span><br><span class=\"line\">          <span class=\"attr\">name</span>: <span class=\"string\">&#x27;chunk-iview&#x27;</span>,</span><br><span class=\"line\">          <span class=\"attr\">priority</span>: <span class=\"number\">20</span>,</span><br><span class=\"line\">          <span class=\"attr\">test</span>: <span class=\"regexp\">/[\\\\/]node_modules[\\\\/]_?iview(.*)/</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"attr\">echarts</span>: &#123;</span><br><span class=\"line\">          <span class=\"attr\">name</span>: <span class=\"string\">&#x27;chunk-echarts&#x27;</span>,</span><br><span class=\"line\">          <span class=\"attr\">priority</span>: <span class=\"number\">20</span>,</span><br><span class=\"line\">          <span class=\"attr\">test</span>: <span class=\"regexp\">/[\\\\/]node_modules[\\\\/]_?echarts(.*)/</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"attr\">commons</span>: &#123;</span><br><span class=\"line\">          <span class=\"attr\">name</span>: <span class=\"string\">&#x27;chunk-commons&#x27;</span>,</span><br><span class=\"line\">          <span class=\"attr\">minChunks</span>: <span class=\"number\">2</span>,</span><br><span class=\"line\">          <span class=\"attr\">priority</span>: <span class=\"number\">5</span>,</span><br><span class=\"line\">          <span class=\"attr\">chunks</span>: <span class=\"string\">&#x27;initial&#x27;</span>,</span><br><span class=\"line\">          <span class=\"attr\">reuseExistingChunk</span>: <span class=\"literal\">true</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;,</span><br></pre></td></tr></table></figure>\n\n<p>æ­¤æ—¶æˆ‘ä»¬å†ç”¨ <code>webpack-bundle-analyzer</code> åˆ†æä¸€ä¸‹</p>\n<img src=\"../img/23.png\">\n\n<p>æ‰“åŒ…å‡ºæ¥çš„ js æ–‡ä»¶</p>\n<img src=\"../img/33.png\">\n\n<p>ä»è¿™é‡Œå¯ä»¥çœ‹å‡ºæˆ‘ä»¬å·²ç»æˆåŠŸæŠŠ <code>echart</code> å’Œ <code>iview</code> å•ç‹¬æŠ½ç¦»å‡ºæ¥äº†ï¼ŒåŒæ—¶ <code>vendor.js</code> ä¹Ÿç›¸åº”åœ°å‡å°äº†ä½“ç§¯ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ç»§ç»­æŠ½ç¦»å…¶ä»–æ›´å¤šçš„ç¬¬ä¸‰æ–¹æ¨¡å—ã€‚</p>\n<h4 id=\"CDN-æ–¹å¼\"><a href=\"#CDN-æ–¹å¼\" class=\"headerlink\" title=\"CDN æ–¹å¼\"></a>CDN æ–¹å¼</h4><p>è™½ç„¶ç¬¬ä¸‰æ–¹æ¨¡å—æ˜¯å•ç‹¬æŠ½ç¦»å‡ºæ¥äº†ï¼Œä½†æ˜¯åœ¨é¦–é¡µæˆ–è€…ç›¸åº”è·¯ç”±åŠ è½½æ—¶è¿˜æ˜¯è¦åŠ è½½è¿™æ ·ä¸€ä¸ªå‡ ç™¾ kb çš„æ–‡ä»¶ï¼Œè¿˜æ˜¯ä¸åˆ©äºæ€§èƒ½ä¼˜åŒ–çš„ã€‚è¿™æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ CDN çš„æ–¹å¼å¼•å…¥è¿™æ ·æ’ä»¶æˆ–è€… UI ç»„ä»¶åº“ã€‚</p>\n<ol>\n<li>åœ¨ <code>index.html</code> å¼•å…¥ç›¸åº” cdn é“¾æ¥</li>\n</ol>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">&quot;stylesheet&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;https://cdn.bootcdn.net/ajax/libs/iview/3.5.4/styles/iview.css&quot;</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://cdn.bootcss.com/vue/2.6.8/vue.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://cdn.bootcdn.net/ajax/libs/iview/3.5.4/iview.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://cdn.bootcdn.net/ajax/libs/xlsx/0.16.8/xlsx.mini.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://cdn.bootcdn.net/ajax/libs/xlsx/0.16.8/cpexcel.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li><code>vue.config.js</code> é…ç½® <code>externals</code></li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">configureWebpack</span>: <span class=\"function\">(<span class=\"params\">config</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  config.<span class=\"property\">externals</span> = &#123;</span><br><span class=\"line\">    <span class=\"attr\">vue</span>: <span class=\"string\">&#x27;Vue&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">xlsx</span>: <span class=\"string\">&#x27;XLSX&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">iview</span>: <span class=\"string\">&#x27;iView&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">iView</span>: <span class=\"string\">&#x27;ViewUI&#x27;</span>,</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li>åˆ é™¤ä¹‹å‰çš„å¼•å…¥æ–¹å¼å¹¶å¸è½½ç›¸åº” npm ä¾èµ–åŒ…</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm uninstall vue iview echarts xlsx --save</span><br></pre></td></tr></table></figure>\n\n<p>æ­¤æ—¶æˆ‘ä»¬åœ¨æ¥çœ‹ä¸€ä¸‹æ‰“åŒ…åçš„æƒ…å†µ</p>\n<img src=\"../img/25.png\">\n\n<p>æ‰“åŒ…å‡ºæ¥çš„ js æ–‡ä»¶</p>\n<img src=\"../img/35.png\">\n\n<p>well done ! è¿™æ—¶åŸºæœ¬æ²¡æœ‰æ‰“åŒ…å‡ºå¤§æ–‡ä»¶äº†ï¼Œé¦–é¡µåŠ è½½éœ€è¦çš„ <code>vendor.js</code> ä¹Ÿåªæœ‰å‡ å kbï¼Œè€Œä¸”æˆ‘ä»¬è¿˜å¯ä»¥è¿›ä¸€æ­¥ä¼˜åŒ–ï¼Œå°±æ˜¯æŠŠ vue å…¨å®¶æ¡¶çš„ä¸€äº›æ¨¡å—å†é€šè¿‡ cdn çš„æ–¹æ³•å¼•å…¥ï¼Œæ¯”å¦‚ <code>vue-router</code>ï¼Œ<code>vuex</code>ï¼Œ<code>axios</code> ç­‰ã€‚è¿™æ—¶é¡µé¢ç‰¹åˆ«æ˜¯é¦–é¡µåŠ è½½çš„æ€§èƒ½å°±å¾—åˆ°å¤§å¤§åœ°ä¼˜åŒ–äº†ã€‚</p>\n"},{"title":"vue.\\$nextTick","url":"/LittleWhiteRabbit/2022/04/26/%E4%BB%8E%20js%20%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF%E7%9C%8B%20Vue.nextTick%20%E7%9A%84%E5%8E%9F%E7%90%86%E5%92%8C%E6%89%A7%E8%A1%8C%E6%9C%BA%E5%88%B6/","content":"<h1 id=\"vue-nextTick\"><a href=\"#vue-nextTick\" class=\"headerlink\" title=\"vue.$nextTick\"></a>vue.$nextTick</h1><p>Vue çš„ç‰¹ç‚¹ä¹‹ä¸€å°±æ˜¯å“åº”å¼ï¼Œä½†æ˜¯æœ‰äº›æ—¶å€™æ•°æ®æ›´æ–°äº†ï¼Œæˆ‘ä»¬çœ‹åˆ°é¡µé¢ä¸Šçš„ DOM å¹¶æ²¡æœ‰ç«‹åˆ»æ›´æ–°ã€‚å¦‚æœæˆ‘ä»¬éœ€è¦åœ¨ DOM æ›´æ–°ä¹‹åå†æ‰§è¡Œä¸€æ®µä»£ç æ—¶ï¼Œå¯ä»¥å€ŸåŠ© nextTick å®ç°ã€‚</p>\n<span id=\"more\"></span>\n<p>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸ªä¾‹å­</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span><br><span class=\"line\">  <span class=\"title function_\">data</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">      <span class=\"attr\">msg</span>: <span class=\"number\">0</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"title function_\">mounted</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">msg</span> = <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">msg</span> = <span class=\"number\">2</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">msg</span> = <span class=\"number\">3</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">watch</span>: &#123;</span><br><span class=\"line\">    <span class=\"title function_\">msg</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">msg</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>è¿™é‡Œçš„ç»“æœæ˜¯åªè¾“å‡ºä¸€ä¸ª 3ï¼Œè€Œéä¾æ¬¡è¾“å‡º 1ï¼Œ2ï¼Œ3ã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ<br>vue çš„å®˜æ–¹æ–‡æ¡£æ˜¯è¿™æ ·è§£é‡Šçš„</p>\n<blockquote>\n<p>Vue å¼‚æ­¥æ‰§è¡Œ DOM æ›´æ–°ã€‚åªè¦è§‚å¯Ÿåˆ°æ•°æ®å˜åŒ–ï¼ŒVue å°†å¼€å¯ä¸€ä¸ªé˜Ÿåˆ—ï¼Œå¹¶ç¼“å†²åœ¨åŒä¸€äº‹ä»¶å¾ªç¯ä¸­å‘ç”Ÿçš„æ‰€æœ‰æ•°æ®æ”¹å˜ã€‚å¦‚æœåŒä¸€ä¸ª watcher è¢«å¤šæ¬¡è§¦å‘ï¼Œåªä¼šè¢«æ¨å…¥åˆ°é˜Ÿåˆ—ä¸­ä¸€æ¬¡ã€‚è¿™ç§åœ¨ç¼“å†²æ—¶å»é™¤é‡å¤æ•°æ®å¯¹äºé¿å…ä¸å¿…è¦çš„è®¡ç®—å’Œ DOM æ“ä½œä¸Šéå¸¸é‡è¦ã€‚ç„¶åï¼Œåœ¨ä¸‹ä¸€ä¸ªçš„äº‹ä»¶å¾ªç¯â€œtickâ€ä¸­ï¼ŒVue åˆ·æ–°é˜Ÿåˆ—å¹¶æ‰§è¡Œå®é™… (å·²å»é‡çš„) å·¥ä½œã€‚Vue åœ¨å†…éƒ¨å°è¯•å¯¹å¼‚æ­¥é˜Ÿåˆ—ä½¿ç”¨åŸç”Ÿçš„ Promise.then å’Œ MessageChannelï¼Œå¦‚æœæ‰§è¡Œç¯å¢ƒä¸æ”¯æŒï¼Œä¼šé‡‡ç”¨ setTimeout(fn, 0)ä»£æ›¿ã€‚</p>\n</blockquote>\n<p>å‡å¦‚æœ‰è¿™æ ·ä¸€ç§æƒ…å†µï¼Œ<code>mounted</code>é’©å­å‡½æ•°ä¸‹ä¸€ä¸ªå˜é‡ a çš„å€¼ä¼šè¢«++å¾ªç¯æ‰§è¡Œ 1000 æ¬¡ã€‚ æ¯æ¬¡++æ—¶ï¼Œéƒ½ä¼šæ ¹æ®å“åº”å¼è§¦å‘<code>setter-&gt;Dep-&gt;Watcher-&gt;update-&gt;run</code>ã€‚ å¦‚æœè¿™æ—¶å€™æ²¡æœ‰å¼‚æ­¥æ›´æ–°è§†å›¾ï¼Œé‚£ä¹ˆæ¯æ¬¡++éƒ½ä¼šç›´æ¥æ“ä½œ DOM ä¸€æ¬¡ï¼Œè¿™æ˜¯éå¸¸æ¶ˆè€—æ€§èƒ½çš„ã€‚ æ‰€ä»¥ Vue å®ç°äº†ä¸€ä¸ª<code>queue</code>é˜Ÿåˆ—ï¼Œåœ¨ä¸‹ä¸€ä¸ª Tickï¼ˆæˆ–è€…æ˜¯å½“å‰ Tick çš„å¾®ä»»åŠ¡é˜¶æ®µï¼‰çš„æ—¶å€™ä¼šç»Ÿä¸€æ‰§è¡Œ<code>queue</code>ä¸­<code>Watcher</code>çš„<code>run</code>ã€‚åŒæ—¶ï¼Œæ‹¥æœ‰ç›¸åŒ id çš„<code>Watcher</code>ä¸ä¼šè¢«é‡å¤åŠ å…¥åˆ°è¯¥<code>queue</code>ä¸­å»ï¼Œæ‰€ä»¥ä¸ä¼šæ‰§è¡Œ 1000 æ¬¡<code>Watcher</code>çš„<code>run</code>ã€‚æœ€ç»ˆçš„ç»“æœæ˜¯ç›´æ¥æŠŠ a çš„å€¼ä» 1 å˜æˆ 1000ï¼Œå¤§å¤§æå‡äº†æ€§èƒ½ã€‚</p>\n<p>åœ¨ vue ä¸­ï¼Œæ•°æ®ç›‘æµ‹éƒ½æ˜¯é€šè¿‡ Object.defineProperty æ¥é‡å†™é‡Œé¢çš„ set å’Œ get æ–¹æ³•å®ç°çš„ï¼Œvue æ›´æ–° DOM æ˜¯å¼‚æ­¥çš„ï¼Œæ¯å½“è§‚å¯Ÿåˆ°æ•°æ®å˜åŒ–æ—¶ï¼Œvue å°±å¼€å§‹ä¸€ä¸ªé˜Ÿåˆ—ï¼Œå°†åŒä¸€äº‹ä»¶å¾ªç¯å†…æ‰€æœ‰çš„æ•°æ®å˜åŒ–ç¼“å­˜èµ·æ¥ï¼Œç­‰åˆ°ä¸‹ä¸€æ¬¡ event loopï¼Œå°†ä¼šæŠŠé˜Ÿåˆ—æ¸…ç©ºï¼Œè¿›è¡Œ dom æ›´æ–°ã€‚</p>\n<p>æƒ³è¦äº†è§£ vue.nextTick çš„æ‰§è¡Œæœºåˆ¶ï¼Œæˆ‘ä»¬å…ˆæ¥äº†è§£ä¸€ä¸‹ javascript çš„äº‹ä»¶å¾ªç¯ã€‚</p>\n<h3 id=\"js-äº‹ä»¶å¾ªç¯\"><a href=\"#js-äº‹ä»¶å¾ªç¯\" class=\"headerlink\" title=\"js äº‹ä»¶å¾ªç¯\"></a>js äº‹ä»¶å¾ªç¯</h3><p>js çš„ä»»åŠ¡é˜Ÿåˆ—åˆ†ä¸ºåŒæ­¥ä»»åŠ¡å’Œå¼‚æ­¥ä»»åŠ¡ï¼Œæ‰€æœ‰çš„åŒæ­¥ä»»åŠ¡éƒ½æ˜¯åœ¨ä¸»çº¿ç¨‹é‡Œæ‰§è¡Œçš„ã€‚å¼‚æ­¥ä»»åŠ¡å¯èƒ½ä¼šåœ¨ macrotask æˆ–è€… microtask é‡Œé¢ï¼Œå¼‚æ­¥ä»»åŠ¡è¿›å…¥ <code>Event Table</code> å¹¶æ³¨å†Œå‡½æ•°ã€‚å½“æŒ‡å®šçš„äº‹æƒ…å®Œæˆæ—¶ï¼Œ<code>Event Table</code> ä¼šå°†è¿™ä¸ªå‡½æ•°ç§»å…¥ <code>Event Queue</code>ã€‚ä¸»çº¿ç¨‹å†…çš„ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ä¸ºç©ºï¼Œä¼šå» <code>Event Queue</code> è¯»å–å¯¹åº”çš„å‡½æ•°ï¼Œè¿›å…¥ä¸»çº¿ç¨‹æ‰§è¡Œã€‚ä¸Šè¿°è¿‡ç¨‹ä¼šä¸æ–­é‡å¤ï¼Œä¹Ÿå°±æ˜¯å¸¸è¯´çš„ <code>Event Loop</code>(äº‹ä»¶å¾ªç¯)ã€‚</p>\n<img src=\"../img/js3.png\">\n\n<h4 id=\"macro-task-å®ä»»åŠ¡-ï¼š\"><a href=\"#macro-task-å®ä»»åŠ¡-ï¼š\" class=\"headerlink\" title=\"macro-task(å®ä»»åŠ¡)ï¼š\"></a>macro-task(å®ä»»åŠ¡)ï¼š</h4><p>æ¯æ¬¡æ‰§è¡Œæ ˆæ‰§è¡Œçš„ä»£ç å°±æ˜¯ä¸€ä¸ªå®ä»»åŠ¡(åŒ…æ‹¬æ¯æ¬¡ä»äº‹ä»¶é˜Ÿåˆ—ä¸­è·å–ä¸€ä¸ªäº‹ä»¶å›è°ƒå¹¶æ”¾åˆ°æ‰§è¡Œæ ˆä¸­æ‰§è¡Œ)ã€‚æµè§ˆå™¨ä¸ºäº†èƒ½å¤Ÿä½¿å¾— js å†…éƒ¨<code>(macro)task</code>ä¸ DOM ä»»åŠ¡èƒ½å¤Ÿæœ‰åºæ‰§è¡Œï¼Œä¼šåœ¨ä¸€ä¸ª<code>(macro)task</code>æ‰§è¡Œç»“æŸåï¼Œåœ¨ä¸‹ä¸€ä¸ª<code>(macro)task</code>æ‰§è¡Œå¼€å§‹å‰ï¼Œå¯¹é¡µé¢è¿›è¡Œé‡æ–°æ¸²æŸ“ã€‚å®ä»»åŠ¡ä¸»è¦åŒ…å«ï¼š</p>\n<ul>\n<li>script(æ•´ä½“ä»£ç )</li>\n<li>setTimeout &#x2F; setInterval</li>\n<li>setImmediate(Node.js ç¯å¢ƒ)</li>\n<li>I&#x2F;O</li>\n<li>UI render</li>\n<li>postMessage</li>\n<li>MessageChannel</li>\n</ul>\n<h4 id=\"micro-task-å¾®ä»»åŠ¡-ï¼š\"><a href=\"#micro-task-å¾®ä»»åŠ¡-ï¼š\" class=\"headerlink\" title=\"micro-task(å¾®ä»»åŠ¡)ï¼š\"></a>micro-task(å¾®ä»»åŠ¡)ï¼š</h4><p>å¯ä»¥ç†è§£æ˜¯åœ¨å½“å‰ task æ‰§è¡Œç»“æŸåç«‹å³æ‰§è¡Œçš„ä»»åŠ¡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨å½“å‰ task ä»»åŠ¡åï¼Œä¸‹ä¸€ä¸ª task ä¹‹å‰ï¼Œåœ¨æ¸²æŸ“ä¹‹å‰ã€‚æ‰€ä»¥å®ƒçš„å“åº”é€Ÿåº¦ç›¸æ¯” setTimeoutï¼ˆsetTimeout æ˜¯ taskï¼‰ä¼šæ›´å¿«ï¼Œå› ä¸ºæ— éœ€ç­‰æ¸²æŸ“ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨æŸä¸€ä¸ª macrotask æ‰§è¡Œå®Œåï¼Œå°±ä¼šå°†åœ¨å®ƒæ‰§è¡ŒæœŸé—´äº§ç”Ÿçš„æ‰€æœ‰ microtask éƒ½æ‰§è¡Œå®Œæ¯•ï¼ˆåœ¨æ¸²æŸ“å‰ï¼‰ã€‚microtask ä¸»è¦åŒ…å«ï¼š</p>\n<ul>\n<li>process.nextTick(Node.js ç¯å¢ƒ)</li>\n<li>Promise</li>\n<li>Async&#x2F;Await</li>\n<li>MutationObserver(html5 æ–°ç‰¹æ€§)</li>\n</ul>\n<img src=\"../img/eventLoop.png\" width=\"80%\">\n\n<h4 id=\"å°ç»“\"><a href=\"#å°ç»“\" class=\"headerlink\" title=\"å°ç»“\"></a>å°ç»“</h4><ol>\n<li>å…ˆæ‰§è¡Œä¸»çº¿ç¨‹</li>\n<li>é‡åˆ°å®é˜Ÿåˆ—ï¼ˆmacrotaskï¼‰æ”¾åˆ°å®é˜Ÿåˆ—ï¼ˆmacrotaskï¼‰</li>\n<li>é‡åˆ°å¾®é˜Ÿåˆ—ï¼ˆmicrotaskï¼‰æ”¾åˆ°å¾®é˜Ÿåˆ—ï¼ˆmicrotaskï¼‰</li>\n<li>ä¸»çº¿ç¨‹æ‰§è¡Œå®Œæ¯•</li>\n<li>æ‰§è¡Œå¾®é˜Ÿåˆ—ï¼ˆmicrotaskï¼‰ï¼Œå¾®é˜Ÿåˆ—ï¼ˆmicrotaskï¼‰æ‰§è¡Œå®Œæ¯•</li>\n<li>æ‰§è¡Œä¸€æ¬¡å®é˜Ÿåˆ—ï¼ˆmacrotaskï¼‰ä¸­çš„ä¸€ä¸ªä»»åŠ¡ï¼Œæ‰§è¡Œå®Œæ¯•</li>\n<li>æ‰§è¡Œå¾®é˜Ÿåˆ—ï¼ˆmicrotaskï¼‰ï¼Œæ‰§è¡Œå®Œæ¯•</li>\n<li>ä¾æ¬¡å¾ªç¯ã€‚ã€‚ã€‚</li>\n</ol>\n<h3 id=\"Vue-nextTick-æºç \"><a href=\"#Vue-nextTick-æºç \" class=\"headerlink\" title=\"Vue.nextTick æºç \"></a>Vue.nextTick æºç </h3><p>vue æ˜¯é‡‡ç”¨åŒå‘æ•°æ®ç»‘å®šçš„æ–¹æ³•é©±åŠ¨æ•°æ®æ›´æ–°çš„ï¼Œè™½ç„¶è¿™æ ·èƒ½é¿å…ç›´æ¥æ“ä½œ domï¼Œæé«˜äº†æ€§èƒ½ï¼Œä½†æœ‰æ—¶æˆ‘ä»¬ä¹Ÿä¸å¯é¿å…éœ€è¦æ“ä½œ DOMï¼Œè¿™æ—¶å°±è¯¥ Vue.nextTick(callback)å‡ºåœºäº†ï¼Œå®ƒæ¥å—ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œåœ¨ DOM æ›´æ–°å®Œæˆåï¼Œè¿™ä¸ªå›è°ƒå‡½æ•°å°±ä¼šè¢«è°ƒç”¨ã€‚ä¸ç®¡æ˜¯ vue.nextTick è¿˜æ˜¯ vue.prototype.$nextTick éƒ½æ˜¯ç›´æ¥ç”¨çš„ nextTick è¿™ä¸ªé—­åŒ…å‡½æ•°ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> nextTick = (<span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> callbacks = []</span><br><span class=\"line\">  <span class=\"keyword\">let</span> pending = <span class=\"literal\">false</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> timerFunc</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">function</span> <span class=\"title function_\">nextTickHandler</span> () &#123;</span><br><span class=\"line\">    pending = <span class=\"literal\">false</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> copies = callbacks.<span class=\"title function_\">slice</span>(<span class=\"number\">0</span>)</span><br><span class=\"line\">    callbacks.<span class=\"property\">length</span> = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; copies.<span class=\"property\">length</span>; i++) &#123;</span><br><span class=\"line\">      copies[i]()</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"> ...</span><br><span class=\"line\">&#125;)()</span><br></pre></td></tr></table></figure>\n\n<p>ä½¿ç”¨æ•°ç»„ callbacks ä¿å­˜å›è°ƒå‡½æ•°ï¼Œpending è¡¨ç¤ºå½“å‰çŠ¶æ€ï¼Œä½¿ç”¨å‡½æ•° nextTickHandler æ¥æ‰§è¡Œå›è°ƒé˜Ÿåˆ—ã€‚åœ¨è¯¥æ–¹æ³•å†…ï¼Œå…ˆé€šè¿‡ slice(0)ä¿å­˜äº†å›è°ƒé˜Ÿåˆ—çš„ä¸€ä¸ªå‰¯æœ¬ï¼Œé€šè¿‡è®¾ç½® callbacks.length &#x3D; 0 æ¸…ç©ºå›è°ƒé˜Ÿåˆ—ï¼Œæœ€åä½¿ç”¨å¾ªç¯æ‰§è¡Œåœ¨å‰¯æœ¬é‡Œçš„æ‰€æœ‰å‡½æ•°ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> <span class=\"title class_\">Promise</span> !== <span class=\"string\">&#x27;undefined&#x27;</span> &amp;&amp; <span class=\"title function_\">isNative</span>(<span class=\"title class_\">Promise</span>)) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> p = <span class=\"title class_\">Promise</span>.<span class=\"title function_\">resolve</span>()</span><br><span class=\"line\">  <span class=\"keyword\">var</span> <span class=\"title function_\">logError</span> = err =&gt; &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">error</span>(err)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  timerFunc = <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">    p.<span class=\"title function_\">then</span>(nextTickHandler).<span class=\"title function_\">catch</span>(logError)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (isIOS) <span class=\"built_in\">setTimeout</span>(noop)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> <span class=\"title class_\">MutationObserver</span> !== <span class=\"string\">&#x27;undefined&#x27;</span> &amp;&amp; (<span class=\"title function_\">isNative</span>(<span class=\"title class_\">MutationObserver</span>) || <span class=\"title class_\">MutationObserver</span>.<span class=\"title function_\">toString</span>() === <span class=\"string\">&#x27;[object MutationObserverConstructor]&#x27;</span>)) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> counter = <span class=\"number\">1</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> observer = <span class=\"keyword\">new</span> <span class=\"title class_\">MutationObserver</span>(nextTickHandler)</span><br><span class=\"line\">  <span class=\"keyword\">var</span> textNode = <span class=\"variable language_\">document</span>.<span class=\"title function_\">createTextNode</span>(<span class=\"title class_\">String</span>(counter))</span><br><span class=\"line\">  observer.<span class=\"title function_\">observe</span>(textNode, &#123;</span><br><span class=\"line\">    <span class=\"attr\">characterData</span>: <span class=\"literal\">true</span></span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">  timerFunc = <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">    counter = (counter + <span class=\"number\">1</span>) % <span class=\"number\">2</span></span><br><span class=\"line\">    textNode.<span class=\"property\">data</span> = <span class=\"title class_\">String</span>(counter)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">  timeFunc = <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">setTimeout</span>(nextTickHandle, <span class=\"number\">0</span>)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>é˜Ÿåˆ—æ§åˆ¶çš„æœ€ä½³é€‰æ‹©æ˜¯ microtaskï¼Œè€Œ microtask çš„æœ€ä½³é€‰æ‹©æ˜¯ Promiseã€‚ä½†å¦‚æœå½“å‰ç¯å¢ƒä¸æ”¯æŒ Promiseï¼Œå°±æ£€æµ‹åˆ°æµè§ˆå™¨æ˜¯å¦æ”¯æŒ MOï¼Œæ˜¯åˆ™åˆ›å»ºä¸€ä¸ªæ–‡æœ¬èŠ‚ç‚¹ï¼Œç›‘å¬è¿™ä¸ªæ–‡æœ¬èŠ‚ç‚¹çš„æ”¹åŠ¨äº‹ä»¶ï¼Œä»¥æ­¤æ¥è§¦å‘ nextTickHandlerï¼ˆä¹Ÿå°±æ˜¯ DOM æ›´æ–°å®Œæ¯•å›è°ƒï¼‰çš„æ‰§è¡Œã€‚æ­¤å¤–å› ä¸ºå…¼å®¹æ€§é—®é¢˜ï¼Œvue ä¸å¾—ä¸åšäº† microtask å‘ macrotask çš„é™çº§æ–¹æ¡ˆã€‚</p>\n<p>ä¸ºè®©è¿™ä¸ªå›è°ƒå‡½æ•°å»¶è¿Ÿæ‰§è¡Œï¼Œvue ä¼˜å…ˆç”¨ promise æ¥å®ç°ï¼Œå…¶æ¬¡æ˜¯ html5 çš„ MutationObserverï¼Œç„¶åæ˜¯ setTimeoutã€‚å‰ä¸¤è€…å±äº microtaskï¼Œåä¸€ä¸ªå±äº macrotaskã€‚ä¸‹é¢æ¥çœ‹æœ€åä¸€éƒ¨åˆ†ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">return</span> <span class=\"keyword\">function</span> <span class=\"title function_\">queueNextTick</span>(<span class=\"params\">cb?: <span class=\"built_in\">Function</span>, ctx?: <span class=\"built_in\">Object</span></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> _resolve</span><br><span class=\"line\">  callbacks.<span class=\"title function_\">push</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (cb) cb.<span class=\"title function_\">call</span>(ctx)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (_resolve) <span class=\"title function_\">_resolve</span>(ctx)</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (!pending) &#123;</span><br><span class=\"line\">    pending = <span class=\"literal\">true</span></span><br><span class=\"line\">    <span class=\"title function_\">timerFunc</span>()</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (!cb &amp;&amp; <span class=\"keyword\">typeof</span> <span class=\"title class_\">Promise</span> !== <span class=\"string\">&#x27;undefined&#x27;</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\"><span class=\"params\">resolve</span> =&gt;</span> &#123;</span><br><span class=\"line\">      _resolve = resolve</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>è¿™å°±æ˜¯æˆ‘ä»¬çœŸæ­£è°ƒç”¨çš„ nextTick å‡½æ•°ï¼Œåœ¨ä¸€ä¸ª event loop å†…å®ƒä¼šå°†è°ƒç”¨ nextTick çš„ cb å›è°ƒå‡½æ•°éƒ½æ”¾å…¥ callbacks ä¸­ï¼Œpending ç”¨äºåˆ¤æ–­æ˜¯å¦æœ‰é˜Ÿåˆ—æ­£åœ¨æ‰§è¡Œå›è°ƒï¼Œä¾‹å¦‚æœ‰å¯èƒ½åœ¨ nextTick ä¸­è¿˜æœ‰ä¸€ä¸ª nextTickï¼Œæ­¤æ—¶å°±åº”è¯¥å±äºä¸‹ä¸€ä¸ªå¾ªç¯äº†ã€‚æœ€åå‡ è¡Œä»£ç æ˜¯ promise åŒ–ï¼Œå¯ä»¥å°† nextTick æŒ‰ç…§ promise æ–¹å¼å»ä¹¦å†™ï¼ˆæš‚ä¸”ç”¨çš„è¾ƒå°‘ï¼‰ã€‚</p>\n<h3 id=\"åº”ç”¨åœºæ™¯\"><a href=\"#åº”ç”¨åœºæ™¯\" class=\"headerlink\" title=\"åº”ç”¨åœºæ™¯\"></a>åº”ç”¨åœºæ™¯</h3><p>åœºæ™¯ä¸€ã€ç‚¹å‡»æŒ‰é’®æ˜¾ç¤ºåŸæœ¬ä»¥ v-show &#x3D; false éšè—èµ·æ¥çš„è¾“å…¥æ¡†ï¼Œå¹¶è·å–ç„¦ç‚¹ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;input id=<span class=\"string\">&quot;keywords&quot;</span> v-<span class=\"keyword\">if</span>=<span class=\"string\">&quot;showit&quot;</span>&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">showInput</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">showit</span> = <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;keywords&quot;</span>).<span class=\"title function_\">focus</span>()</span><br></pre></td></tr></table></figure>\n\n<p>ä»¥ä¸Šçš„å†™æ³•åœ¨ç¬¬ä¸€ä¸ª tick é‡Œï¼Œå› ä¸ºè·å–ä¸åˆ°è¾“å…¥æ¡†ï¼Œè‡ªç„¶ä¹Ÿè·å–ä¸åˆ°ç„¦ç‚¹ã€‚å¦‚æœæˆ‘ä»¬æ”¹æˆä»¥ä¸‹çš„å†™æ³•ï¼Œåœ¨ DOM æ›´æ–°åå°±å¯ä»¥è·å–åˆ°è¾“å…¥æ¡†ç„¦ç‚¹äº†ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">showsou</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">showit</span> = <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.$nextTick(<span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// DOM æ›´æ–°äº†</span></span><br><span class=\"line\">    <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;keywords&quot;</span>).<span class=\"title function_\">focus</span>()</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>åœºæ™¯äºŒã€è·å–å…ƒç´ å±ï¼Œç‚¹å‡»è·å–å…ƒç´ å®½åº¦ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;div id=<span class=\"string\">&quot;app&quot;</span>&gt;</span><br><span class=\"line\">  <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">ref</span>=<span class=\"string\">&quot;myWidth&quot;</span> <span class=\"attr\">v-if</span>=<span class=\"string\">&quot;showMe&quot;</span>&gt;</span>&#123;&#123; message &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span></span><br><span class=\"line\">  <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">button</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;getMyWidth&quot;</span>&gt;</span>è·å–på…ƒç´ å®½åº¦<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span></span><br><span class=\"line\">&lt;/div&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">getMyWidth</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">showMe</span> = <span class=\"literal\">true</span>;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">message</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">$refs</span>.<span class=\"property\">myWidth</span>.<span class=\"property\">offsetWidth</span>;</span><br><span class=\"line\">  <span class=\"comment\">//æŠ¥é”™ TypeError: this.$refs.myWidth is undefined</span></span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.$nextTick(<span class=\"function\">()=&gt;</span>&#123;</span><br><span class=\"line\">      <span class=\"comment\">//domå…ƒç´ æ›´æ–°åæ‰§è¡Œï¼Œæ­¤æ—¶èƒ½æ‹¿åˆ°på…ƒç´ çš„å±æ€§</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">message</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">$refs</span>.<span class=\"property\">myWidth</span>.<span class=\"property\">offsetWidth</span>;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"é›¶æ„å»ºä¸€ä¸ªwbpacké¡¹ç›®","url":"/LittleWhiteRabbit/2022/04/26/%E4%BB%8E%E9%9B%B6%E6%9E%84%E5%BB%BA%E4%B8%80%E4%B8%AAwbpack%E9%A1%B9%E7%9B%AE/","content":"<h1 id=\"ä»é›¶æ„å»ºä¸€ä¸ªwbpacké¡¹ç›®\"><a href=\"#ä»é›¶æ„å»ºä¸€ä¸ªwbpacké¡¹ç›®\" class=\"headerlink\" title=\"ä»é›¶æ„å»ºä¸€ä¸ªwbpacké¡¹ç›®\"></a>ä»é›¶æ„å»ºä¸€ä¸ªwbpacké¡¹ç›®</h1><h3 id=\"1ã€æ–°å»ºé¡¹ç›®\"><a href=\"#1ã€æ–°å»ºé¡¹ç›®\" class=\"headerlink\" title=\"1ã€æ–°å»ºé¡¹ç›®\"></a>1ã€æ–°å»ºé¡¹ç›®</h3><p>æ–°å»ºä¸€ä¸ªç©ºæ–‡ä»¶å¤¹ï¼Œç”¨äºåˆ›å»ºé¡¹ç›®ï¼Œä½¿ç”¨ npm init å‘½ä»¤åˆ›å»ºä¸€ä¸ª package.json æ–‡ä»¶ã€‚<br>è¾“å…¥è¿™ä¸ªå‘½ä»¤åï¼Œç»ˆç«¯ä¼šé—®ä½ ä¸€ç³»åˆ—è¯¸å¦‚é¡¹ç›®åç§°ï¼Œé¡¹ç›®æè¿°ï¼Œä½œè€…ç­‰ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ npm init -y è¿™ä¸ªå‘½ä»¤æ¥ä¸€æ¬¡ç”Ÿæˆ package.json æ–‡ä»¶ï¼Œè¿™æ ·ç»ˆç«¯ä¸ä¼šè¯¢é—®ä½ é—®é¢˜ã€‚</p>\n<span id=\"more\"></span>\n<h3 id=\"2ã€å®‰è£…-webpack\"><a href=\"#2ã€å®‰è£…-webpack\" class=\"headerlink\" title=\"2ã€å®‰è£… webpack\"></a>2ã€å®‰è£… webpack</h3><p>å®‰è£… webapck æ—¶æŠŠ webpack-cli ä¹Ÿè£…ä¸Šæ˜¯å› ä¸ºåœ¨ webpack4.x ç‰ˆæœ¬å webpack æ¨¡å—æŠŠä¸€äº›åŠŸèƒ½åˆ†åˆ°äº† webpack-cli æ¨¡å—ï¼Œæ‰€ä»¥ä¸¤è€…éƒ½éœ€è¦å®‰è£…ï¼Œå®‰è£…æ–¹æ³•å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm install webpack webpack-cli --<span class=\"variable language_\">global</span>    <span class=\"comment\">//è¿™æ˜¯å®‰è£…å…¨å±€webpackåŠwebpack-cliæ¨¡å—</span></span><br><span class=\"line\">npm install webpack webpack-cli --save-dev  <span class=\"comment\">//è¿™æ˜¯å®‰è£…æœ¬åœ°é¡¹ç›®æ¨¡å—</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"3ã€æ–°å»ºæ–‡ä»¶\"><a href=\"#3ã€æ–°å»ºæ–‡ä»¶\" class=\"headerlink\" title=\"3ã€æ–°å»ºæ–‡ä»¶\"></a>3ã€æ–°å»ºæ–‡ä»¶</h3><p>åœ¨æ ¹ç›®å½•ä»¶å¤¹ä¸­æ–°å»ºä¸¤ä¸ªæ–‡ä»¶å¤¹ï¼Œåˆ†åˆ«ä¸º src æ–‡ä»¶å¤¹å’Œ dist æ–‡ä»¶å¤¹ï¼Œæ¥ä¸‹æ¥å†åˆ›å»ºä¸‰ä¸ªæ–‡ä»¶:æ­¤æ—¶ï¼Œé¡¹ç›®ç»“æ„å¦‚ä¸‹</p>\n<ul>\n<li>index.html â€“æ”¾åœ¨ dist æ–‡ä»¶å¤¹ä¸­ï¼›</li>\n<li>hello.js â€“æ”¾åœ¨ src æ–‡ä»¶å¤¹ä¸­ï¼›</li>\n<li>index.js â€“æ”¾åœ¨ src æ–‡ä»¶å¤¹ä¸­ï¼›</li>\n</ul>\n<h4 id=\"3-1ã€-index-html-ä¸­å†™ä¸‹-html-ä»£ç ï¼Œå®ƒçš„ä½œç”¨æ˜¯ä¸ºäº†å¼•å…¥æˆ‘ä»¬æ‰“åŒ…åçš„-js-æ–‡ä»¶ï¼š\"><a href=\"#3-1ã€-index-html-ä¸­å†™ä¸‹-html-ä»£ç ï¼Œå®ƒçš„ä½œç”¨æ˜¯ä¸ºäº†å¼•å…¥æˆ‘ä»¬æ‰“åŒ…åçš„-js-æ–‡ä»¶ï¼š\" class=\"headerlink\" title=\"3.1ã€ index.html ä¸­å†™ä¸‹ html ä»£ç ï¼Œå®ƒçš„ä½œç”¨æ˜¯ä¸ºäº†å¼•å…¥æˆ‘ä»¬æ‰“åŒ…åçš„ js æ–‡ä»¶ï¼š\"></a>3.1ã€ index.html ä¸­å†™ä¸‹ html ä»£ç ï¼Œå®ƒçš„ä½œç”¨æ˜¯ä¸ºäº†å¼•å…¥æˆ‘ä»¬æ‰“åŒ…åçš„ js æ–‡ä»¶ï¼š</h4><figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Webpack Project<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;root&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;bundle.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!--è¿™æ˜¯æ‰“åŒ…ä¹‹åçš„jsæ–‡ä»¶ï¼Œæˆ‘ä»¬æš‚æ—¶å‘½åä¸ºbundle.js--&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"3-2ã€åœ¨-hello-js-ä¸­å¯¼å‡ºä¸€ä¸ªæ¨¡å—ï¼š\"><a href=\"#3-2ã€åœ¨-hello-js-ä¸­å¯¼å‡ºä¸€ä¸ªæ¨¡å—ï¼š\" class=\"headerlink\" title=\"3.2ã€åœ¨ hello.js ä¸­å¯¼å‡ºä¸€ä¸ªæ¨¡å—ï¼š\"></a>3.2ã€åœ¨ hello.js ä¸­å¯¼å‡ºä¸€ä¸ªæ¨¡å—ï¼š</h4><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// hello.js</span></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> hello = <span class=\"variable language_\">document</span>.<span class=\"title function_\">createElement</span>(<span class=\"string\">&#x27;div&#x27;</span>)</span><br><span class=\"line\">  hello.<span class=\"property\">innerHTML</span> = <span class=\"string\">&#x27;welcome to China!&#x27;</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> hello</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"3-3ã€åœ¨-index-js-ä¸­å¼•å…¥è¿™ä¸ªæ¨¡å—ï¼ˆhello-jsï¼‰\"><a href=\"#3-3ã€åœ¨-index-js-ä¸­å¼•å…¥è¿™ä¸ªæ¨¡å—ï¼ˆhello-jsï¼‰\" class=\"headerlink\" title=\"3.3ã€åœ¨ index.js ä¸­å¼•å…¥è¿™ä¸ªæ¨¡å—ï¼ˆhello.jsï¼‰:\"></a>3.3ã€åœ¨ index.js ä¸­å¼•å…¥è¿™ä¸ªæ¨¡å—ï¼ˆhello.jsï¼‰:</h4><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//index.js</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> hello = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;./hello.js&#x27;</span>)</span><br><span class=\"line\"><span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;#root&#x27;</span>).<span class=\"title function_\">appendChild</span>(<span class=\"title function_\">hello</span>())</span><br></pre></td></tr></table></figure>\n\n<p>ä¸Šè¿°æ“ä½œå°±ç›¸å½“äºæˆ‘ä»¬æŠŠ hello.js æ¨¡å—åˆå¹¶åˆ°äº† index.js æ¨¡å—ï¼Œä¹‹åæˆ‘ä»¬æ‰“åŒ…æ—¶å°±åªéœ€æŠŠ index.js æ¨¡å—æ‰“åŒ…æˆ bundle.js å³å¯ã€‚</p>\n<h4 id=\"3-4ã€è¿›è¡Œæœ€ç®€å•çš„-webpack-æ‰“åŒ…\"><a href=\"#3-4ã€è¿›è¡Œæœ€ç®€å•çš„-webpack-æ‰“åŒ…\" class=\"headerlink\" title=\"3.4ã€è¿›è¡Œæœ€ç®€å•çš„ webpack æ‰“åŒ…\"></a>3.4ã€è¿›è¡Œæœ€ç®€å•çš„ webpack æ‰“åŒ…</h4><figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// åœ¨ç»ˆç«¯ä¸­ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤è¿›è¡Œæ‰“åŒ…ï¼š</span></span><br><span class=\"line\">webpack src/index.<span class=\"property\">js</span> --output dist/bundle.<span class=\"property\">js</span></span><br></pre></td></tr></table></figure>\n\n<p>ä¸Šè¿°å°±ç›¸å½“äºæŠŠ src æ–‡ä»¶å¤¹ä¸‹çš„ index.js æ–‡ä»¶æ‰“åŒ…åˆ° dist æ–‡ä»¶ä¸‹çš„ bundle.jsï¼Œè¿™æ—¶å°±ç”Ÿæˆäº† bundle.js ä¾› index.html æ–‡ä»¶å¼•ç”¨ã€‚ç°åœ¨æ‰“å¼€ index.html å°±å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„é¡µé¢äº†ã€‚</p>\n<h3 id=\"4ã€é…ç½®-webpack-config-js\"><a href=\"#4ã€é…ç½®-webpack-config-js\" class=\"headerlink\" title=\"4ã€é…ç½® webpack.config.js\"></a>4ã€é…ç½® webpack.config.js</h3><p>ä¸Šè¿°æ‰“åŒ…æ–¹å¼å¤ª low äº†ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å½“å‰é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶ webpack.config.js ç”¨æ¥é…ç½®æ‰“åŒ…æ–¹å¼ã€‚<br>webpack.config.js é…ç½®å¦‚ä¸‹</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> path = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;path&#x27;</span>) <span class=\"comment\">// å¤„ç†ç»å¯¹è·¯å¾„</span></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">entry</span>: path.<span class=\"title function_\">join</span>(__dirname, <span class=\"string\">&#x27;/src/index.js&#x27;</span>), <span class=\"comment\">// å…¥å£æ–‡ä»¶</span></span><br><span class=\"line\">  <span class=\"attr\">output</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">path</span>: path.<span class=\"title function_\">join</span>(__dirname, <span class=\"string\">&#x27;/dist&#x27;</span>), <span class=\"comment\">//æ‰“åŒ…åçš„æ–‡ä»¶å­˜æ”¾çš„åœ°æ–¹</span></span><br><span class=\"line\">    <span class=\"attr\">filename</span>: <span class=\"string\">&#x27;bundle.js&#x27;</span> <span class=\"comment\">//æ‰“åŒ…åè¾“å‡ºæ–‡ä»¶çš„æ–‡ä»¶å</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æœ‰äº†è¿™ä¸ªé…ç½®æ–‡ä»¶ï¼Œæˆ‘ä»¬åªéœ€åœ¨ç»ˆç«¯ä¸­è¿è¡Œ webpack å‘½ä»¤å°±å¯è¿›è¡Œæ‰“åŒ…ï¼Œè¿™æ¡å‘½ä»¤ä¼šè‡ªåŠ¨å¼•ç”¨ webpack.config.js æ–‡ä»¶ä¸­çš„é…ç½®é€‰é¡¹ã€‚</p>\n<h3 id=\"5ã€æ„å»ºæœ¬åœ°æœåŠ¡å™¨\"><a href=\"#5ã€æ„å»ºæœ¬åœ°æœåŠ¡å™¨\" class=\"headerlink\" title=\"5ã€æ„å»ºæœ¬åœ°æœåŠ¡å™¨\"></a>5ã€æ„å»ºæœ¬åœ°æœåŠ¡å™¨</h3><p>ç°åœ¨æˆ‘ä»¬æ˜¯é€šè¿‡æ‰“å¼€æœ¬åœ°æ–‡ä»¶æ¥æŸ¥çœ‹é¡µé¢çš„ï¼Œæ„Ÿè§‰è¿˜æ˜¯æœ‰ç‚¹ lowã€‚ä¾‹å¦‚ vue, react ç­‰è„šæ‰‹æ¶éƒ½æ˜¯åœ¨æœ¬åœ°æœåŠ¡å™¨è¿è¡Œçš„ã€‚æ‰€ä»¥æˆ‘ä»¬å†åšè¿›ä¸€æ­¥ä¼˜åŒ–ã€‚</p>\n<h4 id=\"5-1-webpack-dev-server-é…ç½®æœ¬åœ°æœåŠ¡å™¨\"><a href=\"#5-1-webpack-dev-server-é…ç½®æœ¬åœ°æœåŠ¡å™¨\" class=\"headerlink\" title=\"5.1 webpack-dev-server é…ç½®æœ¬åœ°æœåŠ¡å™¨\"></a>5.1 webpack-dev-server é…ç½®æœ¬åœ°æœåŠ¡å™¨</h4><p>Webpack æä¾›äº†ä¸€ä¸ªå¯é€‰çš„æœ¬åœ°å¼€å‘æœåŠ¡å™¨ï¼Œè¿™ä¸ªæœ¬åœ°æœåŠ¡å™¨åŸºäº node.js æ„å»ºï¼Œå®ƒæ˜¯ä¸€ä¸ªå•ç‹¬çš„ç»„ä»¶ï¼Œåœ¨ webpack ä¸­è¿›è¡Œé…ç½®ä¹‹å‰éœ€è¦å•ç‹¬å®‰è£…å®ƒä½œä¸ºé¡¹ç›®ä¾èµ–ï¼šnpm i webpack-dev-server -D</p>\n<p>ä»¥ä¸‹æ˜¯devServer çš„ä¸€äº›é…ç½®é€‰é¡¹:</p>\n<ul>\n<li>contentBase ï¼šè®¾ç½®æœåŠ¡å™¨æ‰€è¯»å–æ–‡ä»¶çš„ç›®å½•ï¼Œå½“å‰æˆ‘ä»¬è®¾ç½®ä¸ºâ€.&#x2F;distâ€</li>\n<li>port ï¼šè®¾ç½®ç«¯å£å·ï¼Œå¦‚æœçœç•¥ï¼Œé»˜è®¤ä¸º 8080</li>\n<li>inline ï¼šè®¾ç½®ä¸º trueï¼Œå½“æºæ–‡ä»¶æ”¹å˜æ—¶ä¼šè‡ªåŠ¨åˆ·æ–°é¡µé¢</li>\n<li>historyApiFallback ï¼šè®¾ç½®ä¸º trueï¼Œæ‰€æœ‰çš„è·³è½¬å°†æŒ‡å‘ index.html</li>\n</ul>\n<p>ç°åœ¨æˆ‘ä»¬æŠŠè¿™äº›é…ç½®åŠ åˆ° webpack.config.js æ–‡ä»¶ä¸Šï¼Œå¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// webpack.config.js</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> path = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;path&#x27;</span>)</span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">entry</span>: path.<span class=\"title function_\">join</span>(__dirname, <span class=\"string\">&#x27;/src/index.js&#x27;</span>), <span class=\"comment\">// å…¥å£æ–‡ä»¶</span></span><br><span class=\"line\">  <span class=\"attr\">output</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">path</span>: path.<span class=\"title function_\">join</span>(__dirname, <span class=\"string\">&#x27;/dist&#x27;</span>), <span class=\"comment\">//æ‰“åŒ…åçš„æ–‡ä»¶å­˜æ”¾çš„åœ°æ–¹</span></span><br><span class=\"line\">    <span class=\"attr\">filename</span>: <span class=\"string\">&#x27;bundle.js&#x27;</span> <span class=\"comment\">//æ‰“åŒ…åè¾“å‡ºæ–‡ä»¶çš„æ–‡ä»¶å</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">devServer</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">contentBase</span>: <span class=\"string\">&#x27;./dist&#x27;</span>, <span class=\"comment\">// æœ¬åœ°æœåŠ¡å™¨æ‰€åŠ è½½æ–‡ä»¶çš„ç›®å½•</span></span><br><span class=\"line\">    <span class=\"attr\">port</span>: <span class=\"string\">&#x27;8088&#x27;</span>, <span class=\"comment\">// è®¾ç½®ç«¯å£å·ä¸º8088</span></span><br><span class=\"line\">    <span class=\"attr\">inline</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// æ–‡ä»¶ä¿®æ”¹åå®æ—¶åˆ·æ–°</span></span><br><span class=\"line\">    <span class=\"attr\">historyApiFallback</span>: <span class=\"literal\">true</span> <span class=\"comment\">//ä¸è·³è½¬</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"5-2ã€package-json-æ–‡ä»¶ä¸­æ·»åŠ å¯åŠ¨å’Œæ‰“åŒ…å‘½ä»¤\"><a href=\"#5-2ã€package-json-æ–‡ä»¶ä¸­æ·»åŠ å¯åŠ¨å’Œæ‰“åŒ…å‘½ä»¤\" class=\"headerlink\" title=\"5.2ã€package.json æ–‡ä»¶ä¸­æ·»åŠ å¯åŠ¨å’Œæ‰“åŒ…å‘½ä»¤\"></a>5.2ã€package.json æ–‡ä»¶ä¸­æ·»åŠ å¯åŠ¨å’Œæ‰“åŒ…å‘½ä»¤</h4><p>package.json æ–‡ä»¶ä¿®æ”¹å¦‚ä¸‹</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"string\">&quot;name&quot;</span>: <span class=\"string\">&quot;webpack-project&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;version&quot;</span>: <span class=\"string\">&quot;1.0.0&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;description&quot;</span>: <span class=\"string\">&quot;&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;main&quot;</span>: <span class=\"string\">&quot;index.js&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;scripts&quot;</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">&quot;build&quot;</span>: <span class=\"string\">&quot;webpack&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;dev&quot;</span>: <span class=\"string\">&quot;webpack-dev-server --open&quot;</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"string\">&quot;keywords&quot;</span>: [],</span><br><span class=\"line\">  <span class=\"string\">&quot;author&quot;</span>: <span class=\"string\">&quot;&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;license&quot;</span>: <span class=\"string\">&quot;ISC&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;devDependencies&quot;</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">&quot;webpack&quot;</span>: <span class=\"string\">&quot;^4.23.1&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;webpack-cli&quot;</span>: <span class=\"string\">&quot;^3.1.2&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;webpack-dev-server&quot;</span>: <span class=\"string\">&quot;^3.1.10&quot;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œæœ¬åœ°è¿è¡Œæˆ–è€…æ‰“åŒ…æ–‡ä»¶äº†</p>\n<ul>\n<li>npm run dev å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨ï¼Œwebpack-dev-server å°±æ˜¯å¯åŠ¨æœåŠ¡å™¨çš„å‘½ä»¤ï¼Œâ€“open æ˜¯ç”¨äºå¯åŠ¨å®ŒæœåŠ¡å™¨åè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨ã€‚</li>\n<li>npm run build æ‰§è¡Œæ‰“åŒ…å‘½ä»¤</li>\n</ul>\n<p>æ­¤æ—¶ï¼Œæˆ‘ä»¬åªè¦è¾“å…¥ npm run dev å°±å¯ä»¥åœ¨<a href=\"http://localhost:8088/%E4%B8%AD%E6%9F%A5%E7%9C%8B%E9%A1%B5%E9%9D%A2%E4%BA%86%E3%80%82\">http://localhost:8088/ä¸­æŸ¥çœ‹é¡µé¢äº†ã€‚</a></p>\n<h3 id=\"6ã€é…ç½®å¸¸ç”¨-loader\"><a href=\"#6ã€é…ç½®å¸¸ç”¨-loader\" class=\"headerlink\" title=\"6ã€é…ç½®å¸¸ç”¨ loader\"></a>6ã€é…ç½®å¸¸ç”¨ loader</h3><p>loader å¯ä»¥è®© webpack èƒ½å¤Ÿå»å¤„ç†é‚£äº›é JavaScript æ–‡ä»¶ï¼ˆwebpack è‡ªèº«åªç†è§£ JavaScriptï¼‰ã€‚loader å¯ä»¥å°†æ‰€æœ‰ç±»å‹çš„æ–‡ä»¶è½¬æ¢ä¸º webpack èƒ½å¤Ÿå¤„ç†çš„æœ‰æ•ˆæ¨¡å—ï¼Œç„¶åä½ å°±å¯ä»¥åˆ©ç”¨ webpack çš„æ‰“åŒ…èƒ½åŠ›ï¼Œå¯¹å®ƒä»¬è¿›è¡Œå¤„ç†ã€‚</p>\n<p>Loaders çš„é…ç½®åŒ…æ‹¬ä»¥ä¸‹å‡ æ–¹é¢ï¼š</p>\n<ul>\n<li>testï¼šä¸€ä¸ªç”¨ä»¥åŒ¹é… loaders æ‰€å¤„ç†æ–‡ä»¶çš„æ‹“å±•åçš„æ­£åˆ™è¡¨è¾¾å¼ï¼ˆå¿…é¡»ï¼‰</li>\n<li>loaderï¼šloader çš„åç§°ï¼ˆå¿…é¡»ï¼‰</li>\n<li>include&#x2F;excludeï¼šæ‰‹åŠ¨æ·»åŠ å¿…é¡»å¤„ç†çš„æ–‡ä»¶ï¼ˆæ–‡ä»¶å¤¹ï¼‰æˆ–å±è”½ä¸éœ€è¦å¤„ç†çš„æ–‡ä»¶ï¼ˆæ–‡ä»¶å¤¹ï¼‰ï¼ˆå¯é€‰ï¼‰ï¼›</li>\n<li>optionsï¼šä¸º loaders æä¾›é¢å¤–çš„è®¾ç½®é€‰é¡¹ï¼ˆå¯é€‰ï¼‰</li>\n</ul>\n<h4 id=\"é…ç½®-css-loader-å’Œ-sass-loader\"><a href=\"#é…ç½®-css-loader-å’Œ-sass-loader\" class=\"headerlink\" title=\"é…ç½® css-loader å’Œ sass-loader\"></a>é…ç½® css-loader å’Œ sass-loader</h4><p>å¦‚æœæˆ‘ä»¬è¦åŠ è½½ä¸€ä¸ª css æ–‡ä»¶ï¼Œéœ€è¦å®‰è£…é…ç½® style-loader å’Œ css-loaderã€‚<br>å¦‚æœæˆ‘ä»¬è¦ä½¿ç”¨ sassï¼Œå°±è¦é…ç½® sass-loader å’Œ node-sassã€‚</p>\n<ul>\n<li>css-loaderï¼šåŠ è½½.css æ–‡ä»¶</li>\n<li>style-loaderï¼šä½¿ç”¨ style æ ‡ç­¾å°† css-loader å†…éƒ¨æ ·å¼æ³¨å…¥åˆ°æˆ‘ä»¬çš„ HTML é¡µé¢</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> path = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;path&#x27;</span>)</span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">entry</span>: path.<span class=\"title function_\">join</span>(__dirname, <span class=\"string\">&#x27;/src/index.js&#x27;</span>), <span class=\"comment\">// å…¥å£æ–‡ä»¶</span></span><br><span class=\"line\">  <span class=\"attr\">output</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">path</span>: path.<span class=\"title function_\">join</span>(__dirname, <span class=\"string\">&#x27;/dist&#x27;</span>), <span class=\"comment\">//æ‰“åŒ…åçš„æ–‡ä»¶å­˜æ”¾çš„åœ°æ–¹</span></span><br><span class=\"line\">    <span class=\"attr\">filename</span>: <span class=\"string\">&#x27;bundle.js&#x27;</span> <span class=\"comment\">//æ‰“åŒ…åè¾“å‡ºæ–‡ä»¶çš„æ–‡ä»¶å</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">devServer</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">contentBase</span>: <span class=\"string\">&#x27;./dist&#x27;</span>, <span class=\"comment\">// æœ¬åœ°æœåŠ¡å™¨æ‰€åŠ è½½æ–‡ä»¶çš„ç›®å½•</span></span><br><span class=\"line\">    <span class=\"attr\">port</span>: <span class=\"string\">&#x27;8088&#x27;</span>, <span class=\"comment\">// è®¾ç½®ç«¯å£å·ä¸º8088</span></span><br><span class=\"line\">    <span class=\"attr\">inline</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// æ–‡ä»¶ä¿®æ”¹åå®æ—¶åˆ·æ–°</span></span><br><span class=\"line\">    <span class=\"attr\">historyApiFallback</span>: <span class=\"literal\">true</span> <span class=\"comment\">//ä¸è·³è½¬</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">module</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">rules</span>: [</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.css$/</span>, <span class=\"comment\">// æ­£åˆ™åŒ¹é…ä»¥.cssç»“å°¾çš„æ–‡ä»¶</span></span><br><span class=\"line\">        <span class=\"attr\">use</span>: [<span class=\"string\">&#x27;style-loader&#x27;</span>, <span class=\"string\">&#x27;css-loader&#x27;</span>]</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.(scss|sass)$/</span>, <span class=\"comment\">// æ­£åˆ™åŒ¹é…ä»¥.scsså’Œ.sassç»“å°¾çš„æ–‡ä»¶</span></span><br><span class=\"line\">        <span class=\"attr\">use</span>: [<span class=\"string\">&#x27;style-loader&#x27;</span>, <span class=\"string\">&#x27;css-loader&#x27;</span>, <span class=\"string\">&#x27;sass-loader&#x27;</span>]</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"é…ç½®-Babel-loader\"><a href=\"#é…ç½®-Babel-loader\" class=\"headerlink\" title=\"é…ç½® Babel-loader\"></a>é…ç½® Babel-loader</h4><p>Babel å…¶å®æ˜¯ä¸€ä¸ªç¼–è¯‘ JavaScript çš„å¹³å°ï¼Œå®ƒå¯ä»¥ç¼–è¯‘ä»£ç å¸®ä½ è¾¾åˆ°ä»¥ä¸‹ç›®çš„ï¼š</p>\n<ul>\n<li>è®©ä½ èƒ½ä½¿ç”¨æœ€æ–°çš„ JavaScript ä»£ç ï¼ˆES6ï¼ŒES7â€¦ï¼‰ï¼›</li>\n<li>è®©ä½ èƒ½ä½¿ç”¨åŸºäº JavaScript è¿›è¡Œäº†æ‹“å±•çš„è¯­è¨€ï¼Œæ¯”å¦‚ React çš„ JSXï¼›</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">module</span>: &#123;</span><br><span class=\"line\">  ...</span><br><span class=\"line\">  <span class=\"attr\">rules</span>: [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.js$/</span>,</span><br><span class=\"line\">      <span class=\"attr\">loader</span>: <span class=\"string\">&#x27;babel-loader&#x27;</span>,</span><br><span class=\"line\">      <span class=\"attr\">include</span>: [<span class=\"title function_\">resolve</span>(<span class=\"string\">&#x27;src&#x27;</span>)]</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"å¤„ç†å›¾ç‰‡\"><a href=\"#å¤„ç†å›¾ç‰‡\" class=\"headerlink\" title=\"å¤„ç†å›¾ç‰‡\"></a>å¤„ç†å›¾ç‰‡</h4><p>å¤„ç†å›¾ç‰‡èµ„æºæ—¶ï¼Œæˆ‘ä»¬å¸¸ç”¨çš„ä¸¤ç§ loader æ˜¯ file-loader æˆ–è€… url-loaderã€‚<br>å½“ä½¿ç”¨ url-loader åŠ è½½å›¾ç‰‡ï¼Œå›¾ç‰‡å°äºä¸Šé™å€¼ï¼Œåˆ™å°†å›¾ç‰‡è½¬ base64 å­—ç¬¦ä¸²ï¼Œå¦åˆ™ä½¿ç”¨ file-loader åŠ è½½å›¾ç‰‡ã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">module</span>: &#123;</span><br><span class=\"line\">  ...</span><br><span class=\"line\">  <span class=\"attr\">rules</span>: [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.(png|jpe?g|gif|svg)(\\?.*)?$/</span>,</span><br><span class=\"line\">      <span class=\"attr\">loader</span>: <span class=\"string\">&#x27;url-loader&#x27;</span>,</span><br><span class=\"line\">      <span class=\"attr\">options</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">limit</span>: <span class=\"number\">10000</span>,</span><br><span class=\"line\">        <span class=\"attr\">name</span>: utils.<span class=\"title function_\">assetsPath</span>(<span class=\"string\">&#x27;img/[name].[hash:7].[ext]&#x27;</span>)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"7ã€é…ç½®å¸¸ç”¨æ’ä»¶\"><a href=\"#7ã€é…ç½®å¸¸ç”¨æ’ä»¶\" class=\"headerlink\" title=\"7ã€é…ç½®å¸¸ç”¨æ’ä»¶\"></a>7ã€é…ç½®å¸¸ç”¨æ’ä»¶</h3><p>loader è¢«ç”¨äºè½¬æ¢æŸäº›ç±»å‹çš„æ¨¡å—ï¼Œè€Œæ’ä»¶åˆ™å¯ä»¥ç”¨äºæ‰§è¡ŒèŒƒå›´æ›´å¹¿çš„ä»»åŠ¡ã€‚æ’ä»¶çš„èŒƒå›´åŒ…æ‹¬ï¼Œä»æ‰“åŒ…ä¼˜åŒ–å’Œå‹ç¼©ï¼Œä¸€ç›´åˆ°é‡æ–°å®šä¹‰ç¯å¢ƒä¸­çš„å˜é‡ã€‚æ’ä»¶æ¥å£åŠŸèƒ½æå…¶å¼ºå¤§ï¼Œå¯ä»¥ç”¨æ¥å¤„ç†å„ç§å„æ ·çš„ä»»åŠ¡ã€‚</p>\n<h4 id=\"7-1ã€è‡ªåŠ¨ç”Ÿæˆ-html-æ–‡ä»¶-HtmlWebpackPlugin\"><a href=\"#7-1ã€è‡ªåŠ¨ç”Ÿæˆ-html-æ–‡ä»¶-HtmlWebpackPlugin\" class=\"headerlink\" title=\"7.1ã€è‡ªåŠ¨ç”Ÿæˆ html æ–‡ä»¶(HtmlWebpackPlugin)\"></a>7.1ã€è‡ªåŠ¨ç”Ÿæˆ html æ–‡ä»¶(HtmlWebpackPlugin)</h4><p>ç°åœ¨æˆ‘ä»¬éƒ½æ˜¯ä½¿ç”¨ä¸€å¼€å§‹å»ºå¥½çš„ index.html æ–‡ä»¶ï¼Œç„¶åæ‰‹åŠ¨å¼•å…¥ bundle.jsï¼Œå¦‚æœä»¥åæˆ‘ä»¬å¼•å…¥ä¸æ­¢ä¸€ä¸ª js æ–‡ä»¶ï¼Œé‚£å°±å¾—æ›´æ”¹ index.html ä¸­çš„ js æ–‡ä»¶åï¼Œæ‰€ä»¥èƒ½ä¸èƒ½è‡ªåŠ¨ç”Ÿæˆ index.html ä¸”è‡ªåŠ¨å¼•ç”¨æ‰“åŒ…åçš„ js å‘¢ï¼Ÿ<br>HtmlWebpackPlugin æ’ä»¶å°±æ˜¯ç”¨æ¥è§£å†³è¿™ä¸ªé—®é¢˜çš„ï¼š</p>\n<ol>\n<li>å®‰è£…æ’ä»¶ npm i html-webpack-plugin -D</li>\n<li>æŠŠ dist æ–‡ä»¶å¤¹æ¸…ç©º</li>\n<li>åœ¨æ ¹ç›®å½•æ–°å»º index.html,å†…å®¹å’ŒåŸæ¥çš„ html ä¸€è‡´ï¼Œåªæ˜¯ä¸å¼•å…¥ js æ–‡ä»¶ã€‚</li>\n<li>webpack.config.js ä¸­æˆ‘ä»¬å¼•å…¥äº† HtmlWebpackPlugin æ’ä»¶</li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">  <span class=\"keyword\">new</span> <span class=\"title class_\">HtmlWebpackPlugin</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">filename</span>: <span class=\"string\">&#x27;index.html&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">template</span>: <span class=\"string\">&#x27;index.html&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">inject</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"attr\">minify</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">removeComments</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">      <span class=\"attr\">collapseWhitespace</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">      <span class=\"attr\">removeAttributeQuotes</span>: <span class=\"literal\">true</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n\n<p>æ­¤æ—¶æˆ‘ä»¬ä½¿ç”¨ npm run build è¿›è¡Œæ‰“åŒ…ï¼Œä½ ä¼šå‘ç°ï¼Œdist æ–‡ä»¶å¤¹å’Œ html æ–‡ä»¶éƒ½ä¼šè‡ªåŠ¨ç”Ÿæˆã€‚</p>\n<h4 id=\"7-2ã€æ¸…ç†-x2F-dist-æ–‡ä»¶å¤¹-CleanWebpackPlugin\"><a href=\"#7-2ã€æ¸…ç†-x2F-dist-æ–‡ä»¶å¤¹-CleanWebpackPlugin\" class=\"headerlink\" title=\"7.2ã€æ¸…ç†&#x2F;dist æ–‡ä»¶å¤¹(CleanWebpackPlugin)\"></a>7.2ã€æ¸…ç†&#x2F;dist æ–‡ä»¶å¤¹(CleanWebpackPlugin)</h4><p>åœ¨æ¯æ¬¡æ„å»ºå‰æ¸…ç†&#x2F;dist æ–‡ä»¶å¤¹ï¼Œç”Ÿäº§æœ€æ–°çš„æ‰“åŒ…æ–‡ä»¶ï¼Œè¿™æ—¶å€™å°±ç”¨åˆ° CleanWebpackPlugin æ’ä»¶äº†ã€‚</p>\n<ol>\n<li>å®‰è£… npm i clean-webpack-plugin -D</li>\n<li>é…ç½® webpack.config.js</li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">  <span class=\"keyword\">new</span> <span class=\"title class_\">HtmlWebpackPlugin</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">filename</span>: <span class=\"string\">&#x27;index.html&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">template</span>: <span class=\"string\">&#x27;index.html&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">inject</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"attr\">minify</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">removeComments</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">      <span class=\"attr\">collapseWhitespace</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">      <span class=\"attr\">removeAttributeQuotes</span>: <span class=\"literal\">true</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;),</span><br><span class=\"line\">  <span class=\"keyword\">new</span> <span class=\"title class_\">CleanWebpackPlugin</span>([<span class=\"string\">&#x27;dist&#x27;</span>])</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"7-3ã€çƒ­æ›´æ–°-HotModuleReplacementPlugin\"><a href=\"#7-3ã€çƒ­æ›´æ–°-HotModuleReplacementPlugin\" class=\"headerlink\" title=\"7.3ã€çƒ­æ›´æ–°(HotModuleReplacementPlugin)\"></a>7.3ã€çƒ­æ›´æ–°(HotModuleReplacementPlugin)</h4><p>æˆ‘ä»¬è¦åœ¨ä¿®æ”¹ä»£ç åè‡ªåŠ¨æ›´æ–°é¡µé¢ï¼Œè¿™å°±éœ€è¦ HotModuleReplacementPluginï¼ˆHMRï¼‰æ’ä»¶</p>\n<ol>\n<li>devServer é…ç½®é¡¹ä¸­æ·»åŠ  hot: true å‚æ•°ã€‚</li>\n<li>å› ä¸º HotModuleReplacementPlugin æ˜¯ webpack æ¨¡å—è‡ªå¸¦çš„ï¼Œæ‰€ä»¥å¼•å…¥ webpack åï¼Œåœ¨ plugins é…ç½®é¡¹ä¸­ç›´æ¥ä½¿ç”¨å³å¯ã€‚</li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">  <span class=\"keyword\">new</span> <span class=\"title class_\">HtmlWebpackPlugin</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">filename</span>: <span class=\"string\">&#x27;index.html&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">template</span>: <span class=\"string\">&#x27;index.html&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">inject</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"attr\">minify</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">removeComments</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">      <span class=\"attr\">collapseWhitespace</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">      <span class=\"attr\">removeAttributeQuotes</span>: <span class=\"literal\">true</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;),</span><br><span class=\"line\">  <span class=\"keyword\">new</span> <span class=\"title class_\">CleanWebpackPlugin</span>([<span class=\"string\">&#x27;dist&#x27;</span>])</span><br><span class=\"line\">  <span class=\"keyword\">new</span> webpack.<span class=\"title class_\">HotModuleReplacementPlugin</span>()</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"7-4ã€å¢åŠ -css-å‰ç¼€\"><a href=\"#7-4ã€å¢åŠ -css-å‰ç¼€\" class=\"headerlink\" title=\"7.4ã€å¢åŠ  css å‰ç¼€\"></a>7.4ã€å¢åŠ  css å‰ç¼€</h4><p>å¹³æ—¶æˆ‘ä»¬å†™ css æ—¶ï¼Œä¸€äº›å±æ€§éœ€è¦æ‰‹åŠ¨åŠ ä¸Šå‰ç¼€ï¼Œæ¯”å¦‚-webkit-border-radius: 10px;ï¼Œåœ¨ webpack ä¸­æˆ‘ä»¬å¯ä»¥è®©ä»–è‡ªåŠ¨åŠ ä¸Š</p>\n<ol>\n<li>å®‰è£… npm i postcss-loader autoprefixer -D</li>\n<li>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ–°å»º postcss.config.js æ–‡ä»¶</li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">    <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;autoprefixer&#x27;</span>) <span class=\"comment\">// å¼•ç”¨autoprefixeræ¨¡å—</span></span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">   ...</span><br><span class=\"line\">  <span class=\"attr\">module</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">rules</span>: [</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.css$/</span>, <span class=\"comment\">// æ­£åˆ™åŒ¹é…ä»¥.cssç»“å°¾çš„æ–‡ä»¶</span></span><br><span class=\"line\">        <span class=\"attr\">use</span>: [</span><br><span class=\"line\">          &#123; <span class=\"attr\">loader</span>: <span class=\"string\">&#x27;style-loader&#x27;</span> &#125;, <span class=\"comment\">// è¿™é‡Œé‡‡ç”¨çš„æ˜¯å¯¹è±¡é…ç½®loaderçš„å†™æ³•</span></span><br><span class=\"line\">          &#123; <span class=\"attr\">loader</span>: <span class=\"string\">&#x27;css-loader&#x27;</span> &#125;,</span><br><span class=\"line\">          &#123; <span class=\"attr\">loader</span>: <span class=\"string\">&#x27;postcss-loader&#x27;</span> &#125; <span class=\"comment\">// ä½¿ç”¨postcss-loader</span></span><br><span class=\"line\">        ]</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">       ...</span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">   ...</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"7-5ã€css-åˆ†ç¦»-ExtractTextPlugin\"><a href=\"#7-5ã€css-åˆ†ç¦»-ExtractTextPlugin\" class=\"headerlink\" title=\"7.5ã€css åˆ†ç¦» ExtractTextPlugin\"></a>7.5ã€css åˆ†ç¦» ExtractTextPlugin</h4><p>å°† css æˆç”Ÿæ–‡ä»¶ï¼Œè€Œéå†…è”ã€‚è¯¥æ’ä»¶çš„ä¸»è¦æ˜¯ä¸ºäº†æŠ½ç¦» css æ ·å¼,é˜²æ­¢å°†æ ·å¼æ‰“åŒ…åœ¨ js ä¸­å¼•èµ·é¡µé¢æ ·å¼åŠ è½½é”™ä¹±çš„ç°è±¡ã€‚</p>\n<ol>\n<li>å®‰è£… npm i extract-text-webpack-plugin@next -D</li>\n<li>åœ¨ webpack.common.js æ–‡ä»¶ä¸­å¼•å…¥å¹¶ä½¿ç”¨è¯¥æ’ä»¶ï¼š</li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">ExtractTextPlugin</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;extract-text-webpack-plugin&#x27;</span>) <span class=\"comment\">//å¼•å…¥åˆ†ç¦»æ’ä»¶</span></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">module</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">rules</span>: [</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.css$/</span>, <span class=\"comment\">// æ­£åˆ™åŒ¹é…ä»¥.cssç»“å°¾çš„æ–‡ä»¶</span></span><br><span class=\"line\">        <span class=\"attr\">use</span>: <span class=\"title class_\">ExtractTextPlugin</span>.<span class=\"title function_\">extract</span>(&#123;</span><br><span class=\"line\">          <span class=\"comment\">// ç›¸å½“äºå›æ»šï¼Œç»postcss-loaderå’Œcss-loaderå¤„ç†è¿‡çš„cssæœ€ç»ˆå†ç»è¿‡style-loaderå¤„ç†</span></span><br><span class=\"line\">          <span class=\"attr\">fallback</span>: <span class=\"string\">&#x27;style-loader&#x27;</span>,</span><br><span class=\"line\">          <span class=\"attr\">use</span>: [<span class=\"string\">&#x27;css-loader&#x27;</span>, <span class=\"string\">&#x27;postcss-loader&#x27;</span>]</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">ExtractTextPlugin</span>(<span class=\"string\">&#x27;css/index.css&#x27;</span>) <span class=\"comment\">// å°†cssåˆ†ç¦»åˆ°/distæ–‡ä»¶å¤¹ä¸‹çš„cssæ–‡ä»¶å¤¹ä¸­çš„index.css</span></span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æ­¤æ—¶è¿è¡Œ npm run build åä¼šå‘ç°&#x2F;dist æ–‡ä»¶å¤¹å†…å¤šå‡ºäº†&#x2F;css æ–‡ä»¶å¤¹åŠ index.css æ–‡ä»¶ã€‚</p>\n<h4 id=\"7-6ã€æ¶ˆé™¤å†—ä½™-css\"><a href=\"#7-6ã€æ¶ˆé™¤å†—ä½™-css\" class=\"headerlink\" title=\"7.6ã€æ¶ˆé™¤å†—ä½™ css\"></a>7.6ã€æ¶ˆé™¤å†—ä½™ css</h4><p>æœ‰æ—¶å€™æˆ‘ä»¬ css å†™å¾—å¤šäº†ï¼Œå¯èƒ½ä¼šä¸è‡ªè§‰çš„å†™é‡å¤äº†ä¸€äº›æ ·å¼ï¼Œè¿™å°±é€ æˆäº†å¤šä½™çš„ä»£ç ï¼Œä»¥ä¸‹æ–¹æ³•å¯ä»¥ä¼˜åŒ–</p>\n<ol>\n<li>å®‰è£… npm i purifycss-webpack purify-css glob -D</li>\n<li>å¼•å…¥ clean-webpack-plugin åŠ glob æ’ä»¶å¹¶ä½¿ç”¨</li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">PurifyCssWebpack</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;purifycss-webpack&#x27;</span>) <span class=\"comment\">// å¼•å…¥PurifyCssWebpackæ’ä»¶</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> glob = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;glob&#x27;</span>) <span class=\"comment\">// å¼•å…¥globæ¨¡å—,ç”¨äºæ‰«æå…¨éƒ¨htmlæ–‡ä»¶ä¸­æ‰€å¼•ç”¨çš„css</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">  <span class=\"keyword\">new</span> <span class=\"title class_\">PurifyCssWebpack</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">paths</span>: glob.<span class=\"title function_\">sync</span>(path.<span class=\"title function_\">join</span>(__dirname, <span class=\"string\">&#x27;src/*.html&#x27;</span>)) <span class=\"comment\">// åŒæ­¥æ‰«ææ‰€æœ‰htmlæ–‡ä»¶ä¸­æ‰€å¼•ç”¨çš„css</span></span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n\n\n<h4 id=\"è‡³æ­¤ï¼Œä¸€äº›å¸¸ç”¨çš„é…ç½®ä»¥åŠå¼„å¥½äº†ï¼Œç°åœ¨å°±å¼€å§‹æ„‰å¿«åœ°å†™ä»£ç äº†ã€‚\"><a href=\"#è‡³æ­¤ï¼Œä¸€äº›å¸¸ç”¨çš„é…ç½®ä»¥åŠå¼„å¥½äº†ï¼Œç°åœ¨å°±å¼€å§‹æ„‰å¿«åœ°å†™ä»£ç äº†ã€‚\" class=\"headerlink\" title=\"è‡³æ­¤ï¼Œä¸€äº›å¸¸ç”¨çš„é…ç½®ä»¥åŠå¼„å¥½äº†ï¼Œç°åœ¨å°±å¼€å§‹æ„‰å¿«åœ°å†™ä»£ç äº†ã€‚\"></a>è‡³æ­¤ï¼Œä¸€äº›å¸¸ç”¨çš„é…ç½®ä»¥åŠå¼„å¥½äº†ï¼Œç°åœ¨å°±å¼€å§‹æ„‰å¿«åœ°å†™ä»£ç äº†ã€‚</h4>"},{"title":"vueæ„å»º","url":"/LittleWhiteRabbit/2022/04/26/%E4%BB%8E%E9%9B%B6%E6%9E%84%E5%BB%BA%E5%88%B0%E4%BC%98%E5%8C%96%E4%B8%80%E4%B8%AA%E7%B1%BB%E4%BC%BCvue-cli%E7%9A%84%E8%84%9A%E6%89%8B%E6%9E%B6/","content":"<h3 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h3><p>æƒ³å¿…å¤§å¤šæ•°äººåœ¨å¼€å‘ vue ç­‰ SPA é¡¹ç›®éƒ½æ—¶å€™éƒ½ä¼šç›´æ¥ç”¨ <code>vue-cli</code> ç­‰è„šæ‰‹æ¶å¼€å‘ï¼Œä¸€æ˜¯æ–¹ä¾¿çœå»äº†å¥½å¤šé…ç½®ä¸Šçš„åŠŸå¤«ï¼ŒäºŒæ˜¯ <code>vue-cli</code> æ¯•ç«Ÿæ˜¯ä¹…ç»è€ƒéªŒè¾ƒä¸ºæˆç†Ÿçš„ä¸œè¥¿ï¼Œé‡åˆ°é—®é¢˜ä¹Ÿèƒ½åœ¨ç½‘ä¸Šæ‰¾åˆ°ç›¸åº”è§£å†³æ–¹æ¡ˆã€‚</p>\n<p>ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬è¦æ›´å¥½åœ°ç†è§£è„šæ‰‹æ¶çš„é…ç½®åŠå…¶æ„å»ºæ‰“åŒ…çš„æœºåˆ¶ï¼Œæˆ‘ä»¬å°±æœ‰å¿…è¦ä»é›¶å¼€å§‹ï¼Œä¾è‘«èŠ¦ç”»ç“¢è‡ªå·±é…ç½®ä¸€ä¸ªç±»ä¼¼äº vue-cli è¿™æ ·çš„é¡¹ç›®äº†ã€‚åœ¨æ­¤ï¼Œæˆ‘åšäº†ä»¥ä¸‹ç®€å•é…ç½®ï¼Œè¯·å„ä½å¤§ä½¬æ‰¹è¯„æŒ‡æ­£ï¼Œå¹¶è¯šå¿ƒå¸Œæœ›èƒ½å¾—åˆ°å¤§ä½¬çš„æŒ‡ç‚¹ï¼Œè§£å†³æ–‡ç« æœ€åå…³äº <code>Tree Shaking</code> å¯¼è‡´æ‰“åŒ…ç¼ºå¤± css çš„é—®é¢˜ã€‚</p>\n<span id=\"more\"></span>\n<p>æœ¬æ–‡ä¸»è¦åŒ…æ‹¬å¦‚ä¸‹é…ç½®ï¼š</p>\n<ul>\n<li>åŒºåˆ†ç¯å¢ƒå˜é‡åŠåˆå¹¶é…ç½®</li>\n<li><code>webpack-dev-server</code> æœ¬åœ°æœåŠ¡å™¨ </li>\n<li><code>HtmlWebpackPlugin</code> ç”Ÿæˆ html</li>\n<li><code>CleanWebpackPlugin</code> æ¸…ç†æ–‡ä»¶å¤¹</li>\n<li><code>loader</code> åŠ <code>babel</code> é…ç½®</li>\n<li><code>HotModuleReplacementPlugin</code> çƒ­æ›´æ–°</li>\n<li><code>postcss-loader</code> å¢åŠ  css å‰ç¼€</li>\n<li><code>vue SPA</code> å¼•å…¥åŠè§£æ</li>\n<li><code>vue-router</code> å®‰è£…ä¸ä½¿ç”¨</li>\n<li><code>mini-css-extract-plugin</code> åˆ†ç¦» css</li>\n<li><code>purifycss-webpack purify-css</code> æ¶ˆé™¤å†—ä½™ css</li>\n<li><code>optimize-css-assets-webpack-plugin</code> å‹ç¼© css</li>\n<li><code>terser-webpack-plugin</code> å‹ç¼© js</li>\n<li><code>splitChunks</code> æå–å…¬å…±ä»£ç </li>\n<li><code>image-webpack-loader</code> å›¾ç‰‡å‹ç¼©</li>\n<li><code>gZip</code> åŠ é€Ÿä¼˜åŒ–</li>\n</ul>\n<p>é¡¹ç›®æºç ï¼š<a href=\"https://github.com/Michael-lzg/webpack-vue-cli\">https://github.com/Michael-lzg/webpack-vue-cli</a></p>\n<p>å¦‚æœå¯¹ webpack åŸºæœ¬é…ç½®è¿˜ä¸äº†è§£çš„å°ä¼™ä¼´ï¼Œå¯æŸ¥çœ‹ä»¥ä¸‹æ–‡ç« <br><a href=\"https://juejin.im/post/5db0fd1bf265da4d4216a9c5\">ä»é›¶å¼€å§‹æ„å»ºä¸€ä¸ª webpack é¡¹ç›®</a><br><a href=\"https://juejin.im/post/5eb766296fb9a0432f0ff8c7#heading-19\">æ­å»ºä¸€ä¸ª vue-cli4+webpack ç§»åŠ¨ç«¯æ¡†æ¶ï¼ˆå¼€ç®±å³ç”¨ï¼‰</a></p>\n<p>åºŸè¯ä¸å¤šè¯´ï¼Œè€å¸æœºå¸¦ä½ ç«‹åˆ»ä¸Šè·¯ã€‚</p>\n<h3 id=\"æ­å»º-webpack-é¡¹ç›®æ¡†æ¶\"><a href=\"#æ­å»º-webpack-é¡¹ç›®æ¡†æ¶\" class=\"headerlink\" title=\"æ­å»º webpack é¡¹ç›®æ¡†æ¶\"></a>æ­å»º webpack é¡¹ç›®æ¡†æ¶</h3><h4 id=\"æ„å»ºé¡¹ç›®ç»“æ„\"><a href=\"#æ„å»ºé¡¹ç›®ç»“æ„\" class=\"headerlink\" title=\"æ„å»ºé¡¹ç›®ç»“æ„\"></a>æ„å»ºé¡¹ç›®ç»“æ„</h4><ol>\n<li><p>åˆ›å»º <code>webpack-vue-cli</code> æ–‡ä»¶å¤¹ï¼Œ<code>npm-init-y</code> åˆå§‹åŒ–é¡¹ç›®</p>\n</li>\n<li><p>å®‰è£… webpack ç›¸å…³ä¾èµ–</p>\n</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm i webpack webpack-cli webpack-dev-server webpack-merge --save-dev</span><br></pre></td></tr></table></figure>\n\n<p>å¦‚æœ <code>webpack</code> å’Œ <code>webpack-cli</code> æ²¡æœ‰å…¨å±€å®‰è£…çš„è¯ï¼Œè¦å…ˆå…¨å±€å®‰è£…</p>\n<ol start=\"3\">\n<li>å»ºç«‹é¡¹ç›®æ–‡ä»¶å¤¹</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">â”œâ”€â”€ src   <span class=\"comment\">// webpacké…ç½®æ–‡ä»¶</span></span><br><span class=\"line\">    |â€”â€”main.<span class=\"property\">js</span>  <span class=\"comment\">// å…¥å£æ–‡ä»¶</span></span><br><span class=\"line\">â”œâ”€â”€ <span class=\"keyword\">static</span>   <span class=\"comment\">// é¡¹ç›®æ‰“åŒ…è·¯å¾„</span></span><br><span class=\"line\">â”œâ”€â”€ index.<span class=\"property\">html</span>   <span class=\"comment\">// æ¨¡æ¿html</span></span><br><span class=\"line\">â”œâ”€â”€ webpack.<span class=\"property\">base</span>.<span class=\"property\">js</span>   <span class=\"comment\">// æ‰“åŒ…åŸºæœ¬é…ç½®</span></span><br><span class=\"line\">â”œâ”€â”€ webpack.<span class=\"property\">dev</span>.<span class=\"property\">js</span>   <span class=\"comment\">// æœ¬åœ°ç¯å¢ƒé…ç½®</span></span><br><span class=\"line\">â”œâ”€â”€ webpack.<span class=\"property\">prod</span>.<span class=\"property\">js</span>   <span class=\"comment\">// ç”Ÿäº§ç¯å¢ƒé…ç½®</span></span><br></pre></td></tr></table></figure>\n\n<p><code>index.html</code> å’Œ <code>main.js</code> çš„ä»£ç ä¸å¤šè¯´ï¼Œç›´æ¥è¿›å…¥ webpack é…ç½®ç¯èŠ‚ã€‚</p>\n<h4 id=\"åŒºåˆ†ç¯å¢ƒ\"><a href=\"#åŒºåˆ†ç¯å¢ƒ\" class=\"headerlink\" title=\"åŒºåˆ†ç¯å¢ƒ\"></a>åŒºåˆ†ç¯å¢ƒ</h4><p>ä¸ºäº†æ›´å¥½çš„ä¼˜åŒ–æ‰“åŒ…ï¼Œæˆ‘ä»¬å°† webpack çš„é…ç½®åˆ†å¼€å¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒã€‚</p>\n<ul>\n<li>webpack.base.js å…¬å…±é…ç½®æ–‡ä»¶</li>\n<li>webpack.dev.js å¼€å‘ç¯å¢ƒçš„é…ç½®æ–‡ä»¶</li>\n<li>webpack.prod.js ç”Ÿäº§ç¯å¢ƒçš„é…ç½®æ–‡ä»¶</li>\n</ul>\n<p>åœ¨ <code>webpack.dev.js</code> å’Œ <code>webpack.prod.js</code>ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ <code>webpack-merge</code> è¿›è¡Œé…ç½®çš„åˆå¹¶ã€‚</p>\n<p>ç„¶åï¼Œæˆ‘ä»¬åœ¨ package.json å®šä¹‰ä¸åŒç¯å¢ƒçš„æ‰“åŒ…å‘½ä»¤</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&quot;scripts&quot;</span>: &#123;</span><br><span class=\"line\">  <span class=\"string\">&quot;dev&quot;</span>: <span class=\"string\">&quot;webpack-dev-server  --config webpack.dev.js --mode development&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;build&quot;</span>: <span class=\"string\">&quot;webpack --config webpack.prod.js&quot;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"å…¬å…±é…ç½®\"><a href=\"#å…¬å…±é…ç½®\" class=\"headerlink\" title=\"å…¬å…±é…ç½®\"></a>å…¬å…±é…ç½®</h4><p>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹ <code>webpack.base.js</code> çš„å…¬å…±é…ç½®ï¼Œå®šä¹‰å¥½å…¥å£æ–‡ä»¶å’Œå‡ºå£æ–‡ä»¶</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">entry</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">index</span>: path.<span class=\"title function_\">join</span>(__dirname, <span class=\"string\">&#x27;/src/main.js&#x27;</span>),</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">output</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">path</span>: path.<span class=\"title function_\">join</span>(__dirname, <span class=\"string\">&#x27;/dist&#x27;</span>), <span class=\"comment\">//æ‰“åŒ…åçš„æ–‡ä»¶å­˜æ”¾çš„åœ°æ–¹</span></span><br><span class=\"line\">    <span class=\"attr\">filename</span>: <span class=\"string\">&#x27;js/[name].[hash].js&#x27;</span>, <span class=\"comment\">// æ¯æ¬¡ä¿å­˜ hash éƒ½å˜åŒ–</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"webpack-dev-server\"><a href=\"#webpack-dev-server\" class=\"headerlink\" title=\"webpack-dev-server\"></a>webpack-dev-server</h4><p>webpack æä¾›äº†ä¸€ä¸ªå¯é€‰çš„æœ¬åœ°å¼€å‘æœåŠ¡å™¨ï¼Œè¿™ä¸ªæœ¬åœ°æœåŠ¡å™¨åŸºäº <code>node.js</code> æ„å»ºï¼Œæ‰€ä»¥åœ¨ <code>webpack.dev.js</code> è¿›è¡Œé…ç½®</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> merge = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;webpack-merge&#x27;</span>) <span class=\"comment\">// å¼•å…¥webpack-mergeåŠŸèƒ½æ¨¡å—</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> common = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;./webpack.base.js&#x27;</span>) <span class=\"comment\">// å¼•å…¥webpack.common.js</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = <span class=\"title function_\">merge</span>(common, &#123;</span><br><span class=\"line\">  <span class=\"comment\">// å°†webpack.common.jsåˆå¹¶åˆ°å½“å‰æ–‡ä»¶</span></span><br><span class=\"line\">  <span class=\"attr\">devServer</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">contentBase</span>: <span class=\"string\">&#x27;./dist&#x27;</span>, <span class=\"comment\">// æœ¬åœ°æœåŠ¡å™¨æ‰€åŠ è½½æ–‡ä»¶çš„ç›®å½•</span></span><br><span class=\"line\">    <span class=\"attr\">port</span>: <span class=\"string\">&#x27;8899&#x27;</span>, <span class=\"comment\">// è®¾ç½®ç«¯å£å·ä¸º8088</span></span><br><span class=\"line\">    <span class=\"attr\">inline</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// æ–‡ä»¶ä¿®æ”¹åå®æ—¶åˆ·æ–°</span></span><br><span class=\"line\">    <span class=\"attr\">historyApiFallback</span>: <span class=\"literal\">true</span>, <span class=\"comment\">//ä¸è·³è½¬</span></span><br><span class=\"line\">    <span class=\"attr\">hot</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// çƒ­æ›´æ–°</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">mode</span>: <span class=\"string\">&#x27;development&#x27;</span>, <span class=\"comment\">// è®¾ç½®mode</span></span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"HtmlWebpackPlugin\"><a href=\"#HtmlWebpackPlugin\" class=\"headerlink\" title=\"HtmlWebpackPlugin\"></a>HtmlWebpackPlugin</h4><p><code>HtmlWebpackPlugin</code> ç®€åŒ–äº† HTML æ–‡ä»¶çš„åˆ›å»ºï¼Œå®ƒå¯ä»¥æ ¹æ® html æ¨¡æ¿åœ¨æ‰“åŒ…åè‡ªåŠ¨ä¸ºä½ ç”Ÿäº§æ‰“åŒ…åçš„ html æ–‡ä»¶ã€‚è¿™å¯¹äºåœ¨æ–‡ä»¶åä¸­åŒ…å«æ¯æ¬¡ä¼šéšç€ç¼–è¯‘è€Œå‘ç”Ÿå˜åŒ–å“ˆå¸Œçš„<code>bundle</code>ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">  <span class=\"keyword\">new</span> <span class=\"title class_\">HtmlWebpackPlugin</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">template</span>: path.<span class=\"title function_\">join</span>(__dirname, <span class=\"string\">&#x27;/index.html&#x27;</span>), <span class=\"comment\">// newä¸€ä¸ªè¿™ä¸ªæ’ä»¶çš„å®ä¾‹ï¼Œå¹¶ä¼ å…¥ç›¸å…³çš„å‚æ•°</span></span><br><span class=\"line\">  &#125;),</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n\n<p>è‡³æ­¤å°±æ­å»ºå¥½ä¸€ä¸ªä¹ä¸ç‰ˆçš„ <code>webpack</code> é¡¹ç›®äº†ï¼Œä½ å¯ä»¥éšæ„ç¼–å†™ä»£ç ï¼Œåˆ†åˆ«åœ¨å¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒæ‰§è¡Œå‘½ä»¤æŸ¥çœ‹æ•ˆæœã€‚</p>\n<h4 id=\"loader-é…ç½®\"><a href=\"#loader-é…ç½®\" class=\"headerlink\" title=\"loader é…ç½®\"></a>loader é…ç½®</h4><p><code>loader</code> å¯ä»¥è®© <code>webpack</code> èƒ½å¤Ÿå»å¤„ç†é‚£äº›é <code>javaScript</code> æ–‡ä»¶ï¼ˆ<code>webpack</code> è‡ªèº«åªç†è§£ <code>javaScript</code>ï¼‰ã€‚<code>loader</code> å¯ä»¥å°†æ‰€æœ‰ç±»å‹çš„æ–‡ä»¶è½¬æ¢ä¸º webpack èƒ½å¤Ÿå¤„ç†çš„æœ‰æ•ˆæ¨¡å—ï¼Œç„¶åä½ å°±å¯ä»¥åˆ©ç”¨ webpack çš„æ‰“åŒ…èƒ½åŠ›ï¼Œå¯¹å®ƒä»¬è¿›è¡Œå¤„ç†ã€‚</p>\n<p>å¯¹äº <code>loader</code> çš„ç§‘æ™®å’Œé…ç½®ï¼Œåœ¨è¿™é‡Œä¸åšä¸€ä¸€è¯´æ˜ï¼Œç›´æ¥å¥‰ä¸Šä»£ç ï¼Œåˆ†åˆ«æ˜¯å¤„ç†æ ·å¼ï¼Œ<code>js</code> å’Œæ–‡ä»¶çš„ <code>loader</code>ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">module</span>: &#123;</span><br><span class=\"line\">  <span class=\"attr\">rules</span>: [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.css$/</span>, <span class=\"comment\">// æ­£åˆ™åŒ¹é…ä»¥.cssç»“å°¾çš„æ–‡ä»¶</span></span><br><span class=\"line\">      <span class=\"attr\">use</span>: [<span class=\"string\">&#x27;style-loader&#x27;</span>, <span class=\"string\">&#x27;css-loader&#x27;</span>],</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.less$/</span>,</span><br><span class=\"line\">      <span class=\"attr\">use</span>: [<span class=\"string\">&#x27;style-loader&#x27;</span>, <span class=\"string\">&#x27;css-loader&#x27;</span>, <span class=\"string\">&#x27;less-loader&#x27;</span>],</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.js$/</span>,</span><br><span class=\"line\">      <span class=\"attr\">loader</span>: <span class=\"string\">&#x27;babel-loader&#x27;</span>,</span><br><span class=\"line\">      <span class=\"attr\">include</span>: [<span class=\"title function_\">resolve</span>(<span class=\"string\">&#x27;src&#x27;</span>)],</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.(png|jpe?g|gif|svg)(\\?.*)?$/</span>,</span><br><span class=\"line\">      <span class=\"attr\">loader</span>: <span class=\"string\">&#x27;url-loader&#x27;</span>,</span><br><span class=\"line\">      <span class=\"attr\">options</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">limit</span>: <span class=\"number\">10000</span>,</span><br><span class=\"line\">        <span class=\"attr\">name</span>: utils.<span class=\"title function_\">assetsPath</span>(<span class=\"string\">&#x27;img/[name].[hash:7].[ext]&#x27;</span>),</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ä¸ºäº†æ›´æ–¹ä¾¿çš„é…ç½®å’Œä¼˜åŒ– <code>babel-loader</code>ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶æå–å‡ºæ¥ï¼Œåœ¨æ ¹ç›®å½•ä¸‹æ–°å»º <code>.babelrc</code> æ–‡ä»¶</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  &quot;presets&quot;: [&quot;env&quot;]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"CleanWebpackPlugin\"><a href=\"#CleanWebpackPlugin\" class=\"headerlink\" title=\"CleanWebpackPlugin\"></a>CleanWebpackPlugin</h4><p>åœ¨æ¯æ¬¡æ„å»ºå‰æ¸…ç†&#x2F;dist æ–‡ä»¶å¤¹ï¼Œç”Ÿäº§æœ€æ–°çš„æ‰“åŒ…æ–‡ä»¶ï¼Œè¿™æ—¶å€™å°±ç”¨åˆ° <code>CleanWebpackPlugin</code> æ’ä»¶äº†ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">  <span class=\"keyword\">new</span> <span class=\"title class_\">HtmlWebpackPlugin</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">template</span>: path.<span class=\"title function_\">join</span>(__dirname, <span class=\"string\">&#x27;/index.html&#x27;</span>), <span class=\"comment\">// newä¸€ä¸ªè¿™ä¸ªæ’ä»¶çš„å®ä¾‹ï¼Œå¹¶ä¼ å…¥ç›¸å…³çš„å‚æ•°</span></span><br><span class=\"line\">  &#125;),</span><br><span class=\"line\">  <span class=\"keyword\">new</span> <span class=\"title class_\">CleanWebpackPlugin</span>(), <span class=\"comment\">// æ‰€è¦æ¸…ç†çš„æ–‡ä»¶å¤¹åç§°</span></span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"HotModuleReplacementPlugin\"><a href=\"#HotModuleReplacementPlugin\" class=\"headerlink\" title=\"HotModuleReplacementPlugin\"></a>HotModuleReplacementPlugin</h4><p><code>HotModuleReplacementPlugin</code>ï¼ˆHMRï¼‰æ˜¯ä¸€ä¸ªå¾ˆå®ç”¨çš„æ’ä»¶ï¼Œå¯ä»¥åœ¨æˆ‘ä»¬ä¿®æ”¹ä»£ç åè‡ªåŠ¨åˆ·æ–°é¢„è§ˆæ•ˆæœï¼Œåœ¨å¼€å‘ç¯å¢ƒä½¿ç”¨ã€‚</p>\n<ol>\n<li><p><code>devServer</code> é…ç½®é¡¹ä¸­è®¾ç½® <code>hot: true</code></p>\n</li>\n<li><p><code>HotModuleReplacementPlugin</code> æ˜¯ webpack æ¨¡å—è‡ªå¸¦çš„ï¼Œæ‰€ä»¥å¼•å…¥ webpack åï¼Œåœ¨ <code>plugins</code> é…ç½®é¡¹ä¸­ç›´æ¥ä½¿ç”¨å³å¯ã€‚</p>\n</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">  <span class=\"keyword\">new</span> webpack.<span class=\"title class_\">HotModuleReplacementPlugin</span>(), <span class=\"comment\">// çƒ­æ›´æ–°æ’ä»¶</span></span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"å¢åŠ -css-å‰ç¼€\"><a href=\"#å¢åŠ -css-å‰ç¼€\" class=\"headerlink\" title=\"å¢åŠ  css å‰ç¼€\"></a>å¢åŠ  css å‰ç¼€</h4><p>å¹³æ—¶æˆ‘ä»¬å†™ css æ—¶ï¼Œä¸€äº›å±æ€§éœ€è¦æ‰‹åŠ¨åŠ ä¸Šå‰ç¼€ï¼Œæ¯”å¦‚<code>-webkit-border-radius: 10px;</code>ï¼Œåœ¨ webpack ä¸­æˆ‘ä»¬å¯ä»¥è®©ä»–è‡ªåŠ¨åŠ ä¸Š</p>\n<ol>\n<li>å®‰è£…ä¾èµ–</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm i postcss-loader autoprefixer -D</span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ–°å»º <code>postcss.config.js</code> æ–‡ä»¶</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">    <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;autoprefixer&#x27;</span>), <span class=\"comment\">// å¼•ç”¨autoprefixeræ¨¡å—</span></span><br><span class=\"line\">  ],</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li>ä¿®æ”¹æ ·å¼ loader</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">rules</span>: [</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.css$/</span>, <span class=\"comment\">// æ­£åˆ™åŒ¹é…ä»¥.cssç»“å°¾çš„æ–‡ä»¶</span></span><br><span class=\"line\">    <span class=\"attr\">use</span>: [<span class=\"string\">&#x27;style-loader&#x27;</span>, <span class=\"string\">&#x27;css-loader&#x27;</span>, <span class=\"string\">&#x27;postcss-loader&#x27;</span>],</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.less$/</span>,</span><br><span class=\"line\">    <span class=\"attr\">use</span>: [<span class=\"string\">&#x27;style-loader&#x27;</span>, <span class=\"string\">&#x27;css-loader&#x27;</span>, <span class=\"string\">&#x27;postcss-loader&#x27;</span>, <span class=\"string\">&#x27;less-loader&#x27;</span>],</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n\n<p>è‡³æ­¤ï¼Œä¸€ä¸ª webpack é¡¹ç›®åŸºæœ¬æ­å»ºè€Œæˆï¼Œä¸‹é¢ä»‹ç» vue çš„å¼•ç”¨å’Œé¡¹ç›®ä¼˜åŒ–ã€‚</p>\n<h3 id=\"æ­å»º-vue-SPA-æ¨¡æ¿\"><a href=\"#æ­å»º-vue-SPA-æ¨¡æ¿\" class=\"headerlink\" title=\"æ­å»º vue SPA æ¨¡æ¿\"></a>æ­å»º vue SPA æ¨¡æ¿</h3><h4 id=\"vue-SPA\"><a href=\"#vue-SPA\" class=\"headerlink\" title=\"vue SPA\"></a>vue SPA</h4><p>1ã€æ­å»ºä¸€ä¸ªç±»ä¼¼äº <code>vue-cli</code> çš„è„šæ‰‹æ¶ï¼Œé¦–å…ˆæˆ‘ä»¬æ¥ä¾è‘«èŠ¦ç”»ç“¢ï¼Œåœ¨ <code>main.js</code> å†™ä¸Šä¸€ä¸‹ä»£ç </p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Vue</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vue&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">App</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./App.vue&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">new</span> <span class=\"title class_\">Vue</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">el</span>: <span class=\"string\">&#x27;#app&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">render</span>: <span class=\"function\">(<span class=\"params\">h</span>) =&gt;</span> <span class=\"title function_\">h</span>(<span class=\"title class_\">App</span>),</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<p>2ã€ç„¶ååœ¨ src æ–‡ä»¶å¤¹ä¸‹æ–°å»º <code>APP.vue</code></p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span>SPAé¡¹ç›®<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>3ã€å®‰è£…ç›¸å…³ä¾èµ–</p>\n<p>åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬ <code>npm run dev</code> è¯•ä¸€ä¸‹å°±æŠ¥é”™äº†ã€‚å› ä¸ºæˆ‘ä»¬æ²¡æœ‰å®‰è£…ç›¸å…³ä¾èµ–ï¼Œä¸‹é¢æˆ‘ä»¬ä¸‹æ¥å®‰è£…ä¸€ä¸‹ä¾èµ–</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm install vue vue-loader vue-template-compiler -D</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>vue: vue çš„æºç </li>\n<li>vue-loaderï¼šè§£æ.vue æ–‡ä»¶</li>\n<li>vue-template-compilerï¼š ç¼–è¯‘ vue</li>\n</ul>\n<p>4ã€åœ¨ webpack é…ç½® vue-loader</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">VueLoaderPlugin</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;vue-loader/lib/plugin&#x27;</span>)</span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">module</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">rules</span>: [</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.vue$/</span>,</span><br><span class=\"line\">        <span class=\"attr\">loader</span>: <span class=\"string\">&#x27;vue-loader&#x27;</span>,</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">    ],</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">plugins</span>: [<span class=\"keyword\">new</span> <span class=\"title class_\">VueLoaderPlugin</span>()],</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"vue-router\"><a href=\"#vue-router\" class=\"headerlink\" title=\"vue-router\"></a>vue-router</h4><p>1ã€å®‰è£…ä¾èµ–</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm install vue-router -D</span><br></pre></td></tr></table></figure>\n\n<p>2ã€åœ¨ src æ–‡ä»¶å¤¹ä¸‹æ–°å»º router&#x2F;index</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Vue</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vue&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Router</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vue-router&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title class_\">Vue</span>.<span class=\"title function_\">use</span>(<span class=\"title class_\">Router</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> router = <span class=\"keyword\">new</span> <span class=\"title class_\">Router</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">routes</span>: [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">path</span>: <span class=\"string\">&#x27;/&#x27;</span>,</span><br><span class=\"line\">      <span class=\"attr\">component</span>: <span class=\"function\">() =&gt;</span> <span class=\"title function_\">import</span>(<span class=\"string\">&#x27;../views/Home.vue&#x27;</span>),</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">path</span>: <span class=\"string\">&#x27;/admin&#x27;</span>,</span><br><span class=\"line\">      <span class=\"attr\">component</span>: <span class=\"function\">() =&gt;</span> <span class=\"title function_\">import</span>(<span class=\"string\">&#x27;../views/admin.vue&#x27;</span>),</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  ],</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> router</span><br></pre></td></tr></table></figure>\n\n<p>3ã€åœ¨ main.js å¼•ç”¨</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Vue</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vue&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">App</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./App.vue&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> router <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./router&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">new</span> <span class=\"title class_\">Vue</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">el</span>: <span class=\"string\">&#x27;#app&#x27;</span>,</span><br><span class=\"line\">  router,</span><br><span class=\"line\">  <span class=\"attr\">render</span>: <span class=\"function\">(<span class=\"params\">h</span>) =&gt;</span> <span class=\"title function_\">h</span>(<span class=\"title class_\">App</span>),</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<p>å°±è¿™æ ·ï¼Œä¸€ä¸ªç±»ä¼¼äº <code>vue-cli</code> çš„è„šæ‰‹æ¶å°±æ­å»ºå¥½äº†ï¼Œä½ å¯ä»¥æ„‰å¿«åœ°å†™ <code>.vue</code> æ–‡ä»¶è¿›è¡Œ SPA å¼€å‘ã€‚</p>\n<h3 id=\"webpack-ä¼˜åŒ–æ‰“åŒ…\"><a href=\"#webpack-ä¼˜åŒ–æ‰“åŒ…\" class=\"headerlink\" title=\"webpack ä¼˜åŒ–æ‰“åŒ…\"></a>webpack ä¼˜åŒ–æ‰“åŒ…</h3><h4 id=\"åˆ†ç¦»-css\"><a href=\"#åˆ†ç¦»-css\" class=\"headerlink\" title=\"åˆ†ç¦» css\"></a>åˆ†ç¦» css</h4><p>è™½ç„¶ webpack çš„ç†å¿µæ˜¯æŠŠ cssã€js å…¨éƒ½æ‰“åŒ…åˆ°ä¸€ä¸ªæ–‡ä»¶é‡Œï¼Œä½†è¦æ˜¯æˆ‘ä»¬æƒ³æŠŠ css åˆ†ç¦»å‡ºæ¥ï¼Œè¿™é‡Œæˆ‘ä»¬ç”¨åˆ° <code>mini-css-extract-plugin</code>ã€‚å¯¹æ¯”å¦ä¸€ä¸ªæ’ä»¶ <code>extract-text-webpack-plugin</code>ï¼Œå®ƒæœ‰ä»¥ä¸‹ä¼˜ç‚¹:</p>\n<ul>\n<li>å¼‚æ­¥åŠ è½½</li>\n<li>ä¸é‡å¤ç¼–è¯‘ï¼Œæ€§èƒ½æ›´å¥½</li>\n<li>æ›´å®¹æ˜“ä½¿ç”¨</li>\n<li>åªé’ˆå¯¹ CSS</li>\n</ul>\n<p>ä½†æ˜¯<code>mini-css-extract-plugin</code> ä¸æ”¯æŒ <code>HMR</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬åªèƒ½åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨å®ƒã€‚</p>\n<p>1ã€å®‰è£…ä¾èµ–</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm install mini-css-extract-plugin -D</span><br></pre></td></tr></table></figure>\n\n<p>2ã€åœ¨<code>webpack.prod.js</code> é…ç½® <code>loader</code> å’Œ <code>plugin</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">module</span>: &#123;</span><br><span class=\"line\">  <span class=\"attr\">rules</span>: [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.(le|c)ss$/</span>,</span><br><span class=\"line\">      <span class=\"attr\">use</span>: [</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          <span class=\"attr\">loader</span>: <span class=\"title class_\">MiniCssExtractPlugin</span>.<span class=\"property\">loader</span>,</span><br><span class=\"line\">          <span class=\"attr\">options</span>: &#123;</span><br><span class=\"line\">            <span class=\"attr\">publicPath</span>: <span class=\"string\">&#x27;../&#x27;</span></span><br><span class=\"line\">          &#125;,</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"string\">&#x27;css-loader&#x27;</span>,</span><br><span class=\"line\">        <span class=\"string\">&#x27;postcss-loader&#x27;</span>,</span><br><span class=\"line\">        <span class=\"string\">&#x27;less-loader&#x27;</span>,</span><br><span class=\"line\">      ]</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"><span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">  <span class=\"keyword\">new</span> <span class=\"title class_\">MiniCssExtractPlugin</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">filename</span>: <span class=\"string\">&quot;css/[name].[contenthash:8].css&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">chunkFilename</span>: <span class=\"string\">&#x27;css/[id].[contenthash:8].css&#x27;</span></span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n\n<p>åˆ†ç¦» css éœ€è¦å°† <code>css loader</code> ä¸­çš„ <code>style-loader</code> æ›¿æ¢ä¸º <code>MiniCssExtractPlugin</code></p>\n<h4 id=\"æ¶ˆé™¤å†—ä½™-css\"><a href=\"#æ¶ˆé™¤å†—ä½™-css\" class=\"headerlink\" title=\"æ¶ˆé™¤å†—ä½™ css\"></a>æ¶ˆé™¤å†—ä½™ css</h4><p>æœ‰æ—¶å€™æˆ‘ä»¬ css å†™å¾—å¤šäº†æˆ–è€…é‡å¤äº†ï¼Œè¿™å°±é€ æˆäº†å¤šä½™çš„ä»£ç ï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨ç”Ÿäº§ç¯å¢ƒè¿›è¡Œå»é™¤ã€‚</p>\n<p>1ã€å®‰è£…ä¾èµ–</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm i purifycss-webpack purify-css glob -D</span><br></pre></td></tr></table></figure>\n\n<p>2ã€webpack.prod.js é…ç½®</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> path = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;path&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">PurifyCssWebpack</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;purifycss-webpack&#x27;</span>) <span class=\"comment\">// å¼•å…¥PurifyCssWebpackæ’ä»¶</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> glob = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;glob&#x27;</span>) <span class=\"comment\">// å¼•å…¥globæ¨¡å—,ç”¨äºæ‰«æå…¨éƒ¨htmlæ–‡ä»¶ä¸­æ‰€å¼•ç”¨çš„css</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = <span class=\"title function_\">merge</span>(common, &#123;</span><br><span class=\"line\">  <span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">PurifyCssWebpack</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">paths</span>: glob.<span class=\"title function_\">sync</span>(path.<span class=\"title function_\">join</span>(__dirname, <span class=\"string\">&#x27;src/*.html&#x27;</span>)),</span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">  ],</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"å‹ç¼©-css\"><a href=\"#å‹ç¼©-css\" class=\"headerlink\" title=\"å‹ç¼© css\"></a>å‹ç¼© css</h4><p>æˆ‘ä»¬å¸Œæœ›å‡å° css æ‰“åŒ…åçš„ä½“ç§¯ï¼Œå¯ä»¥ç”¨åˆ° <code>optimize-css-assets-webpack-plugin</code>ã€‚<br>1ã€å®‰è£…ä¾èµ–</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm install optimize-css-assets-webpack-plugin -D</span><br></pre></td></tr></table></figure>\n\n<p>2ã€webpack.prod.js é…ç½®</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">OptimizeCSSAssetsPlugin</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;optimize-css-assets-webpack-plugin&quot;</span>) <span class=\"comment\">// å‹ç¼©cssä»£ç </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">optimization</span>: &#123;</span><br><span class=\"line\">  <span class=\"attr\">minimizer</span>: [</span><br><span class=\"line\">    <span class=\"comment\">// å‹ç¼©css</span></span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">OptimizeCSSAssetsPlugin</span>(&#123;&#125;)</span><br><span class=\"line\">  ]</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"å‹ç¼©-js\"><a href=\"#å‹ç¼©-js\" class=\"headerlink\" title=\"å‹ç¼© js\"></a>å‹ç¼© js</h4><p>Webpack4.0 é»˜è®¤æ˜¯ä½¿ç”¨ <code>terser-webpack-plugin</code> è¿™ä¸ªå‹ç¼©æ’ä»¶ï¼Œåœ¨æ­¤ä¹‹å‰æ˜¯ä½¿ç”¨ <code>uglifyjs-webpack-plugin</code>ï¼Œä¸¤è€…çš„åŒºåˆ«æ˜¯åè€…å¯¹ ES6 çš„å‹ç¼©ä¸æ˜¯å¾ˆå¥½ï¼ŒåŒæ—¶æˆ‘ä»¬å¯ä»¥å¼€å¯ <code>parallel</code> å‚æ•°ï¼Œä½¿ç”¨å¤šè¿›ç¨‹å‹ç¼©ï¼ŒåŠ å¿«å‹ç¼©ã€‚</p>\n<p>1ã€å®‰è£…ä¾èµ–</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm install terser-webpack-plugin -D</span><br></pre></td></tr></table></figure>\n\n<p>2ã€webpack.prod.js é…ç½®</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">TerserPlugin</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;terser-webpack-plugin&#x27;</span>) <span class=\"comment\">// å‹ç¼©jsä»£ç </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">optimization</span>: &#123;</span><br><span class=\"line\">  <span class=\"attr\">minimizer</span>: [</span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">TerserPlugin</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">parallel</span>: <span class=\"number\">4</span>, <span class=\"comment\">// å¼€å¯å‡ ä¸ªè¿›ç¨‹æ¥å¤„ç†å‹ç¼©ï¼Œé»˜è®¤æ˜¯ os.cpus().length - 1</span></span><br><span class=\"line\">      <span class=\"attr\">cache</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// æ˜¯å¦ç¼“å­˜</span></span><br><span class=\"line\">      <span class=\"attr\">sourceMap</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">    <span class=\"comment\">// å‹ç¼©css</span></span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">OptimizeCSSAssetsPlugin</span>(&#123;&#125;),</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"æå–å…¬å…±ä»£ç \"><a href=\"#æå–å…¬å…±ä»£ç \" class=\"headerlink\" title=\"æå–å…¬å…±ä»£ç \"></a>æå–å…¬å…±ä»£ç </h4><p>åœ¨ç”¨ webpack æ‰“åŒ…çš„æ—¶å€™ï¼Œå¯¹äºä¸€äº›ä¸ç»å¸¸æ›´æ–°çš„ç¬¬ä¸‰æ–¹åº“ï¼Œæ¯”å¦‚ vue å…¨å®¶æ¡¶çš„ä¸€äº›ä¸œè¥¿ï¼Œ æˆ‘ä»¬å¸Œæœ›èƒ½å’Œè‡ªå·±çš„ä»£ç åˆ†ç¦»å¼€ã€‚webpack4 ä½¿ç”¨ <code>splitChunks</code> çš„æ–¹æ³•è¿›è¡Œé…ç½®ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">optimization</span>: &#123;</span><br><span class=\"line\">  <span class=\"comment\">// åˆ†ç¦»chunks</span></span><br><span class=\"line\">  <span class=\"attr\">splitChunks</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">chunks</span>: <span class=\"string\">&#x27;all&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">cacheGroups</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">vendor</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">name</span>: <span class=\"string\">&quot;vendor&quot;</span>,</span><br><span class=\"line\">        <span class=\"attr\">test</span>: <span class=\"regexp\">/[\\\\/]node_modules[\\\\/]/</span>,</span><br><span class=\"line\">        <span class=\"attr\">priority</span>: <span class=\"number\">10</span>,</span><br><span class=\"line\">        <span class=\"attr\">chunks</span>: <span class=\"string\">&quot;initial&quot;</span> <span class=\"comment\">// åªæ‰“åŒ…åˆå§‹æ—¶ä¾èµ–çš„ç¬¬ä¸‰æ–¹</span></span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"å›¾ç‰‡å‹ç¼©\"><a href=\"#å›¾ç‰‡å‹ç¼©\" class=\"headerlink\" title=\"å›¾ç‰‡å‹ç¼©\"></a>å›¾ç‰‡å‹ç¼©</h4><p>åœ¨é¡¹ç›®ä¸­æœ‰äº›å›¾ç‰‡å¤ªå¤§å½±å“åŠ è½½ï¼Œæˆ‘ä»¬ç”¨ <code>image-webpack-loader</code> è¿›è¡Œå‹ç¼©ã€‚</p>\n<p>1ã€å®‰è£…ä¾èµ–</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm install image-webpack-loader -D</span><br></pre></td></tr></table></figure>\n\n<p>2ã€é…ç½® loader</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.(png|jpg|svg|gif)$/</span>,</span><br><span class=\"line\">  <span class=\"attr\">use</span>: [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">loader</span>: <span class=\"string\">&#x27;url-loader&#x27;</span>,</span><br><span class=\"line\">      <span class=\"attr\">options</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">esModule</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">        <span class=\"attr\">limit</span>: <span class=\"number\">1000</span>,  <span class=\"comment\">// é™åˆ¶åªæœ‰å°äº1kbçš„å›¾ç‰‡æ‰è½¬ä¸ºbase64</span></span><br><span class=\"line\">        <span class=\"attr\">outputPath</span>: <span class=\"string\">&#x27;images&#x27;</span>, <span class=\"comment\">// è®¾ç½®æ‰“åŒ…åå›¾ç‰‡å­˜æ”¾çš„æ–‡ä»¶å¤¹åç§°</span></span><br><span class=\"line\">        <span class=\"attr\">name</span>: <span class=\"string\">&#x27;[name][hash:8].[ext]&#x27;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">loader</span>: <span class=\"string\">&#x27;image-webpack-loader&#x27;</span>,</span><br><span class=\"line\">      <span class=\"attr\">options</span>: &#123;</span><br><span class=\"line\">        <span class=\"comment\">// å‹ç¼© jpeg çš„é…ç½®</span></span><br><span class=\"line\">        <span class=\"attr\">mozjpeg</span>: &#123;</span><br><span class=\"line\">          <span class=\"attr\">progressive</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">          <span class=\"attr\">quality</span>: <span class=\"number\">65</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"comment\">// ä½¿ç”¨ imagemin**-optipng å‹ç¼© pngï¼Œenable: false ä¸ºå…³é—­</span></span><br><span class=\"line\">        <span class=\"attr\">optipng</span>: &#123;</span><br><span class=\"line\">          <span class=\"attr\">enabled</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"comment\">// // ä½¿ç”¨ imagemin-pngquant å‹ç¼© png</span></span><br><span class=\"line\">        <span class=\"attr\">pngquant</span>: &#123;</span><br><span class=\"line\">          <span class=\"attr\">quality</span>: [<span class=\"number\">0.65</span>, <span class=\"number\">0.90</span>],</span><br><span class=\"line\">          <span class=\"attr\">speed</span>: <span class=\"number\">4</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"comment\">// å‹ç¼© gif çš„é…ç½®</span></span><br><span class=\"line\">        <span class=\"attr\">gifsicle</span>: &#123;</span><br><span class=\"line\">          <span class=\"attr\">interlaced</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"comment\">// å¼€å¯ webpï¼Œä¼šæŠŠ jpg å’Œ png å›¾ç‰‡å‹ç¼©ä¸º webp æ ¼å¼</span></span><br><span class=\"line\">        <span class=\"attr\">webp</span>: &#123;</span><br><span class=\"line\">          <span class=\"attr\">quality</span>: <span class=\"number\">75</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"gZip-åŠ é€Ÿä¼˜åŒ–\"><a href=\"#gZip-åŠ é€Ÿä¼˜åŒ–\" class=\"headerlink\" title=\"gZip åŠ é€Ÿä¼˜åŒ–\"></a>gZip åŠ é€Ÿä¼˜åŒ–</h4><p>æ‰€æœ‰ç°ä»£æµè§ˆå™¨éƒ½æ”¯æŒ <code>gzip</code> å‹ç¼©ï¼Œå¯ç”¨ <code>gzip</code> å‹ç¼©å¯å¤§å¹…ç¼©å‡ä¼ è¾“èµ„æºå¤§å°ï¼Œä»è€Œç¼©çŸ­èµ„æºä¸‹è½½æ—¶é—´ï¼Œå‡å°‘é¦–æ¬¡ç™½å±æ—¶é—´ï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚</p>\n<p>gzip å¯¹åŸºäºæ–‡æœ¬æ ¼å¼æ–‡ä»¶çš„å‹ç¼©æ•ˆæœæœ€å¥½ï¼ˆå¦‚ï¼šCSSã€JavaScript å’Œ HTMLï¼‰ï¼Œåœ¨å‹ç¼©è¾ƒå¤§æ–‡ä»¶æ—¶å¾€å¾€å¯å®ç°é«˜è¾¾ 70-90% çš„å‹ç¼©ç‡ï¼Œå¯¹å·²ç»å‹ç¼©è¿‡çš„èµ„æºï¼ˆå¦‚ï¼šå›¾ç‰‡ï¼‰è¿›è¡Œ gzip å‹ç¼©å¤„ç†ï¼Œæ•ˆæœå¾ˆä¸å¥½ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">CompressionPlugin</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;compression-webpack-plugin&#x27;</span>)</span><br><span class=\"line\"><span class=\"attr\">configureWebpack</span>: <span class=\"function\">(<span class=\"params\">config</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (process.<span class=\"property\">env</span>.<span class=\"property\">NODE_ENV</span> === <span class=\"string\">&#x27;production&#x27;</span>) &#123;</span><br><span class=\"line\">    config.<span class=\"property\">plugins</span>.<span class=\"title function_\">push</span>(</span><br><span class=\"line\">      <span class=\"keyword\">new</span> <span class=\"title class_\">CompressionPlugin</span>(&#123;</span><br><span class=\"line\">        <span class=\"comment\">// gzipå‹ç¼©é…ç½®</span></span><br><span class=\"line\">        <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.js$|\\.html$|\\.css/</span>, <span class=\"comment\">// åŒ¹é…æ–‡ä»¶å</span></span><br><span class=\"line\">        <span class=\"attr\">threshold</span>: <span class=\"number\">10240</span>, <span class=\"comment\">// å¯¹è¶…è¿‡10kbçš„æ•°æ®è¿›è¡Œå‹ç¼©</span></span><br><span class=\"line\">        <span class=\"attr\">deleteOriginalAssets</span>: <span class=\"literal\">false</span>, <span class=\"comment\">// æ˜¯å¦åˆ é™¤åŸæ–‡ä»¶</span></span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    )</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"tree-shakingï¼ˆæ±‚åŠ©ï¼Œç”Ÿäº§ç¯å¢ƒæ‰“åŒ…ç”Ÿæˆä¸äº†æ ·å¼ï¼‰\"><a href=\"#tree-shakingï¼ˆæ±‚åŠ©ï¼Œç”Ÿäº§ç¯å¢ƒæ‰“åŒ…ç”Ÿæˆä¸äº†æ ·å¼ï¼‰\" class=\"headerlink\" title=\"tree-shakingï¼ˆæ±‚åŠ©ï¼Œç”Ÿäº§ç¯å¢ƒæ‰“åŒ…ç”Ÿæˆä¸äº†æ ·å¼ï¼‰\"></a>tree-shakingï¼ˆæ±‚åŠ©ï¼Œç”Ÿäº§ç¯å¢ƒæ‰“åŒ…ç”Ÿæˆä¸äº†æ ·å¼ï¼‰</h3><p>æŒ‰ä»¥ä¸Šçš„æ–¹å¼æ„å»ºé¡¹ç›®ï¼Œåœ¨å¼€å‘ç¯å¢ƒä¸€ç›´éƒ½æ˜¯é¡ºé¡ºåˆ©åˆ©çš„ï¼Œç„¶è€Œä¸€æ‰§è¡Œ <code>npm run build</code>ï¼Œæ‰“å¼€é¡µé¢ï¼Œå‘ç°æ ·å¼å…¨éƒ½ç¼ºå¤±äº†ã€‚æ‰“å¼€ <code>dist/css</code> æ–‡ä»¶å¤¹ï¼Œå‘ç°ä¸‰ä¸ª css æ–‡ä»¶ï¼Œåªæœ‰ <code>index.css</code> æœ‰éƒ¨åˆ†æ–‡ä»¶ï¼ˆæ˜¯ main.js å¼•å…¥é¢åˆå§‹åŒ–æ ·å¼ï¼Œä½†ä¹Ÿæ˜¯ä¸å…¨çš„ï¼‰ï¼Œå¦å¤–ä¸¤ä¸ª css æ–‡ä»¶åˆ™æ˜¯ç©ºç©ºå¦‚ä¹Ÿï¼Œä¹Ÿå°±æ˜¯.vue é‡Œé¢çš„æ ·å¼å…¨éƒ½ç¼ºå¤±äº†ã€‚</p>\n<p>æŸ¥çœ‹èµ„æºï¼Œåˆæ­¥åˆ¤æ–­ä¸º webpack4 é»˜è®¤ä½¿ç”¨ <code>tree-shaking</code>ï¼Œä¼šæŠŠ <strong>åœ¨æ¨¡å—çš„å±‚é¢ä¸Šåšåˆ°æ‰“åŒ…åçš„ä»£ç åªåŒ…å«è¢«å¼•ç”¨å¹¶è¢«æ‰§è¡Œçš„æ¨¡å—ï¼Œè€Œä¸è¢«å¼•ç”¨æˆ–ä¸è¢«æ‰§è¡Œçš„æ¨¡å—è¢«åˆ é™¤æ‰ï¼Œä»¥èµ·åˆ°å‡åŒ…çš„æ•ˆæœ</strong>ã€‚ä½†æ˜¯æˆ‘å·²ç»æŒ‰ç›¸å…³èµ„æºåœ¨ <code>package.json</code> é…ç½®äº† <code>sideEffects</code> äº†ï¼Œä½†æ˜¯è¿˜æ˜¯æ²¡ç”¨ï¼Œå®åœ¨è‹¦æ¼ï¼ï¼ï¼</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&quot;sideEffects&quot;</span>: [</span><br><span class=\"line\">    <span class=\"string\">&quot;*.less&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;*.css&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;*.vue&quot;</span></span><br><span class=\"line\">  ]</span><br></pre></td></tr></table></figure>\n"},{"title":"Vue è‡ªå®šä¹‰æŒ‡ä»¤","url":"/LittleWhiteRabbit/2022/04/26/%E5%88%86%E4%BA%AB8%E4%B8%AAVue%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8C%87%E4%BB%A4/","content":"<h1 id=\"Vue-è‡ªå®šä¹‰æŒ‡ä»¤\"><a href=\"#Vue-è‡ªå®šä¹‰æŒ‡ä»¤\" class=\"headerlink\" title=\"Vue è‡ªå®šä¹‰æŒ‡ä»¤\"></a>Vue è‡ªå®šä¹‰æŒ‡ä»¤</h1><p>åœ¨ Vueï¼Œé™¤äº†æ ¸å¿ƒåŠŸèƒ½é»˜è®¤å†…ç½®çš„æŒ‡ä»¤ ( v-model å’Œ v-show )ï¼ŒVue ä¹Ÿå…è®¸æ³¨å†Œè‡ªå®šä¹‰æŒ‡ä»¤ã€‚å®ƒçš„ä½œç”¨ä»·å€¼åœ¨äºå½“å¼€å‘äººå‘˜åœ¨æŸäº›åœºæ™¯ä¸‹éœ€è¦å¯¹æ™®é€š DOM å…ƒç´ è¿›è¡Œæ“ä½œã€‚</p>\n<p>Vue è‡ªå®šä¹‰æŒ‡ä»¤æœ‰å…¨å±€æ³¨å†Œå’Œå±€éƒ¨æ³¨å†Œä¸¤ç§æ–¹å¼ã€‚å…ˆæ¥çœ‹çœ‹æ³¨å†Œå…¨å±€æŒ‡ä»¤çš„æ–¹å¼ï¼Œé€šè¿‡ <code>Vue.directive( id, [definition] )</code> æ–¹å¼æ³¨å†Œå…¨å±€æŒ‡ä»¤ã€‚ç„¶ååœ¨å…¥å£æ–‡ä»¶ä¸­è¿›è¡Œ <code>Vue.use()</code> è°ƒç”¨ã€‚</p>\n<p>æ‰¹é‡æ³¨å†ŒæŒ‡ä»¤ï¼Œæ–°å»º <code>directives/index.js</code> æ–‡ä»¶</p>\n<span id=\"more\"></span>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> copy <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./copy&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> longpress <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./longpress&#x27;</span></span><br><span class=\"line\"><span class=\"comment\">// è‡ªå®šä¹‰æŒ‡ä»¤</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> directives = &#123;</span><br><span class=\"line\">  copy,</span><br><span class=\"line\">  longpress,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span><br><span class=\"line\">  <span class=\"title function_\">install</span>(<span class=\"params\">Vue</span>) &#123;</span><br><span class=\"line\">    <span class=\"title class_\">Object</span>.<span class=\"title function_\">keys</span>(directives).<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">key</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"title class_\">Vue</span>.<span class=\"title function_\">directive</span>(key, directives[key])</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>åœ¨ <code>main.js</code> å¼•å…¥å¹¶è°ƒç”¨</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Vue</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vue&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Directives</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./JS/directives&#x27;</span></span><br><span class=\"line\"><span class=\"title class_\">Vue</span>.<span class=\"title function_\">use</span>(<span class=\"title class_\">Directives</span>)</span><br></pre></td></tr></table></figure>\n\n<p>æŒ‡ä»¤å®šä¹‰å‡½æ•°æä¾›äº†å‡ ä¸ªé’©å­å‡½æ•°ï¼ˆå¯é€‰ï¼‰ï¼š</p>\n<ul>\n<li>bind: åªè°ƒç”¨ä¸€æ¬¡ï¼ŒæŒ‡ä»¤ç¬¬ä¸€æ¬¡ç»‘å®šåˆ°å…ƒç´ æ—¶è°ƒç”¨ï¼Œå¯ä»¥å®šä¹‰ä¸€ä¸ªåœ¨ç»‘å®šæ—¶æ‰§è¡Œä¸€æ¬¡çš„åˆå§‹åŒ–åŠ¨ä½œã€‚</li>\n<li>inserted: è¢«ç»‘å®šå…ƒç´ æ’å…¥çˆ¶èŠ‚ç‚¹æ—¶è°ƒç”¨ï¼ˆçˆ¶èŠ‚ç‚¹å­˜åœ¨å³å¯è°ƒç”¨ï¼Œä¸å¿…å­˜åœ¨äº document ä¸­ï¼‰ã€‚</li>\n<li>update:  è¢«ç»‘å®šå…ƒç´ æ‰€åœ¨çš„æ¨¡æ¿æ›´æ–°æ—¶è°ƒç”¨ï¼Œè€Œä¸è®ºç»‘å®šå€¼æ˜¯å¦å˜åŒ–ã€‚é€šè¿‡æ¯”è¾ƒæ›´æ–°å‰åçš„ç»‘å®šå€¼ã€‚</li>\n<li>componentUpdated: è¢«ç»‘å®šå…ƒç´ æ‰€åœ¨æ¨¡æ¿å®Œæˆä¸€æ¬¡æ›´æ–°å‘¨æœŸæ—¶è°ƒç”¨ã€‚</li>\n<li>unbind: åªè°ƒç”¨ä¸€æ¬¡ï¼Œ æŒ‡ä»¤ä¸å…ƒç´ è§£ç»‘æ—¶è°ƒç”¨ã€‚</li>\n</ul>\n<p>ä¸‹é¢åˆ†äº«å‡ ä¸ªå®ç”¨çš„ Vue è‡ªå®šä¹‰æŒ‡ä»¤</p>\n<ul>\n<li>å¤åˆ¶ç²˜è´´æŒ‡ä»¤ <code>v-copy</code></li>\n<li>é•¿æŒ‰æŒ‡ä»¤ <code>v-longpress</code></li>\n<li>è¾“å…¥æ¡†é˜²æŠ–æŒ‡ä»¤ <code>v-debounce</code></li>\n<li>ç¦æ­¢è¡¨æƒ…åŠç‰¹æ®Šå­—ç¬¦ <code>v-emoji</code></li>\n<li>å›¾ç‰‡æ‡’åŠ è½½ <code>v-LazyLoad</code></li>\n<li>æƒé™æ ¡éªŒæŒ‡ä»¤ <code>v-premission</code></li>\n<li>å®ç°é¡µé¢æ°´å° <code>v-waterMarker</code></li>\n<li>æ‹–æ‹½æŒ‡ä»¤ <code>v-draggable</code></li>\n</ul>\n<h2 id=\"v-copy\"><a href=\"#v-copy\" class=\"headerlink\" title=\"v-copy\"></a>v-copy</h2><p>éœ€æ±‚ï¼šå®ç°ä¸€é”®å¤åˆ¶æ–‡æœ¬å†…å®¹ï¼Œç”¨äºé¼ æ ‡å³é”®ç²˜è´´ã€‚</p>\n<p>æ€è·¯ï¼š</p>\n<ol>\n<li>åŠ¨æ€åˆ›å»º <code>textarea</code> æ ‡ç­¾ï¼Œå¹¶è®¾ç½® <code>readOnly</code> å±æ€§åŠç§»å‡ºå¯è§†åŒºåŸŸ</li>\n<li>å°†è¦å¤åˆ¶çš„å€¼èµ‹ç»™ <code>textarea</code> æ ‡ç­¾çš„ <code>value</code> å±æ€§ï¼Œå¹¶æ’å…¥åˆ° <code>body</code></li>\n<li>é€‰ä¸­å€¼ <code>textarea</code> å¹¶å¤åˆ¶</li>\n<li>å°† <code>body</code> ä¸­æ’å…¥çš„ <code>textarea</code> ç§»é™¤</li>\n<li>åœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨æ—¶ç»‘å®šäº‹ä»¶ï¼Œåœ¨è§£ç»‘æ—¶ç§»é™¤äº‹ä»¶</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> copy = &#123;</span><br><span class=\"line\">  <span class=\"title function_\">bind</span>(<span class=\"params\">el, &#123; value &#125;</span>) &#123;</span><br><span class=\"line\">    el.<span class=\"property\">$value</span> = value</span><br><span class=\"line\">    el.<span class=\"property\">handler</span> = <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (!el.<span class=\"property\">$value</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// å€¼ä¸ºç©ºçš„æ—¶å€™ï¼Œç»™å‡ºæç¤ºã€‚å¯æ ¹æ®é¡¹ç›®UIä»”ç»†è®¾è®¡</span></span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;æ— å¤åˆ¶å†…å®¹&#x27;</span>)</span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"comment\">// åŠ¨æ€åˆ›å»º textarea æ ‡ç­¾</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> textarea = <span class=\"variable language_\">document</span>.<span class=\"title function_\">createElement</span>(<span class=\"string\">&#x27;textarea&#x27;</span>)</span><br><span class=\"line\">      <span class=\"comment\">// å°†è¯¥ textarea è®¾ä¸º readonly é˜²æ­¢ iOS ä¸‹è‡ªåŠ¨å”¤èµ·é”®ç›˜ï¼ŒåŒæ—¶å°† textarea ç§»å‡ºå¯è§†åŒºåŸŸ</span></span><br><span class=\"line\">      textarea.<span class=\"property\">readOnly</span> = <span class=\"string\">&#x27;readonly&#x27;</span></span><br><span class=\"line\">      textarea.<span class=\"property\">style</span>.<span class=\"property\">position</span> = <span class=\"string\">&#x27;absolute&#x27;</span></span><br><span class=\"line\">      textarea.<span class=\"property\">style</span>.<span class=\"property\">left</span> = <span class=\"string\">&#x27;-9999px&#x27;</span></span><br><span class=\"line\">      <span class=\"comment\">// å°†è¦ copy çš„å€¼èµ‹ç»™ textarea æ ‡ç­¾çš„ value å±æ€§</span></span><br><span class=\"line\">      textarea.<span class=\"property\">value</span> = el.<span class=\"property\">$value</span></span><br><span class=\"line\">      <span class=\"comment\">// å°† textarea æ’å…¥åˆ° body ä¸­</span></span><br><span class=\"line\">      <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"title function_\">appendChild</span>(textarea)</span><br><span class=\"line\">      <span class=\"comment\">// é€‰ä¸­å€¼å¹¶å¤åˆ¶</span></span><br><span class=\"line\">      textarea.<span class=\"title function_\">select</span>()</span><br><span class=\"line\">      <span class=\"keyword\">const</span> result = <span class=\"variable language_\">document</span>.<span class=\"title function_\">execCommand</span>(<span class=\"string\">&#x27;Copy&#x27;</span>)</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (result) &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;å¤åˆ¶æˆåŠŸ&#x27;</span>) <span class=\"comment\">// å¯æ ¹æ®é¡¹ç›®UIä»”ç»†è®¾è®¡</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"title function_\">removeChild</span>(textarea)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// ç»‘å®šç‚¹å‡»äº‹ä»¶ï¼Œå°±æ˜¯æ‰€è°“çš„ä¸€é”® copy å•¦</span></span><br><span class=\"line\">    el.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;click&#x27;</span>, el.<span class=\"property\">handler</span>)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// å½“ä¼ è¿›æ¥çš„å€¼æ›´æ–°çš„æ—¶å€™è§¦å‘</span></span><br><span class=\"line\">  <span class=\"title function_\">componentUpdated</span>(<span class=\"params\">el, &#123; value &#125;</span>) &#123;</span><br><span class=\"line\">    el.<span class=\"property\">$value</span> = value</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// æŒ‡ä»¤ä¸å…ƒç´ è§£ç»‘çš„æ—¶å€™ï¼Œç§»é™¤äº‹ä»¶ç»‘å®š</span></span><br><span class=\"line\">  <span class=\"title function_\">unbind</span>(<span class=\"params\">el</span>) &#123;</span><br><span class=\"line\">    el.<span class=\"title function_\">removeEventListener</span>(<span class=\"string\">&#x27;click&#x27;</span>, el.<span class=\"property\">handler</span>)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> copy</span><br></pre></td></tr></table></figure>\n\n<p>ä½¿ç”¨ï¼šç»™ Dom åŠ ä¸Š <code>v-copy</code> åŠå¤åˆ¶çš„æ–‡æœ¬å³å¯</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">v-copy</span>=<span class=\"string\">&quot;copyText&quot;</span>&gt;</span>å¤åˆ¶<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"title function_\">data</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"keyword\">return</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">copyText</span>: <span class=\"string\">&#x27;a copy directives&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"v-longpress\"><a href=\"#v-longpress\" class=\"headerlink\" title=\"v-longpress\"></a>v-longpress</h2><p>éœ€æ±‚ï¼šå®ç°é•¿æŒ‰ï¼Œç”¨æˆ·éœ€è¦æŒ‰ä¸‹å¹¶æŒ‰ä½æŒ‰é’®å‡ ç§’é’Ÿï¼Œè§¦å‘ç›¸åº”çš„äº‹ä»¶</p>\n<p>æ€è·¯ï¼š</p>\n<ol>\n<li>åˆ›å»ºä¸€ä¸ªè®¡æ—¶å™¨ï¼Œ 2 ç§’åæ‰§è¡Œå‡½æ•°</li>\n<li>å½“ç”¨æˆ·æŒ‰ä¸‹æŒ‰é’®æ—¶è§¦å‘ <code>mousedown</code> äº‹ä»¶ï¼Œå¯åŠ¨è®¡æ—¶å™¨ï¼›ç”¨æˆ·æ¾å¼€æŒ‰é’®æ—¶è°ƒç”¨<code> mouseout</code> äº‹ä»¶ã€‚</li>\n<li>å¦‚æœ <code>mouseup</code> äº‹ä»¶ 2 ç§’å†…è¢«è§¦å‘ï¼Œå°±æ¸…é™¤è®¡æ—¶å™¨ï¼Œå½“ä½œä¸€ä¸ªæ™®é€šçš„ç‚¹å‡»äº‹ä»¶</li>\n<li>å¦‚æœè®¡æ—¶å™¨æ²¡æœ‰åœ¨ 2 ç§’å†…æ¸…é™¤ï¼Œåˆ™åˆ¤å®šä¸ºä¸€æ¬¡é•¿æŒ‰ï¼Œå¯ä»¥æ‰§è¡Œå…³è”çš„å‡½æ•°ã€‚</li>\n<li>åœ¨ç§»åŠ¨ç«¯è¦è€ƒè™‘ <code>touchstart</code>ï¼Œ<code>touchend</code> äº‹ä»¶</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> longpress = &#123;</span><br><span class=\"line\">  <span class=\"attr\">bind</span>: <span class=\"keyword\">function</span> (<span class=\"params\">el, binding, vNode</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> binding.<span class=\"property\">value</span> !== <span class=\"string\">&#x27;function&#x27;</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">throw</span> <span class=\"string\">&#x27;callback must be a function&#x27;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// å®šä¹‰å˜é‡</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> pressTimer = <span class=\"literal\">null</span></span><br><span class=\"line\">    <span class=\"comment\">// åˆ›å»ºè®¡æ—¶å™¨ï¼ˆ 2ç§’åæ‰§è¡Œå‡½æ•° ï¼‰</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> <span class=\"title function_\">start</span> = (<span class=\"params\">e</span>) =&gt; &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (e.<span class=\"property\">type</span> === <span class=\"string\">&#x27;click&#x27;</span> &amp;&amp; e.<span class=\"property\">button</span> !== <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (pressTimer === <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        pressTimer = <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">          <span class=\"title function_\">handler</span>()</span><br><span class=\"line\">        &#125;, <span class=\"number\">2000</span>)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// å–æ¶ˆè®¡æ—¶å™¨</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> <span class=\"title function_\">cancel</span> = (<span class=\"params\">e</span>) =&gt; &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (pressTimer !== <span class=\"literal\">null</span>) &#123;</span><br><span class=\"line\">        <span class=\"built_in\">clearTimeout</span>(pressTimer)</span><br><span class=\"line\">        pressTimer = <span class=\"literal\">null</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// è¿è¡Œå‡½æ•°</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> <span class=\"title function_\">handler</span> = (<span class=\"params\">e</span>) =&gt; &#123;</span><br><span class=\"line\">      binding.<span class=\"title function_\">value</span>(e)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// æ·»åŠ äº‹ä»¶ç›‘å¬å™¨</span></span><br><span class=\"line\">    el.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;mousedown&#x27;</span>, start)</span><br><span class=\"line\">    el.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;touchstart&#x27;</span>, start)</span><br><span class=\"line\">    <span class=\"comment\">// å–æ¶ˆè®¡æ—¶å™¨</span></span><br><span class=\"line\">    el.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;click&#x27;</span>, cancel)</span><br><span class=\"line\">    el.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;mouseout&#x27;</span>, cancel)</span><br><span class=\"line\">    el.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;touchend&#x27;</span>, cancel)</span><br><span class=\"line\">    el.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;touchcancel&#x27;</span>, cancel)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// å½“ä¼ è¿›æ¥çš„å€¼æ›´æ–°çš„æ—¶å€™è§¦å‘</span></span><br><span class=\"line\">  <span class=\"title function_\">componentUpdated</span>(<span class=\"params\">el, &#123; value &#125;</span>) &#123;</span><br><span class=\"line\">    el.<span class=\"property\">$value</span> = value</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// æŒ‡ä»¤ä¸å…ƒç´ è§£ç»‘çš„æ—¶å€™ï¼Œç§»é™¤äº‹ä»¶ç»‘å®š</span></span><br><span class=\"line\">  <span class=\"title function_\">unbind</span>(<span class=\"params\">el</span>) &#123;</span><br><span class=\"line\">    el.<span class=\"title function_\">removeEventListener</span>(<span class=\"string\">&#x27;click&#x27;</span>, el.<span class=\"property\">handler</span>)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> longpress</span><br></pre></td></tr></table></figure>\n\n<p>ä½¿ç”¨ï¼šç»™ Dom åŠ ä¸Š <code>v-longpress</code> åŠå›è°ƒå‡½æ•°å³å¯</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">v-longpress</span>=<span class=\"string\">&quot;longpress&quot;</span>&gt;</span>é•¿æŒ‰<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"attr\">methods</span>: &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    longpress () &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"title function_\">alert</span>(<span class=\"string\">&#x27;é•¿æŒ‰æŒ‡ä»¤ç”Ÿæ•ˆ&#x27;</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"v-debounce\"><a href=\"#v-debounce\" class=\"headerlink\" title=\"v-debounce\"></a>v-debounce</h2><p>èƒŒæ™¯ï¼šåœ¨å¼€å‘ä¸­ï¼Œæœ‰äº›æäº¤ä¿å­˜æŒ‰é’®æœ‰æ—¶å€™ä¼šåœ¨çŸ­æ—¶é—´å†…è¢«ç‚¹å‡»å¤šæ¬¡ï¼Œè¿™æ ·å°±ä¼šå¤šæ¬¡é‡å¤è¯·æ±‚åç«¯æ¥å£ï¼Œé€ æˆæ•°æ®çš„æ··ä¹±ï¼Œæ¯”å¦‚æ–°å¢è¡¨å•çš„æäº¤æŒ‰é’®ï¼Œå¤šæ¬¡ç‚¹å‡»å°±ä¼šæ–°å¢å¤šæ¡é‡å¤çš„æ•°æ®ã€‚</p>\n<p>éœ€æ±‚ï¼šé˜²æ­¢æŒ‰é’®åœ¨çŸ­æ—¶é—´å†…è¢«å¤šæ¬¡ç‚¹å‡»ï¼Œä½¿ç”¨é˜²æŠ–å‡½æ•°é™åˆ¶è§„å®šæ—¶é—´å†…åªèƒ½ç‚¹å‡»ä¸€æ¬¡ã€‚</p>\n<p>æ€è·¯ï¼š</p>\n<ol>\n<li>å®šä¹‰ä¸€ä¸ªå»¶è¿Ÿæ‰§è¡Œçš„æ–¹æ³•ï¼Œå¦‚æœåœ¨å»¶è¿Ÿæ—¶é—´å†…å†è°ƒç”¨è¯¥æ–¹æ³•ï¼Œåˆ™é‡æ–°è®¡ç®—æ‰§è¡Œæ—¶é—´ã€‚</li>\n<li>å°†æ—¶é—´ç»‘å®šåœ¨ click æ–¹æ³•ä¸Šã€‚</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> debounce = &#123;</span><br><span class=\"line\">  <span class=\"attr\">inserted</span>: <span class=\"keyword\">function</span> (<span class=\"params\">el, binding</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> timer</span><br><span class=\"line\">    el.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;keyup&#x27;</span>, <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (timer) &#123;</span><br><span class=\"line\">        <span class=\"built_in\">clearTimeout</span>(timer)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      timer = <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">        binding.<span class=\"title function_\">value</span>()</span><br><span class=\"line\">      &#125;, <span class=\"number\">1000</span>)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> debounce</span><br></pre></td></tr></table></figure>\n\n<p>ä½¿ç”¨ï¼šç»™ Dom åŠ ä¸Š <code>v-debounce</code> åŠå›è°ƒå‡½æ•°å³å¯</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">v-debounce</span>=<span class=\"string\">&quot;debounceClick&quot;</span>&gt;</span>é˜²æŠ–<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"attr\">methods</span>: &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    debounceClick () &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;åªè§¦å‘ä¸€æ¬¡&#x27;</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"v-emoji\"><a href=\"#v-emoji\" class=\"headerlink\" title=\"v-emoji\"></a>v-emoji</h2><p>èƒŒæ™¯ï¼šå¼€å‘ä¸­é‡åˆ°çš„è¡¨å•è¾“å…¥ï¼Œå¾€å¾€ä¼šæœ‰å¯¹è¾“å…¥å†…å®¹çš„é™åˆ¶ï¼Œæ¯”å¦‚ä¸èƒ½è¾“å…¥è¡¨æƒ…å’Œç‰¹æ®Šå­—ç¬¦ï¼Œåªèƒ½è¾“å…¥æ•°å­—æˆ–å­—æ¯ç­‰ã€‚</p>\n<p>æˆ‘ä»¬å¸¸è§„æ–¹æ³•æ˜¯åœ¨æ¯ä¸€ä¸ªè¡¨å•çš„ <code>on-change</code> äº‹ä»¶ä¸Šåšå¤„ç†ã€‚</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span> <span class=\"attr\">v-model</span>=<span class=\"string\">&quot;note&quot;</span> @<span class=\"attr\">change</span>=<span class=\"string\">&quot;vaidateEmoji&quot;</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"attr\">methods</span>: &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"title function_\">vaidateEmoji</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">var</span> reg = <span class=\"regexp\">/[^\\u4E00-\\u9FA5|\\d|\\a-zA-Z|\\r\\n\\s,.?!ï¼Œã€‚ï¼Ÿï¼â€¦â€”&amp;$=()-+/*&#123;&#125;[\\]]|\\s/g</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"variable language_\">this</span>.<span class=\"property\">note</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">note</span>.<span class=\"title function_\">replace</span>(reg, <span class=\"string\">&#x27;&#x27;</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>è¿™æ ·ä»£ç é‡æ¯”è¾ƒå¤§è€Œä¸”ä¸å¥½ç»´æŠ¤ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦è‡ªå®šä¹‰ä¸€ä¸ªæŒ‡ä»¤æ¥è§£å†³è¿™é—®é¢˜ã€‚</p>\n<p>éœ€æ±‚ï¼šæ ¹æ®æ­£åˆ™è¡¨è¾¾å¼ï¼Œè®¾è®¡è‡ªå®šä¹‰å¤„ç†è¡¨å•è¾“å…¥è§„åˆ™çš„æŒ‡ä»¤ï¼Œä¸‹é¢ä»¥ç¦æ­¢è¾“å…¥è¡¨æƒ…å’Œç‰¹æ®Šå­—ç¬¦ä¸ºä¾‹ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> <span class=\"title function_\">findEle</span> = (<span class=\"params\">parent, type</span>) =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> parent.<span class=\"property\">tagName</span>.<span class=\"title function_\">toLowerCase</span>() === type ? parent : parent.<span class=\"title function_\">querySelector</span>(type)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">trigger</span> = (<span class=\"params\">el, type</span>) =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> e = <span class=\"variable language_\">document</span>.<span class=\"title function_\">createEvent</span>(<span class=\"string\">&#x27;HTMLEvents&#x27;</span>)</span><br><span class=\"line\">  e.<span class=\"title function_\">initEvent</span>(type, <span class=\"literal\">true</span>, <span class=\"literal\">true</span>)</span><br><span class=\"line\">  el.<span class=\"title function_\">dispatchEvent</span>(e)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> emoji = &#123;</span><br><span class=\"line\">  <span class=\"attr\">bind</span>: <span class=\"keyword\">function</span> (<span class=\"params\">el, binding, vnode</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// æ­£åˆ™è§„åˆ™å¯æ ¹æ®éœ€æ±‚è‡ªå®šä¹‰</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> regRule = <span class=\"regexp\">/[^\\u4E00-\\u9FA5|\\d|\\a-zA-Z|\\r\\n\\s,.?!ï¼Œã€‚ï¼Ÿï¼â€¦â€”&amp;$=()-+/*&#123;&#125;[\\]]|\\s/g</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> $inp = <span class=\"title function_\">findEle</span>(el, <span class=\"string\">&#x27;input&#x27;</span>)</span><br><span class=\"line\">    el.<span class=\"property\">$inp</span> = $inp</span><br><span class=\"line\">    $inp.<span class=\"property\">handle</span> = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> val = $inp.<span class=\"property\">value</span></span><br><span class=\"line\">      $inp.<span class=\"property\">value</span> = val.<span class=\"title function_\">replace</span>(regRule, <span class=\"string\">&#x27;&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"title function_\">trigger</span>($inp, <span class=\"string\">&#x27;input&#x27;</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    $inp.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;keyup&#x27;</span>, $inp.<span class=\"property\">handle</span>)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">unbind</span>: <span class=\"keyword\">function</span> (<span class=\"params\">el</span>) &#123;</span><br><span class=\"line\">    el.<span class=\"property\">$inp</span>.<span class=\"title function_\">removeEventListener</span>(<span class=\"string\">&#x27;keyup&#x27;</span>, el.<span class=\"property\">$inp</span>.<span class=\"property\">handle</span>)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> emoji</span><br></pre></td></tr></table></figure>\n\n<p>ä½¿ç”¨ï¼šå°†éœ€è¦æ ¡éªŒçš„è¾“å…¥æ¡†åŠ ä¸Š <code>v-emoji</code> å³å¯</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span> <span class=\"attr\">v-model</span>=<span class=\"string\">&quot;note&quot;</span> <span class=\"attr\">v-emoji</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"v-LazyLoad\"><a href=\"#v-LazyLoad\" class=\"headerlink\" title=\"v-LazyLoad\"></a>v-LazyLoad</h2><p>èƒŒæ™¯ï¼šåœ¨ç±»ç”µå•†ç±»é¡¹ç›®ï¼Œå¾€å¾€å­˜åœ¨å¤§é‡çš„å›¾ç‰‡ï¼Œå¦‚ banner å¹¿å‘Šå›¾ï¼Œèœå•å¯¼èˆªå›¾ï¼Œç¾å›¢ç­‰å•†å®¶åˆ—è¡¨å¤´å›¾ç­‰ã€‚å›¾ç‰‡ä¼—å¤šä»¥åŠå›¾ç‰‡ä½“ç§¯è¿‡å¤§å¾€å¾€ä¼šå½±å“é¡µé¢åŠ è½½é€Ÿåº¦ï¼Œé€ æˆä¸è‰¯çš„ç”¨æˆ·ä½“éªŒï¼Œæ‰€ä»¥è¿›è¡Œå›¾ç‰‡æ‡’åŠ è½½ä¼˜åŒ–åŠ¿åœ¨å¿…è¡Œã€‚</p>\n<p>éœ€æ±‚ï¼šå®ç°ä¸€ä¸ªå›¾ç‰‡æ‡’åŠ è½½æŒ‡ä»¤ï¼ŒåªåŠ è½½æµè§ˆå™¨å¯è§åŒºåŸŸçš„å›¾ç‰‡ã€‚</p>\n<p>æ€è·¯ï¼š</p>\n<ol>\n<li>å›¾ç‰‡æ‡’åŠ è½½çš„åŸç†ä¸»è¦æ˜¯åˆ¤æ–­å½“å‰å›¾ç‰‡æ˜¯å¦åˆ°äº†å¯è§†åŒºåŸŸè¿™ä¸€æ ¸å¿ƒé€»è¾‘å®ç°çš„</li>\n<li>æ‹¿åˆ°æ‰€æœ‰çš„å›¾ç‰‡ Dom ï¼Œéå†æ¯ä¸ªå›¾ç‰‡åˆ¤æ–­å½“å‰å›¾ç‰‡æ˜¯å¦åˆ°äº†å¯è§†åŒºèŒƒå›´å†…</li>\n<li>å¦‚æœåˆ°äº†å°±è®¾ç½®å›¾ç‰‡çš„ <code>src</code> å±æ€§ï¼Œå¦åˆ™æ˜¾ç¤ºé»˜è®¤å›¾ç‰‡</li>\n</ol>\n<p>å›¾ç‰‡æ‡’åŠ è½½æœ‰ä¸¤ç§æ–¹å¼å¯ä»¥å®ç°ï¼Œä¸€æ˜¯ç»‘å®š <code>srcoll</code> äº‹ä»¶è¿›è¡Œç›‘å¬ï¼ŒäºŒæ˜¯ä½¿ç”¨ <code>IntersectionObserver</code> åˆ¤æ–­å›¾ç‰‡æ˜¯å¦åˆ°äº†å¯è§†åŒºåŸŸï¼Œä½†æ˜¯æœ‰æµè§ˆå™¨å…¼å®¹æ€§é—®é¢˜ã€‚</p>\n<p>ä¸‹é¢å°è£…ä¸€ä¸ªæ‡’åŠ è½½æŒ‡ä»¤å…¼å®¹ä¸¤ç§æ–¹æ³•ï¼Œåˆ¤æ–­æµè§ˆå™¨æ˜¯å¦æ”¯æŒ <code>IntersectionObserver</code> APIï¼Œå¦‚æœæ”¯æŒå°±ä½¿ç”¨ <code>IntersectionObserver</code> å®ç°æ‡’åŠ è½½ï¼Œå¦åˆ™åˆ™ä½¿ç”¨ <code>srcoll</code> äº‹ä»¶ç›‘å¬ + èŠ‚æµçš„æ–¹æ³•å®ç°ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">LazyLoad</span> = &#123;</span><br><span class=\"line\">  <span class=\"comment\">// installæ–¹æ³•</span></span><br><span class=\"line\">  <span class=\"title function_\">install</span>(<span class=\"params\">Vue, options</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> defaultSrc = options.<span class=\"property\">default</span></span><br><span class=\"line\">    <span class=\"title class_\">Vue</span>.<span class=\"title function_\">directive</span>(<span class=\"string\">&#x27;lazy&#x27;</span>, &#123;</span><br><span class=\"line\">      <span class=\"title function_\">bind</span>(<span class=\"params\">el, binding</span>) &#123;</span><br><span class=\"line\">        <span class=\"title class_\">LazyLoad</span>.<span class=\"title function_\">init</span>(el, binding.<span class=\"property\">value</span>, defaultSrc)</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"title function_\">inserted</span>(<span class=\"params\">el</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"title class_\">IntersectionObserver</span>) &#123;</span><br><span class=\"line\">          <span class=\"title class_\">LazyLoad</span>.<span class=\"title function_\">observe</span>(el)</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">          <span class=\"title class_\">LazyLoad</span>.<span class=\"title function_\">listenerScroll</span>(el)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// åˆå§‹åŒ–</span></span><br><span class=\"line\">  <span class=\"title function_\">init</span>(<span class=\"params\">el, val, def</span>) &#123;</span><br><span class=\"line\">    el.<span class=\"title function_\">setAttribute</span>(<span class=\"string\">&#x27;data-src&#x27;</span>, val)</span><br><span class=\"line\">    el.<span class=\"title function_\">setAttribute</span>(<span class=\"string\">&#x27;src&#x27;</span>, def)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// åˆ©ç”¨IntersectionObserverç›‘å¬el</span></span><br><span class=\"line\">  <span class=\"title function_\">observe</span>(<span class=\"params\">el</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> io = <span class=\"keyword\">new</span> <span class=\"title class_\">IntersectionObserver</span>(<span class=\"function\">(<span class=\"params\">entries</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> realSrc = el.<span class=\"property\">dataset</span>.<span class=\"property\">src</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (entries[<span class=\"number\">0</span>].<span class=\"property\">isIntersecting</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (realSrc) &#123;</span><br><span class=\"line\">          el.<span class=\"property\">src</span> = realSrc</span><br><span class=\"line\">          el.<span class=\"title function_\">removeAttribute</span>(<span class=\"string\">&#x27;data-src&#x27;</span>)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    io.<span class=\"title function_\">observe</span>(el)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// ç›‘å¬scrolläº‹ä»¶</span></span><br><span class=\"line\">  <span class=\"title function_\">listenerScroll</span>(<span class=\"params\">el</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> handler = <span class=\"title class_\">LazyLoad</span>.<span class=\"title function_\">throttle</span>(<span class=\"title class_\">LazyLoad</span>.<span class=\"property\">load</span>, <span class=\"number\">300</span>)</span><br><span class=\"line\">    <span class=\"title class_\">LazyLoad</span>.<span class=\"title function_\">load</span>(el)</span><br><span class=\"line\">    <span class=\"variable language_\">window</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;scroll&#x27;</span>, <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"title function_\">handler</span>(el)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// åŠ è½½çœŸå®å›¾ç‰‡</span></span><br><span class=\"line\">  <span class=\"title function_\">load</span>(<span class=\"params\">el</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> windowHeight = <span class=\"variable language_\">document</span>.<span class=\"property\">documentElement</span>.<span class=\"property\">clientHeight</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> elTop = el.<span class=\"title function_\">getBoundingClientRect</span>().<span class=\"property\">top</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> elBtm = el.<span class=\"title function_\">getBoundingClientRect</span>().<span class=\"property\">bottom</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> realSrc = el.<span class=\"property\">dataset</span>.<span class=\"property\">src</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (elTop - windowHeight &lt; <span class=\"number\">0</span> &amp;&amp; elBtm &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (realSrc) &#123;</span><br><span class=\"line\">        el.<span class=\"property\">src</span> = realSrc</span><br><span class=\"line\">        el.<span class=\"title function_\">removeAttribute</span>(<span class=\"string\">&#x27;data-src&#x27;</span>)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// èŠ‚æµ</span></span><br><span class=\"line\">  <span class=\"title function_\">throttle</span>(<span class=\"params\">fn, delay</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> timer</span><br><span class=\"line\">    <span class=\"keyword\">let</span> prevTime</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">function</span> (<span class=\"params\">...args</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> currTime = <span class=\"title class_\">Date</span>.<span class=\"title function_\">now</span>()</span><br><span class=\"line\">      <span class=\"keyword\">const</span> context = <span class=\"variable language_\">this</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (!prevTime) prevTime = currTime</span><br><span class=\"line\">      <span class=\"built_in\">clearTimeout</span>(timer)</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (currTime - prevTime &gt; delay) &#123;</span><br><span class=\"line\">        prevTime = currTime</span><br><span class=\"line\">        fn.<span class=\"title function_\">apply</span>(context, args)</span><br><span class=\"line\">        <span class=\"built_in\">clearTimeout</span>(timer)</span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      timer = <span class=\"built_in\">setTimeout</span>(<span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        prevTime = <span class=\"title class_\">Date</span>.<span class=\"title function_\">now</span>()</span><br><span class=\"line\">        timer = <span class=\"literal\">null</span></span><br><span class=\"line\">        fn.<span class=\"title function_\">apply</span>(context, args)</span><br><span class=\"line\">      &#125;, delay)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"title class_\">LazyLoad</span></span><br></pre></td></tr></table></figure>\n\n<p>ä½¿ç”¨ï¼Œå°†ç»„ä»¶å†… <img> æ ‡ç­¾çš„ <code>src</code> æ¢æˆ <code>v-LazyLoad</code></p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">v-LazyLoad</span>=<span class=\"string\">&quot;xxx.jpg&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"v-permission\"><a href=\"#v-permission\" class=\"headerlink\" title=\"v-permission\"></a>v-permission</h2><p>èƒŒæ™¯ï¼šåœ¨ä¸€äº›åå°ç®¡ç†ç³»ç»Ÿï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦æ ¹æ®ç”¨æˆ·è§’è‰²è¿›è¡Œä¸€äº›æ“ä½œæƒé™çš„åˆ¤æ–­ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬éƒ½æ˜¯ç²—æš´åœ°ç»™ä¸€ä¸ªå…ƒç´ æ·»åŠ  <code>v-if / v-show</code> æ¥è¿›è¡Œæ˜¾ç¤ºéšè—ï¼Œä½†å¦‚æœåˆ¤æ–­æ¡ä»¶ç¹çä¸”å¤šä¸ªåœ°æ–¹éœ€è¦åˆ¤æ–­ï¼Œè¿™ç§æ–¹å¼çš„ä»£ç ä¸ä»…ä¸ä¼˜é›…è€Œä¸”å†—ä½™ã€‚é’ˆå¯¹è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å…¨å±€è‡ªå®šä¹‰æŒ‡ä»¤æ¥å¤„ç†ã€‚</p>\n<p>éœ€æ±‚ï¼šè‡ªå®šä¹‰ä¸€ä¸ªæƒé™æŒ‡ä»¤ï¼Œå¯¹éœ€è¦æƒé™åˆ¤æ–­çš„ Dom è¿›è¡Œæ˜¾ç¤ºéšè—ã€‚</p>\n<p>æ€è·¯ï¼š</p>\n<ol>\n<li>è‡ªå®šä¹‰ä¸€ä¸ªæƒé™æ•°ç»„</li>\n<li>åˆ¤æ–­ç”¨æˆ·çš„æƒé™æ˜¯å¦åœ¨è¿™ä¸ªæ•°ç»„å†…ï¼Œå¦‚æœæ˜¯åˆ™æ˜¾ç¤ºï¼Œå¦åˆ™åˆ™ç§»é™¤ Dom</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">checkArray</span>(<span class=\"params\">key</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> arr = [<span class=\"string\">&#x27;1&#x27;</span>, <span class=\"string\">&#x27;2&#x27;</span>, <span class=\"string\">&#x27;3&#x27;</span>, <span class=\"string\">&#x27;4&#x27;</span>]</span><br><span class=\"line\">  <span class=\"keyword\">let</span> index = arr.<span class=\"title function_\">indexOf</span>(key)</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (index &gt; -<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">true</span> <span class=\"comment\">// æœ‰æƒé™</span></span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"literal\">false</span> <span class=\"comment\">// æ— æƒé™</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> permission = &#123;</span><br><span class=\"line\">  <span class=\"attr\">inserted</span>: <span class=\"keyword\">function</span> (<span class=\"params\">el, binding</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> permission = binding.<span class=\"property\">value</span> <span class=\"comment\">// è·å–åˆ° v-permissionçš„å€¼</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (permission) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> hasPermission = <span class=\"title function_\">checkArray</span>(permission)</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (!hasPermission) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// æ²¡æœ‰æƒé™ ç§»é™¤Domå…ƒç´ </span></span><br><span class=\"line\">        el.<span class=\"property\">parentNode</span> &amp;&amp; el.<span class=\"property\">parentNode</span>.<span class=\"title function_\">removeChild</span>(el)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> permission</span><br></pre></td></tr></table></figure>\n\n<p>ä½¿ç”¨ï¼šç»™ <code>v-permission</code> èµ‹å€¼åˆ¤æ–­å³å¯</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;btns&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- æ˜¾ç¤º --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">v-permission</span>=<span class=\"string\">&quot;&#x27;1&#x27;&quot;</span>&gt;</span>æƒé™æŒ‰é’®1<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- ä¸æ˜¾ç¤º --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">v-permission</span>=<span class=\"string\">&quot;&#x27;10&#x27;&quot;</span>&gt;</span>æƒé™æŒ‰é’®2<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"vue-waterMarker\"><a href=\"#vue-waterMarker\" class=\"headerlink\" title=\"vue-waterMarker\"></a>vue-waterMarker</h2><p>éœ€æ±‚ï¼šç»™æ•´ä¸ªé¡µé¢æ·»åŠ èƒŒæ™¯æ°´å°</p>\n<p>æ€è·¯ï¼š</p>\n<ol>\n<li>ä½¿ç”¨ <code>canvas</code> ç‰¹æ€§ç”Ÿæˆ <code>base64</code> æ ¼å¼çš„å›¾ç‰‡æ–‡ä»¶ï¼Œè®¾ç½®å…¶å­—ä½“å¤§å°ï¼Œé¢œè‰²ç­‰ã€‚</li>\n<li>å°†å…¶è®¾ç½®ä¸ºèƒŒæ™¯å›¾ç‰‡ï¼Œä»è€Œå®ç°é¡µé¢æˆ–ç»„ä»¶æ°´å°æ•ˆæœ</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">addWaterMarker</span>(<span class=\"params\">str, parentNode, font, textColor</span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// æ°´å°æ–‡å­—ï¼Œçˆ¶å…ƒç´ ï¼Œå­—ä½“ï¼Œæ–‡å­—é¢œè‰²</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> can = <span class=\"variable language_\">document</span>.<span class=\"title function_\">createElement</span>(<span class=\"string\">&#x27;canvas&#x27;</span>)</span><br><span class=\"line\">  parentNode.<span class=\"title function_\">appendChild</span>(can)</span><br><span class=\"line\">  can.<span class=\"property\">width</span> = <span class=\"number\">200</span></span><br><span class=\"line\">  can.<span class=\"property\">height</span> = <span class=\"number\">150</span></span><br><span class=\"line\">  can.<span class=\"property\">style</span>.<span class=\"property\">display</span> = <span class=\"string\">&#x27;none&#x27;</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> cans = can.<span class=\"title function_\">getContext</span>(<span class=\"string\">&#x27;2d&#x27;</span>)</span><br><span class=\"line\">  cans.<span class=\"title function_\">rotate</span>((-<span class=\"number\">20</span> * <span class=\"title class_\">Math</span>.<span class=\"property\">PI</span>) / <span class=\"number\">180</span>)</span><br><span class=\"line\">  cans.<span class=\"property\">font</span> = font || <span class=\"string\">&#x27;16px Microsoft JhengHei&#x27;</span></span><br><span class=\"line\">  cans.<span class=\"property\">fillStyle</span> = textColor || <span class=\"string\">&#x27;rgba(180, 180, 180, 0.3)&#x27;</span></span><br><span class=\"line\">  cans.<span class=\"property\">textAlign</span> = <span class=\"string\">&#x27;left&#x27;</span></span><br><span class=\"line\">  cans.<span class=\"property\">textBaseline</span> = <span class=\"string\">&#x27;Middle&#x27;</span></span><br><span class=\"line\">  cans.<span class=\"title function_\">fillText</span>(str, can.<span class=\"property\">width</span> / <span class=\"number\">10</span>, can.<span class=\"property\">height</span> / <span class=\"number\">2</span>)</span><br><span class=\"line\">  parentNode.<span class=\"property\">style</span>.<span class=\"property\">backgroundImage</span> = <span class=\"string\">&#x27;url(&#x27;</span> + can.<span class=\"title function_\">toDataURL</span>(<span class=\"string\">&#x27;image/png&#x27;</span>) + <span class=\"string\">&#x27;)&#x27;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> waterMarker = &#123;</span><br><span class=\"line\">  <span class=\"attr\">bind</span>: <span class=\"keyword\">function</span> (<span class=\"params\">el, binding</span>) &#123;</span><br><span class=\"line\">    <span class=\"title function_\">addWaterMarker</span>(binding.<span class=\"property\">value</span>.<span class=\"property\">text</span>, el, binding.<span class=\"property\">value</span>.<span class=\"property\">font</span>, binding.<span class=\"property\">value</span>.<span class=\"property\">textColor</span>)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> waterMarker</span><br></pre></td></tr></table></figure>\n\n<p>ä½¿ç”¨ï¼Œè®¾ç½®æ°´å°æ–‡æ¡ˆï¼Œé¢œè‰²ï¼Œå­—ä½“å¤§å°å³å¯</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">v-waterMarker</span>=<span class=\"string\">&quot;&#123;text:&#x27;lzgç‰ˆæƒæ‰€æœ‰&#x27;,textColor:&#x27;rgba(180, 180, 180, 0.4)&#x27;&#125;&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"v-draggable\"><a href=\"#v-draggable\" class=\"headerlink\" title=\"v-draggable\"></a>v-draggable</h2><p>éœ€æ±‚ï¼šå®ç°ä¸€ä¸ªæ‹–æ‹½æŒ‡ä»¤ï¼Œå¯åœ¨é¡µé¢å¯è§†åŒºåŸŸä»»æ„æ‹–æ‹½å…ƒç´ ã€‚</p>\n<p>æ€è·¯ï¼š</p>\n<ol>\n<li>è®¾ç½®éœ€è¦æ‹–æ‹½çš„å…ƒç´ ä¸ºç›¸å¯¹å®šä½ï¼Œå…¶çˆ¶å…ƒç´ ä¸ºç»å¯¹å®šä½ã€‚</li>\n<li>é¼ æ ‡æŒ‰ä¸‹<code>(onmousedown)</code>æ—¶è®°å½•ç›®æ ‡å…ƒç´ å½“å‰çš„ <code>left</code> å’Œ <code>top</code> å€¼ã€‚</li>\n<li>é¼ æ ‡ç§»åŠ¨<code>(onmousemove)</code>æ—¶è®¡ç®—æ¯æ¬¡ç§»åŠ¨çš„æ¨ªå‘è·ç¦»å’Œçºµå‘è·ç¦»çš„å˜åŒ–å€¼ï¼Œå¹¶æ”¹å˜å…ƒç´ çš„ <code>left</code> å’Œ <code>top</code> å€¼</li>\n<li>é¼ æ ‡æ¾å¼€<code>(onmouseup)</code>æ—¶å®Œæˆä¸€æ¬¡æ‹–æ‹½</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> draggable = &#123;</span><br><span class=\"line\">  <span class=\"attr\">inserted</span>: <span class=\"keyword\">function</span> (<span class=\"params\">el</span>) &#123;</span><br><span class=\"line\">    el.<span class=\"property\">style</span>.<span class=\"property\">cursor</span> = <span class=\"string\">&#x27;move&#x27;</span></span><br><span class=\"line\">    el.<span class=\"property\">onmousedown</span> = <span class=\"keyword\">function</span> (<span class=\"params\">e</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> disx = e.<span class=\"property\">pageX</span> - el.<span class=\"property\">offsetLeft</span></span><br><span class=\"line\">      <span class=\"keyword\">let</span> disy = e.<span class=\"property\">pageY</span> - el.<span class=\"property\">offsetTop</span></span><br><span class=\"line\">      <span class=\"variable language_\">document</span>.<span class=\"property\">onmousemove</span> = <span class=\"keyword\">function</span> (<span class=\"params\">e</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> x = e.<span class=\"property\">pageX</span> - disx</span><br><span class=\"line\">        <span class=\"keyword\">let</span> y = e.<span class=\"property\">pageY</span> - disy</span><br><span class=\"line\">        <span class=\"keyword\">let</span> maxX = <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"property\">clientWidth</span> - <span class=\"built_in\">parseInt</span>(<span class=\"variable language_\">window</span>.<span class=\"title function_\">getComputedStyle</span>(el).<span class=\"property\">width</span>)</span><br><span class=\"line\">        <span class=\"keyword\">let</span> maxY = <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"property\">clientHeight</span> - <span class=\"built_in\">parseInt</span>(<span class=\"variable language_\">window</span>.<span class=\"title function_\">getComputedStyle</span>(el).<span class=\"property\">height</span>)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (x &lt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">          x = <span class=\"number\">0</span></span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (x &gt; maxX) &#123;</span><br><span class=\"line\">          x = maxX</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (y &lt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">          y = <span class=\"number\">0</span></span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (y &gt; maxY) &#123;</span><br><span class=\"line\">          y = maxY</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        el.<span class=\"property\">style</span>.<span class=\"property\">left</span> = x + <span class=\"string\">&#x27;px&#x27;</span></span><br><span class=\"line\">        el.<span class=\"property\">style</span>.<span class=\"property\">top</span> = y + <span class=\"string\">&#x27;px&#x27;</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"variable language_\">document</span>.<span class=\"property\">onmouseup</span> = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">document</span>.<span class=\"property\">onmousemove</span> = <span class=\"variable language_\">document</span>.<span class=\"property\">onmouseup</span> = <span class=\"literal\">null</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> draggable</span><br></pre></td></tr></table></figure>\n\n<p>ä½¿ç”¨: åœ¨ Dom ä¸ŠåŠ ä¸Š v-draggable å³å¯</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;el-dialog&quot;</span> <span class=\"attr\">v-draggable</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br></pre></td></tr></table></figure>\n"},{"title":"JS åŸºæœ¬çŸ¥è¯†","url":"/LittleWhiteRabbit/2022/04/26/%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1%E5%92%8C%E5%8E%9F%E5%9E%8B%E9%93%BE/","content":"<h2 id=\"1-å‰è¨€\"><a href=\"#1-å‰è¨€\" class=\"headerlink\" title=\"1 å‰è¨€\"></a>1 å‰è¨€</h2><h3 id=\"1-1-é¢å‘å¯¹è±¡çš„ä¸‰å¤§ç‰¹æ€§\"><a href=\"#1-1-é¢å‘å¯¹è±¡çš„ä¸‰å¤§ç‰¹æ€§\" class=\"headerlink\" title=\"1.1 é¢å‘å¯¹è±¡çš„ä¸‰å¤§ç‰¹æ€§\"></a>1.1 é¢å‘å¯¹è±¡çš„ä¸‰å¤§ç‰¹æ€§</h3><ul>\n<li>å°è£…</li>\n<li>ç»§æ‰¿</li>\n<li>å¤šæ€<span id=\"more\"></span>\n<h3 id=\"1-2-åŸå‹é“¾çš„çŸ¥è¯†\"><a href=\"#1-2-åŸå‹é“¾çš„çŸ¥è¯†\" class=\"headerlink\" title=\"1.2 åŸå‹é“¾çš„çŸ¥è¯†\"></a>1.2 åŸå‹é“¾çš„çŸ¥è¯†</h3></li>\n</ul>\n<blockquote>\n<p>åŸå‹é“¾æ˜¯é¢å‘å¯¹è±¡çš„åŸºç¡€ï¼Œæ˜¯éå¸¸é‡è¦çš„éƒ¨åˆ†ã€‚æœ‰ä»¥ä¸‹å‡ ç§çŸ¥è¯†ï¼š</p>\n</blockquote>\n<ul>\n<li>åˆ›å»ºå¯¹è±¡æœ‰å‡ ç§æ–¹æ³•</li>\n<li>åŸå‹ã€æ„é€ å‡½æ•°ã€å®ä¾‹ã€åŸå‹é“¾</li>\n<li><code>instanceof</code>çš„åŸç†</li>\n<li><code>new</code> è¿ç®—ç¬¦</li>\n</ul>\n<h2 id=\"2-åˆ›å»ºå¯¹è±¡æœ‰å‡ ç§æ–¹æ³•\"><a href=\"#2-åˆ›å»ºå¯¹è±¡æœ‰å‡ ç§æ–¹æ³•\" class=\"headerlink\" title=\"2 åˆ›å»ºå¯¹è±¡æœ‰å‡ ç§æ–¹æ³•\"></a>2 åˆ›å»ºå¯¹è±¡æœ‰å‡ ç§æ–¹æ³•</h2><h3 id=\"2-1-æ–¹å¼ä¸€ï¼šå­—é¢é‡\"><a href=\"#2-1-æ–¹å¼ä¸€ï¼šå­—é¢é‡\" class=\"headerlink\" title=\"2.1 æ–¹å¼ä¸€ï¼šå­—é¢é‡\"></a>2.1 æ–¹å¼ä¸€ï¼šå­—é¢é‡</h3><figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj11 = &#123;<span class=\"attr\">name</span>: <span class=\"string\">&#x27;smyh&#x27;</span>&#125;;</span><br><span class=\"line\"><span class=\"keyword\">var</span> obj12 = <span class=\"keyword\">new</span> <span class=\"title class_\">Object</span>(<span class=\"attr\">name</span>: <span class=\"string\">`smyh`</span>); <span class=\"comment\">//å†…ç½®å¯¹è±¡ï¼ˆå†…ç½®çš„æ„é€ å‡½æ•°ï¼‰</span></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>ä¸Šé¢çš„ä¸¤ç§å†™æ³•ï¼Œæ•ˆæœæ˜¯ä¸€æ ·çš„ã€‚å› ä¸ºï¼Œç¬¬ä¸€ç§å†™æ³•ï¼Œ<code>obj11</code>ä¼šæŒ‡å‘<code>Object</code>ã€‚</p>\n</blockquote>\n<ul>\n<li>ç¬¬ä¸€ç§å†™æ³•æ˜¯ï¼šå­—é¢é‡çš„æ–¹å¼ã€‚</li>\n<li>ç¬¬äºŒç§å†™æ³•æ˜¯ï¼šå†…ç½®çš„æ„é€ å‡½æ•°</li>\n</ul>\n<h3 id=\"2-2-æ–¹å¼äºŒï¼šé€šè¿‡æ„é€ å‡½æ•°\"><a href=\"#2-2-æ–¹å¼äºŒï¼šé€šè¿‡æ„é€ å‡½æ•°\" class=\"headerlink\" title=\"2.2 æ–¹å¼äºŒï¼šé€šè¿‡æ„é€ å‡½æ•°\"></a>2.2 æ–¹å¼äºŒï¼šé€šè¿‡æ„é€ å‡½æ•°</h3><figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> M = <span class=\"keyword\">function</span> (<span class=\"params\">name</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">name</span> = name;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> obj3 = <span class=\"keyword\">new</span> <span class=\"title function_\">M</span>(<span class=\"string\">&#x27;smyhvae&#x27;</span>);</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"2-3-æ–¹æ³•ä¸‰ï¼šObject-create\"><a href=\"#2-3-æ–¹æ³•ä¸‰ï¼šObject-create\" class=\"headerlink\" title=\"2.3 æ–¹æ³•ä¸‰ï¼šObject.create\"></a>2.3 æ–¹æ³•ä¸‰ï¼šObject.create</h3><figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> p = &#123;<span class=\"attr\">name</span>:<span class=\"string\">&#x27;smyhvae&#x27;</span>&#125;;</span><br><span class=\"line\"><span class=\"keyword\">var</span> obj3 = <span class=\"title class_\">Object</span>.<span class=\"title function_\">create</span>(p);  <span class=\"comment\">//æ­¤æ–¹æ³•åˆ›å»ºçš„å¯¹è±¡ï¼Œæ˜¯ç”¨åŸå‹é“¾è¿æ¥çš„</span></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>ç¬¬ä¸‰ç§æ–¹æ³•ï¼Œå¾ˆå°‘æœ‰äººèƒ½è¯´å‡ºæ¥ã€‚è¿™ç§æ–¹å¼é‡Œï¼Œ<code>obj3</code>æ˜¯å®ä¾‹ï¼Œ<code>p</code>æ˜¯<code>obj3çš„``åŸå‹ï¼ˆ</code>name<code>æ˜¯påŸå‹é‡Œçš„å±æ€§ï¼‰ï¼Œæ„é€ å‡½æ•°æ˜¯</code>Objecet&#96; ã€‚</p>\n</blockquote>\n<p><img src=\"http://img.smyhvae.com/20180306_1633.png\"></p>\n<h2 id=\"3-åŸå‹ã€æ„é€ å‡½æ•°ã€å®ä¾‹ï¼Œä»¥åŠåŸå‹é“¾\"><a href=\"#3-åŸå‹ã€æ„é€ å‡½æ•°ã€å®ä¾‹ï¼Œä»¥åŠåŸå‹é“¾\" class=\"headerlink\" title=\"3 åŸå‹ã€æ„é€ å‡½æ•°ã€å®ä¾‹ï¼Œä»¥åŠåŸå‹é“¾\"></a>3 åŸå‹ã€æ„é€ å‡½æ•°ã€å®ä¾‹ï¼Œä»¥åŠåŸå‹é“¾</h2><p><img src=\"http://img.smyhvae.com/20180306_1540.png\"></p>\n<blockquote>\n<p>PSï¼šä»»ä½•ä¸€ä¸ªå‡½æ•°ï¼Œå¦‚æœåœ¨å‰é¢åŠ äº†<code>new</code>ï¼Œé‚£å°±æ˜¯æ„é€ å‡½æ•°ã€‚</p>\n</blockquote>\n<h3 id=\"3-1-åŸå‹ã€æ„é€ å‡½æ•°ã€å®ä¾‹ä¸‰è€…ä¹‹é—´çš„å…³ç³»\"><a href=\"#3-1-åŸå‹ã€æ„é€ å‡½æ•°ã€å®ä¾‹ä¸‰è€…ä¹‹é—´çš„å…³ç³»\" class=\"headerlink\" title=\"3.1 åŸå‹ã€æ„é€ å‡½æ•°ã€å®ä¾‹ä¸‰è€…ä¹‹é—´çš„å…³ç³»\"></a>3.1 åŸå‹ã€æ„é€ å‡½æ•°ã€å®ä¾‹ä¸‰è€…ä¹‹é—´çš„å…³ç³»</h3><p><img src=\"http://img.smyhvae.com/20180306_2107.png\"></p>\n<ol>\n<li>æ„é€ å‡½æ•°é€šè¿‡ <code>new</code> ç”Ÿæˆå®ä¾‹</li>\n<li>æ„é€ å‡½æ•°ä¹Ÿæ˜¯å‡½æ•°ï¼Œæ„é€ å‡½æ•°çš„<code>prototype</code>æŒ‡å‘åŸå‹ã€‚ï¼ˆæ‰€æœ‰çš„å‡½æ•°æœ‰<code>prototype</code>å±æ€§ï¼Œä½†å®ä¾‹æ²¡æœ‰ <code>prototype</code>å±æ€§ï¼‰</li>\n<li>åŸå‹å¯¹è±¡ä¸­æœ‰ <code>constructor</code>ï¼ŒæŒ‡å‘è¯¥åŸå‹çš„æ„é€ å‡½æ•°ã€‚</li>\n</ol>\n<blockquote>\n<p>ä¸Šé¢çš„ä¸‰è¡Œï¼Œä»£ç æ¼”ç¤ºï¼š</p>\n</blockquote>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> <span class=\"title class_\">Foo</span> = <span class=\"keyword\">function</span> (<span class=\"params\">name</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">name</span> = name;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> fn = <span class=\"keyword\">new</span> <span class=\"title class_\">Foo</span>(<span class=\"string\">&#x27;smyhvae&#x27;</span>);</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>ä¸Šé¢çš„ä»£ç ä¸­ï¼Œ<code>Foo.prototype.constructor === Foo</code>çš„ç»“æœæ˜¯<code>true</code>ï¼š</p>\n</blockquote>\n<p><img src=\"http://img.smyhvae.com/20180306_2120.png\"></p>\n<ol start=\"4\">\n<li>å®ä¾‹çš„<code>__proto__</code>æŒ‡å‘åŸå‹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ<code>Foo.__proto__ === M.prototype</code>ã€‚</li>\n</ol>\n<blockquote>\n<p>å£°æ˜ï¼šæ‰€æœ‰çš„<strong>å¼•ç”¨ç±»å‹</strong>ï¼ˆæ•°ç»„ã€å¯¹è±¡ã€å‡½æ•°ï¼‰éƒ½æœ‰<code>__proto__</code>è¿™ä¸ªå±æ€§ã€‚</p>\n</blockquote>\n<p><code>Foo.__proto__ === Function.prototype</code>çš„ç»“æœä¸ºtrueï¼Œè¯´æ˜<code>Foo</code>è¿™ä¸ªæ™®é€šçš„å‡½æ•°ï¼Œæ˜¯<code>Function</code>æ„é€ å‡½æ•°çš„ä¸€ä¸ªå®ä¾‹ã€‚</p>\n<h3 id=\"3-2-åŸå‹é“¾\"><a href=\"#3-2-åŸå‹é“¾\" class=\"headerlink\" title=\"3.2 åŸå‹é“¾\"></a>3.2 åŸå‹é“¾</h3><p><strong>åŸå‹é“¾çš„åŸºæœ¬åŸç†</strong>ï¼šä»»ä½•ä¸€ä¸ª<strong>å®ä¾‹</strong>ï¼Œé€šè¿‡åŸå‹é“¾ï¼Œæ‰¾åˆ°å®ƒä¸Šé¢çš„<strong>åŸå‹</strong>ï¼Œè¯¥åŸå‹å¯¹è±¡ä¸­çš„æ–¹æ³•å’Œå±æ€§ï¼Œå¯ä»¥è¢«æ‰€æœ‰çš„åŸå‹å®ä¾‹å…±äº«ã€‚</p>\n<blockquote>\n<p><code>Object</code>æ˜¯åŸå‹é“¾çš„é¡¶ç«¯ã€‚</p>\n</blockquote>\n<ul>\n<li>åŸå‹å¯ä»¥èµ·åˆ°ç»§æ‰¿çš„ä½œç”¨ã€‚åŸå‹é‡Œçš„æ–¹æ³•éƒ½å¯ä»¥è¢«ä¸åŒçš„å®ä¾‹å…±äº«ï¼š</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//ç»™Fooçš„åŸå‹æ·»åŠ  say å‡½æ•°</span></span><br><span class=\"line\"><span class=\"title class_\">Foo</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">say</span> = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;&#x27;</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>åŸå‹é“¾çš„å…³é”®</strong>ï¼šåœ¨è®¿é—®ä¸€ä¸ªå®ä¾‹çš„æ—¶å€™ï¼Œå¦‚æœå®ä¾‹æœ¬èº«æ²¡æ‰¾åˆ°æ­¤æ–¹æ³•æˆ–å±æ€§ï¼Œå°±å¾€åŸå‹ä¸Šæ‰¾ã€‚å¦‚æœè¿˜æ˜¯æ‰¾ä¸åˆ°ï¼Œç»§ç»­å¾€ä¸Šä¸€çº§çš„åŸå‹ä¸Šæ‰¾ã€‚</p>\n<h3 id=\"3-3-instanceofçš„åŸç†\"><a href=\"#3-3-instanceofçš„åŸç†\" class=\"headerlink\" title=\"3.3 instanceofçš„åŸç†\"></a>3.3 <code>instanceof</code>çš„åŸç†</h3><p><img src=\"http://img.smyhvae.com/20180306_2209.png\"></p>\n<ul>\n<li><code>instanceof</code>çš„<strong>ä½œç”¨</strong>ï¼šç”¨äºåˆ¤æ–­<strong>å®ä¾‹</strong>å±äºå“ªä¸ª<strong>æ„é€ å‡½æ•°</strong>ã€‚</li>\n<li><code>instanceof</code>çš„<strong>åŸç†</strong>ï¼šåˆ¤æ–­å®ä¾‹å¯¹è±¡çš„<code>__proto__</code>å±æ€§ï¼Œå’Œæ„é€ å‡½æ•°çš„<code>prototype</code>å±æ€§ï¼Œæ˜¯å¦ä¸ºåŒä¸€ä¸ªå¼•ç”¨ï¼ˆæ˜¯å¦æŒ‡å‘åŒä¸€ä¸ªåœ°å€ï¼‰ã€‚</li>\n</ul>\n<blockquote>\n<ul>\n<li><strong>æ³¨æ„1</strong>ï¼šè™½ç„¶è¯´ï¼Œå®ä¾‹æ˜¯ç”±æ„é€ å‡½æ•° new å‡ºæ¥çš„ï¼Œä½†æ˜¯å®ä¾‹çš„<code>__proto__</code>å±æ€§å¼•ç”¨çš„æ˜¯æ„é€ å‡½æ•°çš„<code>prototype</code>ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ä¾‹çš„<code>__proto__</code>å±æ€§ä¸æ„é€ å‡½æ•°æœ¬èº«æ— å…³ã€‚</li>\n<li><strong>æ³¨æ„2</strong>ï¼šåœ¨åŸå‹é“¾ä¸Šï¼ŒåŸå‹çš„ä¸Šé¢å¯èƒ½è¿˜ä¼šæœ‰åŸå‹ï¼Œä»¥æ­¤ç±»æ¨å¾€ä¸Šèµ°ï¼Œç»§ç»­æ‰¾<code>__proto__</code>å±æ€§ã€‚è¿™æ¡é“¾ä¸Šå¦‚æœèƒ½æ‰¾åˆ°ï¼Œ instanceof çš„è¿”å›ç»“æœä¹Ÿæ˜¯ trueã€‚</li>\n</ul>\n</blockquote>\n<p>æ¯”å¦‚è¯´ï¼š</p>\n<ul>\n<li><code>foo instance of Foo</code>çš„ç»“æœä¸ºtrueï¼Œå› ä¸º<code>foo.__proto__ === M.prototype</code>ä¸º<code>true</code>ã€‚</li>\n<li><strong><code>foo instance of Objecet</code>çš„ç»“æœä¹Ÿä¸ºtrue</strong>ï¼Œä¸º<code>Foo.prototype.__proto__ === Object.prototype</code>ä¸º<code>true</code>ã€‚</li>\n</ul>\n<blockquote>\n<p>ä½†æˆ‘ä»¬ä¸èƒ½è½»æ˜“çš„è¯´ï¼š<code>foo</code> ä¸€å®šæ˜¯ ç”±<code>Object</code>åˆ›å»ºçš„å®ä¾‹&#96;ã€‚è¿™å¥è¯æ˜¯é”™è¯¯çš„ã€‚æˆ‘ä»¬æ¥çœ‹ä¸‹ä¸€ä¸ªé—®é¢˜å°±æ˜ç™½äº†ã€‚</p>\n</blockquote>\n<h3 id=\"3-4-åˆ†æä¸€ä¸ªé—®é¢˜\"><a href=\"#3-4-åˆ†æä¸€ä¸ªé—®é¢˜\" class=\"headerlink\" title=\"3.4 åˆ†æä¸€ä¸ªé—®é¢˜\"></a>3.4 åˆ†æä¸€ä¸ªé—®é¢˜</h3><p><strong>é—®é¢˜ï¼š</strong>å·²çŸ¥Aç»§æ‰¿äº†Bï¼ŒBç»§æ‰¿äº†Cã€‚æ€ä¹ˆåˆ¤æ–­ a æ˜¯ç”±A<strong>ç›´æ¥ç”Ÿæˆ</strong>çš„å®ä¾‹ï¼Œè¿˜æ˜¯Bç›´æ¥ç”Ÿæˆçš„å®ä¾‹å‘¢ï¼Ÿè¿˜æ˜¯Cç›´æ¥ç”Ÿæˆçš„å®ä¾‹å‘¢ï¼Ÿ</p>\n<blockquote>\n<p>åˆ†æï¼šè¿™å°±è¦ç”¨åˆ°åŸå‹çš„<code>constructor</code>å±æ€§äº†ã€‚</p>\n</blockquote>\n<ul>\n<li><code>foo.__proto__.constructor === M</code>çš„ç»“æœä¸º<code>true</code>ï¼Œä½†æ˜¯ <code>foo.__proto__.constructor === Object</code>çš„ç»“æœä¸º<code>false</code>ã€‚</li>\n<li>æ‰€ä»¥ï¼Œç”¨ <code>consturctor</code>åˆ¤æ–­å°±æ¯”ç”¨ <code>instanceof</code>åˆ¤æ–­ï¼Œæ›´ä¸ºä¸¥è°¨ã€‚</li>\n</ul>\n<h2 id=\"4-new-è¿ç®—ç¬¦\"><a href=\"#4-new-è¿ç®—ç¬¦\" class=\"headerlink\" title=\"4 new è¿ç®—ç¬¦\"></a>4 new è¿ç®—ç¬¦</h2><blockquote>\n<p>å½“<code>new Foo()</code>æ—¶å‘ç”Ÿäº†ä»€ä¹ˆï¼š</p>\n</blockquote>\n<ul>\n<li>åˆ›å»ºä¸€ä¸ª<strong>æ–°çš„ç©ºå¯¹è±¡å®ä¾‹</strong>ã€‚</li>\n<li>å°†æ­¤ç©ºå¯¹è±¡çš„éšå¼åŸå‹æŒ‡å‘å…¶æ„é€ å‡½æ•°çš„æ˜¾ç¤ºåŸå‹ã€‚</li>\n<li>æ‰§è¡Œæ„é€ å‡½æ•°ï¼ˆä¼ å…¥ç›¸åº”çš„å‚æ•°ï¼Œå¦‚æœæ²¡æœ‰å‚æ•°å°±ä¸ç”¨ä¼ ï¼‰ï¼ŒåŒæ—¶ <code>this</code> æŒ‡å‘è¿™ä¸ªæ–°å®ä¾‹ã€‚</li>\n<li>å¦‚æœè¿”å›å€¼æ˜¯ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œé‚£ä¹ˆç›´æ¥è¿”å›è¯¥å¯¹è±¡ï¼›å¦‚æœæ— è¿”å›å€¼æˆ–è€…è¿”å›ä¸€ä¸ªéå¯¹è±¡å€¼ï¼Œé‚£ä¹ˆå°±å°†æ­¥éª¤ï¼ˆ1ï¼‰åˆ›å»ºçš„å¯¹è±¡è¿”å›ã€‚</li>\n</ul>\n<pre><code>\n</code></pre>\n"},{"title":"JS set map","url":"/LittleWhiteRabbit/2022/04/26/%E4%BD%A0%E7%9C%9F%E7%9A%84%E4%BA%86%E8%A7%A3ES6%E7%9A%84Set%E5%92%8CMap%E5%90%97/","content":"<h1 id=\"map-x2F-set\"><a href=\"#map-x2F-set\" class=\"headerlink\" title=\"map&#x2F;set\"></a>map&#x2F;set</h1><p>ä¹‹å‰åœ¨å­¦ä¹  ES6 çš„æ—¶å€™ï¼Œçœ‹åˆ° <code>Set</code> å’Œ <code>Map</code>ï¼Œä¸çŸ¥é“å…¶åº”ç”¨åœºæ™¯æœ‰å“ªäº›ï¼Œåªè§‰å¾—å¾ˆå¤šæ—¶å€™ä¼šç”¨åœ¨æ•°ç»„å»é‡å’Œæ•°æ®å­˜å‚¨ï¼Œåæ¥æ…¢æ…¢æ‰é¢†æ‚Ÿåˆ° <code>Set</code> æ˜¯ä¸€ç§å«åšé›†åˆçš„æ•°æ®ç»“æ„ï¼Œ<code>Map</code> æ˜¯ä¸€ç§å«åšå­—å…¸çš„æ•°æ®ç»“æ„ã€‚</p>\n<h3 id=\"Set\"><a href=\"#Set\" class=\"headerlink\" title=\"Set\"></a>Set</h3><p><code>Set</code> æœ¬èº«æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œç”¨æ¥ç”Ÿæˆ <code>Set</code> æ•°æ®ç»“æ„ã€‚<code>Set</code> å‡½æ•°å¯ä»¥æ¥å—ä¸€ä¸ªæ•°ç»„ï¼ˆæˆ–è€…å…·æœ‰ iterable æ¥å£çš„å…¶ä»–æ•°æ®ç»“æ„ï¼‰ä½œä¸ºå‚æ•°ï¼Œç”¨æ¥åˆå§‹åŒ–ã€‚<code>Set</code> å¯¹è±¡å…è®¸ä½ å­˜å‚¨ä»»ä½•ç±»å‹çš„å€¼ï¼Œæ— è®ºæ˜¯åŸå§‹å€¼æˆ–è€…æ˜¯å¯¹è±¡å¼•ç”¨ã€‚å®ƒç±»ä¼¼äºæ•°ç»„ï¼Œä½†æ˜¯æˆå‘˜çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„ï¼Œæ²¡æœ‰é‡å¤çš„å€¼ã€‚</p>\n<span id=\"more\"></span>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> s = <span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>()</span><br><span class=\"line\">[<span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">5</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>, <span class=\"number\">2</span>, <span class=\"number\">2</span>].<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">x</span>) =&gt;</span> s.<span class=\"title function_\">add</span>(x))</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i <span class=\"keyword\">of</span> s) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(i)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// 2 3 5 4</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"Set-ä¸­çš„ç‰¹æ®Šå€¼\"><a href=\"#Set-ä¸­çš„ç‰¹æ®Šå€¼\" class=\"headerlink\" title=\"Set ä¸­çš„ç‰¹æ®Šå€¼\"></a>Set ä¸­çš„ç‰¹æ®Šå€¼</h4><p><code>Set</code> å¯¹è±¡å­˜å‚¨çš„å€¼æ€»æ˜¯å”¯ä¸€çš„ï¼Œæ‰€ä»¥éœ€è¦åˆ¤æ–­ä¸¤ä¸ªå€¼æ˜¯å¦æ’ç­‰ã€‚æœ‰å‡ ä¸ªç‰¹æ®Šå€¼éœ€è¦ç‰¹æ®Šå¯¹å¾…ï¼š</p>\n<ul>\n<li>+0 ä¸ -0 åœ¨å­˜å‚¨åˆ¤æ–­å”¯ä¸€æ€§çš„æ—¶å€™æ˜¯æ’ç­‰çš„ï¼Œæ‰€ä»¥ä¸é‡å¤</li>\n<li><code>undefined</code> ä¸ <code>undefined</code> æ˜¯æ’ç­‰çš„ï¼Œæ‰€ä»¥ä¸é‡å¤</li>\n<li><code>NaN</code> ä¸ <code>NaN</code> æ˜¯ä¸æ’ç­‰çš„ï¼Œä½†æ˜¯åœ¨ <code>Set</code> ä¸­è®¤ä¸º <code>NaN</code> ä¸ <code>NaN</code> ç›¸ç­‰ï¼Œæ‰€æœ‰åªèƒ½å­˜åœ¨ä¸€ä¸ªï¼Œä¸é‡å¤ã€‚</li>\n</ul>\n<h4 id=\"Set-çš„å±æ€§ï¼š\"><a href=\"#Set-çš„å±æ€§ï¼š\" class=\"headerlink\" title=\"Set çš„å±æ€§ï¼š\"></a>Set çš„å±æ€§ï¼š</h4><ul>\n<li><code>size</code>ï¼šè¿”å›é›†åˆæ‰€åŒ…å«å…ƒç´ çš„æ•°é‡</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> items = <span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>([<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>, <span class=\"number\">5</span>, <span class=\"number\">5</span>, <span class=\"number\">5</span>])</span><br><span class=\"line\">items.<span class=\"property\">size</span> <span class=\"comment\">// 5</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"Set-å®ä¾‹å¯¹è±¡çš„æ–¹æ³•\"><a href=\"#Set-å®ä¾‹å¯¹è±¡çš„æ–¹æ³•\" class=\"headerlink\" title=\"Set å®ä¾‹å¯¹è±¡çš„æ–¹æ³•\"></a>Set å®ä¾‹å¯¹è±¡çš„æ–¹æ³•</h4><ul>\n<li><code>add(value)</code>ï¼šæ·»åŠ æŸä¸ªå€¼ï¼Œè¿”å› <code>Set</code> ç»“æ„æœ¬èº«(å¯ä»¥é“¾å¼è°ƒç”¨)ã€‚</li>\n<li><code>delete(value)</code>ï¼šåˆ é™¤æŸä¸ªå€¼ï¼Œåˆ é™¤æˆåŠŸè¿”å› <code>true</code>ï¼Œå¦åˆ™è¿”å› <code>false</code>ã€‚</li>\n<li><code>has(value)</code>ï¼šè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¯¥å€¼æ˜¯å¦ä¸º <code>Set</code> çš„æˆå‘˜ã€‚</li>\n<li><code>clear()</code>ï¼šæ¸…é™¤æ‰€æœ‰æˆå‘˜ï¼Œæ²¡æœ‰è¿”å›å€¼ã€‚</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">s.<span class=\"title function_\">add</span>(<span class=\"number\">1</span>).<span class=\"title function_\">add</span>(<span class=\"number\">2</span>).<span class=\"title function_\">add</span>(<span class=\"number\">2</span>)</span><br><span class=\"line\"><span class=\"comment\">// æ³¨æ„2è¢«åŠ å…¥äº†ä¸¤æ¬¡</span></span><br><span class=\"line\"></span><br><span class=\"line\">s.<span class=\"property\">size</span> <span class=\"comment\">// 2</span></span><br><span class=\"line\"></span><br><span class=\"line\">s.<span class=\"title function_\">has</span>(<span class=\"number\">1</span>) <span class=\"comment\">// true</span></span><br><span class=\"line\">s.<span class=\"title function_\">has</span>(<span class=\"number\">2</span>) <span class=\"comment\">// true</span></span><br><span class=\"line\">s.<span class=\"title function_\">has</span>(<span class=\"number\">3</span>) <span class=\"comment\">// false</span></span><br><span class=\"line\"></span><br><span class=\"line\">s.<span class=\"title function_\">delete</span>(<span class=\"number\">2</span>)</span><br><span class=\"line\">s.<span class=\"title function_\">has</span>(<span class=\"number\">2</span>) <span class=\"comment\">// false</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"éå†æ–¹æ³•\"><a href=\"#éå†æ–¹æ³•\" class=\"headerlink\" title=\"éå†æ–¹æ³•\"></a>éå†æ–¹æ³•</h4><ul>\n<li><code>keys()</code>ï¼šè¿”å›é”®åçš„éå†å™¨ã€‚</li>\n<li><code>values()</code>ï¼šè¿”å›é”®å€¼çš„éå†å™¨ã€‚</li>\n<li><code>entries()</code>ï¼šè¿”å›é”®å€¼å¯¹çš„éå†å™¨ã€‚</li>\n<li><code>forEach()</code>ï¼šä½¿ç”¨å›è°ƒå‡½æ•°éå†æ¯ä¸ªæˆå‘˜ã€‚</li>\n</ul>\n<p>ç”±äº <code>Set</code> ç»“æ„æ²¡æœ‰é”®åï¼Œåªæœ‰é”®å€¼ï¼ˆæˆ–è€…è¯´é”®åå’Œé”®å€¼æ˜¯åŒä¸€ä¸ªå€¼ï¼‰ï¼Œæ‰€ä»¥ <code>keys</code> æ–¹æ³•å’Œ <code>values</code> æ–¹æ³•çš„è¡Œä¸ºå®Œå…¨ä¸€è‡´ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> set = <span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>([<span class=\"string\">&#x27;red&#x27;</span>, <span class=\"string\">&#x27;green&#x27;</span>, <span class=\"string\">&#x27;blue&#x27;</span>])</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> item <span class=\"keyword\">of</span> set.<span class=\"title function_\">keys</span>()) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(item)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// red</span></span><br><span class=\"line\"><span class=\"comment\">// green</span></span><br><span class=\"line\"><span class=\"comment\">// blue</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> item <span class=\"keyword\">of</span> set.<span class=\"title function_\">values</span>()) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(item)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// red</span></span><br><span class=\"line\"><span class=\"comment\">// green</span></span><br><span class=\"line\"><span class=\"comment\">// blue</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> item <span class=\"keyword\">of</span> set.<span class=\"title function_\">entries</span>()) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(item)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// [&quot;red&quot;, &quot;red&quot;]</span></span><br><span class=\"line\"><span class=\"comment\">// [&quot;green&quot;, &quot;green&quot;]</span></span><br><span class=\"line\"><span class=\"comment\">// [&quot;blue&quot;, &quot;blue&quot;]</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"Array-å’Œ-Set-å¯¹æ¯”\"><a href=\"#Array-å’Œ-Set-å¯¹æ¯”\" class=\"headerlink\" title=\"Array å’Œ Set å¯¹æ¯”\"></a>Array å’Œ Set å¯¹æ¯”</h4><ul>\n<li><code>Array</code> çš„ <code>indexOf</code> æ–¹æ³•æ¯” <code>Set</code> çš„ <code>has</code> æ–¹æ³•æ•ˆç‡ä½ä¸‹</li>\n<li><code>Set</code> ä¸å«æœ‰é‡å¤å€¼ï¼ˆå¯ä»¥åˆ©ç”¨è¿™ä¸ªç‰¹æ€§å®ç°å¯¹ä¸€ä¸ªæ•°ç»„çš„å»é‡ï¼‰</li>\n<li><code>Set</code> é€šè¿‡ <code>delete</code> æ–¹æ³•åˆ é™¤æŸä¸ªå€¼ï¼Œè€Œ <code>Array</code> åªèƒ½é€šè¿‡ <code>splice</code>ã€‚ä¸¤è€…çš„ä½¿ç”¨æ–¹ä¾¿ç¨‹åº¦å‰è€…æ›´ä¼˜</li>\n<li><code>Array</code> çš„å¾ˆå¤šæ–°æ–¹æ³• <code>map</code>ã€<code>filter</code>ã€<code>some</code>ã€<code>every</code> ç­‰æ˜¯ <code>Set</code> æ²¡æœ‰çš„ï¼ˆä½†æ˜¯é€šè¿‡ä¸¤è€…å¯ä»¥äº’ç›¸è½¬æ¢æ¥ä½¿ç”¨ï¼‰</li>\n</ul>\n<h4 id=\"Set-çš„åº”ç”¨\"><a href=\"#Set-çš„åº”ç”¨\" class=\"headerlink\" title=\"Set çš„åº”ç”¨\"></a>Set çš„åº”ç”¨</h4><p>1ã€<code>Array.from</code> æ–¹æ³•å¯ä»¥å°† <code>Set</code> ç»“æ„è½¬ä¸ºæ•°ç»„ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> items = <span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>([<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>])</span><br><span class=\"line\"><span class=\"keyword\">const</span> array = <span class=\"title class_\">Array</span>.<span class=\"title function_\">from</span>(items)</span><br></pre></td></tr></table></figure>\n\n<p>2ã€æ•°ç»„å»é‡</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// å»é™¤æ•°ç»„çš„é‡å¤æˆå‘˜</span></span><br><span class=\"line\">;[...<span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>(array)]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title class_\">Array</span>.<span class=\"title function_\">from</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>(array))</span><br></pre></td></tr></table></figure>\n\n<p>3ã€æ•°ç»„çš„ <code>map</code> å’Œ <code>filter</code> æ–¹æ³•ä¹Ÿå¯ä»¥é—´æ¥ç”¨äº <code>Set</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> set = <span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>([<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>])</span><br><span class=\"line\">set = <span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>([...set].<span class=\"title function_\">map</span>(<span class=\"function\">(<span class=\"params\">x</span>) =&gt;</span> x * <span class=\"number\">2</span>))</span><br><span class=\"line\"><span class=\"comment\">// è¿”å›Setç»“æ„ï¼š&#123;2, 4, 6&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> set = <span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>([<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>, <span class=\"number\">5</span>])</span><br><span class=\"line\">set = <span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>([...set].<span class=\"title function_\">filter</span>(<span class=\"function\">(<span class=\"params\">x</span>) =&gt;</span> x % <span class=\"number\">2</span> == <span class=\"number\">0</span>))</span><br><span class=\"line\"><span class=\"comment\">// è¿”å›Setç»“æ„ï¼š&#123;2, 4&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>4ã€å®ç°å¹¶é›† <code>(Union)</code>ã€äº¤é›† <code>(Intersect)</code> å’Œå·®é›†</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> a = <span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>([<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>])</span><br><span class=\"line\"><span class=\"keyword\">let</span> b = <span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>([<span class=\"number\">4</span>, <span class=\"number\">3</span>, <span class=\"number\">2</span>])</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å¹¶é›†</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> union = <span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>([...a, ...b])</span><br><span class=\"line\"><span class=\"comment\">// Set &#123;1, 2, 3, 4&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// äº¤é›†</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> intersect = <span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>([...a].<span class=\"title function_\">filter</span>(<span class=\"function\">(<span class=\"params\">x</span>) =&gt;</span> b.<span class=\"title function_\">has</span>(x)))</span><br><span class=\"line\"><span class=\"comment\">// set &#123;2, 3&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å·®é›†</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> difference = <span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>([...a].<span class=\"title function_\">filter</span>(<span class=\"function\">(<span class=\"params\">x</span>) =&gt;</span> !b.<span class=\"title function_\">has</span>(x)))</span><br><span class=\"line\"><span class=\"comment\">// Set &#123;1&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"weakSet\"><a href=\"#weakSet\" class=\"headerlink\" title=\"weakSet\"></a>weakSet</h3><p><code>WeakSet</code> ç»“æ„ä¸ <code>Set</code> ç±»ä¼¼ï¼Œä¹Ÿæ˜¯ä¸é‡å¤çš„å€¼çš„é›†åˆã€‚</p>\n<ul>\n<li>æˆå‘˜éƒ½æ˜¯æ•°ç»„å’Œç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ï¼Œè‹¥è°ƒç”¨ <code>add()</code> æ–¹æ³•æ—¶ä¼ å…¥äº†éæ•°ç»„å’Œç±»ä¼¼æ•°ç»„çš„å¯¹è±¡çš„å‚æ•°ï¼Œå°±ä¼šæŠ›å‡ºé”™è¯¯ã€‚</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> b = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, [<span class=\"number\">1</span>, <span class=\"number\">2</span>]]</span><br><span class=\"line\"><span class=\"keyword\">new</span> <span class=\"title class_\">WeakSet</span>(b) <span class=\"comment\">// Uncaught TypeError: Invalid value used in weak set</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>æˆå‘˜éƒ½æ˜¯å¼±å¼•ç”¨ï¼Œå¯ä»¥è¢«åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶ï¼Œå¯ä»¥ç”¨æ¥ä¿å­˜ DOM èŠ‚ç‚¹ï¼Œä¸å®¹æ˜“é€ æˆå†…å­˜æ³„æ¼ã€‚</li>\n<li><code>WeakSet</code> ä¸å¯è¿­ä»£ï¼Œå› æ­¤ä¸èƒ½è¢«ç”¨åœ¨ <code>for-of</code> ç­‰å¾ªç¯ä¸­ã€‚</li>\n<li><code>WeakSet</code> æ²¡æœ‰ <code>size</code> å±æ€§ã€‚</li>\n</ul>\n<h3 id=\"Map\"><a href=\"#Map\" class=\"headerlink\" title=\"Map\"></a>Map</h3><p><code>Map</code> ä¸­å­˜å‚¨çš„æ˜¯ <code>key-value</code> å½¢å¼çš„é”®å€¼å¯¹, å…¶ä¸­çš„ <code>key</code> å’Œ <code>value</code> å¯ä»¥æ˜¯ä»»ä½•ç±»å‹çš„, å³å¯¹è±¡ä¹Ÿå¯ä»¥ä½œä¸º <code>key</code>ã€‚ <code>Map</code> çš„å‡ºç°ï¼Œå°±æ˜¯è®©å„ç§ç±»å‹çš„å€¼éƒ½å¯ä»¥å½“ä½œé”®ã€‚<code>Map</code> æä¾›çš„æ˜¯ â€œå€¼-å€¼â€çš„å¯¹åº”ã€‚</p>\n<h4 id=\"Map-å’Œ-Object-çš„åŒºåˆ«\"><a href=\"#Map-å’Œ-Object-çš„åŒºåˆ«\" class=\"headerlink\" title=\"Map å’Œ Object çš„åŒºåˆ«\"></a>Map å’Œ Object çš„åŒºåˆ«</h4><ol>\n<li><code>Object</code> å¯¹è±¡æœ‰åŸå‹ï¼Œ ä¹Ÿå°±æ˜¯è¯´ä»–æœ‰é»˜è®¤çš„ <code>key</code> å€¼åœ¨å¯¹è±¡ä¸Šé¢ï¼Œ é™¤éæˆ‘ä»¬ä½¿ç”¨ <code>Object.create(null)</code>åˆ›å»ºä¸€ä¸ªæ²¡æœ‰åŸå‹çš„å¯¹è±¡ï¼›</li>\n<li>åœ¨ <code>Object</code> å¯¹è±¡ä¸­ï¼Œ åªèƒ½æŠŠ <code>String</code> å’Œ <code>Symbol</code> ä½œä¸º <code>key</code> å€¼ï¼Œ ä½†æ˜¯åœ¨ <code>Map</code> ä¸­ï¼Œ<code>key</code> å€¼å¯ä»¥æ˜¯ä»»ä½•åŸºæœ¬ç±»å‹(<code>String</code>, <code>Number</code>, <code>Boolean</code>, <code>undefined</code>, <code>NaN</code>â€¦.)ï¼Œæˆ–è€…å¯¹è±¡(<code>Map</code>, <code>Set</code>, <code>Object</code>, <code>Function</code> , <code>Symbol</code> , <code>null</code>â€¦.);</li>\n<li>é€šè¿‡ <code>Map</code> ä¸­çš„ <code>size</code> å±æ€§ï¼Œ å¯ä»¥å¾ˆæ–¹ä¾¿åœ°è·å–åˆ° <code>Map</code> é•¿åº¦ï¼Œ è¦è·å– <code>Object</code> çš„é•¿åº¦ï¼Œ ä½ åªèƒ½æ‰‹åŠ¨è®¡ç®—</li>\n</ol>\n<h4 id=\"Map-çš„å±æ€§\"><a href=\"#Map-çš„å±æ€§\" class=\"headerlink\" title=\"Map çš„å±æ€§\"></a>Map çš„å±æ€§</h4><ul>\n<li>size: è¿”å›é›†åˆæ‰€åŒ…å«å…ƒç´ çš„æ•°é‡</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> map = <span class=\"keyword\">new</span> <span class=\"title class_\">Map</span>()</span><br><span class=\"line\">map.<span class=\"title function_\">set</span>(<span class=\"string\">&#x27;foo&#x27;</span>, ture)</span><br><span class=\"line\">map.<span class=\"title function_\">set</span>(<span class=\"string\">&#x27;bar&#x27;</span>, <span class=\"literal\">false</span>)</span><br><span class=\"line\">map.<span class=\"property\">size</span> <span class=\"comment\">// 2</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"Map-å¯¹è±¡çš„æ–¹æ³•\"><a href=\"#Map-å¯¹è±¡çš„æ–¹æ³•\" class=\"headerlink\" title=\"Map å¯¹è±¡çš„æ–¹æ³•\"></a>Map å¯¹è±¡çš„æ–¹æ³•</h4><ul>\n<li><code>set(key, val)</code>: å‘ <code>Map</code> ä¸­æ·»åŠ æ–°å…ƒç´ </li>\n<li><code>get(key)</code>: é€šè¿‡é”®å€¼æŸ¥æ‰¾ç‰¹å®šçš„æ•°å€¼å¹¶è¿”å›</li>\n<li><code>has(key)</code>: åˆ¤æ–­ <code>Map</code> å¯¹è±¡ä¸­æ˜¯å¦æœ‰ <code>Key</code> æ‰€å¯¹åº”çš„å€¼ï¼Œæœ‰è¿”å› <code>true</code>ï¼Œå¦åˆ™è¿”å› <code>false</code></li>\n<li><code>delete(key)</code>: é€šè¿‡é”®å€¼ä» <code>Map</code> ä¸­ç§»é™¤å¯¹åº”çš„æ•°æ®</li>\n<li><code>clear()</code>: å°†è¿™ä¸ª <code>Map</code> ä¸­çš„æ‰€æœ‰å…ƒç´ åˆ é™¤</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> m = <span class=\"keyword\">new</span> <span class=\"title class_\">Map</span>()</span><br><span class=\"line\"><span class=\"keyword\">const</span> o = &#123; <span class=\"attr\">p</span>: <span class=\"string\">&#x27;Hello World&#x27;</span> &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">m.<span class=\"title function_\">set</span>(o, <span class=\"string\">&#x27;content&#x27;</span>)</span><br><span class=\"line\">m.<span class=\"title function_\">get</span>(o) <span class=\"comment\">// &quot;content&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\">m.<span class=\"title function_\">has</span>(o) <span class=\"comment\">// true</span></span><br><span class=\"line\">m.<span class=\"title function_\">delete</span>(o) <span class=\"comment\">// true</span></span><br><span class=\"line\">m.<span class=\"title function_\">has</span>(o) <span class=\"comment\">// false</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"éå†æ–¹æ³•-1\"><a href=\"#éå†æ–¹æ³•-1\" class=\"headerlink\" title=\"éå†æ–¹æ³•\"></a>éå†æ–¹æ³•</h4><ul>\n<li><code>keys()</code>ï¼šè¿”å›é”®åçš„éå†å™¨</li>\n<li><code>values()</code>ï¼šè¿”å›é”®å€¼çš„éå†å™¨</li>\n<li><code>entries()</code>ï¼šè¿”å›é”®å€¼å¯¹çš„éå†å™¨</li>\n<li><code>forEach()</code>ï¼šä½¿ç”¨å›è°ƒå‡½æ•°éå†æ¯ä¸ªæˆå‘˜</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> map = <span class=\"keyword\">new</span> <span class=\"title class_\">Map</span>([</span><br><span class=\"line\">  [<span class=\"string\">&#x27;a&#x27;</span>, <span class=\"number\">1</span>],</span><br><span class=\"line\">  [<span class=\"string\">&#x27;b&#x27;</span>, <span class=\"number\">2</span>],</span><br><span class=\"line\">])</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> key <span class=\"keyword\">of</span> map.<span class=\"title function_\">keys</span>()) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(key)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// &quot;a&quot;</span></span><br><span class=\"line\"><span class=\"comment\">// &quot;b&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> value <span class=\"keyword\">of</span> map.<span class=\"title function_\">values</span>()) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(value)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"comment\">// 2</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> item <span class=\"keyword\">of</span> map.<span class=\"title function_\">entries</span>()) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(item)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// [&quot;a&quot;, 1]</span></span><br><span class=\"line\"><span class=\"comment\">// [&quot;b&quot;, 2]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æˆ–è€…</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> [key, value] <span class=\"keyword\">of</span> map.<span class=\"title function_\">entries</span>()) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(key, value)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// &quot;a&quot; 1</span></span><br><span class=\"line\"><span class=\"comment\">// &quot;b&quot; 2</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// for...of...éå†mapç­‰åŒäºä½¿ç”¨map.entries()</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> [key, value] <span class=\"keyword\">of</span> map) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(key, value)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// &quot;a&quot; 1</span></span><br><span class=\"line\"><span class=\"comment\">// &quot;b&quot; 2</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"æ•°æ®ç±»å‹è½¬åŒ–\"><a href=\"#æ•°æ®ç±»å‹è½¬åŒ–\" class=\"headerlink\" title=\"æ•°æ®ç±»å‹è½¬åŒ–\"></a>æ•°æ®ç±»å‹è½¬åŒ–</h4><p>Map è½¬ä¸ºæ•°ç»„</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> map = <span class=\"keyword\">new</span> <span class=\"title class_\">Map</span>()</span><br><span class=\"line\"><span class=\"keyword\">let</span> arr = [...map]</span><br></pre></td></tr></table></figure>\n\n<p>æ•°ç»„è½¬ä¸º Map</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"title class_\">Map</span>: map = <span class=\"keyword\">new</span> <span class=\"title class_\">Map</span>(arr)</span><br></pre></td></tr></table></figure>\n\n<p>Map è½¬ä¸ºå¯¹è±¡</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> obj = &#123;&#125;</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> [k, v] <span class=\"keyword\">of</span> map) &#123;</span><br><span class=\"line\">  obj[k] = v</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>å¯¹è±¡è½¬ä¸º Map</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span>( <span class=\"keyword\">let</span> k <span class=\"keyword\">of</span> <span class=\"title class_\">Object</span>.<span class=\"title function_\">keys</span>(obj)ï¼‰&#123;</span><br><span class=\"line\">  map.<span class=\"title function_\">set</span>(k,obj[k])</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"Mapçš„åº”ç”¨\"><a href=\"#Mapçš„åº”ç”¨\" class=\"headerlink\" title=\"Mapçš„åº”ç”¨\"></a>Mapçš„åº”ç”¨</h4><p>åœ¨ä¸€äº› Admin é¡¹ç›®ä¸­æˆ‘ä»¬é€šå¸¸éƒ½å¯¹ä¸ªäººä¿¡æ¯è¿›è¡Œå±•ç¤ºï¼Œæ¯”å¦‚å°†å¦‚ä¸‹ä¿¡æ¯å±•ç¤ºåˆ°é¡µé¢ä¸Šã€‚ä¼ ç»Ÿæ–¹æ³•å¦‚ä¸‹ã€‚</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;info-item&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>å§“å<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>&#123;&#123;info.name&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;info-item&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>å¹´é¾„<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>&#123;&#123;info.age&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;info-item&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>æ€§åˆ«<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>&#123;&#123;info.sex&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;info-item&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>æ‰‹æœºå·<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>&#123;&#123;info.phone&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;info-item&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>å®¶åº­ä½å€<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>&#123;&#123;info.address&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;info-item&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>å®¶åº­ä½å€<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>&#123;&#123;info.duty&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>js ä»£ç </p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">mounted</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">info</span> = &#123;</span><br><span class=\"line\">    <span class=\"attr\">name</span>: <span class=\"string\">&#x27;jack&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">sex</span>: <span class=\"string\">&#x27;ç”·&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">age</span>: <span class=\"string\">&#x27;28&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">phone</span>: <span class=\"string\">&#x27;13888888888&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">address</span>: <span class=\"string\">&#x27;å¹¿ä¸œçœå¹¿å·å¸‚&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">duty</span>: <span class=\"string\">&#x27;æ€»ç»ç†&#x27;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æˆ‘ä»¬é€šè¿‡ Map æ¥æ”¹é€ ï¼Œå°†æˆ‘ä»¬éœ€è¦æ˜¾ç¤ºçš„ label å’Œ value å­˜åˆ°æˆ‘ä»¬çš„ Map åæ¸²æŸ“åˆ°é¡µé¢ï¼Œè¿™æ ·å‡å°‘äº†å¤§é‡çš„htmlä»£ç </p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;info-item&quot;</span> <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;[label, value] in infoMap&quot;</span> <span class=\"attr\">:key</span>=<span class=\"string\">&quot;value&quot;</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>&#123;&#123;label&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>&#123;&#123;value&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>js ä»£ç </p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">data</span>: <span class=\"function\">() =&gt;</span> (&#123;</span><br><span class=\"line\">  <span class=\"attr\">info</span>: &#123;&#125;,</span><br><span class=\"line\">  <span class=\"attr\">infoMap</span>: &#123;&#125;</span><br><span class=\"line\">&#125;),</span><br><span class=\"line\">mounted () &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">info</span> = &#123;</span><br><span class=\"line\">    <span class=\"attr\">name</span>: <span class=\"string\">&#x27;jack&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">sex</span>: <span class=\"string\">&#x27;ç”·&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">age</span>: <span class=\"string\">&#x27;28&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">phone</span>: <span class=\"string\">&#x27;13888888888&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">address</span>: <span class=\"string\">&#x27;å¹¿ä¸œçœå¹¿å·å¸‚&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">duty</span>: <span class=\"string\">&#x27;æ€»ç»ç†&#x27;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> mapKeys = [<span class=\"string\">&#x27;å§“å&#x27;</span>, <span class=\"string\">&#x27;æ€§åˆ«&#x27;</span>, <span class=\"string\">&#x27;å¹´é¾„&#x27;</span>, <span class=\"string\">&#x27;ç”µè¯&#x27;</span>, <span class=\"string\">&#x27;å®¶åº­åœ°å€&#x27;</span>, <span class=\"string\">&#x27;èº«ä»½&#x27;</span>]</span><br><span class=\"line\">  <span class=\"keyword\">const</span> result = <span class=\"keyword\">new</span> <span class=\"title class_\">Map</span>()</span><br><span class=\"line\">  <span class=\"keyword\">let</span> i = <span class=\"number\">0</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">const</span> key <span class=\"keyword\">in</span> <span class=\"variable language_\">this</span>.<span class=\"property\">info</span>) &#123;</span><br><span class=\"line\">    result.<span class=\"title function_\">set</span>(mapKeys[i], <span class=\"variable language_\">this</span>.<span class=\"property\">info</span>[key])</span><br><span class=\"line\">    i++</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">infoMap</span> = result</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"WeakMap\"><a href=\"#WeakMap\" class=\"headerlink\" title=\"WeakMap\"></a>WeakMap</h2><p><code>WeakMap</code> ç»“æ„ä¸ <code>Map</code> ç»“æ„ç±»ä¼¼ï¼Œä¹Ÿæ˜¯ç”¨äºç”Ÿæˆé”®å€¼å¯¹çš„é›†åˆã€‚</p>\n<ul>\n<li>åªæ¥å—å¯¹è±¡ä½œä¸ºé”®åï¼ˆ<code>null</code> é™¤å¤–ï¼‰ï¼Œä¸æ¥å—å…¶ä»–ç±»å‹çš„å€¼ä½œä¸ºé”®å</li>\n<li>é”®åæ˜¯å¼±å¼•ç”¨ï¼Œé”®å€¼å¯ä»¥æ˜¯ä»»æ„çš„ï¼Œé”®åæ‰€æŒ‡å‘çš„å¯¹è±¡å¯ä»¥è¢«åƒåœ¾å›æ”¶ï¼Œæ­¤æ—¶é”®åæ˜¯æ— æ•ˆçš„</li>\n<li>ä¸èƒ½éå†ï¼Œæ–¹æ³•æœ‰ <code>get</code>ã€<code>set</code>ã€<code>has</code>ã€<code>delete</code></li>\n</ul>\n<h3 id=\"æ€»ç»“\"><a href=\"#æ€»ç»“\" class=\"headerlink\" title=\"æ€»ç»“\"></a>æ€»ç»“</h3><p>Set</p>\n<ul>\n<li>æ˜¯ä¸€ç§å«åšé›†åˆçš„æ•°æ®ç»“æ„(ES6æ–°å¢çš„)</li>\n<li>æˆå‘˜å”¯ä¸€ã€æ— åºä¸”ä¸é‡å¤</li>\n<li><code>[value, value]</code>ï¼Œé”®å€¼ä¸é”®åæ˜¯ä¸€è‡´çš„ï¼ˆæˆ–è€…è¯´åªæœ‰é”®å€¼ï¼Œæ²¡æœ‰é”®åï¼‰</li>\n<li>å…è®¸å‚¨å­˜ä»»ä½•ç±»å‹çš„å”¯ä¸€å€¼ï¼Œæ— è®ºæ˜¯åŸå§‹å€¼æˆ–è€…æ˜¯å¯¹è±¡å¼•ç”¨</li>\n<li>å¯ä»¥éå†ï¼Œæ–¹æ³•æœ‰ï¼š<code>add</code>ã€<code>delete</code>ã€<code>has</code>ã€<code>clear</code></li>\n</ul>\n<p>WeakSet</p>\n<ul>\n<li>æˆå‘˜éƒ½æ˜¯å¯¹è±¡</li>\n<li>æˆå‘˜éƒ½æ˜¯å¼±å¼•ç”¨ï¼Œå¯ä»¥è¢«åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶ï¼Œå¯ä»¥ç”¨æ¥ä¿å­˜ <code>DOM</code> èŠ‚ç‚¹ï¼Œä¸å®¹æ˜“é€ æˆå†…å­˜æ³„æ¼</li>\n<li>ä¸èƒ½éå†ï¼Œæ–¹æ³•æœ‰ <code>add</code>ã€<code>delete</code>ã€<code>has</code></li>\n</ul>\n<p>Map</p>\n<ul>\n<li>æ˜¯ä¸€ç§ç±»ä¼¼äºå­—å…¸çš„æ•°æ®ç»“æ„ï¼Œæœ¬è´¨ä¸Šæ˜¯é”®å€¼å¯¹çš„é›†åˆ</li>\n<li>å¯ä»¥éå†ï¼Œå¯ä»¥è·Ÿå„ç§æ•°æ®æ ¼å¼è½¬æ¢</li>\n<li>æ“ä½œæ–¹æ³•æœ‰:<code>set</code>ã€<code>get</code>ã€<code>has</code>ã€<code>delete</code>ã€<code>clear</code></li>\n</ul>\n<p>WeakMap</p>\n<ul>\n<li>åªæ¥å—å¯¹è±¡ä½œä¸ºé”®åï¼ˆ<code>null</code> é™¤å¤–ï¼‰ï¼Œä¸æ¥å—å…¶ä»–ç±»å‹çš„å€¼ä½œä¸ºé”®å</li>\n<li>é”®åæ˜¯å¼±å¼•ç”¨ï¼Œé”®å€¼å¯ä»¥æ˜¯ä»»æ„çš„ï¼Œé”®åæ‰€æŒ‡å‘çš„å¯¹è±¡å¯ä»¥è¢«åƒåœ¾å›æ”¶ï¼Œæ­¤æ—¶é”®åæ˜¯æ— æ•ˆçš„</li>\n<li>ä¸èƒ½éå†ï¼Œæ–¹æ³•æœ‰ <code>get</code>ã€<code>set</code>ã€<code>has</code>ã€<code>delete</code></li>\n</ul>\n"},{"title":"å‰ç«¯ä¼˜åŒ–ä»£ç ","url":"/LittleWhiteRabbit/2022/04/26/%E5%89%8D%E7%AB%AF%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96/","content":"<h1 id=\"å‰ç«¯ä¼˜åŒ–ä»£ç \"><a href=\"#å‰ç«¯ä¼˜åŒ–ä»£ç \" class=\"headerlink\" title=\"å‰ç«¯ä¼˜åŒ–ä»£ç \"></a>å‰ç«¯ä¼˜åŒ–ä»£ç </h1><span id=\"more\"></span>\n<p>æ‰€è°“æ— è§„çŸ©ä¸æˆæ–¹åœ†ï¼Œå‰ç«¯æ—¶é—´åœ¨å›¢é˜Ÿ code-review ä¸­å‘ç°ï¼Œä¸åŒæ—¶æœŸä¸åŒå¼€å‘äººå‘˜å†™çš„ä»£ç å¯è°“äº”èŠ±å…«é—¨ã€‚å› æ­¤æˆ‘ä»¬æå‡ºäº†ä¸€äº›ç›¸å…³ä»£ç æ–¹é¢çš„è§„èŒƒï¼Œå¸Œæœ›æ—¥åèƒ½å½¢æˆå›¢é˜Ÿçš„ç¼–ç è§„èŒƒã€‚</p>\n<p>æœ¬æ–‡ä¸»è¦é’ˆå¯¹ä¸€äº› JavaScript è¿›è¡Œä¼˜åŒ–ï¼Œä½¿ä¹‹æ›´åŠ å¥å£®ï¼Œå¯è¯»æ€§æ›´å¼ºï¼Œæ›´ä»¥ç»´æŠ¤ã€‚gitthubåœ°å€ï¼š<a href=\"https://github.com/Michael-lzg/my--article/blob/master/other/%E5%89%8D%E7%AB%AF%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96.md\">https://github.com/Michael-lzg/my--article/blob/master/other/å‰ç«¯ä»£ç ä¼˜åŒ–.md</a></p>\n<h2 id=\"if-åˆ¤æ–­çš„ä¼˜åŒ–\"><a href=\"#if-åˆ¤æ–­çš„ä¼˜åŒ–\" class=\"headerlink\" title=\"if åˆ¤æ–­çš„ä¼˜åŒ–\"></a>if åˆ¤æ–­çš„ä¼˜åŒ–</h2><p>JavaScript æ¡ä»¶è¯­å¥åœ¨æˆ‘ä»¬å¹³æ—¶çš„å¼€å‘ä¸­æ˜¯ä¸å¯é¿å…è¦ç”¨åˆ°çš„ï¼Œä½†æ˜¯å¾ˆå¤šæ—¶å€™æˆ‘ä»¬çš„ä»£ç å†™çš„å¹¶ä¸å¥½ï¼Œä¸€è¿ä¸²çš„ <code>if-else</code> æˆ–è€…å¤šé‡åµŒå¥—åˆ¤æ–­éƒ½ä¼šä½¿å¾—ä»£ç å¾ˆè‡ƒè‚¿ï¼Œä¸‹é¢ä¸¾ä¾‹è¿›è¡Œä¼˜åŒ–ã€‚</p>\n<p>éœ€æ±‚ï¼šç°åœ¨æœ‰ 4 ä¸ªäº§å“ï¼Œåˆ†åˆ«æ˜¯æ‰‹æœºã€ç”µè„‘ã€ç”µè§†æœºã€æ¸¸æˆæœºï¼Œå½“ç„¶æ¯ä¸ªäº§å“æ˜¾ç¤ºçš„ä»·æ ¼ä¸ä¸€æ ·ã€‚</p>\n<p>1ã€æœ€ç®€å•çš„æ–¹æ³•ï¼šif åˆ¤æ–­</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> commodity = &#123;</span><br><span class=\"line\">  <span class=\"attr\">phone</span>: <span class=\"string\">&#x27;æ‰‹æœº&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">computer</span>: <span class=\"string\">&#x27;ç”µè„‘&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">television</span>: <span class=\"string\">&#x27;ç”µè§†&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">gameBoy</span>: <span class=\"string\">&#x27;æ¸¸æˆæœº&#x27;</span>,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">price</span>(<span class=\"params\">name</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (name === commodity.<span class=\"property\">phone</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"number\">1999</span>)</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (name === commodity.<span class=\"property\">computer</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"number\">9999</span>)</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (name === commodity.<span class=\"property\">television</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"number\">2999</span>)</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (name === commodity.<span class=\"property\">gameBoy</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"number\">3999</span>)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">price</span>(<span class=\"string\">&#x27;æ‰‹æœº&#x27;</span>) <span class=\"comment\">// 9999</span></span><br></pre></td></tr></table></figure>\n\n<p>ç¼ºç‚¹ï¼šä»£ç å¤ªé•¿äº†,ç»´æŠ¤å’Œé˜…è¯»éƒ½å¾ˆä¸å‹å¥½</p>\n<p>2ã€å¥½ä¸€ç‚¹çš„æ–¹æ³•ï¼š<code>Switch</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> commodity = &#123;</span><br><span class=\"line\">  <span class=\"attr\">phone</span>: <span class=\"string\">&#x27;æ‰‹æœº&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">computer</span>: <span class=\"string\">&#x27;ç”µè„‘&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">television</span>: <span class=\"string\">&#x27;ç”µè§†&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">gameBoy</span>: <span class=\"string\">&#x27;æ¸¸æˆæœº&#x27;</span>,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">price</span> = (<span class=\"params\">name</span>) =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">switch</span> (name) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> commodity.<span class=\"property\">phone</span>:</span><br><span class=\"line\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"number\">1999</span>)</span><br><span class=\"line\">      <span class=\"keyword\">break</span></span><br><span class=\"line\">    <span class=\"keyword\">case</span> commodity.<span class=\"property\">computer</span>:</span><br><span class=\"line\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"number\">9999</span>)</span><br><span class=\"line\">      <span class=\"keyword\">break</span></span><br><span class=\"line\">    <span class=\"keyword\">case</span> commodity.<span class=\"property\">television</span>:</span><br><span class=\"line\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"number\">2999</span>)</span><br><span class=\"line\">      <span class=\"keyword\">break</span></span><br><span class=\"line\">    <span class=\"keyword\">case</span> commodity.<span class=\"property\">gameBoy</span>:</span><br><span class=\"line\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"number\">3999</span>)</span><br><span class=\"line\">      <span class=\"keyword\">break</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">price</span>(<span class=\"string\">&#x27;æ‰‹æœº&#x27;</span>) <span class=\"comment\">// 9999</span></span><br></pre></td></tr></table></figure>\n\n<p>3ã€æ›´ä¼˜çš„æ–¹æ³•: ç­–ç•¥æ¨¡å¼  </p>\n<p>ç­–ç•¥æ¨¡å¼åˆ©ç”¨ç»„åˆã€å§”æ‰˜å’Œå¤šæ€ç­‰æŠ€æœ¯å’Œæ€æƒ³ï¼Œå¯ä»¥æœ‰æ•ˆåœ°é¿å…å¤šé‡æ¡ä»¶é€‰æ‹©è¯­å¥ã€‚å®ƒæä¾›äº†å¯¹å¼€æ”¾â€”å°é—­åŸåˆ™çš„å®Œç¾æ”¯æŒï¼Œå°†ç®—æ³•å°è£…åœ¨ç‹¬ç«‹çš„ strategy ä¸­ï¼Œä½¿å¾—å®ƒä»¬æ˜“äºåˆ‡æ¢ï¼Œæ˜“äºç†è§£ï¼Œæ˜“äºæ‰©å±•ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> commodity = <span class=\"keyword\">new</span> <span class=\"title class_\">Map</span>([</span><br><span class=\"line\">  [<span class=\"string\">&#x27;phone&#x27;</span>, <span class=\"number\">1999</span>],</span><br><span class=\"line\">  [<span class=\"string\">&#x27;computer&#x27;</span>, <span class=\"number\">9999</span>],</span><br><span class=\"line\">  [<span class=\"string\">&#x27;television&#x27;</span>, <span class=\"number\">2999</span>],</span><br><span class=\"line\">  [<span class=\"string\">&#x27;gameBoy&#x27;</span>, <span class=\"number\">3999</span>],</span><br><span class=\"line\">])</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">price</span> = (<span class=\"params\">name</span>) =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> commodity.<span class=\"title function_\">get</span>(name)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">price</span>(<span class=\"string\">&#x27;phone&#x27;</span>) <span class=\"comment\">// 1999</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"includes-çš„ä¼˜åŒ–\"><a href=\"#includes-çš„ä¼˜åŒ–\" class=\"headerlink\" title=\"includes çš„ä¼˜åŒ–\"></a>includes çš„ä¼˜åŒ–</h2><p><code>includes</code> æ˜¯ ES7 æ–°å¢çš„ APIï¼Œä¸ <code>indexOf</code> ä¸åŒçš„æ˜¯ <code>includes</code> ç›´æ¥è¿”å›çš„æ˜¯ <code>Boolean</code> å€¼ï¼Œ<code>indexOf</code> åˆ™ è¿”å›çš„ç´¢å¼•å€¼, æ•°ç»„å’Œå­—ç¬¦ä¸²éƒ½æœ‰ <code>includes</code> æ–¹æ³•ã€‚</p>\n<p>éœ€æ±‚ï¼šæˆ‘ä»¬æ¥å®ç°ä¸€ä¸ªèº«ä»½è®¤è¯æ–¹æ³•ï¼Œé€šè¿‡ä¼ å…¥èº«ä»½ Id è¿”å›å¯¹åº”çš„éªŒè¯ç»“æœ</p>\n<p>ä¼ ç»Ÿæ–¹æ³•</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">verifyIdentity</span>(<span class=\"params\">identityId</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (identityId == <span class=\"number\">1</span> || identityId == <span class=\"number\">2</span> || identityId == <span class=\"number\">3</span> || identityId == <span class=\"number\">4</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;ä½ çš„èº«ä»½åˆæ³•ï¼Œè¯·é€šè¡Œï¼&#x27;</span></span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;ä½ çš„èº«ä»½ä¸åˆæ³•&#x27;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><code>includes</code> ä¼˜åŒ–</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">verifyIdentity</span>(<span class=\"params\">identityId</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> ([<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>].<span class=\"title function_\">includes</span>(identityId)) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;ä½ çš„èº«ä»½åˆæ³•ï¼Œè¯·é€šè¡Œï¼&#x27;</span></span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;ä½ çš„èº«ä»½ä¸åˆæ³•&#x27;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"for-å¾ªç¯\"><a href=\"#for-å¾ªç¯\" class=\"headerlink\" title=\"for å¾ªç¯\"></a>for å¾ªç¯</h2><p>åœ¨ JavaScript ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>for()</code>ï¼Œ <code>while()</code>ï¼Œ <code>for(in)</code>ï¼Œ<code>for(in)</code>å‡ ç§å¾ªç¯ï¼Œäº‹å®ä¸Šï¼Œè¿™ä¸‰ç§å¾ªç¯ä¸­ <code>for(in)</code> çš„æ•ˆç‡æå·®ï¼Œå› ä¸ºä»–éœ€è¦æŸ¥è¯¢æ•£åˆ—é”®ï¼Œæ‰€ä»¥åº”è¯¥å°½é‡å°‘ç”¨ã€‚</p>\n<p>for å¾ªç¯æ˜¯æœ€ä¼ ç»Ÿçš„è¯­å¥ï¼Œå®ƒä»¥å˜é‡ i ä½œä¸ºç´¢å¼•ï¼Œä»¥è·Ÿè¸ªè®¿é—®çš„ä½ç½®ï¼Œå¯¹æ•°ç»„è¿›è¡Œæ“ä½œã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"string\">&#x27;a&#x27;</span>, <span class=\"string\">&#x27;b&#x27;</span>, <span class=\"string\">&#x27;c&#x27;</span>]</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; arr.<span class=\"property\">length</span>; i++) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr[i]) <span class=\"comment\">//ç»“æœä¾æ¬¡a,b,c</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ä»¥ä¸Šçš„æ–¹æ³•æœ‰ä¸€ä¸ªé—®é¢˜ï¼šå°±æ˜¯å½“æ•°ç»„çš„é•¿åº¦åˆ°è¾¾ç™¾ä¸‡çº§æ—¶ï¼Œ<code>arr.length</code> å°±è¦è®¡ç®—ä¸€ç™¾ä¸‡æ¬¡ï¼Œè¿™æ˜¯ç›¸å½“è€—æ€§èƒ½çš„ã€‚æ‰€ä»¥å¯ä»¥é‡‡ç”¨ä»¥ä¸‹æ–¹æ³•å°±è¡Œæ”¹è‰¯ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"string\">&#x27;a&#x27;</span>, <span class=\"string\">&#x27;b&#x27;</span>, <span class=\"string\">&#x27;c&#x27;</span>]</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>, length = arr.<span class=\"property\">length</span>; i &lt; length; i++) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arr[i]) <span class=\"comment\">//ç»“æœä¾æ¬¡a,b,c</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æ­¤æ—¶ <code>arr.length</code> åªéœ€è¦è®¡ç®—ä¸€æ¬¡ï¼Œä¼˜åŒ–äº†æ€§èƒ½ã€‚</p>\n<p><code>for-in</code> ä¸€èˆ¬ç”¨æ¥æ¥éå†å¯¹è±¡çš„å±æ€§çš„ï¼Œä¸è¿‡å±æ€§éœ€è¦ <code>enumerable</code>ï¼ˆå¯æšä¸¾ï¼‰æ‰èƒ½è¢«è¯»å–åˆ°ã€‚åŒæ—¶ <code>for-in</code> ä¹Ÿå¯ä»¥éå†æ•°ç»„ï¼Œéå†æ•°ç»„çš„æ—¶å€™éå†çš„æ˜¯æ•°ç»„çš„ä¸‹æ ‡å€¼ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> obj = &#123; <span class=\"number\">0</span>: <span class=\"string\">&#x27;a&#x27;</span>, <span class=\"number\">1</span>: <span class=\"string\">&#x27;b&#x27;</span>, <span class=\"number\">2</span>: <span class=\"string\">&#x27;c&#x27;</span> &#125;</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> key <span class=\"keyword\">in</span> obj) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(key) <span class=\"comment\">//ç»“æœä¸ºä¾æ¬¡ä¸º0ï¼Œ1ï¼Œ2</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"string\">&#x27;a&#x27;</span>, <span class=\"string\">&#x27;b&#x27;</span>, <span class=\"string\">&#x27;c&#x27;</span>]</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> key <span class=\"keyword\">in</span> a) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(key) <span class=\"comment\">//ç»“æœä¸ºä¾æ¬¡ä¸º0ï¼Œ1ï¼Œ2</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><code>for-of</code> è¯­å¥çœ‹ç€æœ‰ç‚¹åƒ <code>for-in</code> è¯­å¥ï¼Œä½†æ˜¯å’Œ <code>for-of</code> è¯­å¥ä¸åŒçš„æ˜¯å®ƒä¸å¯ä»¥å¾ªç¯å¯¹è±¡ï¼Œåªèƒ½å¾ªç¯æ•°ç»„ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"string\">&#x27;a&#x27;</span>, <span class=\"string\">&#x27;b&#x27;</span>, <span class=\"string\">&#x27;c&#x27;</span>]</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> value <span class=\"keyword\">of</span> arr) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(value) <span class=\"comment\">// ç»“æœä¾æ¬¡ä¸ºa,b,c</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><code>for-of</code> æ¯” <code>for-in</code> å¾ªç¯éå†æ•°ç»„æ›´å¥½ã€‚<code>for-of</code> åªè¦å…·æœ‰ <code>Iterator</code> æ¥å£çš„æ•°æ®ç»“æ„ï¼Œéƒ½å¯ä»¥ä½¿ç”¨å®ƒè¿­ä»£æˆå‘˜ã€‚å®ƒç›´æ¥è¯»å–çš„æ˜¯é”®å€¼ã€‚<code>for-in</code> éœ€è¦ç©·ä¸¾å¯¹è±¡çš„æ‰€æœ‰å±æ€§ï¼ŒåŒ…æ‹¬è‡ªå®šä¹‰çš„æ·»åŠ çš„å±æ€§ä¹Ÿèƒ½éå†åˆ°ã€‚ä¸” <code>for-in</code> çš„ <code>key</code> æ˜¯ <code>String</code> ç±»å‹ï¼Œæœ‰è½¬æ¢è¿‡ç¨‹ï¼Œå¼€é”€æ¯”è¾ƒå¤§ã€‚</p>\n<p>æ‰€ä»¥åœ¨å¼€å‘è¿‡ç¨‹ä¸­å¾ªç¯æ•°ç»„å°½é‡é¿å…ä½¿ç”¨ <code>for-in</code>ã€‚</p>\n<h2 id=\"æ•°ç»„å»é‡\"><a href=\"#æ•°ç»„å»é‡\" class=\"headerlink\" title=\"æ•°ç»„å»é‡\"></a>æ•°ç»„å»é‡</h2><p>æ•°ç»„å»é‡æ˜¯å®é™…å¼€å‘å¤„ç†æ•°æ®ä¸­ç»å¸¸é‡åˆ°çš„ï¼Œæ–¹æ³•æœ‰å¾ˆå¤šï¼Œè¿™é‡Œå°±ä¸ä¸€ä¸€ä¾‹ä¸¾äº†ã€‚</p>\n<p>1ã€æœ€ä¼ ç»Ÿçš„æ–¹æ³•ï¼šåˆ©ç”¨æ•°ç»„çš„ <code>indexOf</code> ä¸‹æ ‡å±æ€§æ¥æŸ¥è¯¢ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">unique4</span>(<span class=\"params\">arr</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> newArr = []</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; arr.<span class=\"property\">length</span>; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (newArr.<span class=\"title function_\">indexOf</span>(arr[i]) === -<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">      newArr.<span class=\"title function_\">push</span>(arr[i])</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> newArr</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">unique4</span>([<span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">5</span>, <span class=\"number\">3</span>, <span class=\"number\">1</span>, <span class=\"number\">5</span>, <span class=\"number\">6</span>, <span class=\"number\">7</span>, <span class=\"number\">4</span>]))</span><br><span class=\"line\"><span class=\"comment\">// [1, 2, 3, 5, 6, 7, 4]</span></span><br></pre></td></tr></table></figure>\n<p>2ã€ä¼˜åŒ–ï¼šåˆ©ç”¨ ES6 çš„ <code>Set</code> æ–¹æ³•ã€‚  </p>\n<p><code>Set</code> æœ¬èº«æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œç”¨æ¥ç”Ÿæˆ <code>Set</code> æ•°æ®ç»“æ„ã€‚<code>Set</code> å‡½æ•°å¯ä»¥æ¥å—ä¸€ä¸ªæ•°ç»„ï¼ˆæˆ–è€…å…·æœ‰ iterable æ¥å£çš„å…¶ä»–æ•°æ®ç»“æ„ï¼‰ä½œä¸ºå‚æ•°ï¼Œç”¨æ¥åˆå§‹åŒ–ã€‚<code>Set</code> å¯¹è±¡å…è®¸ä½ å­˜å‚¨ä»»ä½•ç±»å‹çš„å€¼ï¼Œæ— è®ºæ˜¯åŸå§‹å€¼æˆ–è€…æ˜¯å¯¹è±¡å¼•ç”¨ã€‚å®ƒç±»ä¼¼äºæ•°ç»„ï¼Œä½†æ˜¯æˆå‘˜çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„ï¼Œæ²¡æœ‰é‡å¤çš„å€¼ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">unique4</span>(<span class=\"params\">arr</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"title class_\">Array</span>.<span class=\"title function_\">from</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>(arr)) <span class=\"comment\">// åˆ©ç”¨Array.fromå°†Setç»“æ„è½¬æ¢æˆæ•°ç»„</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">unique4</span>([<span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">5</span>, <span class=\"number\">3</span>, <span class=\"number\">1</span>, <span class=\"number\">5</span>, <span class=\"number\">6</span>, <span class=\"number\">7</span>, <span class=\"number\">4</span>]))</span><br><span class=\"line\"><span class=\"comment\">// [1, 2, 3, 5, 6, 7, 4]</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ç®­å¤´å‡½æ•°\"><a href=\"#ç®­å¤´å‡½æ•°\" class=\"headerlink\" title=\"ç®­å¤´å‡½æ•°\"></a>ç®­å¤´å‡½æ•°</h2><p>ç®­å¤´å‡½æ•°è¡¨è¾¾å¼çš„è¯­æ³•æ¯”å‡½æ•°è¡¨è¾¾å¼æ›´ç®€æ´ã€‚æ‰€ä»¥åœ¨å¼€å‘ä¸­æ›´æ¨èä½¿ç”¨ç®­å¤´å‡½æ•°ã€‚ç‰¹åˆ«æ˜¯åœ¨ <code>vue</code> é¡¹ç›®ä¸­ï¼Œä½¿ç”¨ç®­å¤´å‡½æ•°ä¸éœ€è¦åœ¨æ›´ <code>this</code> é‡æ–°èµ‹ä¸€ä¸ªå˜é‡ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ä½¿ç”¨functions</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"number\">5</span>, <span class=\"number\">3</span>, <span class=\"number\">2</span>, <span class=\"number\">9</span>, <span class=\"number\">1</span>]</span><br><span class=\"line\"><span class=\"keyword\">var</span> arrFunc = arr.<span class=\"title function_\">map</span>(<span class=\"keyword\">function</span> (<span class=\"params\">x</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> x * x</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(arrFunc)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ä½¿ç”¨ç®­å¤´å‡½æ•°</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> arr = [<span class=\"number\">5</span>, <span class=\"number\">3</span>, <span class=\"number\">2</span>, <span class=\"number\">9</span>, <span class=\"number\">1</span>]</span><br><span class=\"line\"><span class=\"keyword\">var</span> arrFunc = arr.<span class=\"title function_\">map</span>(<span class=\"function\">(<span class=\"params\">x</span>) =&gt;</span> x * x)</span><br></pre></td></tr></table></figure>\n\n<p>è¦æ³¨æ„çš„æ˜¯ï¼Œç®­å¤´å‡½æ•°ä¸ç»‘å®š <code>arguments</code>ï¼Œå–è€Œä»£ä¹‹ç”¨ <code>rest</code> å‚æ•°â€¦è§£å†³ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ä¸èƒ½ä½¿ç”¨ arguments</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> <span class=\"title function_\">fun1</span> = (<span class=\"params\">b</span>) =&gt; &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">arguments</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">fun1</span>(<span class=\"number\">2</span>, <span class=\"number\">92</span>, <span class=\"number\">32</span>, <span class=\"number\">32</span>) <span class=\"comment\">// Uncaught ReferenceError: arguments is not defined</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ä½¿ç”¨rest å‚æ•°</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> <span class=\"title function_\">fun2</span> = (<span class=\"params\">...c</span>) =&gt; &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(c)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">fun2</span>(<span class=\"number\">3</span>, <span class=\"number\">82</span>, <span class=\"number\">32</span>, <span class=\"number\">11323</span>) <span class=\"comment\">// [3, 82, 32, 11323]</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Dom-çš„åˆ›å»º\"><a href=\"#Dom-çš„åˆ›å»º\" class=\"headerlink\" title=\"Dom çš„åˆ›å»º\"></a>Dom çš„åˆ›å»º</h2><p>åˆ›å»ºå¤šä¸ª dom å…ƒç´ æ—¶ï¼Œå…ˆå°†å…ƒç´  <code>append</code> åˆ° <code>DocumentFragment</code> ä¸­ï¼Œæœ€åç»Ÿä¸€å°† <code>DocumentFragment</code> æ·»åŠ åˆ°é¡µé¢ã€‚</p>\n<p>å¸¸è§„æ–¹æ³•ï¼›</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">1000</span>; i++) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> el = <span class=\"variable language_\">document</span>.<span class=\"title function_\">createElement</span>(<span class=\"string\">&#x27;p&#x27;</span>)</span><br><span class=\"line\">  el.<span class=\"property\">innerHTML</span> = i</span><br><span class=\"line\">  <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"title function_\">appendChild</span>(el)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ä½¿ç”¨ <code>DocumentFragment</code> ä¼˜åŒ–å¤šæ¬¡ <code>append</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> frag = <span class=\"variable language_\">document</span>.<span class=\"title function_\">createDocumentFragment</span>()</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">1000</span>; i++) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> el = <span class=\"variable language_\">document</span>.<span class=\"title function_\">createElement</span>(<span class=\"string\">&#x27;p&#x27;</span>)</span><br><span class=\"line\">  el.<span class=\"property\">innerHTML</span> = i</span><br><span class=\"line\">  frag.<span class=\"title function_\">appendChild</span>(el)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"title function_\">appendChild</span>(frag)</span><br></pre></td></tr></table></figure>\n\n<p>æ›´ä¼˜çš„æ–¹æ³•:ä½¿ç”¨ä¸€æ¬¡ <code>innerHTML</code> èµ‹å€¼ä»£æ›¿æ„å»º dom å…ƒç´ </p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> html = []</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">1000</span>; i++) &#123;</span><br><span class=\"line\">  html.<span class=\"title function_\">push</span>(<span class=\"string\">&#x27;&lt;p&gt;&#x27;</span> + i + <span class=\"string\">&#x27;&lt;/p&gt;&#x27;</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"property\">innerHTML</span> = html.<span class=\"title function_\">join</span>(<span class=\"string\">&#x27;&#x27;</span>)</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"å†…å­˜æ³„æ¼\"><a href=\"#å†…å­˜æ³„æ¼\" class=\"headerlink\" title=\"å†…å­˜æ³„æ¼\"></a>å†…å­˜æ³„æ¼</h2><p>ç³»ç»Ÿè¿›ç¨‹ä¸å†ç”¨åˆ°çš„å†…å­˜ï¼Œæ²¡æœ‰åŠæ—¶é‡Šæ”¾ï¼Œå°±å«åšå†…å­˜æ³„æ¼ï¼ˆmemory leakï¼‰ã€‚å½“å†…å­˜å ç”¨è¶Šæ¥è¶Šé«˜ï¼Œè½»åˆ™å½±å“ç³»ç»Ÿæ€§èƒ½ï¼Œé‡åˆ™å¯¼è‡´è¿›ç¨‹å´©æºƒã€‚  </p>\n<p>å¼•èµ·å†…å­˜æ³„æ¼çš„åŸå› </p>\n<h4 id=\"å…¨å±€å˜é‡\"><a href=\"#å…¨å±€å˜é‡\" class=\"headerlink\" title=\"å…¨å±€å˜é‡\"></a>å…¨å±€å˜é‡</h4><p>1ã€æœªå£°æ˜å˜é‡æˆ–è€…ä½¿ç”¨ <code>this</code> åˆ›å»ºçš„å˜é‡(<code>this</code> çš„æŒ‡å‘æ˜¯ <code>window</code>)éƒ½ä¼šå¼•èµ·å†…å­˜æ³„æ¼</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">fn</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  a = <span class=\"string\">&quot;Actually, I&#x27;m a global variable&quot;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">fn</span>()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">fn</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">a</span> = <span class=\"string\">&quot;Actually, I&#x27;m a global variable&quot;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">fn</span>()</span><br></pre></td></tr></table></figure>\n\n<p>è§£å†³æ–¹æ³•ï¼š</p>\n<ul>\n<li>é¿å…åˆ›å»ºå…¨å±€å˜é‡</li>\n<li>ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼,åœ¨ JavaScript æ–‡ä»¶å¤´éƒ¨æˆ–è€…å‡½æ•°çš„é¡¶éƒ¨åŠ ä¸Š <code>use strict</code>ã€‚</li>\n</ul>\n<p>2ã€åœ¨ vue å•é¡µé¢åº”ç”¨ï¼Œå£°æ˜çš„å…¨å±€å˜é‡åœ¨åˆ‡æ¢é¡µé¢çš„æ—¶å€™æ²¡æœ‰æ¸…ç©º</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">  <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;home&quot;</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">    è¿™é‡Œæ˜¯é¦–é¡µ</span></span><br><span class=\"line\"><span class=\"language-xml\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\">&lt;/template&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">  <span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"title function_\">mounted</span>(<span class=\"params\"></span>) &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      <span class=\"variable language_\">window</span>.<span class=\"property\">test</span> = &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"comment\">// æ­¤å¤„åœ¨å…¨å±€windowå¯¹è±¡ä¸­å¼•ç”¨äº†æœ¬é¡µé¢çš„domå¯¹è±¡</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"attr\">name</span>: <span class=\"string\">&#x27;home&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">        <span class=\"attr\">node</span>: <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;home&#x27;</span>)</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">  &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n\n<p>è§£å†³æ–¹æ¡ˆ: åœ¨é¡µé¢å¸è½½çš„æ—¶å€™é¡ºä¾¿å¤„ç†æ‰è¯¥å¼•ç”¨ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">destroyed () &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">window</span>.<span class=\"property\">test</span> = <span class=\"literal\">null</span> <span class=\"comment\">// é¡µé¢å¸è½½çš„æ—¶å€™è§£é™¤å¼•ç”¨</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"é—­åŒ…\"><a href=\"#é—­åŒ…\" class=\"headerlink\" title=\"é—­åŒ…\"></a>é—­åŒ…</h4><p>é—­åŒ…å¼•èµ·çš„å†…å­˜æ³„æ¼åŸå› ï¼šé—­åŒ…å¯ä»¥ç»´æŒå‡½æ•°å†…å±€éƒ¨å˜é‡ï¼Œä½¿å…¶å¾—ä¸åˆ°é‡Šæ”¾ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">fn</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> a = <span class=\"string\">&quot;I&#x27;m a&quot;</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>è§£å†³ï¼šå°†äº‹ä»¶å¤„ç†å‡½æ•°å®šä¹‰åœ¨å¤–éƒ¨ï¼Œè§£é™¤é—­åŒ…,æˆ–è€…åœ¨å®šä¹‰äº‹ä»¶å¤„ç†å‡½æ•°çš„å¤–éƒ¨å‡½æ•°ä¸­ï¼Œåˆ é™¤å¯¹ dom çš„å¼•ç”¨ã€‚</p>\n<h4 id=\"å®šæ—¶å™¨æˆ–äº‹ä»¶ç›‘å¬\"><a href=\"#å®šæ—¶å™¨æˆ–äº‹ä»¶ç›‘å¬\" class=\"headerlink\" title=\"å®šæ—¶å™¨æˆ–äº‹ä»¶ç›‘å¬\"></a>å®šæ—¶å™¨æˆ–äº‹ä»¶ç›‘å¬</h4><p>ç”±äºé¡¹ç›®ä¸­æœ‰äº›é¡µé¢éš¾å…ä¼šç¢°åˆ°éœ€è¦å®šæ—¶å™¨æˆ–è€…äº‹ä»¶ç›‘å¬ã€‚ä½†æ˜¯åœ¨ç¦»å¼€å½“å‰é¡µé¢çš„æ—¶å€™ï¼Œå®šæ—¶å™¨å¦‚æœä¸åŠæ—¶åˆç†åœ°æ¸…é™¤ï¼Œä¼šé€ æˆä¸šåŠ¡é€»è¾‘æ··ä¹±ç”šè‡³åº”ç”¨å¡æ­»çš„æƒ…å†µï¼Œè¿™ä¸ªæ—¶å°±éœ€è¦æ¸…é™¤å®šæ—¶å™¨äº‹ä»¶ç›‘å¬ï¼Œå³åœ¨é¡µé¢å¸è½½ï¼ˆå…³é—­ï¼‰çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°é‡Œï¼Œæ¸…é™¤å®šæ—¶å™¨ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">methods</span>:&#123;</span><br><span class=\"line\">  resizeFun () &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">tableHeight</span> = <span class=\"variable language_\">window</span>.<span class=\"property\">innerHeight</span> - <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;table&#x27;</span>).<span class=\"property\">offsetTop</span> - <span class=\"number\">128</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"title function_\">setTimer</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">timer</span> = <span class=\"built_in\">setInterval</span>(<span class=\"function\">() =&gt;</span> &#123; &#125;)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"title function_\">clearTimer</span>(<span class=\"params\"></span>) &#123;<span class=\"comment\">//æ¸…é™¤å®šæ—¶å™¨</span></span><br><span class=\"line\">\t\t<span class=\"built_in\">clearInterval</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">timer</span>)</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">timer</span> = <span class=\"literal\">null</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"><span class=\"title function_\">mounted</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"title function_\">setTimer</span>()</span><br><span class=\"line\">  <span class=\"variable language_\">window</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;resize&#x27;</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">resizeFun</span>)</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"><span class=\"title function_\">beforeDestroy</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">window</span>.<span class=\"title function_\">removeEventListener</span>(<span class=\"string\">&#x27;resize&#x27;</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">resizeFun</span>)</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"title function_\">clearTimer</span>()</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"é˜²æŠ–ä¸èŠ‚æµ\"><a href=\"#é˜²æŠ–ä¸èŠ‚æµ\" class=\"headerlink\" title=\"é˜²æŠ–ä¸èŠ‚æµ\"></a>é˜²æŠ–ä¸èŠ‚æµ</h2><p>åœ¨å‰ç«¯å¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šéœ€è¦ç»‘å®šä¸€äº›æŒç»­è§¦å‘çš„äº‹ä»¶ï¼Œå¦‚ <code>resize</code>ã€<code>scroll</code>ã€<code>mousemove</code> ç­‰ç­‰ï¼Œä½†æœ‰äº›æ—¶å€™æˆ‘ä»¬å¹¶ä¸å¸Œæœ›åœ¨äº‹ä»¶æŒç»­è§¦å‘çš„è¿‡ç¨‹ä¸­é‚£ä¹ˆé¢‘ç¹åœ°å»æ‰§è¡Œå‡½æ•°ã€‚è¿™æ—¶å€™å°±ç”¨åˆ°é˜²æŠ–ä¸èŠ‚æµã€‚</p>\n<p>æ¡ˆä¾‹ 1ï¼šè¿œç¨‹æœç´¢æ—¶éœ€è¦é€šè¿‡æ¥å£åŠ¨æ€çš„è·å–æ•°æ®ï¼Œè‹¥æ˜¯æ¯æ¬¡ç”¨æˆ·è¾“å…¥éƒ½æ¥å£è¯·æ±‚ï¼Œæ˜¯æµªè´¹å¸¦å®½å’Œæ€§èƒ½çš„ã€‚</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">Select</span> <span class=\"attr\">:remote-method</span>=<span class=\"string\">&quot;remoteMethod&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">Option</span> <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;item in temoteList&quot;</span> <span class=\"attr\">:value</span>=<span class=\"string\">&quot;item.value&quot;</span> <span class=\"attr\">:key</span>=<span class=\"string\">&quot;item.id&quot;</span>&gt;</span>&#123;&#123;item.label&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">Option</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">Select</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">function</span> <span class=\"title function_\">debounce</span>(<span class=\"params\">fn, wait</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"keyword\">let</span> timeout = <span class=\"literal\">null</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"keyword\">return</span> <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">if</span> (timeout !== <span class=\"literal\">null</span>) <span class=\"built_in\">clearTimeout</span>(timeout)</span></span><br><span class=\"line\"><span class=\"language-javascript\">    timeout = <span class=\"built_in\">setTimeout</span>(fn, wait)</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  methodsï¼š&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    remoteMethodï¼š<span class=\"title function_\">debounce</span>(<span class=\"keyword\">function</span> (<span class=\"params\">query</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">// to do ...</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;, <span class=\"number\">200</span>),</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">&lt;script&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>æ¡ˆä¾‹ 2ï¼šæŒç»­è§¦å‘ <code>scroll</code> äº‹ä»¶æ—¶ï¼Œå¹¶ä¸ç«‹å³æ‰§è¡Œ <code>handle</code> å‡½æ•°ï¼Œå½“ 1000 æ¯«ç§’å†…æ²¡æœ‰è§¦å‘ <code>scroll</code> äº‹ä»¶æ—¶ï¼Œæ‰ä¼šå»¶æ—¶è§¦å‘ä¸€æ¬¡ <code>handle</code> å‡½æ•°ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">debounce</span>(<span class=\"params\">fn, wait</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> timeout = <span class=\"literal\">null</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (timeout !== <span class=\"literal\">null</span>) <span class=\"built_in\">clearTimeout</span>(timeout)</span><br><span class=\"line\">    timeout = <span class=\"built_in\">setTimeout</span>(fn, wait)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">handle</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title class_\">Math</span>.<span class=\"title function_\">random</span>())</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;scroll&#x27;</span>, <span class=\"title function_\">debounce</span>(handle, <span class=\"number\">1000</span>))</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"å¼‚æ­¥åŠ è½½-js\"><a href=\"#å¼‚æ­¥åŠ è½½-js\" class=\"headerlink\" title=\"å¼‚æ­¥åŠ è½½ js\"></a>å¼‚æ­¥åŠ è½½ js</h2><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæµè§ˆå™¨æ˜¯åŒæ­¥åŠ è½½ js è„šæœ¬ï¼Œè§£æ html è¿‡ç¨‹ä¸­ï¼Œé‡åˆ° <code>&lt;script&gt;</code> æ ‡ç­¾å°±ä¼šåœä¸‹æ¥ï¼Œç­‰è„šæœ¬ä¸‹è½½ã€è§£æã€æ‰§è¡Œå®Œåï¼Œå†ç»§ç»­å‘ä¸‹è§£ææ¸²æŸ“ã€‚</p>\n<p>å¦‚æœ js æ–‡ä»¶ä½“ç§¯æ¯”è¾ƒå¤§ï¼Œä¸‹è½½æ—¶é—´å°±ä¼šå¾ˆé•¿ï¼Œå®¹æ˜“é€ æˆæµè§ˆå™¨å µå¡ï¼Œæµè§ˆå™¨é¡µé¢ä¼šå‘ˆç°å‡ºâ€œç™½å±â€æ•ˆæœï¼Œç”¨æˆ·ä¼šæ„Ÿè§‰æµè§ˆå™¨â€œå¡æ­»äº†â€ï¼Œæ²¡æœ‰å“åº”ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥è®© js è„šæœ¬å¼‚æ­¥åŠ è½½ã€æ‰§è¡Œã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;script src=<span class=\"string\">&quot;path/to/home.js&quot;</span> defer&gt;&lt;/script&gt;</span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;path/to/home.js&quot;</span> <span class=\"attr\">async</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n\n<p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>&lt;script&gt;</code> æ ‡ç­¾åˆ†åˆ«æœ‰ <code>defer</code> å’Œ <code>async</code> å±æ€§ï¼Œæµè§ˆå™¨è¯†åˆ«åˆ°è¿™ 2 ä¸ªå±æ€§æ—¶ js å°±ä¼šå¼‚æ­¥åŠ è½½ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæµè§ˆå™¨ä¸ä¼šç­‰å¾…è¿™ä¸ªè„šæœ¬ä¸‹è½½ã€æ‰§è¡Œå®Œæ¯•åå†å‘åæ‰§è¡Œï¼Œè€Œæ˜¯ç›´æ¥ç»§ç»­å‘åæ‰§è¡Œ</p>\n<p>defer ä¸ async åŒºåˆ«:</p>\n<ul>\n<li>deferï¼šDOM ç»“æ„å®Œå…¨ç”Ÿæˆï¼Œä»¥åŠå…¶ä»–è„šæœ¬æ‰§è¡Œå®Œæˆï¼Œæ‰ä¼šæ‰§è¡Œï¼ˆæ¸²æŸ“å®Œå†æ‰§è¡Œï¼‰ã€‚æœ‰å¤šä¸ª <code>defer</code> è„šæœ¬æ—¶ï¼Œä¼šæŒ‰ç…§é¡µé¢å‡ºç°çš„é¡ºåºä¾æ¬¡åŠ è½½ã€æ‰§è¡Œã€‚</li>\n<li>asyncï¼šä¸€æ—¦ä¸‹è½½å®Œæˆï¼Œæ¸²æŸ“å¼•æ“å°±ä¼šä¸­æ–­æ¸²æŸ“ï¼Œæ‰§è¡Œè¿™ä¸ªè„šæœ¬ä»¥åï¼Œå†ç»§ç»­æ¸²æŸ“ï¼ˆä¸‹è½½å®Œå°±æ‰§è¡Œï¼‰ã€‚æœ‰å¤šä¸ª <code>async</code> è„šæœ¬æ—¶ï¼Œä¸èƒ½ä¿è¯æŒ‰ç…§é¡µé¢å‡ºç°é¡ºåºåŠ è½½ã€æ‰§è¡Œ</li>\n</ul>\n"},{"title":"å›¾ç‰‡æ‡’åŠ è½½","url":"/LittleWhiteRabbit/2022/04/26/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E4%B9%8B%E5%9B%BE%E7%89%87%E6%87%92%E5%8A%A0%E8%BD%BD/","content":"<h1 id=\"å›¾ç‰‡æ‡’åŠ è½½\"><a href=\"#å›¾ç‰‡æ‡’åŠ è½½\" class=\"headerlink\" title=\"å›¾ç‰‡æ‡’åŠ è½½\"></a>å›¾ç‰‡æ‡’åŠ è½½</h1><p>åœ¨ç±»ç”µå•†ç±»é¡¹ç›®ï¼Œå¾€å¾€å­˜åœ¨å¤§é‡çš„å›¾ç‰‡ï¼Œå¦‚ banner å¹¿å‘Šå›¾ï¼Œèœå•å¯¼èˆªå›¾ï¼Œç¾å›¢ç­‰å•†å®¶åˆ—è¡¨å¤´å›¾ç­‰ã€‚å›¾ç‰‡ä¼—å¤šä»¥åŠå›¾ç‰‡ä½“ç§¯è¿‡å¤§å¾€å¾€ä¼šå½±å“é¡µé¢åŠ è½½é€Ÿåº¦ï¼Œé€ æˆä¸è‰¯çš„ç”¨æˆ·ä½“éªŒï¼Œæ‰€ä»¥è¿›è¡Œå›¾ç‰‡æ‡’åŠ è½½ä¼˜åŒ–åŠ¿åœ¨å¿…è¡Œã€‚</p>\n<span id=\"more\"></span>\n<h3 id=\"ä¸ºä»€ä¹ˆè¦è¿›è¡Œå›¾ç‰‡æ‡’åŠ è½½\"><a href=\"#ä¸ºä»€ä¹ˆè¦è¿›è¡Œå›¾ç‰‡æ‡’åŠ è½½\" class=\"headerlink\" title=\"ä¸ºä»€ä¹ˆè¦è¿›è¡Œå›¾ç‰‡æ‡’åŠ è½½\"></a>ä¸ºä»€ä¹ˆè¦è¿›è¡Œå›¾ç‰‡æ‡’åŠ è½½</h3><p>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹é¡µé¢å¯åŠ¨æ—¶åŠ è½½çš„å›¾ç‰‡ä¿¡æ¯ã€‚</p>\n<img src=\"./img/2.png\">\n\n<p>å¦‚å›¾æ‰€ç¤ºï¼Œè¿™ä¸ªé¡µé¢å¯åŠ¨æ—¶åŠ è½½äº†å‡ åå¼ å›¾ç‰‡ï¼ˆç”šè‡³æ›´å¤šï¼‰ï¼Œè€Œè¿™äº›å›¾ç‰‡è¯·æ±‚å‡ ä¹æ˜¯å¹¶å‘çš„ï¼Œåœ¨ Chrome æµè§ˆå™¨ï¼Œæœ€å¤šæ”¯æŒçš„å¹¶å‘è¯·æ±‚æ¬¡æ•°æ˜¯æœ‰é™çš„ï¼Œå…¶ä»–çš„è¯·æ±‚ä¼šæ¨å…¥åˆ°é˜Ÿåˆ—ä¸­ç­‰å¾…æˆ–è€…åœæ»ä¸å‰ï¼Œç›´åˆ°ä¸Šè½®è¯·æ±‚å®Œæˆåæ–°çš„è¯·æ±‚æ‰ä¼šå‘å‡ºã€‚æ‰€ä»¥ç›¸å½“ä¸€éƒ¨åˆ†å›¾ç‰‡èµ„æºè¯·æ±‚æ˜¯éœ€è¦æ’é˜Ÿç­‰å¾…æ—¶é—´çš„ã€‚</p>\n<p>åœ¨ä¸Šé¢å¯ä»¥çœ‹å‡ºï¼Œæœ‰éƒ¨åˆ†å›¾ç‰‡è¾¾åˆ°å‡ ç™¾ kBï¼Œè®¾ç½® 2M(è¿™é”…å¿…é¡»è¿è¥èƒŒï¼Œéå¾—ä¸Šä¼ é«˜æ¸…å¤§å›¾ä¸å¯ï¼Ÿ)ï¼Œç›´æ¥å¯¼è‡´äº†åŠ è½½æ—¶é—´è¿‡é•¿ã€‚</p>\n<img src=\"./img/1.png\">\n<!--more-->\né’ˆå¯¹ä»¥ä¸Šæƒ…å†µï¼Œè¿›è¡Œå›¾ç‰‡æ‡’åŠ è½½æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š\n\n<ol>\n<li>å‡å°‘èµ„æºçš„åŠ è½½ï¼Œé¡µé¢å¯åŠ¨åªåŠ è½½é¦–å±çš„å›¾ç‰‡ï¼Œè¿™æ ·èƒ½æ˜æ˜¾å‡å°‘äº†æœåŠ¡å™¨çš„å‹åŠ›å’Œæµé‡ï¼Œä¹Ÿèƒ½å¤Ÿå‡å°æµè§ˆå™¨çš„è´Ÿæ‹…ã€‚</li>\n<li>é˜²æ­¢å¹¶å‘åŠ è½½çš„èµ„æºè¿‡å¤šè€Œé˜»å¡ js çš„åŠ è½½ï¼Œå½±å“æ•´ä¸ªç½‘ç«™çš„å¯åŠ¨ã€‚</li>\n<li>èƒ½æå‡ç”¨æˆ·çš„ä½“éªŒï¼Œä¸å¦¨è®¾æƒ³ä¸‹ï¼Œç”¨æˆ·æ‰“å¼€é¡µé¢çš„æ—¶å€™ï¼Œå¦‚æœé¡µé¢ä¸Šæ‰€æœ‰çš„å›¾ç‰‡éƒ½éœ€è¦åŠ è½½ï¼Œç”±äºå›¾ç‰‡æ•°ç›®è¾ƒå¤§ï¼Œç­‰å¾…æ—¶é—´å¾ˆé•¿è¿™å°±ä¸¥é‡å½±å“ç”¨æˆ·ä½“éªŒã€‚</li>\n</ol>\n<h3 id=\"å›¾ç‰‡æ‡’åŠ è½½çš„åŸç†\"><a href=\"#å›¾ç‰‡æ‡’åŠ è½½çš„åŸç†\" class=\"headerlink\" title=\"å›¾ç‰‡æ‡’åŠ è½½çš„åŸç†\"></a>å›¾ç‰‡æ‡’åŠ è½½çš„åŸç†</h3><p>å›¾ç‰‡æ‡’åŠ è½½çš„åŸç†ä¸»è¦æ˜¯åˆ¤æ–­å½“å‰å›¾ç‰‡æ˜¯å¦åˆ°äº†å¯è§†åŒºåŸŸè¿™ä¸€æ ¸å¿ƒé€»è¾‘å®ç°çš„</p>\n<ol>\n<li>æ‹¿åˆ°æ‰€æœ‰çš„å›¾ç‰‡ dome ã€‚</li>\n<li>éå†æ¯ä¸ªå›¾ç‰‡åˆ¤æ–­å½“å‰å›¾ç‰‡æ˜¯å¦åˆ°äº†å¯è§†åŒºèŒƒå›´å†…ã€‚</li>\n<li>å¦‚æœåˆ°äº†å°±è®¾ç½®å›¾ç‰‡çš„ src å±æ€§ã€‚</li>\n<li>ç»‘å®š window çš„ <code>scroll</code> äº‹ä»¶ï¼Œå¯¹å…¶è¿›è¡Œäº‹ä»¶ç›‘å¬ã€‚</li>\n</ol>\n<p>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹é¡µé¢ç»“æ„</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Lazyload<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">      <span class=\"selector-tag\">img</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">display</span>: block;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">margin-bottom</span>: <span class=\"number\">50px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">height</span>: <span class=\"number\">200px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">width</span>: <span class=\"number\">400px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">      &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">    </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;./img/default.png&quot;</span> <span class=\"attr\">data-src</span>=<span class=\"string\">&quot;./img/1.jpg&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;./img/default.png&quot;</span> <span class=\"attr\">data-src</span>=<span class=\"string\">&quot;./img/2.jpg&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;./img/default.png&quot;</span> <span class=\"attr\">data-src</span>=<span class=\"string\">&quot;./img/3.jpg&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;./img/default.png&quot;</span> <span class=\"attr\">data-src</span>=<span class=\"string\">&quot;./img/4.jpg&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;./img/default.png&quot;</span> <span class=\"attr\">data-src</span>=<span class=\"string\">&quot;./img/5.jpg&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;./img/default.png&quot;</span> <span class=\"attr\">data-src</span>=<span class=\"string\">&quot;./img/6.jpg&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;./img/default.png&quot;</span> <span class=\"attr\">data-src</span>=<span class=\"string\">&quot;./img/7.jpg&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;./img/default.png&quot;</span> <span class=\"attr\">data-src</span>=<span class=\"string\">&quot;./img/8.jpg&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;./img/default.png&quot;</span> <span class=\"attr\">data-src</span>=<span class=\"string\">&quot;./img/9.jpg&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;./img/default.png&quot;</span> <span class=\"attr\">data-src</span>=<span class=\"string\">&quot;./img/10.jpg&quot;</span> /&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>å…ˆè·å–æ‰€æœ‰å›¾ç‰‡çš„ domï¼Œé€šè¿‡ <code>document.body.clientHeight</code> è·å–å¯è§†åŒºé«˜åº¦ï¼Œå†ä½¿ç”¨ <code>element.getBoundingClientRect()</code> API ç›´æ¥å¾—åˆ°å…ƒç´ ç›¸å¯¹æµè§ˆçš„ top å€¼ï¼Œ éå†æ¯ä¸ªå›¾ç‰‡åˆ¤æ–­å½“å‰å›¾ç‰‡æ˜¯å¦åˆ°äº†å¯è§†åŒºèŒƒå›´å†…ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">lazyload</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> viewHeight = <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"property\">clientHeight</span> <span class=\"comment\">//è·å–å¯è§†åŒºé«˜åº¦</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> imgs = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelectorAll</span>(<span class=\"string\">&#x27;img[data-src]&#x27;</span>)</span><br><span class=\"line\">  imgs.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">item, index</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (item.<span class=\"property\">dataset</span>.<span class=\"property\">src</span> === <span class=\"string\">&#x27;&#x27;</span>) <span class=\"keyword\">return</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// ç”¨äºè·å¾—é¡µé¢ä¸­æŸä¸ªå…ƒç´ çš„å·¦ï¼Œä¸Šï¼Œå³å’Œä¸‹åˆ†åˆ«ç›¸å¯¹æµè§ˆå™¨è§†çª—çš„ä½ç½®</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> rect = item.<span class=\"title function_\">getBoundingClientRect</span>()</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (rect.<span class=\"property\">bottom</span> &gt;= <span class=\"number\">0</span> &amp;&amp; rect.<span class=\"property\">top</span> &lt; viewHeight) &#123;</span><br><span class=\"line\">      item.<span class=\"property\">src</span> = item.<span class=\"property\">dataset</span>.<span class=\"property\">src</span></span><br><span class=\"line\">      item.<span class=\"title function_\">removeAttribute</span>(<span class=\"string\">&#x27;data-src&#x27;</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æœ€åç»™ window ç»‘å®š <code>onscroll</code> äº‹ä»¶</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;scroll&#x27;</span>, lazyload)</span><br></pre></td></tr></table></figure>\n\n<p>ä¸»è¦å°±å®Œæˆäº†ä¸€ä¸ªå›¾ç‰‡æ‡’åŠ è½½çš„æ“ä½œäº†ã€‚ä½†æ˜¯è¿™æ ·å­˜åœ¨è¾ƒå¤§çš„æ€§èƒ½é—®é¢˜ï¼Œå› ä¸º <code>scroll</code> äº‹ä»¶ä¼šåœ¨å¾ˆçŸ­çš„æ—¶é—´å†…è§¦å‘å¾ˆå¤šæ¬¡ï¼Œä¸¥é‡å½±å“é¡µé¢æ€§èƒ½ï¼Œä¸ºäº†æé«˜ç½‘é¡µæ€§èƒ½ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªèŠ‚æµå‡½æ•°æ¥æ§åˆ¶å‡½æ•°çš„å¤šæ¬¡è§¦å‘ï¼Œåœ¨ä¸€æ®µæ—¶é—´å†…ï¼ˆå¦‚ 200msï¼‰åªæ‰§è¡Œä¸€æ¬¡å›è°ƒã€‚</p>\n<p>ä¸‹é¢å®ç°ä¸€ä¸ªèŠ‚æµå‡½æ•°</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">throttle</span>(<span class=\"params\">fn, delay</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> timer</span><br><span class=\"line\">  <span class=\"keyword\">let</span> prevTime</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">function</span> (<span class=\"params\">...args</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> currTime = <span class=\"title class_\">Date</span>.<span class=\"title function_\">now</span>()</span><br><span class=\"line\">    <span class=\"keyword\">const</span> context = <span class=\"variable language_\">this</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!prevTime) prevTime = currTime</span><br><span class=\"line\">    <span class=\"built_in\">clearTimeout</span>(timer)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (currTime - prevTime &gt; delay) &#123;</span><br><span class=\"line\">      prevTime = currTime</span><br><span class=\"line\">      fn.<span class=\"title function_\">apply</span>(context, args)</span><br><span class=\"line\">      <span class=\"built_in\">clearTimeout</span>(timer)</span><br><span class=\"line\">      <span class=\"keyword\">return</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    timer = <span class=\"built_in\">setTimeout</span>(<span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">      prevTime = <span class=\"title class_\">Date</span>.<span class=\"title function_\">now</span>()</span><br><span class=\"line\">      timer = <span class=\"literal\">null</span></span><br><span class=\"line\">      fn.<span class=\"title function_\">apply</span>(context, args)</span><br><span class=\"line\">    &#125;, delay)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ç„¶åä¿®æ”¹ä¸€ä¸‹ <code>srcoll</code> äº‹ä»¶</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;scroll&#x27;</span>, <span class=\"title function_\">throttle</span>(lazyload, <span class=\"number\">200</span>))</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"IntersectionObserver\"><a href=\"#IntersectionObserver\" class=\"headerlink\" title=\"IntersectionObserver\"></a>IntersectionObserver</h3><p>é€šè¿‡ä¸Šé¢ä¾‹å­çš„å®ç°ï¼Œæˆ‘ä»¬è¦å®ç°æ‡’åŠ è½½éƒ½éœ€è¦å»ç›‘å¬ <code>scroll</code> äº‹ä»¶ï¼Œå°½ç®¡æˆ‘ä»¬å¯ä»¥é€šè¿‡å‡½æ•°èŠ‚æµçš„æ–¹å¼æ¥é˜»æ­¢é«˜é¢‘ç‡çš„æ‰§è¡Œå‡½æ•°ï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜æ˜¯éœ€è¦å»è®¡ç®— <code>scrollTop</code>ï¼Œ<code>offsetHeight</code> ç­‰å±æ€§ï¼Œæœ‰æ²¡æœ‰ç®€å•çš„ä¸éœ€è¦è®¡ç®—è¿™äº›å±æ€§çš„æ–¹å¼å‘¢ï¼Œç­”æ¡ˆå°±æ˜¯ <code>IntersectionObserver</code>ã€‚</p>\n<p><code>IntersectionObserver</code> æ˜¯ä¸€ä¸ªæ–°çš„ APIï¼Œå¯ä»¥è‡ªåŠ¨â€è§‚å¯Ÿâ€å…ƒç´ æ˜¯å¦å¯è§ï¼ŒChrome 51+ å·²ç»æ”¯æŒã€‚ç”±äºå¯è§ï¼ˆvisibleï¼‰çš„æœ¬è´¨æ˜¯ï¼Œç›®æ ‡å…ƒç´ ä¸è§†å£äº§ç”Ÿä¸€ä¸ªäº¤å‰åŒºï¼Œæ‰€ä»¥è¿™ä¸ª API å«åšâ€äº¤å‰è§‚å¯Ÿå™¨â€ã€‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å®ƒçš„ç”¨æ³•ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> io = <span class=\"keyword\">new</span> <span class=\"title class_\">IntersectionObserver</span>(callback, option)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å¼€å§‹è§‚å¯Ÿ</span></span><br><span class=\"line\">io.<span class=\"title function_\">observe</span>(<span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;example&#x27;</span>))</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// åœæ­¢è§‚å¯Ÿ</span></span><br><span class=\"line\">io.<span class=\"title function_\">unobserve</span>(element)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å…³é—­è§‚å¯Ÿå™¨</span></span><br><span class=\"line\">io.<span class=\"title function_\">disconnect</span>()</span><br></pre></td></tr></table></figure>\n\n<p><code>IntersectionObserver</code> æ˜¯æµè§ˆå™¨åŸç”Ÿæä¾›çš„æ„é€ å‡½æ•°ï¼Œæ¥å—ä¸¤ä¸ªå‚æ•°ï¼šcallback æ˜¯å¯è§æ€§å˜åŒ–æ—¶çš„å›è°ƒå‡½æ•°ï¼Œoption æ˜¯é…ç½®å¯¹è±¡ï¼ˆè¯¥å‚æ•°å¯é€‰ï¼‰ã€‚</p>\n<p>ç›®æ ‡å…ƒç´ çš„å¯è§æ€§å˜åŒ–æ—¶ï¼Œå°±ä¼šè°ƒç”¨è§‚å¯Ÿå™¨çš„å›è°ƒå‡½æ•° callbackã€‚callback ä¸€èˆ¬ä¼šè§¦å‘ä¸¤æ¬¡ã€‚ä¸€æ¬¡æ˜¯ç›®æ ‡å…ƒç´ åˆšåˆšè¿›å…¥è§†å£ï¼ˆå¼€å§‹å¯è§ï¼‰ï¼Œå¦ä¸€æ¬¡æ˜¯å®Œå…¨ç¦»å¼€è§†å£ï¼ˆå¼€å§‹ä¸å¯è§ï¼‰ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> io = <span class=\"keyword\">new</span> <span class=\"title class_\">IntersectionObserver</span>(<span class=\"function\">(<span class=\"params\">entries</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(entries)</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<p>callback å‡½æ•°çš„å‚æ•°<code>ï¼ˆentriesï¼‰</code>æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ¯ä¸ªæˆå‘˜éƒ½æ˜¯ä¸€ä¸ª <code>IntersectionObserverEntry</code> å¯¹è±¡ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œå¦‚æœåŒæ—¶æœ‰ä¸¤ä¸ªè¢«è§‚å¯Ÿçš„å¯¹è±¡çš„å¯è§æ€§å‘ç”Ÿå˜åŒ–ï¼Œ<code>entries</code> æ•°ç»„å°±ä¼šæœ‰ä¸¤ä¸ªæˆå‘˜ã€‚</p>\n<ul>\n<li>timeï¼šå¯è§æ€§å‘ç”Ÿå˜åŒ–çš„æ—¶é—´ï¼Œæ˜¯ä¸€ä¸ªé«˜ç²¾åº¦æ—¶é—´æˆ³ï¼Œå•ä½ä¸ºæ¯«ç§’</li>\n<li>targetï¼šè¢«è§‚å¯Ÿçš„ç›®æ ‡å…ƒç´ ï¼Œæ˜¯ä¸€ä¸ª DOM èŠ‚ç‚¹å¯¹è±¡</li>\n<li>isIntersecting: ç›®æ ‡æ˜¯å¦å¯è§</li>\n<li>rootBoundsï¼šæ ¹å…ƒç´ çš„çŸ©å½¢åŒºåŸŸçš„ä¿¡æ¯ï¼Œ<code>getBoundingClientRect()</code>æ–¹æ³•çš„è¿”å›å€¼ï¼Œå¦‚æœæ²¡æœ‰æ ¹å…ƒç´ ï¼ˆå³ç›´æ¥ç›¸å¯¹äºè§†å£æ»šåŠ¨ï¼‰ï¼Œåˆ™è¿”å› null</li>\n<li>boundingClientRectï¼šç›®æ ‡å…ƒç´ çš„çŸ©å½¢åŒºåŸŸçš„ä¿¡æ¯</li>\n<li>intersectionRectï¼šç›®æ ‡å…ƒç´ ä¸è§†å£ï¼ˆæˆ–æ ¹å…ƒç´ ï¼‰çš„äº¤å‰åŒºåŸŸçš„ä¿¡æ¯</li>\n<li>intersectionRatioï¼šç›®æ ‡å…ƒç´ çš„å¯è§æ¯”ä¾‹ï¼Œå³ <code>intersectionRect</code> å  <code>boundingClientRect</code> çš„æ¯”ä¾‹ï¼Œå®Œå…¨å¯è§æ—¶ä¸º 1ï¼Œå®Œå…¨ä¸å¯è§æ—¶å°äºç­‰äº 0</li>\n</ul>\n<p>ä¸‹é¢æˆ‘ä»¬ç”¨ <code>IntersectionObserver</code> å®ç°å›¾ç‰‡æ‡’åŠ è½½</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> imgs = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelectorAll</span>(<span class=\"string\">&#x27;img[data-src]&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">const</span> config = &#123;</span><br><span class=\"line\">  <span class=\"attr\">rootMargin</span>: <span class=\"string\">&#x27;0px&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">threshold</span>: <span class=\"number\">0</span>,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">let</span> observer = <span class=\"keyword\">new</span> <span class=\"title class_\">IntersectionObserver</span>(<span class=\"function\">(<span class=\"params\">entries, self</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  entries.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">entry</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (entry.<span class=\"property\">isIntersecting</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> img = entry.<span class=\"property\">target</span></span><br><span class=\"line\">      <span class=\"keyword\">let</span> src = img.<span class=\"property\">dataset</span>.<span class=\"property\">src</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (src) &#123;</span><br><span class=\"line\">        img.<span class=\"property\">src</span> = src</span><br><span class=\"line\">        img.<span class=\"title function_\">removeAttribute</span>(<span class=\"string\">&#x27;data-src&#x27;</span>)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"comment\">// è§£é™¤è§‚å¯Ÿ</span></span><br><span class=\"line\">      self.<span class=\"title function_\">unobserve</span>(entry.<span class=\"property\">target</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;, config)</span><br><span class=\"line\"></span><br><span class=\"line\">imgs.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">image</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  observer.<span class=\"title function_\">observe</span>(image)</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ‡’åŠ è½½æŒ‡ä»¤\"><a href=\"#æ‡’åŠ è½½æŒ‡ä»¤\" class=\"headerlink\" title=\"æ‡’åŠ è½½æŒ‡ä»¤\"></a>æ‡’åŠ è½½æŒ‡ä»¤</h3><p>Vue ä¸­é™¤äº†å¹³æ—¶å¸¸ç”¨çš„ <code>v-show</code>ã€<code>v-bind</code>ã€<code>v-for</code> ç­‰æŒ‡ä»¤å¤–ï¼Œè¿˜å¯ä»¥è‡ªå®šä¹‰æŒ‡ä»¤ã€‚Vue æŒ‡ä»¤å®šä¹‰å‡½æ•°æä¾›äº†å‡ ä¸ªé’©å­å‡½æ•°ï¼ˆå¯é€‰ï¼‰ï¼š</p>\n<ul>\n<li>bind: åªè°ƒç”¨ä¸€æ¬¡ï¼ŒæŒ‡ä»¤ç¬¬ä¸€æ¬¡ç»‘å®šåˆ°å…ƒç´ æ—¶è°ƒç”¨ï¼Œå¯ä»¥å®šä¹‰ä¸€ä¸ªåœ¨ç»‘å®šæ—¶æ‰§è¡Œä¸€æ¬¡çš„åˆå§‹åŒ–åŠ¨ä½œã€‚</li>\n<li>inserted: è¢«ç»‘å®šå…ƒç´ æ’å…¥çˆ¶èŠ‚ç‚¹æ—¶è°ƒç”¨ï¼ˆçˆ¶èŠ‚ç‚¹å­˜åœ¨å³å¯è°ƒç”¨ï¼Œä¸å¿…å­˜åœ¨äº document ä¸­ï¼‰ã€‚</li>\n<li>update:  è¢«ç»‘å®šå…ƒç´ æ‰€åœ¨çš„æ¨¡æ¿æ›´æ–°æ—¶è°ƒç”¨ï¼Œè€Œä¸è®ºç»‘å®šå€¼æ˜¯å¦å˜åŒ–ã€‚é€šè¿‡æ¯”è¾ƒæ›´æ–°å‰åçš„ç»‘å®šå€¼ã€‚</li>\n<li>componentUpdated: è¢«ç»‘å®šå…ƒç´ æ‰€åœ¨æ¨¡æ¿å®Œæˆä¸€æ¬¡æ›´æ–°å‘¨æœŸæ—¶è°ƒç”¨ã€‚</li>\n<li>unbind: åªè°ƒç”¨ä¸€æ¬¡ï¼Œ æŒ‡ä»¤ä¸å…ƒç´ è§£ç»‘æ—¶è°ƒç”¨ã€‚</li>\n</ul>\n<p>å®ç°ä¸€ä¸ªæ‡’åŠ è½½æŒ‡ä»¤çš„æ€è·¯</p>\n<ol>\n<li>åˆ¤æ–­æµè§ˆå™¨æ˜¯å¦æ”¯æŒ <code>IntersectionObserver</code> APIï¼Œå¦‚æœæ”¯æŒå°±ä½¿ç”¨ <code>IntersectionObserver</code> å®ç°æ‡’åŠ è½½ï¼Œå¦åˆ™åˆ™ä½¿ç”¨ <code>srcoll</code> äº‹ä»¶ç›‘å¬ + èŠ‚æµçš„æ–¹æ³•å®ç°ã€‚</li>\n<li>é€šè¿‡ <code>Vue.directive</code> æ³¨å†Œä¸€ä¸ª <code>v-lazy</code> çš„æŒ‡ä»¤ï¼Œæš´éœ²ä¸€ä¸ª <code>install()</code> å‡½æ•°ï¼Œä¾› Vue è°ƒç”¨ã€‚</li>\n<li>åœ¨ <code>main.js</code> é‡Œ use(æŒ‡ä»¤) å³å¯è°ƒç”¨ã€‚</li>\n<li>å°†ç»„ä»¶å†… <code>&lt;img&gt;</code> æ ‡ç­¾çš„ <code>src</code> æ¢æˆ <code>v-lazy</code> å³å¯å®ç°å›¾ç‰‡æ‡’åŠ è½½ã€‚</li>\n</ol>\n<p>ä»£ç å¦‚ä¸‹</p>\n<p>æ–°å»º <code>LazyLoad.js</code> æ–‡ä»¶</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">LazyLoad</span> = &#123;</span><br><span class=\"line\">  <span class=\"comment\">// installæ–¹æ³•</span></span><br><span class=\"line\">  <span class=\"title function_\">install</span>(<span class=\"params\">Vue, options</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> defaultSrc = options.<span class=\"property\">default</span></span><br><span class=\"line\">    <span class=\"title class_\">Vue</span>.<span class=\"title function_\">directive</span>(<span class=\"string\">&#x27;lazy&#x27;</span>, &#123;</span><br><span class=\"line\">      <span class=\"title function_\">bind</span>(<span class=\"params\">el, binding</span>) &#123;</span><br><span class=\"line\">        <span class=\"title class_\">LazyLoad</span>.<span class=\"title function_\">init</span>(el, binding.<span class=\"property\">value</span>, defaultSrc)</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"title function_\">inserted</span>(<span class=\"params\">el</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"title class_\">IntersectionObserver</span>) &#123;</span><br><span class=\"line\">          <span class=\"title class_\">LazyLoad</span>.<span class=\"title function_\">observe</span>(el)</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">          <span class=\"title class_\">LazyLoad</span>.<span class=\"title function_\">listenerScroll</span>(el)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// åˆå§‹åŒ–</span></span><br><span class=\"line\">  <span class=\"title function_\">init</span>(<span class=\"params\">el, val, def</span>) &#123;</span><br><span class=\"line\">    el.<span class=\"title function_\">setAttribute</span>(<span class=\"string\">&#x27;data-src&#x27;</span>, val)</span><br><span class=\"line\">    el.<span class=\"title function_\">setAttribute</span>(<span class=\"string\">&#x27;src&#x27;</span>, def)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// åˆ©ç”¨IntersectionObserverç›‘å¬el</span></span><br><span class=\"line\">  <span class=\"title function_\">observe</span>(<span class=\"params\">el</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> io = <span class=\"keyword\">new</span> <span class=\"title class_\">IntersectionObserver</span>(<span class=\"function\">(<span class=\"params\">entries</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> realSrc = el.<span class=\"property\">dataset</span>.<span class=\"property\">src</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (entries[<span class=\"number\">0</span>].<span class=\"property\">isIntersecting</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (realSrc) &#123;</span><br><span class=\"line\">          el.<span class=\"property\">src</span> = realSrc</span><br><span class=\"line\">          el.<span class=\"title function_\">removeAttribute</span>(<span class=\"string\">&#x27;data-src&#x27;</span>)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    io.<span class=\"title function_\">observe</span>(el)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// ç›‘å¬scrolläº‹ä»¶</span></span><br><span class=\"line\">  <span class=\"title function_\">listenerScroll</span>(<span class=\"params\">el</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> handler = <span class=\"title class_\">LazyLoad</span>.<span class=\"title function_\">throttle</span>(<span class=\"title class_\">LazyLoad</span>.<span class=\"property\">load</span>, <span class=\"number\">300</span>)</span><br><span class=\"line\">    <span class=\"title class_\">LazyLoad</span>.<span class=\"title function_\">load</span>(el)</span><br><span class=\"line\">    <span class=\"variable language_\">window</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;scroll&#x27;</span>, <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"title function_\">handler</span>(el)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// åŠ è½½çœŸå®å›¾ç‰‡</span></span><br><span class=\"line\">  <span class=\"title function_\">load</span>(<span class=\"params\">el</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> windowHeight = <span class=\"variable language_\">document</span>.<span class=\"property\">documentElement</span>.<span class=\"property\">clientHeight</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> elTop = el.<span class=\"title function_\">getBoundingClientRect</span>().<span class=\"property\">top</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> elBtm = el.<span class=\"title function_\">getBoundingClientRect</span>().<span class=\"property\">bottom</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> realSrc = el.<span class=\"property\">dataset</span>.<span class=\"property\">src</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (elTop - windowHeight &lt; <span class=\"number\">0</span> &amp;&amp; elBtm &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (realSrc) &#123;</span><br><span class=\"line\">        el.<span class=\"property\">src</span> = realSrc</span><br><span class=\"line\">        el.<span class=\"title function_\">removeAttribute</span>(<span class=\"string\">&#x27;data-src&#x27;</span>)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// èŠ‚æµ</span></span><br><span class=\"line\">  <span class=\"title function_\">throttle</span>(<span class=\"params\">fn, delay</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> timer</span><br><span class=\"line\">    <span class=\"keyword\">let</span> prevTime</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">function</span> (<span class=\"params\">...args</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> currTime = <span class=\"title class_\">Date</span>.<span class=\"title function_\">now</span>()</span><br><span class=\"line\">      <span class=\"keyword\">const</span> context = <span class=\"variable language_\">this</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (!prevTime) prevTime = currTime</span><br><span class=\"line\">      <span class=\"built_in\">clearTimeout</span>(timer)</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (currTime - prevTime &gt; delay) &#123;</span><br><span class=\"line\">        prevTime = currTime</span><br><span class=\"line\">        fn.<span class=\"title function_\">apply</span>(context, args)</span><br><span class=\"line\">        <span class=\"built_in\">clearTimeout</span>(timer)</span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">      timer = <span class=\"built_in\">setTimeout</span>(<span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        prevTime = <span class=\"title class_\">Date</span>.<span class=\"title function_\">now</span>()</span><br><span class=\"line\">        timer = <span class=\"literal\">null</span></span><br><span class=\"line\">        fn.<span class=\"title function_\">apply</span>(context, args)</span><br><span class=\"line\">      &#125;, delay)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"title class_\">LazyLoad</span></span><br></pre></td></tr></table></figure>\n\n<p>åœ¨ <code>main.js</code> é‡Œ use æŒ‡ä»¤</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">LazyLoad</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./LazyLoad.js&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title class_\">Vue</span>.<span class=\"title function_\">use</span>(<span class=\"title class_\">LazyLoad</span>, &#123;</span><br><span class=\"line\">  <span class=\"attr\">default</span>: <span class=\"string\">&#x27;xxx.png&#x27;</span>,</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<p>å°†ç»„ä»¶å†… <code>&lt;img&gt;</code> æ ‡ç­¾çš„ <code>src</code> æ¢æˆ <code>v-lazy</code></p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">v-lazy</span>=<span class=\"string\">&quot;xxx.jpg&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>è¿™æ ·å°±èƒ½å®Œæˆä¸€ä¸ª vue æ‡’åŠ è½½çš„æŒ‡ä»¤äº†ã€‚</p>\n<h3 id=\"å°ç»“\"><a href=\"#å°ç»“\" class=\"headerlink\" title=\"å°ç»“\"></a>å°ç»“</h3><ol>\n<li>ä¸ºæé«˜ç½‘ç«™åŠ è½½æ€§èƒ½ï¼Œå›¾ç‰‡æ‡’åŠ è½½æ˜¯å¿…è¦çš„ã€‚</li>\n<li>å›¾ç‰‡æ‡’åŠ è½½æ˜¯å®ç°åŸç†æ˜¯åˆ¤æ–­å½“å‰å›¾ç‰‡æ˜¯å¦åˆ°äº†å¯è§†åŒºåŸŸè¿›è¡ŒåŠ è½½ï¼Œå¯é€šè¿‡ç›‘å¬ scroll äº‹ä»¶å’Œ IntersectionObserver å®ç°ç›¸åº”çš„åŠŸèƒ½ã€‚</li>\n<li>å¯é€šè¿‡ Vue.directive ç¼–å†™å›¾ç‰‡æ‡’åŠ è½½æŒ‡ä»¤ã€‚</li>\n</ol>\n"},{"title":"å‰ç«¯é”™è¯¯ç›‘æ§","url":"/LittleWhiteRabbit/2022/04/26/%E5%89%8D%E7%AB%AF%E9%94%99%E8%AF%AF%E7%9B%91%E6%8E%A7/","content":"<h2 id=\"1-å‰è¨€\"><a href=\"#1-å‰è¨€\" class=\"headerlink\" title=\"1 å‰è¨€\"></a>1 å‰è¨€</h2><blockquote>\n<p>é”™è¯¯ç›‘æ§åŒ…å«çš„å†…å®¹æ˜¯ï¼š</p>\n</blockquote>\n<ul>\n<li><p>å‰ç«¯é”™è¯¯çš„åˆ†ç±»</p>\n</li>\n<li><p>æ¯ç§é”™è¯¯çš„æ•è·æ–¹å¼</p>\n</li>\n<li><p>ä¸ŠæŠ¥é”™è¯¯çš„åŸºæœ¬åŸç†</p>\n<span id=\"more\"></span>\n<blockquote>\n<p>é¢è¯•æ—¶ï¼Œå¯èƒ½æœ‰ä¸¤ç§é—®æ³•ï¼š</p>\n</blockquote>\n</li>\n<li><p>å¦‚ä½•ç›‘æµ‹ <code>js</code> é”™è¯¯ï¼Ÿï¼ˆå¼€é—¨è§å±±çš„æ–¹å¼ï¼‰</p>\n</li>\n<li><p>å¦‚ä½•ä¿è¯<strong>äº§å“è´¨é‡</strong>ï¼Ÿï¼ˆå…¶å®é—®çš„ä¹Ÿæ˜¯é”™è¯¯ç›‘æ§ï¼‰</p>\n</li>\n</ul>\n<h2 id=\"2-å‰ç«¯é”™è¯¯çš„åˆ†ç±»\"><a href=\"#2-å‰ç«¯é”™è¯¯çš„åˆ†ç±»\" class=\"headerlink\" title=\"2 å‰ç«¯é”™è¯¯çš„åˆ†ç±»\"></a>2 å‰ç«¯é”™è¯¯çš„åˆ†ç±»</h2><p>åŒ…æ‹¬ä¸¤ç§ï¼š</p>\n<ul>\n<li>å³æ—¶è¿è¡Œé”™è¯¯ï¼ˆä»£ç é”™è¯¯ï¼‰</li>\n<li>èµ„æºåŠ è½½é”™è¯¯</li>\n</ul>\n<h2 id=\"3-æ¯ç§é”™è¯¯çš„æ•è·æ–¹å¼\"><a href=\"#3-æ¯ç§é”™è¯¯çš„æ•è·æ–¹å¼\" class=\"headerlink\" title=\"3 æ¯ç§é”™è¯¯çš„æ•è·æ–¹å¼\"></a>3 æ¯ç§é”™è¯¯çš„æ•è·æ–¹å¼</h2><h3 id=\"3-1-å³æ—¶è¿è¡Œé”™è¯¯çš„æ•è·æ–¹å¼\"><a href=\"#3-1-å³æ—¶è¿è¡Œé”™è¯¯çš„æ•è·æ–¹å¼\" class=\"headerlink\" title=\"3.1 å³æ—¶è¿è¡Œé”™è¯¯çš„æ•è·æ–¹å¼\"></a>3.1 å³æ—¶è¿è¡Œé”™è¯¯çš„æ•è·æ–¹å¼</h3><p><strong>æ–¹å¼1</strong>ï¼š<code>try ... catch</code>ã€‚</p>\n<blockquote>\n<p>è¿™ç§æ–¹å¼è¦éƒ¨ç½²åœ¨ä»£ç ä¸­ã€‚</p>\n</blockquote>\n<p><strong>æ–¹å¼2ï¼š</strong><code>window.onerror</code>å‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°æ˜¯å…¨å±€çš„ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"property\">onerror</span> = <span class=\"keyword\">function</span>(<span class=\"params\">msg, url, row, col, error</span>) &#123; ... &#125;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>å‚æ•°è§£é‡Šï¼š</p>\n</blockquote>\n<ul>\n<li><code>msg</code>ä¸ºå¼‚å¸¸åŸºæœ¬ä¿¡æ¯</li>\n<li><code>source</code>ä¸ºå‘ç”Ÿå¼‚å¸¸<code>Javascript</code>æ–‡ä»¶çš„<code>url</code></li>\n<li><code>row</code>ä¸ºå‘ç”Ÿé”™è¯¯çš„è¡Œå·</li>\n</ul>\n<blockquote>\n<p>æ–¹å¼äºŒä¸­çš„<code>window.onerror</code>æ˜¯å±äºDOM0çš„å†™æ³•ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨DOM2çš„å†™æ³•ï¼š<code>window.addEventListener(&quot;error&quot;, fn);</code>ä¹Ÿå¯ä»¥ã€‚</p>\n</blockquote>\n<p><strong>é—®é¢˜å»¶ä¼¸1ï¼š</strong></p>\n<p><code>window.onerror</code>é»˜è®¤æ— æ³•æ•è·<strong>è·¨åŸŸ</strong>çš„<code>js</code>è¿è¡Œé”™è¯¯ã€‚æ•è·å‡ºæ¥çš„ä¿¡æ¯å¦‚ä¸‹ï¼šï¼ˆåŸºæœ¬å±äºæ— æ•ˆä¿¡æ¯ï¼‰</p>\n<blockquote>\n<p>æ¯”å¦‚è¯´ï¼Œæˆ‘ä»¬çš„ä»£ç æƒ³å¼•å…¥<code>B</code>ç½‘ç«™çš„<code>b.js</code>æ–‡ä»¶ï¼Œæ€ä¹ˆæ•è·å®ƒçš„å¼‚å¸¸å‘¢ï¼Ÿ</p>\n</blockquote>\n<p><strong>è§£å†³åŠæ³•</strong>ï¼šåœ¨æ–¹æ³•äºŒçš„åŸºç¡€ä¹‹ä¸Šï¼Œåšå¦‚ä¸‹æ“ä½œï¼š</p>\n<ol>\n<li>åœ¨<code>b.js</code>æ–‡ä»¶é‡Œï¼ŒåŠ å…¥å¦‚ä¸‹ <code>response</code> <code>header</code>ï¼Œè¡¨ç¤ºå…è®¸è·¨åŸŸï¼šï¼ˆæˆ–è€…ä¸–ç•Œç»™é™æ€èµ„æº<code>b.js</code>åŠ è¿™ä¸ª response headerï¼‰</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"title class_\">Access</span>-<span class=\"title class_\">Control</span>-<span class=\"title class_\">Allow</span>-<span class=\"title class_\">Origin</span>: *</span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li>å¼•å…¥ç¬¬ä¸‰æ–¹çš„æ–‡ä»¶<code>b.js</code>æ—¶ï¼Œåœ¨<code>&lt;script&gt;</code>æ ‡ç­¾ä¸­å¢åŠ <code>crossorigin</code>å±æ€§ï¼›</li>\n</ol>\n<p><strong>é—®é¢˜å»¶ä¼¸2ï¼š</strong></p>\n<blockquote>\n<p>åªé æ–¹å¼äºŒä¸­çš„<code>window.onerror</code>æ˜¯ä¸å¤Ÿçš„ï¼Œå› ä¸ºæˆ‘ä»¬æ— æ³•è·å–æ–‡ä»¶åæ˜¯ä»€ä¹ˆï¼Œä¸çŸ¥é“å“ªé‡Œå‡ºäº†é”™è¯¯ã€‚è§£å†³åŠæ³•ï¼šæŠŠ<strong>å †æ ˆ</strong>ä¿¡æ¯ä½œä¸ºmsgæ‰“å°å‡ºæ¥ï¼Œå †æ ˆé‡Œå¾ˆè¯¦ç»†ã€‚</p>\n</blockquote>\n<h3 id=\"3-2-èµ„æºåŠ è½½é”™è¯¯çš„æ•è·æ–¹å¼\"><a href=\"#3-2-èµ„æºåŠ è½½é”™è¯¯çš„æ•è·æ–¹å¼\" class=\"headerlink\" title=\"3.2 èµ„æºåŠ è½½é”™è¯¯çš„æ•è·æ–¹å¼\"></a>3.2 èµ„æºåŠ è½½é”™è¯¯çš„æ•è·æ–¹å¼</h3><blockquote>\n<p>ä¸Šé¢çš„<code>window.onerror</code>åªèƒ½æ•è·å³æ—¶è¿è¡Œé”™è¯¯ï¼Œæ— æ³•æ•è·èµ„æºåŠ è½½é”™è¯¯ã€‚åŸç†æ˜¯ï¼šèµ„æºåŠ è½½é”™è¯¯ï¼Œå¹¶ä¸ä¼šå‘ä¸Šå†’æ³¡ï¼Œ<code>object.onerror</code>æ•è·åå°±ä¼šç»ˆæ­¢ï¼ˆä¸ä¼šå†’æ³¡ç»™<code>window</code>ï¼‰ï¼Œæ‰€ä»¥<code>window.onerror</code>å¹¶ä¸èƒ½æ•è·èµ„æºåŠ è½½é”™è¯¯ã€‚</p>\n</blockquote>\n<ul>\n<li><strong>æ–¹å¼1</strong>ï¼š<code>object.onerror</code>ã€‚<code>img</code>æ ‡ç­¾ã€<code>script</code>æ ‡ç­¾ç­‰èŠ‚ç‚¹éƒ½å¯ä»¥æ·»åŠ <code>onerror</code>äº‹ä»¶ï¼Œç”¨æ¥æ•è·èµ„æºåŠ è½½çš„é”™è¯¯ã€‚</li>\n<li><strong>æ–¹å¼2</strong>ï¼šperformance.getEntriesã€‚å¯ä»¥è·å–æ‰€æœ‰å·²åŠ è½½èµ„æºçš„åŠ è½½æ—¶é•¿ï¼Œé€šè¿‡è¿™ç§æ–¹å¼ï¼Œå¯ä»¥é—´æ¥çš„æ‹¿åˆ°æ²¡æœ‰åŠ è½½çš„èµ„æºé”™è¯¯ã€‚</li>\n</ul>\n<p>ä¸¾ä¾‹ï¼š</p>\n<blockquote>\n<p>æµè§ˆå™¨æ‰“å¼€ä¸€ä¸ªç½‘ç«™ï¼Œåœ¨<code>Console</code>æ§åˆ¶å°ä¸‹ï¼Œè¾“å…¥ï¼š</p>\n</blockquote>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">performance.<span class=\"title function_\">getEntries</span>().<span class=\"title function_\">forEach</span>(<span class=\"keyword\">function</span>(<span class=\"params\">item</span>)&#123;<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(item.<span class=\"property\">name</span>)&#125;)</span><br></pre></td></tr></table></figure>\n\n<p>æˆ–è€…è¾“å…¥ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">performance.<span class=\"title function_\">getEntries</span>().<span class=\"title function_\">forEach</span>(<span class=\"function\"><span class=\"params\">item</span>=&gt;</span>&#123;<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(item.<span class=\"property\">name</span>)&#125;)</span><br></pre></td></tr></table></figure>\n\n\n<blockquote>\n<p>ä¸Šé¢è¿™ä¸ª<code>api</code>ï¼Œè¿”å›çš„æ˜¯æ•°ç»„ï¼Œæ—¢ç„¶æ˜¯æ•°ç»„ï¼Œå°±å¯ä»¥ç”¨<code>forEach</code>éå†ã€‚æ‰“å°å‡ºæ¥çš„èµ„æºå°±æ˜¯<strong>å·²ç»æˆåŠŸåŠ è½½</strong>çš„èµ„æºã€‚ï¼›</p>\n</blockquote>\n<p><img src=\"http://img.smyhvae.com/20180311_2030.png\"></p>\n<blockquote>\n<p>å†å…¥<code>document.getElementsByTagName(&#39;img&#39;)</code>ï¼Œå°±ä¼šæ˜¾ç¤ºå‡ºæ‰€æœ‰<strong>éœ€è¦åŠ è½½</strong>çš„çš„imgé›†åˆã€‚</p>\n</blockquote>\n<blockquote>\n<p>äºæ˜¯ï¼Œ<code>document.getElementsByTagName(&#39;img&#39;)</code>è·å–çš„èµ„æºæ•°ç»„å‡å»é€šè¿‡<code>performance.getEntries()</code>è·å–çš„èµ„æºæ•°ç»„ï¼Œå‰©ä¸‹çš„å°±æ˜¯æ²¡æœ‰æˆåŠŸåŠ è½½çš„ï¼Œè¿™ç§æ–¹å¼å¯ä»¥é—´æ¥æ•è·åˆ°èµ„æºåŠ è½½é”™è¯¯ã€‚</p>\n</blockquote>\n<p>è¿™ç§æ–¹å¼éå¸¸æœ‰ç”¨ï¼Œä¸€å®šè¦è®°ä½ã€‚</p>\n<p><strong>æ–¹å¼3ï¼›</strong>Erroräº‹ä»¶æ•è·ã€‚</p>\n<blockquote>\n<p>æºåŠ è½½é”™è¯¯ï¼Œè™½ç„¶ä¼šé˜»æ­¢å†’æ³¡ï¼Œä½†æ˜¯ä¸ä¼šé˜»æ­¢æ•è·ã€‚æˆ‘ä»¬å¯ä»¥åœ¨æ•è·é˜¶æ®µç»‘å®šerroräº‹ä»¶ã€‚ä¾‹å¦‚ï¼š</p>\n</blockquote>\n<p><img src=\"http://img.smyhvae.com/20180311_2040.png\"></p>\n<blockquote>\n<p><strong>æ€»ç»“ï¼š</strong>å¦‚æœæˆ‘ä»¬èƒ½å›ç­”å‡ºåé¢çš„ä¸¤ç§æ–¹å¼ï¼Œé¢è¯•å®˜å¯¹æˆ‘ä»¬çš„å°è±¡ä¼šå¤§å¤§å¢åŠ ã€‚æ—¢å¯ä»¥ä½“ç°å‡ºæˆ‘ä»¬å¯¹é”™è¯¯ç›‘æ§çš„äº†è§£ï¼Œè¿˜å¯ä»¥ä½“ç°å‡ºæˆ‘ä»¬å¯¹äº‹ä»¶æ¨¡å‹çš„æŒæ¡ã€‚</p>\n</blockquote>\n<h2 id=\"4-é”™è¯¯ä¸ŠæŠ¥çš„ä¸¤ç§æ–¹å¼\"><a href=\"#4-é”™è¯¯ä¸ŠæŠ¥çš„ä¸¤ç§æ–¹å¼\" class=\"headerlink\" title=\"4 é”™è¯¯ä¸ŠæŠ¥çš„ä¸¤ç§æ–¹å¼\"></a>4 é”™è¯¯ä¸ŠæŠ¥çš„ä¸¤ç§æ–¹å¼</h2><ul>\n<li><strong>æ–¹å¼ä¸€</strong>ï¼šé‡‡ç”¨Ajaxé€šä¿¡çš„æ–¹å¼ä¸ŠæŠ¥ï¼ˆæ­¤æ–¹å¼è™½ç„¶å¯ä»¥ä¸ŠæŠ¥é”™è¯¯ï¼Œä½†æ˜¯æˆ‘ä»¬å¹¶ä¸é‡‡ç”¨è¿™ç§æ–¹å¼ï¼‰</li>\n<li><strong>æ–¹å¼äºŒï¼š</strong>åˆ©ç”¨Imageå¯¹è±¡ä¸ŠæŠ¥ï¼ˆæ¨èã€‚ç½‘ç«™çš„ç›‘æ§ä½“ç³»éƒ½æ˜¯é‡‡ç”¨çš„è¿™ç§æ–¹å¼ï¼‰</li>\n</ul>\n<blockquote>\n<p>æ–¹å¼äºŒçš„å®ç°æ–¹å¼å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Title<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">\t<span class=\"comment\">//é€šè¿‡Imageå¯¹è±¡è¿›è¡Œé”™è¯¯ä¸ŠæŠ¥</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    (<span class=\"keyword\">new</span> <span class=\"title class_\">Image</span>()).<span class=\"property\">src</span> = <span class=\"string\">&#x27;http://smyhvae.com/myPath?badjs=msg&#x27;</span>;   <span class=\"comment\">// myPathè¡¨ç¤ºä¸ŠæŠ¥çš„è·¯å¾„ï¼ˆæˆ‘è¦ä¸ŠæŠ¥åˆ°å“ªé‡Œå»ï¼‰ã€‚åé¢çš„å†…å®¹æ˜¯è‡ªå·±åŠ çš„å‚æ•°ã€‚</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n\n<blockquote>\n<p>æ‰“å¼€æµè§ˆå™¨ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š</p>\n</blockquote>\n<p><img src=\"http://img.smyhvae.com/20180311_2055.png\"></p>\n<p>ä¸Šå›¾ä¸­ï¼Œçº¢è‰²é‚£ä¸€æ è¡¨æ˜ï¼Œæˆ‘çš„è¯·æ±‚å·²ç»å‘å‡ºå»äº†ã€‚ç‚¹è¿›å»çœ‹çœ‹ï¼š</p>\n<p><img src=\"http://img.smyhvae.com/20180311_2057.png\"></p>\n<blockquote>\n<p>è¿™ç§æ–¹å¼ï¼Œä¸éœ€è¦å€ŸåŠ©ç¬¬ä¸‰æ–¹çš„åº“ï¼Œä¸€è¡Œä»£ç å³å¯æå®šã€‚</p>\n</blockquote>\n"},{"title":"webpack æ’ä»¶","url":"/LittleWhiteRabbit/2022/04/26/%E6%80%BB%E7%BB%9318%E4%B8%AAwebpack%E6%8F%92%E4%BB%B6/","content":"<h1 id=\"Plugin\"><a href=\"#Plugin\" class=\"headerlink\" title=\"Plugin\"></a>Plugin</h1><p>ä½•ä¸ºæ’ä»¶(Plugin)ï¼Ÿä¸“æ³¨å¤„ç† webpack åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­çš„æŸä¸ªç‰¹å®šçš„ä»»åŠ¡çš„åŠŸèƒ½æ¨¡å—ï¼Œå¯ä»¥ç§°ä¸ºæ’ä»¶ã€‚plugin æ˜¯ä¸€ä¸ªæ‰©å±•å™¨ï¼Œå®ƒä¸°å¯Œäº† webpack æœ¬èº«ï¼Œé’ˆå¯¹æ˜¯ loader ç»“æŸåï¼Œwebpack æ‰“åŒ…çš„æ•´ä¸ªè¿‡ç¨‹ï¼Œå®ƒå¹¶ä¸ç›´æ¥æ“ä½œæ–‡ä»¶ï¼Œè€Œæ˜¯åŸºäºäº‹ä»¶æœºåˆ¶å·¥ä½œï¼Œä¼šç›‘å¬ webpack æ‰“åŒ…è¿‡ç¨‹ä¸­çš„æŸäº›èŠ‚ç‚¹ï¼Œæ‰§è¡Œå¹¿æ³›çš„ä»»åŠ¡ã€‚</p>\n<p>Plugin çš„ç‰¹ç‚¹</p>\n<ul>\n<li>æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æ¨¡å—</li>\n<li>æ¨¡å—å¯¹å¤–æš´éœ²ä¸€ä¸ª js å‡½æ•°</li>\n<li>å‡½æ•°çš„åŸå‹ <code>(prototype)</code> ä¸Šå®šä¹‰äº†ä¸€ä¸ªæ³¨å…¥ <code>compiler</code> å¯¹è±¡çš„ <code>apply</code>æ–¹æ³• <code>apply</code> å‡½æ•°ä¸­éœ€è¦æœ‰é€šè¿‡ <code>compiler</code> å¯¹è±¡æŒ‚è½½çš„ <code>webpack</code> äº‹ä»¶é’©å­ï¼Œé’©å­çš„å›è°ƒä¸­èƒ½æ‹¿åˆ°å½“å‰ç¼–è¯‘çš„ <code>compilation</code> å¯¹è±¡ï¼Œå¦‚æœæ˜¯å¼‚æ­¥ç¼–è¯‘æ’ä»¶çš„è¯å¯ä»¥æ‹¿åˆ°å›è°ƒ <code>callback</code></li>\n<li>å®Œæˆè‡ªå®šä¹‰å­ç¼–è¯‘æµç¨‹å¹¶å¤„ç† <code>complition</code> å¯¹è±¡çš„å†…éƒ¨æ•°æ®</li>\n<li>å¦‚æœå¼‚æ­¥ç¼–è¯‘æ’ä»¶çš„è¯ï¼Œæ•°æ®å¤„ç†å®Œæˆåæ‰§è¡Œ <code>callback</code> å›è°ƒã€‚<span id=\"more\"></span>\nä¸‹é¢ä»‹ç» 18 ä¸ªå¸¸ç”¨çš„ webpack æ’ä»¶</li>\n</ul>\n<h2 id=\"HotModuleReplacementPlugin\"><a href=\"#HotModuleReplacementPlugin\" class=\"headerlink\" title=\"HotModuleReplacementPlugin\"></a>HotModuleReplacementPlugin</h2><p>æ¨¡å—çƒ­æ›´æ–°æ’ä»¶ã€‚<code>Hot-Module-Replacement</code> çš„çƒ­æ›´æ–°æ˜¯ä¾èµ–äº <code>webpack-dev-server</code>ï¼Œåè€…æ˜¯åœ¨æ‰“åŒ…æ–‡ä»¶æ”¹å˜æ—¶æ›´æ–°æ‰“åŒ…æ–‡ä»¶æˆ–è€… reload åˆ·æ–°æ•´ä¸ªé¡µé¢ï¼Œ<code>HRM</code> æ˜¯åªæ›´æ–°ä¿®æ”¹çš„éƒ¨åˆ†ã€‚</p>\n<p><code>HotModuleReplacementPlugin</code>æ˜¯<code>webpack</code>æ¨¡å—è‡ªå¸¦çš„ï¼Œæ‰€ä»¥å¼•å…¥<code>webpack</code>åï¼Œåœ¨<code>plugins</code>é…ç½®é¡¹ä¸­ç›´æ¥ä½¿ç”¨å³å¯ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> webpack = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;webpack&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">  <span class=\"keyword\">new</span> webpack.<span class=\"title class_\">HotModuleReplacementPlugin</span>(), <span class=\"comment\">// çƒ­æ›´æ–°æ’ä»¶</span></span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"html-webpack-plugin\"><a href=\"#html-webpack-plugin\" class=\"headerlink\" title=\"html-webpack-plugin\"></a>html-webpack-plugin</h2><p>ç”Ÿæˆ html æ–‡ä»¶ã€‚å°† webpack ä¸­<code>entry</code>é…ç½®çš„ç›¸å…³å…¥å£ <code>chunk</code> å’Œ <code>extract-text-webpack-plugin</code>æŠ½å–çš„ css æ ·å¼ æ’å…¥åˆ°è¯¥æ’ä»¶æä¾›çš„<code>template</code>æˆ–è€…<code>templateContent</code>é…ç½®é¡¹æŒ‡å®šçš„å†…å®¹åŸºç¡€ä¸Šç”Ÿæˆä¸€ä¸ª html æ–‡ä»¶ï¼Œå…·ä½“æ’å…¥æ–¹å¼æ˜¯å°†æ ·å¼<code>link</code>æ’å…¥åˆ°<code>head</code>å…ƒç´ ä¸­ï¼Œ<code>script</code>æ’å…¥åˆ°<code>head</code>æˆ–è€…<code>body</code>ä¸­ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">HtmlWebpackPlugin</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;html-webpack-plugin&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">  <span class=\"keyword\">new</span> <span class=\"title class_\">HtmlWebpackPlugin</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">filename</span>: <span class=\"string\">&#x27;index.html&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">template</span>: path.<span class=\"title function_\">join</span>(__dirname, <span class=\"string\">&#x27;/index.html&#x27;</span>),</span><br><span class=\"line\">    <span class=\"attr\">minify</span>: &#123;</span><br><span class=\"line\">      <span class=\"comment\">// å‹ç¼©HTMLæ–‡ä»¶</span></span><br><span class=\"line\">      <span class=\"attr\">removeComments</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// ç§»é™¤HTMLä¸­çš„æ³¨é‡Š</span></span><br><span class=\"line\">      <span class=\"attr\">collapseWhitespace</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// åˆ é™¤ç©ºç™½ç¬¦ä¸æ¢è¡Œç¬¦</span></span><br><span class=\"line\">      <span class=\"attr\">minifyCSS</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// å‹ç¼©å†…è”css</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">inject</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">  &#125;),</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n\n<p>inject æœ‰å››ä¸ªé€‰é¡¹å€¼</p>\n<ul>\n<li>trueï¼šé»˜è®¤å€¼ï¼Œ<code>script</code> æ ‡ç­¾ä½äº <code>html</code> æ–‡ä»¶çš„ <code>body</code> åº•éƒ¨</li>\n<li>bodyï¼š<code>script</code> æ ‡ç­¾ä½äº <code>html</code> æ–‡ä»¶çš„ <code>body</code> åº•éƒ¨ï¼ˆåŒ trueï¼‰</li>\n<li>headï¼š<code>script</code> æ ‡ç­¾ä½äº <code>head</code> æ ‡ç­¾å†…</li>\n<li>falseï¼šä¸æ’å…¥ç”Ÿæˆçš„ js æ–‡ä»¶ï¼Œåªæ˜¯å•çº¯çš„ç”Ÿæˆä¸€ä¸ª <code>html</code> æ–‡ä»¶</li>\n</ul>\n<p>å¤šé¡µåº”ç”¨æ‰“åŒ…</p>\n<p>æœ‰æ—¶ï¼Œæˆ‘ä»¬çš„åº”ç”¨ä¸ä¸€å®šæ˜¯ä¸€ä¸ªå•é¡µåº”ç”¨ï¼Œè€Œæ˜¯ä¸€ä¸ªå¤šé¡µåº”ç”¨ï¼Œé‚£ä¹ˆå¦‚ä½•ä½¿ç”¨ webpack è¿›è¡Œæ‰“åŒ…å‘¢ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> path = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;path&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">HtmlWebpackPlugin</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;html-webpack-plugin&#x27;</span>)</span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">entry</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">index</span>: <span class=\"string\">&#x27;./src/index.js&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">login</span>: <span class=\"string\">&#x27;./src/login.js&#x27;</span>,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">output</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">path</span>: path.<span class=\"title function_\">resolve</span>(__dirname, <span class=\"string\">&#x27;dist&#x27;</span>),</span><br><span class=\"line\">    <span class=\"attr\">filename</span>: <span class=\"string\">&#x27;[name].[hash:6].js&#x27;</span>,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">//...</span></span><br><span class=\"line\">  <span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">HtmlWebpackPlugin</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">template</span>: <span class=\"string\">&#x27;./public/index.html&#x27;</span>,</span><br><span class=\"line\">      <span class=\"attr\">filename</span>: <span class=\"string\">&#x27;index.html&#x27;</span>, <span class=\"comment\">//æ‰“åŒ…åçš„æ–‡ä»¶å</span></span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">HtmlWebpackPlugin</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">template</span>: <span class=\"string\">&#x27;./public/login.html&#x27;</span>,</span><br><span class=\"line\">      <span class=\"attr\">filename</span>: <span class=\"string\">&#x27;login.html&#x27;</span>, <span class=\"comment\">//æ‰“åŒ…åçš„æ–‡ä»¶å</span></span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">  ],</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>å¦‚æœéœ€è¦é…ç½®å¤šä¸ª <code>HtmlWebpackPlugin</code>ï¼Œé‚£ä¹ˆ <code>filename</code> å­—æ®µä¸å¯ç¼ºçœï¼Œå¦åˆ™é»˜è®¤ç”Ÿæˆçš„éƒ½æ˜¯ <code>index.html</code>ã€‚</p>\n<p>ä½†æ˜¯æœ‰ä¸ªé—®é¢˜ï¼Œ<code>index.html</code> å’Œ <code>login.html</code> ä¼šå‘ç°ï¼Œéƒ½åŒæ—¶å¼•å…¥äº† <code>index.f7d21a.js</code> å’Œ <code>login.f7d21a.js</code>ï¼Œé€šå¸¸è¿™ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œæˆ‘ä»¬å¸Œæœ› <code>index.html</code> ä¸­åªå¼•å…¥ <code>index.f7d21a.js</code>ï¼Œ<code>login.html</code> åªå¼•å…¥ <code>login.f7d21a.js</code>ã€‚</p>\n<p><code>HtmlWebpackPlugin</code> æä¾›äº†ä¸€ä¸ª <code>chunks</code> çš„å‚æ•°ï¼Œå¯ä»¥æ¥å—ä¸€ä¸ªæ•°ç»„ï¼Œé…ç½®æ­¤å‚æ•°ä»…ä¼šå°†æ•°ç»„ä¸­æŒ‡å®šçš„ js å¼•å…¥åˆ° html æ–‡ä»¶ä¸­</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"comment\">//...</span></span><br><span class=\"line\">  <span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">HtmlWebpackPlugin</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">template</span>: <span class=\"string\">&#x27;./public/index.html&#x27;</span>,</span><br><span class=\"line\">      <span class=\"attr\">filename</span>: <span class=\"string\">&#x27;index.html&#x27;</span>, <span class=\"comment\">//æ‰“åŒ…åçš„æ–‡ä»¶å</span></span><br><span class=\"line\">      <span class=\"attr\">chunks</span>: [<span class=\"string\">&#x27;index&#x27;</span>],</span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">HtmlWebpackPlugin</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">template</span>: <span class=\"string\">&#x27;./public/login.html&#x27;</span>,</span><br><span class=\"line\">      <span class=\"attr\">filename</span>: <span class=\"string\">&#x27;login.html&#x27;</span>, <span class=\"comment\">//æ‰“åŒ…åçš„æ–‡ä»¶å</span></span><br><span class=\"line\">      <span class=\"attr\">chunks</span>: [<span class=\"string\">&#x27;login&#x27;</span>],</span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">  ],</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>è¿™æ ·æ‰§è¡Œ <code>npm run build</code>ï¼Œå¯ä»¥çœ‹åˆ° <code>index.html</code> ä¸­ä»…å¼•å…¥äº† index çš„ js æ–‡ä»¶ï¼Œè€Œ <code>login.html</code> ä¸­ä¹Ÿä»…å¼•å…¥äº† login çš„ js æ–‡ä»¶ã€‚</p>\n<h2 id=\"clean-webpack-plugin\"><a href=\"#clean-webpack-plugin\" class=\"headerlink\" title=\"clean-webpack-plugin\"></a>clean-webpack-plugin</h2><p><code>clean-webpack-plugin</code> ç”¨äºåœ¨æ‰“åŒ…å‰æ¸…ç†ä¸Šä¸€æ¬¡é¡¹ç›®ç”Ÿæˆçš„ bundle æ–‡ä»¶ï¼Œå®ƒä¼šæ ¹æ® <code>output.path</code> è‡ªåŠ¨æ¸…ç†æ–‡ä»¶å¤¹ï¼›è¿™ä¸ªæ’ä»¶åœ¨ç”Ÿäº§ç¯å¢ƒç”¨çš„é¢‘ç‡éå¸¸é«˜ï¼Œå› ä¸ºç”Ÿäº§ç¯å¢ƒç»å¸¸ä¼šé€šè¿‡ hash ç”Ÿæˆå¾ˆå¤š bundle æ–‡ä»¶ï¼Œå¦‚æœä¸è¿›è¡Œæ¸…ç†çš„è¯æ¯æ¬¡éƒ½ä¼šç”Ÿæˆæ–°çš„ï¼Œå¯¼è‡´æ–‡ä»¶å¤¹éå¸¸åºå¤§ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> &#123; <span class=\"title class_\">CleanWebpackPlugin</span> &#125; = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;clean-webpack-plugin&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">  <span class=\"keyword\">new</span> <span class=\"title class_\">HtmlWebpackPlugin</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">template</span>: path.<span class=\"title function_\">join</span>(__dirname, <span class=\"string\">&#x27;/index.html&#x27;</span>),</span><br><span class=\"line\">  &#125;),</span><br><span class=\"line\">  <span class=\"keyword\">new</span> <span class=\"title class_\">CleanWebpackPlugin</span>(), <span class=\"comment\">// æ‰€è¦æ¸…ç†çš„æ–‡ä»¶å¤¹åç§°</span></span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"extract-text-webpack-plugin\"><a href=\"#extract-text-webpack-plugin\" class=\"headerlink\" title=\"extract-text-webpack-plugin\"></a>extract-text-webpack-plugin</h2><p>å°† css æˆç”Ÿæ–‡ä»¶ï¼Œè€Œéå†…è” ã€‚è¯¥æ’ä»¶çš„ä¸»è¦æ˜¯ä¸ºäº†æŠ½ç¦» css æ ·å¼,é˜²æ­¢å°†æ ·å¼æ‰“åŒ…åœ¨ js ä¸­å¼•èµ·é¡µé¢æ ·å¼åŠ è½½é”™ä¹±çš„ç°è±¡</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">ExtractTextPlugin</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;extract-text-webpack-plugin&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">  <span class=\"comment\">// å°†cssåˆ†ç¦»åˆ°/distæ–‡ä»¶å¤¹ä¸‹çš„cssæ–‡ä»¶å¤¹ä¸­çš„index.css</span></span><br><span class=\"line\">  <span class=\"keyword\">new</span> <span class=\"title class_\">ExtractTextPlugin</span>(<span class=\"string\">&#x27;css/index.css&#x27;</span>),</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"mini-css-extract-plugin\"><a href=\"#mini-css-extract-plugin\" class=\"headerlink\" title=\"mini-css-extract-plugin\"></a>mini-css-extract-plugin</h2><p>å°† CSS æå–ä¸ºç‹¬ç«‹çš„æ–‡ä»¶çš„æ’ä»¶ï¼Œå¯¹æ¯ä¸ªåŒ…å« css çš„ js æ–‡ä»¶éƒ½ä¼šåˆ›å»ºä¸€ä¸ª CSS æ–‡ä»¶ï¼Œæ”¯æŒæŒ‰éœ€åŠ è½½ css å’Œ <code>sourceMap</code>ã€‚åªèƒ½ç”¨åœ¨ webpack4 ä¸­ï¼Œå¯¹æ¯”å¦ä¸€ä¸ªæ’ä»¶ extract-text-webpack-plugin æœ‰ä»¥ä¸‹ç‰¹ç‚¹:</p>\n<ul>\n<li>å¼‚æ­¥åŠ è½½</li>\n<li>ä¸é‡å¤ç¼–è¯‘ï¼Œæ€§èƒ½æ›´å¥½</li>\n<li>æ›´å®¹æ˜“ä½¿ç”¨</li>\n<li>åªé’ˆå¯¹ CSS</li>\n</ul>\n<p>è¿™ä¸ªæ’ä»¶åº”è¯¥åªç”¨åœ¨ç”Ÿäº§ç¯å¢ƒé…ç½®ï¼Œå¹¶ä¸”åœ¨ <code>loaders</code> é“¾ä¸­ä¸ä½¿ç”¨ <code>style-loader</code>, è€Œä¸”è¿™ä¸ªæ’ä»¶æš‚æ—¶ä¸æ”¯æŒ HMR</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">MiniCssExtractPlugin</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;mini-css-extract-plugin&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">module</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">rules</span>: [</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.(le|c)ss$/</span>,</span><br><span class=\"line\">        <span class=\"attr\">use</span>: [</span><br><span class=\"line\">          &#123;</span><br><span class=\"line\">            <span class=\"attr\">loader</span>: <span class=\"title class_\">MiniCssExtractPlugin</span>.<span class=\"property\">loader</span>,</span><br><span class=\"line\">            <span class=\"attr\">options</span>: &#123;</span><br><span class=\"line\">              <span class=\"attr\">publicPath</span>: <span class=\"string\">&#x27;../&#x27;</span>,</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">          &#125;,</span><br><span class=\"line\">          <span class=\"string\">&#x27;css-loader&#x27;</span>,</span><br><span class=\"line\">          <span class=\"string\">&#x27;postcss-loader&#x27;</span>,</span><br><span class=\"line\">          <span class=\"string\">&#x27;less-loader&#x27;</span>,</span><br><span class=\"line\">        ],</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">    ],</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">MiniCssExtractPlugin</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">filename</span>: <span class=\"string\">&#x27;css/[name].[contenthash:8].css&#x27;</span>,</span><br><span class=\"line\">      <span class=\"attr\">chunkFilename</span>: <span class=\"string\">&#x27;css/[id].[contenthash:8].css&#x27;</span>,</span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">  ],</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"purifycss-webpack\"><a href=\"#purifycss-webpack\" class=\"headerlink\" title=\"purifycss-webpack\"></a>purifycss-webpack</h2><p>æœ‰æ—¶å€™æˆ‘ä»¬ css å†™å¾—å¤šäº†æˆ–è€…é‡å¤äº†ï¼Œè¿™å°±é€ æˆäº†å¤šä½™çš„ä»£ç ï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨ç”Ÿäº§ç¯å¢ƒè¿›è¡Œå»é™¤ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> path = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;path&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">PurifyCssWebpack</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;purifycss-webpack&#x27;</span>) <span class=\"comment\">// å¼•å…¥PurifyCssWebpackæ’ä»¶</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> glob = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;glob&#x27;</span>) <span class=\"comment\">// å¼•å…¥globæ¨¡å—,ç”¨äºæ‰«æå…¨éƒ¨htmlæ–‡ä»¶ä¸­æ‰€å¼•ç”¨çš„css</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = <span class=\"title function_\">merge</span>(common, &#123;</span><br><span class=\"line\">  <span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">PurifyCssWebpack</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">paths</span>: glob.<span class=\"title function_\">sync</span>(path.<span class=\"title function_\">join</span>(__dirname, <span class=\"string\">&#x27;src/*.html&#x27;</span>)),</span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">  ],</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"optimize-css-assets-webpack-plugin\"><a href=\"#optimize-css-assets-webpack-plugin\" class=\"headerlink\" title=\"optimize-css-assets-webpack-plugin\"></a>optimize-css-assets-webpack-plugin</h2><p>æˆ‘ä»¬å¸Œæœ›å‡å° css æ‰“åŒ…åçš„ä½“ç§¯ï¼Œå¯ä»¥ç”¨åˆ° <code>optimize-css-assets-webpack-plugin</code>ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">OptimizeCSSAssetsPlugin</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&quot;optimize-css-assets-webpack-plugin&quot;</span>) <span class=\"comment\">// å‹ç¼©cssä»£ç </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">optimization</span>: &#123;</span><br><span class=\"line\">  <span class=\"attr\">minimizer</span>: [</span><br><span class=\"line\">    <span class=\"comment\">// å‹ç¼©css</span></span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">OptimizeCSSAssetsPlugin</span>(&#123;&#125;)</span><br><span class=\"line\">  ]</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"UglifyJsPlugin\"><a href=\"#UglifyJsPlugin\" class=\"headerlink\" title=\"UglifyJsPlugin\"></a>UglifyJsPlugin</h2><p><code>uglifyJsPlugin</code> æ˜¯ <code>vue-cli</code> é»˜è®¤ä½¿ç”¨çš„å‹ç¼©ä»£ç æ–¹å¼ï¼Œç”¨æ¥å¯¹ js æ–‡ä»¶è¿›è¡Œå‹ç¼©ï¼Œä»è€Œå‡å° js æ–‡ä»¶çš„å¤§å°ï¼ŒåŠ é€Ÿ load é€Ÿåº¦ã€‚å®ƒä½¿ç”¨çš„æ˜¯å•çº¿ç¨‹å‹ç¼©ä»£ç ï¼Œæ‰“åŒ…æ—¶é—´è¾ƒæ…¢ï¼Œæ‰€ä»¥å¯ä»¥åœ¨å¼€å‘ç¯å¢ƒå°†å…¶å…³é—­ï¼Œç”Ÿäº§ç¯å¢ƒéƒ¨ç½²æ—¶å†æŠŠå®ƒæ‰“å¼€ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">UglifyJsPlugin</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;uglifyjs-webpack-plugin&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">  <span class=\"keyword\">new</span> <span class=\"title class_\">UglifyJsPlugin</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">uglifyOptions</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">compress</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">warnings</span>: <span class=\"literal\">false</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">sourceMap</span>: <span class=\"literal\">true</span>,  <span class=\"comment\">//æ˜¯å¦å¯ç”¨æ–‡ä»¶ç¼“å­˜</span></span><br><span class=\"line\">    <span class=\"attr\">parallel</span>: <span class=\"literal\">true</span>   <span class=\"comment\">//ä½¿ç”¨å¤šè¿›ç¨‹å¹¶è¡Œè¿è¡Œæ¥æé«˜æ„å»ºé€Ÿåº¦</span></span><br><span class=\"line\">  &#125;)</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ParallelUglifyPlugin\"><a href=\"#ParallelUglifyPlugin\" class=\"headerlink\" title=\"ParallelUglifyPlugin\"></a>ParallelUglifyPlugin</h2><p>å¼€å¯å¤šä¸ªå­è¿›ç¨‹ï¼ŒæŠŠå¯¹å¤šä¸ªæ–‡ä»¶å‹ç¼©çš„å·¥ä½œåˆ†åˆ«ç»™å¤šä¸ªå­è¿›ç¨‹å»å®Œæˆï¼Œæ¯ä¸ªå­è¿›ç¨‹å…¶å®è¿˜æ˜¯é€šè¿‡ <code>UglifyJS</code> å»å‹ç¼©ä»£ç ï¼Œä½†æ˜¯å˜æˆäº†å¹¶è¡Œæ‰§è¡Œã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">ParallelUglifyPlugin</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;webpack-parallel-uglify-plugin&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">  <span class=\"keyword\">new</span> <span class=\"title class_\">ParallelUglifyPlugin</span>(&#123;</span><br><span class=\"line\">    <span class=\"comment\">//cacheDir ç”¨äºé…ç½®ç¼“å­˜å­˜æ”¾çš„ç›®å½•è·¯å¾„ã€‚</span></span><br><span class=\"line\">    <span class=\"attr\">cacheDir</span>: <span class=\"string\">&#x27;.cache/&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">sourceMap</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"attr\">uglifyJS</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">output</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">comments</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"attr\">compress</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">warnings</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  &#125;),</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"terser-webpack-plugin\"><a href=\"#terser-webpack-plugin\" class=\"headerlink\" title=\"terser-webpack-plugin\"></a>terser-webpack-plugin</h2><p>Webpack4.0 é»˜è®¤æ˜¯ä½¿ç”¨ <code>terser-webpack-plugin</code> è¿™ä¸ªå‹ç¼©æ’ä»¶ï¼Œåœ¨æ­¤ä¹‹å‰æ˜¯ä½¿ç”¨ <code>uglifyjs-webpack-plugin</code>ï¼Œä¸¤è€…çš„åŒºåˆ«æ˜¯åè€…å¯¹ ES6 çš„å‹ç¼©ä¸æ˜¯å¾ˆå¥½ï¼ŒåŒæ—¶æˆ‘ä»¬å¯ä»¥å¼€å¯ <code>parallel</code> å‚æ•°ï¼Œä½¿ç”¨å¤šè¿›ç¨‹å‹ç¼©ï¼ŒåŠ å¿«å‹ç¼©ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">TerserPlugin</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;terser-webpack-plugin&#x27;</span>) <span class=\"comment\">// å‹ç¼©jsä»£ç </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">optimization</span>: &#123;</span><br><span class=\"line\">  <span class=\"attr\">minimizer</span>: [</span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">TerserPlugin</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">parallel</span>: <span class=\"number\">4</span>, <span class=\"comment\">// å¼€å¯å‡ ä¸ªè¿›ç¨‹æ¥å¤„ç†å‹ç¼©ï¼Œé»˜è®¤æ˜¯ os.cpus().length - 1</span></span><br><span class=\"line\">      <span class=\"attr\">cache</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// æ˜¯å¦ç¼“å­˜</span></span><br><span class=\"line\">      <span class=\"attr\">sourceMap</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"NoErrorsPlugin\"><a href=\"#NoErrorsPlugin\" class=\"headerlink\" title=\"NoErrorsPlugin\"></a>NoErrorsPlugin</h2><p>æŠ¥é”™ä½†ä¸é€€å‡º webpack è¿›ç¨‹ã€‚ç¼–è¯‘å‡ºç°é”™è¯¯æ—¶ï¼Œä½¿ç”¨ <code>NoEmitOnErrorsPlugin</code> æ¥è·³è¿‡è¾“å‡ºé˜¶æ®µã€‚è¿™æ ·å¯ä»¥ç¡®ä¿è¾“å‡ºèµ„æºä¸ä¼šåŒ…å«é”™è¯¯ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">plugins</span>: [<span class=\"keyword\">new</span> webpack.<span class=\"title class_\">NoEmitOnErrorsPlugin</span>()]</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"compression-webpack-plugin\"><a href=\"#compression-webpack-plugin\" class=\"headerlink\" title=\"compression-webpack-plugin\"></a>compression-webpack-plugin</h2><p>æ‰€æœ‰ç°ä»£æµè§ˆå™¨éƒ½æ”¯æŒ <code>gzip</code> å‹ç¼©ï¼Œå¯ç”¨ <code>gzip</code> å‹ç¼©å¯å¤§å¹…ç¼©å‡ä¼ è¾“èµ„æºå¤§å°ï¼Œä»è€Œç¼©çŸ­èµ„æºä¸‹è½½æ—¶é—´ï¼Œå‡å°‘é¦–æ¬¡ç™½å±æ—¶é—´ï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚</p>\n<p>gzip å¯¹åŸºäºæ–‡æœ¬æ ¼å¼æ–‡ä»¶çš„å‹ç¼©æ•ˆæœæœ€å¥½ï¼ˆå¦‚ï¼šCSSã€JavaScript å’Œ HTMLï¼‰ï¼Œåœ¨å‹ç¼©è¾ƒå¤§æ–‡ä»¶æ—¶å¾€å¾€å¯å®ç°é«˜è¾¾ 70-90% çš„å‹ç¼©ç‡ï¼Œå¯¹å·²ç»å‹ç¼©è¿‡çš„èµ„æºï¼ˆå¦‚ï¼šå›¾ç‰‡ï¼‰è¿›è¡Œ gzip å‹ç¼©å¤„ç†ï¼Œæ•ˆæœå¾ˆä¸å¥½ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">CompressionPlugin</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;compression-webpack-plugin&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">  <span class=\"keyword\">new</span> <span class=\"title class_\">CompressionPlugin</span>(&#123;</span><br><span class=\"line\">    <span class=\"comment\">// gzipå‹ç¼©é…ç½®</span></span><br><span class=\"line\">    <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.js$|\\.html$|\\.css/</span>, <span class=\"comment\">// åŒ¹é…æ–‡ä»¶å</span></span><br><span class=\"line\">    <span class=\"attr\">threshold</span>: <span class=\"number\">10240</span>, <span class=\"comment\">// å¯¹è¶…è¿‡10kbçš„æ•°æ®è¿›è¡Œå‹ç¼©</span></span><br><span class=\"line\">    <span class=\"attr\">deleteOriginalAssets</span>: <span class=\"literal\">false</span>, <span class=\"comment\">// æ˜¯å¦åˆ é™¤åŸæ–‡ä»¶</span></span><br><span class=\"line\">  &#125;),</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n\n<p>å½“ç„¶ï¼Œè¿™ä¸ªæ–¹æ³•è¿˜éœ€è¦åç«¯é…ç½®æ”¯æŒã€‚</p>\n<h2 id=\"DefinePlugin\"><a href=\"#DefinePlugin\" class=\"headerlink\" title=\"DefinePlugin\"></a>DefinePlugin</h2><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>DefinePlugin</code> å¯ä»¥å®šä¹‰ä¸€äº›å…¨å±€çš„å˜é‡ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ¨¡å—å½“ä¸­ç›´æ¥ä½¿ç”¨è¿™äº›å˜é‡ï¼Œæ— éœ€ä½œä»»ä½•å£°æ˜ï¼Œ<code>DefinePlugin</code> æ˜¯ <code>webpack</code> è‡ªå¸¦çš„æ’ä»¶ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">  <span class=\"keyword\">new</span> webpack.<span class=\"title class_\">DefinePlugin</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">DESCRIPTION</span>: <span class=\"string\">&#x27;This Is The Test Text.&#x27;</span>,</span><br><span class=\"line\">  &#125;),</span><br><span class=\"line\">]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ç›´æ¥å¼•ç”¨</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable constant_\">DESCRIPTION</span>)</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ProvidePlugin\"><a href=\"#ProvidePlugin\" class=\"headerlink\" title=\"ProvidePlugin\"></a>ProvidePlugin</h2><p>è‡ªåŠ¨åŠ è½½æ¨¡å—ã€‚ ä»»ä½•æ—¶å€™ï¼Œå½“ <code>identifier</code> è¢«å½“ä½œæœªèµ‹å€¼çš„å˜é‡æ—¶ï¼Œ module å°±ä¼šè‡ªåŠ¨è¢«åŠ è½½ï¼Œå¹¶ä¸” <code>identifier</code> ä¼šè¢«è¿™ä¸ª module è¾“å‡ºçš„å†…å®¹æ‰€èµ‹å€¼ã€‚è¿™æ˜¯ webpack è‡ªå¸¦çš„æ’ä»¶ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">resolve</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">alias</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">jquery</span>: <span class=\"string\">&#x27;./lib/jquery&#x27;</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">    <span class=\"comment\">//æä¾›å…¨å±€çš„å˜é‡ï¼Œåœ¨æ¨¡å—ä¸­ä½¿ç”¨æ— éœ€ç”¨requireå¼•å…¥</span></span><br><span class=\"line\">    <span class=\"keyword\">new</span> webpack.<span class=\"title class_\">ProvidePlugin</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">$</span>: <span class=\"string\">&#x27;jquery&#x27;</span>,</span><br><span class=\"line\">      <span class=\"title class_\">React</span>: <span class=\"string\">&#x27;react&#x27;</span>,</span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">  ],</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"DLLPlugin\"><a href=\"#DLLPlugin\" class=\"headerlink\" title=\"DLLPlugin\"></a>DLLPlugin</h2><p>è¿™æ˜¯åœ¨ä¸€ä¸ªé¢å¤–çš„ç‹¬ç«‹çš„ webpack è®¾ç½®ä¸­åˆ›å»ºä¸€ä¸ªåªæœ‰ dll çš„ <code>bundle(dll-only-bundle)</code>ã€‚ è¿™ä¸ªæ’ä»¶ä¼šç”Ÿæˆä¸€ä¸ªåä¸º <code>manifest.json</code> çš„æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶æ˜¯ç”¨æ¥è®© <code>DLLReferencePlugin</code> æ˜ å°„åˆ°ç›¸å…³çš„ä¾èµ–ä¸Šå»çš„ã€‚</p>\n<p><strong>ä½¿ç”¨æ­¥éª¤å¦‚ä¸‹</strong></p>\n<p>1ã€åœ¨ build ä¸‹åˆ›å»º <code>webpack.dll.config.js</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> path = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;path&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">const</span> webpack = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;webpack&#x27;</span>)</span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">entry</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">vendor</span>: [</span><br><span class=\"line\">      <span class=\"string\">&#x27;vue-router&#x27;</span>,</span><br><span class=\"line\">      <span class=\"string\">&#x27;vuex&#x27;</span>,</span><br><span class=\"line\">      <span class=\"string\">&#x27;vue/dist/vue.common.js&#x27;</span>,</span><br><span class=\"line\">      <span class=\"string\">&#x27;vue/dist/vue.js&#x27;</span>,</span><br><span class=\"line\">      <span class=\"string\">&#x27;vue-loader/lib/component-normalizer.js&#x27;</span>,</span><br><span class=\"line\">      <span class=\"string\">&#x27;vue&#x27;</span>,</span><br><span class=\"line\">      <span class=\"string\">&#x27;axios&#x27;</span>,</span><br><span class=\"line\">      <span class=\"string\">&#x27;echarts&#x27;</span>,</span><br><span class=\"line\">    ],</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">output</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">path</span>: path.<span class=\"title function_\">resolve</span>(<span class=\"string\">&#x27;./dist&#x27;</span>),</span><br><span class=\"line\">    <span class=\"attr\">filename</span>: <span class=\"string\">&#x27;[name].dll.js&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">library</span>: <span class=\"string\">&#x27;[name]_library&#x27;</span>,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">    <span class=\"keyword\">new</span> webpack.<span class=\"title class_\">DllPlugin</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">path</span>: path.<span class=\"title function_\">resolve</span>(<span class=\"string\">&#x27;./dist&#x27;</span>, <span class=\"string\">&#x27;[name]-manifest.json&#x27;</span>),</span><br><span class=\"line\">      <span class=\"attr\">name</span>: <span class=\"string\">&#x27;[name]_library&#x27;</span>,</span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">    <span class=\"comment\">// å»ºè®®åŠ ä¸Šä»£ç å‹ç¼©æ’ä»¶ï¼Œå¦åˆ™dllåŒ…ä¼šæ¯”è¾ƒå¤§ã€‚</span></span><br><span class=\"line\">    <span class=\"keyword\">new</span> webpack.<span class=\"property\">optimize</span>.<span class=\"title class_\">UglifyJsPlugin</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">compress</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">warnings</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">  ],</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>2ã€åœ¨ <code>webpack.prod.conf.js</code> çš„ plugin åé¢åŠ å…¥é…ç½®</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">new</span> webpack.<span class=\"title class_\">DllReferencePlugin</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">manifest</span>: <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;../dist/vendor-manifest.json&#x27;</span>),</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<p>3ã€<code>package.json</code>æ–‡ä»¶ä¸­æ·»åŠ å¿«æ·å‘½ä»¤<code>(build:dll)</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&quot;scripts&quot;</span>: &#123;</span><br><span class=\"line\">  <span class=\"string\">&quot;dev&quot;</span>: <span class=\"string\">&quot;webpack-dev-server --inline --progress --config build/webpack.dev.conf.js&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;start&quot;</span>: <span class=\"string\">&quot;npm run dev&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;lint&quot;</span>: <span class=\"string\">&quot;eslint --ext .js,.vue src&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;build&quot;</span>: <span class=\"string\">&quot;node build/build.js&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;build:dll&quot;</span>: <span class=\"string\">&quot;webpack --config build/webpack.dll.conf.js&quot;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ç”Ÿäº§ç¯å¢ƒæ‰“åŒ…çš„æ—¶å€™å…ˆ<code>npm run build:dll</code>å‘½ä»¤ä¼šåœ¨æ‰“åŒ…ç›®å½•ä¸‹ç”Ÿæˆ <code>vendor-manifest.json</code> æ–‡ä»¶ä¸ vendor.dll.js æ–‡ä»¶ã€‚ç„¶å<code>npm run build</code>ç”Ÿäº§å…¶ä»–æ–‡ä»¶ã€‚</p>\n<p>4ã€æ ¹ç›®å½•ä¸‹çš„å…¥å£ <code>index.html</code> åŠ å…¥å¼•ç”¨</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;./vendor.dll.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"HappyPack\"><a href=\"#HappyPack\" class=\"headerlink\" title=\"HappyPack\"></a>HappyPack</h2><p><code>HappyPack</code> èƒ½è®© webpack æŠŠä»»åŠ¡åˆ†è§£ç»™å¤šä¸ªå­è¿›ç¨‹å»å¹¶å‘çš„æ‰§è¡Œï¼Œå­è¿›ç¨‹å¤„ç†å®Œåå†æŠŠç»“æœå‘é€ç»™ä¸»è¿›ç¨‹ã€‚è¦æ³¨æ„çš„æ˜¯ <code>HappyPack</code> å¯¹ <code>file-loader</code>ã€<code>url-loader</code> æ”¯æŒçš„ä¸å‹å¥½ï¼Œæ‰€ä»¥ä¸å»ºè®®å¯¹è¯¥ loader ä½¿ç”¨ã€‚</p>\n<p>1ã€HappyPack æ’ä»¶å®‰è£…</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm i -D happypack</span><br></pre></td></tr></table></figure>\n\n<p>2ã€<code>webpack.base.conf.js</code> æ–‡ä»¶å¯¹ module.rules è¿›è¡Œé…ç½®</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">module</span>: &#123;</span><br><span class=\"line\">  <span class=\"attr\">rules</span>: [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.js$/</span>,</span><br><span class=\"line\">      <span class=\"attr\">use</span>: [<span class=\"string\">&#x27;happypack/loader?id=babel&#x27;</span>],</span><br><span class=\"line\">      <span class=\"attr\">include</span>: [<span class=\"title function_\">resolve</span>(<span class=\"string\">&#x27;src&#x27;</span>), <span class=\"title function_\">resolve</span>(<span class=\"string\">&#x27;test&#x27;</span>)],</span><br><span class=\"line\">      <span class=\"attr\">exclude</span>: path.<span class=\"title function_\">resolve</span>(__dirname, <span class=\"string\">&#x27;node_modules&#x27;</span>),</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.vue$/</span>,</span><br><span class=\"line\">      <span class=\"attr\">use</span>: [<span class=\"string\">&#x27;happypack/loader?id=vue&#x27;</span>],</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>3ã€åœ¨ç”Ÿäº§ç¯å¢ƒ <code>webpack.prod.conf.js</code> æ–‡ä»¶è¿›è¡Œé…ç½®</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">HappyPack</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;happypack&#x27;</span>)</span><br><span class=\"line\"><span class=\"comment\">// æ„é€ å‡ºå…±äº«è¿›ç¨‹æ± ï¼Œåœ¨è¿›ç¨‹æ± ä¸­åŒ…å«5ä¸ªå­è¿›ç¨‹</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">HappyPackThreadPool</span> = <span class=\"title class_\">HappyPack</span>.<span class=\"title class_\">ThreadPool</span>(&#123; <span class=\"attr\">size</span>: <span class=\"number\">5</span> &#125;)</span><br><span class=\"line\"><span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">  <span class=\"keyword\">new</span> <span class=\"title class_\">HappyPack</span>(&#123;</span><br><span class=\"line\">    <span class=\"comment\">// ç”¨å”¯ä¸€çš„æ ‡è¯†ç¬¦idï¼Œæ¥ä»£è¡¨å½“å‰çš„HappyPackæ˜¯ç”¨æ¥å¤„ç†ä¸€ç±»ç‰¹å®šçš„æ–‡ä»¶</span></span><br><span class=\"line\">    <span class=\"attr\">id</span>: <span class=\"string\">&#x27;babel&#x27;</span>,</span><br><span class=\"line\">    <span class=\"comment\">// å¦‚ä½•å¤„ç†.jsæ–‡ä»¶ï¼Œç”¨æ³•å’ŒLoaderé…ç½®ä¸­ä¸€æ ·</span></span><br><span class=\"line\">    <span class=\"attr\">loaders</span>: [<span class=\"string\">&#x27;babel-loader?cacheDirectory&#x27;</span>],</span><br><span class=\"line\">    <span class=\"attr\">threadPool</span>: <span class=\"title class_\">HappyPackThreadPool</span>,</span><br><span class=\"line\">  &#125;),</span><br><span class=\"line\">  <span class=\"keyword\">new</span> <span class=\"title class_\">HappyPack</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">id</span>: <span class=\"string\">&#x27;vue&#x27;</span>, <span class=\"comment\">// ç”¨å”¯ä¸€çš„æ ‡è¯†ç¬¦idï¼Œæ¥ä»£è¡¨å½“å‰çš„HappyPackæ˜¯ç”¨æ¥å¤„ç†ä¸€ç±»ç‰¹å®šçš„æ–‡ä»¶</span></span><br><span class=\"line\">    <span class=\"attr\">loaders</span>: [</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        <span class=\"attr\">loader</span>: <span class=\"string\">&#x27;vue-loader&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">options</span>: vueLoaderConfig,</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">    ],</span><br><span class=\"line\">    <span class=\"attr\">threadPool</span>: <span class=\"title class_\">HappyPackThreadPool</span>,</span><br><span class=\"line\">  &#125;),</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n\n<p><strong>æ³¨æ„ï¼Œå½“é¡¹ç›®è¾ƒå°æ—¶ï¼Œå¤šçº¿ç¨‹æ‰“åŒ…åè€Œä¼šä½¿æ‰“åŒ…é€Ÿåº¦å˜æ…¢ã€‚</strong></p>\n<h2 id=\"copy-webpack-plugin\"><a href=\"#copy-webpack-plugin\" class=\"headerlink\" title=\"copy-webpack-plugin\"></a>copy-webpack-plugin</h2><p>æˆ‘ä»¬åœ¨ <code>public/index.html</code> ä¸­å¼•å…¥äº†é™æ€èµ„æºï¼Œä½†æ˜¯æ‰“åŒ…çš„æ—¶å€™ webpack å¹¶ä¸ä¼šå¸®æˆ‘ä»¬æ‹·è´åˆ° dist ç›®å½•ï¼Œå› æ­¤ <code>copy-webpack-plugin</code> å°±å¯ä»¥å¾ˆå¥½åœ°å¸®æˆ‘åšæ‹·è´çš„å·¥ä½œäº†ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">CopyWebpackPlugin</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;copy-webpack-plugin&#x27;</span>)</span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">CopyWebpackPlugin</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">patterns</span>: [</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          <span class=\"attr\">from</span>: <span class=\"string\">&#x27;public/js/*.js&#x27;</span>,</span><br><span class=\"line\">          <span class=\"attr\">to</span>: path.<span class=\"title function_\">resolve</span>(__dirname, <span class=\"string\">&#x27;dist&#x27;</span>, <span class=\"string\">&#x27;js&#x27;</span>),</span><br><span class=\"line\">          <span class=\"attr\">flatten</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">      ],</span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">  ],</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"IgnorePlugin\"><a href=\"#IgnorePlugin\" class=\"headerlink\" title=\"IgnorePlugin\"></a>IgnorePlugin</h2><p>è¿™æ˜¯ webpack å†…ç½®æ’ä»¶ï¼Œå®ƒçš„ä½œç”¨æ˜¯ï¼šå¿½ç•¥ç¬¬ä¸‰æ–¹åŒ…æŒ‡å®šç›®å½•ï¼Œè®©è¿™äº›æŒ‡å®šç›®å½•ä¸è¦è¢«æ‰“åŒ…è¿›å»ã€‚</p>\n<p>æ¯”å¦‚æˆ‘ä»¬è¦ä½¿ç”¨ <code>moment</code> è¿™ä¸ªç¬¬ä¸‰æ–¹ä¾èµ–åº“ï¼Œè¯¥åº“ä¸»è¦æ˜¯å¯¹æ—¶é—´è¿›è¡Œæ ¼å¼åŒ–ï¼Œå¹¶ä¸”æ”¯æŒå¤šä¸ªå›½å®¶è¯­è¨€ã€‚è™½ç„¶æˆ‘è®¾ç½®äº†è¯­è¨€ä¸ºä¸­æ–‡ï¼Œä½†æ˜¯åœ¨æ‰“åŒ…çš„æ—¶å€™ï¼Œæ˜¯ä¼šå°†æ‰€æœ‰è¯­è¨€éƒ½æ‰“åŒ…è¿›å»çš„ã€‚è¿™æ ·å°±å¯¼è‡´åŒ…å¾ˆå¤§ï¼Œæ‰“åŒ…é€Ÿåº¦åˆæ…¢ã€‚å¯¹æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ <code>IgnorePlugin</code> ä½¿å¾—æŒ‡å®šç›®å½•è¢«å¿½ç•¥ï¼Œä»è€Œä½¿å¾—æ‰“åŒ…å˜å¿«ï¼Œæ–‡ä»¶å˜å°ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">Webpack</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;webpack&#x27;</span>)</span><br><span class=\"line\"><span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">  <span class=\"comment\">//momentè¿™ä¸ªåº“ä¸­ï¼Œå¦‚æœå¼•ç”¨äº†./locale/ç›®å½•çš„å†…å®¹ï¼Œå°±å¿½ç•¥æ‰ï¼Œä¸ä¼šæ‰“åŒ…è¿›å»</span></span><br><span class=\"line\">  <span class=\"keyword\">new</span> <span class=\"title class_\">Webpack</span>.<span class=\"title class_\">IgnorePlugin</span>(<span class=\"regexp\">/\\.\\/locale/</span>, <span class=\"regexp\">/moment/</span>),</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n\n<p>æˆ‘ä»¬è™½ç„¶æŒ‰ç…§ä¸Šé¢çš„æ–¹æ³•å¿½ç•¥äº†åŒ…å«<code>â€™./locale/&#39;</code>è¯¥å­—æ®µè·¯å¾„çš„æ–‡ä»¶ç›®å½•ï¼Œä½†æ˜¯ä¹Ÿä½¿å¾—æˆ‘ä»¬ä½¿ç”¨çš„æ—¶å€™ä¸èƒ½æ˜¾ç¤ºä¸­æ–‡è¯­è¨€äº†ï¼Œæ‰€ä»¥è¿™ä¸ªæ—¶å€™å¯ä»¥æ‰‹åŠ¨å¼•å…¥ä¸­æ–‡è¯­è¨€çš„ç›®å½•ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> moment <span class=\"keyword\">from</span> <span class=\"string\">&#x27;moment&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//æ‰‹åŠ¨å¼•å…¥æ‰€éœ€è¦çš„è¯­è¨€åŒ…</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">&#x27;moment/locale/zh-cn&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">moment.<span class=\"title function_\">locale</span>(<span class=\"string\">&#x27;zh-cn&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> r = <span class=\"title function_\">moment</span>().<span class=\"title function_\">endOf</span>(<span class=\"string\">&#x27;day&#x27;</span>).<span class=\"title function_\">fromNow</span>()</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(r)</span><br></pre></td></tr></table></figure>\n"},{"url":"/LittleWhiteRabbit/2022/04/26/%E6%80%A7%E8%83%BD/","content":"<hr>\n<p>title:  æ€§èƒ½<br>date:  2022&#x2F;4&#x2F;13 hh:mm:ss # æ—¶é—´</p>\n<h2 id=\"ä¸€ã€ç½‘ç»œç›¸å…³\"><a href=\"#ä¸€ã€ç½‘ç»œç›¸å…³\" class=\"headerlink\" title=\"ä¸€ã€ç½‘ç»œç›¸å…³\"></a>ä¸€ã€ç½‘ç»œç›¸å…³</h2><h3 id=\"1-1-DNS-é¢„è§£æ\"><a href=\"#1-1-DNS-é¢„è§£æ\" class=\"headerlink\" title=\"1.1 DNS é¢„è§£æ\"></a>1.1 DNS é¢„è§£æ</h3><ul>\n<li>DNS è§£æä¹Ÿæ˜¯éœ€è¦æ—¶é—´çš„ï¼Œå¯ä»¥é€šè¿‡é¢„è§£æçš„æ–¹å¼æ¥é¢„å…ˆè·å¾—åŸŸåæ‰€å¯¹åº”çš„ IP</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">&quot;dns-prefetch&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;//yuchengkai.cn&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<span id=\"more\"></span>\n<h3 id=\"1-2-ç¼“å­˜\"><a href=\"#1-2-ç¼“å­˜\" class=\"headerlink\" title=\"1.2 ç¼“å­˜\"></a>1.2 ç¼“å­˜</h3><ul>\n<li>ç¼“å­˜å¯¹äºå‰ç«¯æ€§èƒ½ä¼˜åŒ–æ¥è¯´æ˜¯ä¸ªå¾ˆé‡è¦çš„ç‚¹ï¼Œè‰¯å¥½çš„ç¼“å­˜ç­–ç•¥å¯ä»¥é™ä½èµ„æºçš„é‡å¤åŠ è½½æé«˜ç½‘é¡µçš„æ•´ä½“åŠ è½½é€Ÿåº¦</li>\n<li>é€šå¸¸æµè§ˆå™¨ç¼“å­˜ç­–ç•¥åˆ†ä¸ºä¸¤ç§ï¼šå¼ºç¼“å­˜å’Œåå•†ç¼“å­˜</li>\n</ul>\n<p><strong>å¼ºç¼“å­˜</strong></p>\n<blockquote>\n<p>å®ç°å¼ºç¼“å­˜å¯ä»¥é€šè¿‡ä¸¤ç§å“åº”å¤´å®ç°ï¼š<code>Expires </code>å’Œ <code>Cache-Control</code> ã€‚å¼ºç¼“å­˜è¡¨ç¤ºåœ¨ç¼“å­˜æœŸé—´ä¸éœ€è¦è¯·æ±‚ï¼Œ<code>state code </code>ä¸º <code>200</code></p>\n</blockquote>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">Expires: Wed, 22 Oct 2018 08:41:00 GMT</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p><code>Expires</code> æ˜¯ <code>HTTP / 1.0</code> çš„äº§ç‰©ï¼Œè¡¨ç¤ºèµ„æºä¼šåœ¨ <code>Wed, 22 Oct 2018 08:41:00 GMT</code> åè¿‡æœŸï¼Œéœ€è¦å†æ¬¡è¯·æ±‚ã€‚å¹¶ä¸” <code>Expires</code> å—é™äºæœ¬åœ°æ—¶é—´ï¼Œå¦‚æœä¿®æ”¹äº†æœ¬åœ°æ—¶é—´ï¼Œå¯èƒ½ä¼šé€ æˆç¼“å­˜å¤±æ•ˆ</p>\n</blockquote>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">Cache-control: max-age=30</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p><code>Cache-Control</code> å‡ºç°äº <code>HTTP / 1.1</code>ï¼Œä¼˜å…ˆçº§é«˜äº <code>Expires</code> ã€‚è¯¥å±æ€§è¡¨ç¤ºèµ„æºä¼šåœ¨ <code>30</code> ç§’åè¿‡æœŸï¼Œéœ€è¦å†æ¬¡è¯·æ±‚</p>\n</blockquote>\n<p><strong>åå•†ç¼“å­˜</strong></p>\n<ul>\n<li>å¦‚æœç¼“å­˜è¿‡æœŸäº†ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨åå•†ç¼“å­˜æ¥è§£å†³é—®é¢˜ã€‚åå•†ç¼“å­˜éœ€è¦è¯·æ±‚ï¼Œå¦‚æœç¼“å­˜æœ‰æ•ˆä¼šè¿”å› 304</li>\n<li>åå•†ç¼“å­˜éœ€è¦å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å…±åŒå®ç°ï¼Œå’Œå¼ºç¼“å­˜ä¸€æ ·ï¼Œä¹Ÿæœ‰ä¸¤ç§å®ç°æ–¹å¼</li>\n</ul>\n<p>Last-Modified å’Œ If-Modified-Since</p>\n<ul>\n<li><code>Last-Modified</code> è¡¨ç¤ºæœ¬åœ°æ–‡ä»¶æœ€åä¿®æ”¹æ—¥æœŸï¼Œ<code>If-Modified-Since</code> ä¼šå°† <code>Last-Modified </code>çš„å€¼å‘é€ç»™æœåŠ¡å™¨ï¼Œè¯¢é—®æœåŠ¡å™¨åœ¨è¯¥æ—¥æœŸåèµ„æºæ˜¯å¦æœ‰æ›´æ–°ï¼Œæœ‰æ›´æ–°çš„è¯å°±ä¼šå°†æ–°çš„èµ„æºå‘é€å›æ¥</li>\n<li>ä½†æ˜¯å¦‚æœåœ¨æœ¬åœ°æ‰“å¼€ç¼“å­˜æ–‡ä»¶ï¼Œå°±ä¼šé€ æˆ <code>Last-Modified</code> è¢«ä¿®æ”¹ï¼Œæ‰€ä»¥åœ¨ <code>HTTP / 1.1</code> å‡ºç°äº† <code>ETag</code></li>\n</ul>\n<p>ETag å’Œ If-None-Match</p>\n<ul>\n<li><code>ETag</code> ç±»ä¼¼äºæ–‡ä»¶æŒ‡çº¹ï¼Œ<code>If-None-Match</code> ä¼šå°†å½“å‰ <code>ETag</code> å‘é€ç»™æœåŠ¡å™¨ï¼Œè¯¢é—®è¯¥èµ„æº ETag æ˜¯å¦å˜åŠ¨ï¼Œæœ‰å˜åŠ¨çš„è¯å°±å°†æ–°çš„èµ„æºå‘é€å›æ¥ã€‚å¹¶ä¸” <code>ETag</code> ä¼˜å…ˆçº§æ¯” <code>Last-Modified</code> é«˜</li>\n</ul>\n<p><strong>é€‰æ‹©åˆé€‚çš„ç¼“å­˜ç­–ç•¥</strong></p>\n<blockquote>\n<p>å¯¹äºå¤§éƒ¨åˆ†çš„åœºæ™¯éƒ½å¯ä»¥ä½¿ç”¨å¼ºç¼“å­˜é…åˆåå•†ç¼“å­˜è§£å†³ï¼Œä½†æ˜¯åœ¨ä¸€äº›ç‰¹æ®Šçš„åœ°æ–¹å¯èƒ½éœ€è¦é€‰æ‹©ç‰¹æ®Šçš„ç¼“å­˜ç­–ç•¥</p>\n</blockquote>\n<ul>\n<li>å¯¹äºæŸäº›ä¸éœ€è¦ç¼“å­˜çš„èµ„æºï¼Œå¯ä»¥ä½¿ç”¨ <code>Cache-control: no-store</code> ï¼Œè¡¨ç¤ºè¯¥èµ„æºä¸éœ€è¦ç¼“å­˜</li>\n<li>å¯¹äºé¢‘ç¹å˜åŠ¨çš„èµ„æºï¼Œå¯ä»¥ä½¿ç”¨ <code>Cache-Control: no-cache</code> å¹¶é…åˆ <code>ETag</code> ä½¿ç”¨ï¼Œè¡¨ç¤ºè¯¥èµ„æºå·²è¢«ç¼“å­˜ï¼Œä½†æ˜¯æ¯æ¬¡éƒ½ä¼šå‘é€è¯·æ±‚è¯¢é—®èµ„æºæ˜¯å¦æ›´æ–°ã€‚</li>\n<li>å¯¹äºä»£ç æ–‡ä»¶æ¥è¯´ï¼Œé€šå¸¸ä½¿ç”¨ <code>Cache-Control: max-age=31536000</code> å¹¶é…åˆç­–ç•¥ç¼“å­˜ä½¿ç”¨ï¼Œç„¶åå¯¹æ–‡ä»¶è¿›è¡ŒæŒ‡çº¹å¤„ç†ï¼Œä¸€æ—¦æ–‡ä»¶åå˜åŠ¨å°±ä¼šç«‹åˆ»ä¸‹è½½æ–°çš„æ–‡ä»¶</li>\n</ul>\n<h3 id=\"1-3-ä½¿ç”¨-HTTP-x2F-2-0\"><a href=\"#1-3-ä½¿ç”¨-HTTP-x2F-2-0\" class=\"headerlink\" title=\"1.3 ä½¿ç”¨ HTTP &#x2F; 2.0\"></a>1.3 ä½¿ç”¨ HTTP &#x2F; 2.0</h3><ul>\n<li>å› ä¸ºæµè§ˆå™¨ä¼šæœ‰å¹¶å‘è¯·æ±‚é™åˆ¶ï¼Œåœ¨ HTTP &#x2F; 1.1 æ—¶ä»£ï¼Œæ¯ä¸ªè¯·æ±‚éƒ½éœ€è¦å»ºç«‹å’Œæ–­å¼€ï¼Œæ¶ˆè€—äº†å¥½å‡ ä¸ª RTT æ—¶é—´ï¼Œå¹¶ä¸”ç”±äº TCP æ…¢å¯åŠ¨çš„åŸå› ï¼ŒåŠ è½½ä½“ç§¯å¤§çš„æ–‡ä»¶ä¼šéœ€è¦æ›´å¤šçš„æ—¶é—´</li>\n<li>åœ¨ HTTP &#x2F; 2.0 ä¸­å¼•å…¥äº†å¤šè·¯å¤ç”¨ï¼Œèƒ½å¤Ÿè®©å¤šä¸ªè¯·æ±‚ä½¿ç”¨åŒä¸€ä¸ª TCP é“¾æ¥ï¼Œæå¤§çš„åŠ å¿«äº†ç½‘é¡µçš„åŠ è½½é€Ÿåº¦ã€‚å¹¶ä¸”è¿˜æ”¯æŒ Header å‹ç¼©ï¼Œè¿›ä¸€æ­¥çš„å‡å°‘äº†è¯·æ±‚çš„æ•°æ®å¤§å°</li>\n</ul>\n<h3 id=\"1-4-é¢„åŠ è½½\"><a href=\"#1-4-é¢„åŠ è½½\" class=\"headerlink\" title=\"1.4 é¢„åŠ è½½\"></a>1.4 é¢„åŠ è½½</h3><ul>\n<li>åœ¨å¼€å‘ä¸­ï¼Œå¯èƒ½ä¼šé‡åˆ°è¿™æ ·çš„æƒ…å†µã€‚æœ‰äº›èµ„æºä¸éœ€è¦é©¬ä¸Šç”¨åˆ°ï¼Œä½†æ˜¯å¸Œæœ›å°½æ—©è·å–ï¼Œè¿™æ—¶å€™å°±å¯ä»¥ä½¿ç”¨é¢„åŠ è½½</li>\n<li>é¢„åŠ è½½å…¶å®æ˜¯å£°æ˜å¼çš„ <code>fetch</code> ï¼Œå¼ºåˆ¶æµè§ˆå™¨è¯·æ±‚èµ„æºï¼Œå¹¶ä¸”ä¸ä¼šé˜»å¡ <code>onload</code> äº‹ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä»£ç å¼€å¯é¢„åŠ è½½</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">&quot;preload&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;http://example.com&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>é¢„åŠ è½½å¯ä»¥ä¸€å®šç¨‹åº¦ä¸Šé™ä½é¦–å±çš„åŠ è½½æ—¶é—´ï¼Œå› ä¸ºå¯ä»¥å°†ä¸€äº›ä¸å½±å“é¦–å±ä½†é‡è¦çš„æ–‡ä»¶å»¶ååŠ è½½ï¼Œå”¯ä¸€ç¼ºç‚¹å°±æ˜¯å…¼å®¹æ€§ä¸å¥½</p>\n</blockquote>\n<h3 id=\"1-5-é¢„æ¸²æŸ“\"><a href=\"#1-5-é¢„æ¸²æŸ“\" class=\"headerlink\" title=\"1.5 é¢„æ¸²æŸ“\"></a>1.5 é¢„æ¸²æŸ“</h3><blockquote>\n<p>å¯ä»¥é€šè¿‡é¢„æ¸²æŸ“å°†ä¸‹è½½çš„æ–‡ä»¶é¢„å…ˆåœ¨åå°æ¸²æŸ“ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä»£ç å¼€å¯é¢„æ¸²æŸ“</p>\n</blockquote>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">&quot;prerender&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;http://example.com&quot;</span>&gt;</span> </span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>é¢„æ¸²æŸ“è™½ç„¶å¯ä»¥æé«˜é¡µé¢çš„åŠ è½½é€Ÿåº¦ï¼Œä½†æ˜¯è¦ç¡®ä¿è¯¥é¡µé¢ç™¾åˆ†ç™¾ä¼šè¢«ç”¨æˆ·åœ¨ä¹‹åæ‰“å¼€ï¼Œå¦åˆ™å°±ç™½ç™½æµªè´¹èµ„æºå»æ¸²æŸ“</li>\n</ul>\n<h2 id=\"äºŒã€ä¼˜åŒ–æ¸²æŸ“è¿‡ç¨‹\"><a href=\"#äºŒã€ä¼˜åŒ–æ¸²æŸ“è¿‡ç¨‹\" class=\"headerlink\" title=\"äºŒã€ä¼˜åŒ–æ¸²æŸ“è¿‡ç¨‹\"></a>äºŒã€ä¼˜åŒ–æ¸²æŸ“è¿‡ç¨‹</h2><h3 id=\"2-1-æ‡’æ‰§è¡Œ\"><a href=\"#2-1-æ‡’æ‰§è¡Œ\" class=\"headerlink\" title=\"2.1 æ‡’æ‰§è¡Œ\"></a>2.1 æ‡’æ‰§è¡Œ</h3><ul>\n<li>æ‡’æ‰§è¡Œå°±æ˜¯å°†æŸäº›é€»è¾‘å»¶è¿Ÿåˆ°ä½¿ç”¨æ—¶å†è®¡ç®—ã€‚è¯¥æŠ€æœ¯å¯ä»¥ç”¨äºé¦–å±ä¼˜åŒ–ï¼Œå¯¹äºæŸäº›è€—æ—¶é€»è¾‘å¹¶ä¸éœ€è¦åœ¨é¦–å±å°±ä½¿ç”¨çš„ï¼Œå°±å¯ä»¥ä½¿ç”¨æ‡’æ‰§è¡Œã€‚æ‡’æ‰§è¡Œéœ€è¦å”¤é†’ï¼Œä¸€èˆ¬å¯ä»¥é€šè¿‡å®šæ—¶å™¨æˆ–è€…äº‹ä»¶çš„è°ƒç”¨æ¥å”¤é†’</li>\n</ul>\n<h3 id=\"2-2-æ‡’åŠ è½½\"><a href=\"#2-2-æ‡’åŠ è½½\" class=\"headerlink\" title=\"2.2 æ‡’åŠ è½½\"></a>2.2 æ‡’åŠ è½½</h3><ul>\n<li>æ‡’åŠ è½½å°±æ˜¯å°†ä¸å…³é”®çš„èµ„æºå»¶ååŠ è½½</li>\n</ul>\n<blockquote>\n<p>æ‡’åŠ è½½çš„åŸç†å°±æ˜¯åªåŠ è½½è‡ªå®šä¹‰åŒºåŸŸï¼ˆé€šå¸¸æ˜¯å¯è§†åŒºåŸŸï¼Œä½†ä¹Ÿå¯ä»¥æ˜¯å³å°†è¿›å…¥å¯è§†åŒºåŸŸï¼‰å†…éœ€è¦åŠ è½½çš„ä¸œè¥¿ã€‚å¯¹äºå›¾ç‰‡æ¥è¯´ï¼Œå…ˆè®¾ç½®å›¾ç‰‡æ ‡ç­¾çš„ src å±æ€§ä¸ºä¸€å¼ å ä½å›¾ï¼Œå°†çœŸå®çš„å›¾ç‰‡èµ„æºæ”¾å…¥ä¸€ä¸ªè‡ªå®šä¹‰å±æ€§ä¸­ï¼Œå½“è¿›å…¥è‡ªå®šä¹‰åŒºåŸŸæ—¶ï¼Œå°±å°†è‡ªå®šä¹‰å±æ€§æ›¿æ¢ä¸º src å±æ€§ï¼Œè¿™æ ·å›¾ç‰‡å°±ä¼šå»ä¸‹è½½èµ„æºï¼Œå®ç°äº†å›¾ç‰‡æ‡’åŠ è½½</p>\n</blockquote>\n<ul>\n<li>æ‡’åŠ è½½ä¸ä»…å¯ä»¥ç”¨äºå›¾ç‰‡ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨åœ¨åˆ«çš„èµ„æºä¸Šã€‚æ¯”å¦‚è¿›å…¥å¯è§†åŒºåŸŸæ‰å¼€å§‹æ’­æ”¾è§†é¢‘ç­‰</li>\n</ul>\n"},{"title":"Vue çš„ä¼˜ç¼ºç‚¹æ˜¯ä»€ä¹ˆ","url":"/LittleWhiteRabbit/2022/04/26/%E6%80%BB%E7%BB%93vue%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB%E4%B9%8B%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8%E7%AF%87/","content":"<h3 id=\"Vue-çš„ä¼˜ç¼ºç‚¹æ˜¯ä»€ä¹ˆ\"><a href=\"#Vue-çš„ä¼˜ç¼ºç‚¹æ˜¯ä»€ä¹ˆ\" class=\"headerlink\" title=\"Vue çš„ä¼˜ç¼ºç‚¹æ˜¯ä»€ä¹ˆ\"></a>Vue çš„ä¼˜ç¼ºç‚¹æ˜¯ä»€ä¹ˆ</h3><p>ä¼˜ç‚¹ï¼š</p>\n<ol>\n<li>ä½è€¦åˆã€‚è§†å›¾ï¼ˆViewï¼‰å¯ä»¥ç‹¬ç«‹äº Model å˜åŒ–å’Œä¿®æ”¹ï¼Œä¸€ä¸ª ViewModel å¯ä»¥ç»‘å®šåˆ°ä¸åŒçš„ View ä¸Šï¼Œå½“ View å˜åŒ–çš„æ—¶å€™ Model å¯ä»¥ä¸å˜ï¼Œå½“ Model å˜åŒ–çš„æ—¶å€™ View ä¹Ÿå¯ä»¥ä¸å˜ã€‚</li>\n<li>å¯é‡ç”¨æ€§ã€‚ä½ å¯ä»¥æŠŠä¸€äº›è§†å›¾é€»è¾‘æ”¾åœ¨ä¸€ä¸ª ViewModel é‡Œé¢ï¼Œè®©å¾ˆå¤š view é‡ç”¨è¿™æ®µè§†å›¾é€»è¾‘ã€‚</li>\n<li>ç‹¬ç«‹å¼€å‘ã€‚å¼€å‘äººå‘˜å¯ä»¥ä¸“æ³¨äºä¸šåŠ¡é€»è¾‘å’Œæ•°æ®çš„å¼€å‘ï¼ˆViewModelï¼‰ï¼Œè®¾è®¡äººå‘˜å¯ä»¥ä¸“æ³¨äºé¡µé¢è®¾è®¡ï¼Œä½¿ç”¨ Expression Blend å¯ä»¥å¾ˆå®¹æ˜“è®¾è®¡ç•Œé¢å¹¶ç”Ÿæˆ xml ä»£ç ã€‚</li>\n<li>å¯æµ‹è¯•ã€‚ç•Œé¢ç´ æ¥æ˜¯æ¯”è¾ƒéš¾äºæµ‹è¯•çš„ï¼Œè€Œç°åœ¨æµ‹è¯•å¯ä»¥é’ˆå¯¹ ViewModel æ¥å†™ã€‚</li>\n<li>vue æ˜¯å•é¡µé¢åº”ç”¨ï¼Œä½¿é¡µé¢å±€éƒ¨åˆ·æ–°ï¼Œä¸ç”¨æ¯æ¬¡è·³è½¬é¡µé¢éƒ½è¦è¯·æ±‚æ‰€æœ‰æ•°æ®å’Œ domï¼Œè¿™æ ·å¤§å¤§åŠ å¿«äº†è®¿é—®é€Ÿåº¦å’Œæå‡ç”¨æˆ·ä½“éªŒã€‚è€Œä¸”ä»–çš„ç¬¬ä¸‰æ–¹ ui åº“å¾ˆå¤šèŠ‚çœå¼€å‘æ—¶é—´</li>\n</ol>\n<p>ç¼ºç‚¹ï¼šä¸åˆ©äº SEOï¼Œç¤¾åŒºç»´æŠ¤åŠ›åº¦ä¸å¼ºï¼Œç›¸æ¯”è¿˜ä¸å¤Ÿæˆç†Ÿ</p>\n<span id=\"more\"></span>\n<h3 id=\"vue-å¸¸ç”¨æŒ‡ä»¤\"><a href=\"#vue-å¸¸ç”¨æŒ‡ä»¤\" class=\"headerlink\" title=\"vue å¸¸ç”¨æŒ‡ä»¤\"></a>vue å¸¸ç”¨æŒ‡ä»¤</h3><ul>\n<li><code>v-html / v-text</code>ï¼šæŠŠå€¼ä¸­çš„æ ‡ç­¾æ¸²æŸ“å‡ºæ¥</li>\n<li><code>v-model</code>ï¼š æ”¾åœ¨è¡¨å•å…ƒç´ ä¸Šçš„ï¼Œå®ç°åŒå‘æ•°æ®ç»‘å®š</li>\n<li><code>v-bind</code>ï¼ˆç¼©å†™ :ï¼‰ï¼šç”¨äºç»‘å®šè¡Œå†…å±æ€§</li>\n<li><code>v-if / v-show</code> æ˜¯å¦èƒ½æ˜¾ç¤ºï¼Œtrue èƒ½æ˜¾ç¤ºï¼Œfalse ä¸èƒ½æ˜¾ç¤º</li>\n<li><code>v-cloak</code>ï¼šéœ€è¦é…åˆ css ä½¿ç”¨ï¼šè§£å†³å°èƒ¡å­æ˜¾ç¤ºé—®é¢˜</li>\n<li><code>v-once</code> å¯¹åº”çš„æ ‡ç­¾åªæ¸²æŸ“ä¸€æ¬¡</li>\n<li><code>v-for</code> ï¼šå¾ªç¯æ˜¾ç¤ºå…ƒç´ </li>\n<li><code>v-on</code> äº‹ä»¶ç»‘å®š</li>\n</ul>\n<h3 id=\"äº‹ä»¶ä¿®é¥°ç¬¦\"><a href=\"#äº‹ä»¶ä¿®é¥°ç¬¦\" class=\"headerlink\" title=\"äº‹ä»¶ä¿®é¥°ç¬¦\"></a>äº‹ä»¶ä¿®é¥°ç¬¦</h3><p><code>Vue.js</code> ä¸º <code>v-on</code> æä¾›äº†äº‹ä»¶ä¿®é¥°ç¬¦ï¼Œä¿®é¥°ç¬¦æ˜¯ç”±ç‚¹å¼€å¤´çš„æŒ‡ä»¤åç¼€æ¥è¡¨ç¤ºçš„ã€‚</p>\n<ul>\n<li><code>stop</code>ï¼šé˜»æ­¢äº‹ä»¶ç»§ç»­ä¼ æ’­</li>\n<li><code>prevent</code>ï¼šé˜»æ­¢äº‹ä»¶é»˜è®¤è¡Œä¸º</li>\n<li><code>capture</code>ï¼šæ·»åŠ äº‹ä»¶ç›‘å¬å™¨æ—¶ä½¿ç”¨äº‹ä»¶æ•è·æ¨¡å¼</li>\n<li><code>self</code>ï¼šå½“å‰å…ƒç´ è§¦å‘æ—¶æ‰è§¦å‘äº‹ä»¶å¤„ç†å‡½æ•°</li>\n<li><code>once</code>ï¼šäº‹ä»¶åªè§¦å‘ä¸€æ¬¡</li>\n<li><code>passive</code>ï¼šå‘Šè¯‰æµè§ˆå™¨ä½ ä¸æƒ³é˜»æ­¢äº‹ä»¶çš„é»˜è®¤è¡Œä¸ºï¼Œä¸èƒ½å’Œ.prevent ä¸€èµ·ä½¿ç”¨ã€‚</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- é˜»æ­¢å•å‡»äº‹ä»¶ç»§ç»­ä¼ æ’­ --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">v-on:click.stop</span>=<span class=\"string\">&quot;toDo&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- æäº¤äº‹ä»¶ä¸å†é‡è½½é¡µé¢ --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">form</span> <span class=\"attr\">v-on:submit.prevent</span>=<span class=\"string\">&quot;toSubmit&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">form</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- ä¿®é¥°ç¬¦å¯ä»¥ä¸²è” --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">v-on:click.stop.prevent</span>=<span class=\"string\">&quot;toDo&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- åªæœ‰ä¿®é¥°ç¬¦ --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">form</span> <span class=\"attr\">v-on:submit.prevent</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">form</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- æ·»åŠ äº‹ä»¶ç›‘å¬å™¨æ—¶ä½¿ç”¨äº‹ä»¶æ•è·æ¨¡å¼ --&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- å³å†…éƒ¨å…ƒç´ è§¦å‘çš„äº‹ä»¶å…ˆåœ¨æ­¤å¤„ç†ï¼Œç„¶åæ‰äº¤ç”±å†…éƒ¨å…ƒç´ è¿›è¡Œå¤„ç† --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">v-on:click.capture</span>=<span class=\"string\">&quot;toDo&quot;</span>&gt;</span>...<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- åªå½“åœ¨ event.target æ˜¯å½“å‰å…ƒç´ è‡ªèº«æ—¶è§¦å‘å¤„ç†å‡½æ•° --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">v-on:click.self</span>=<span class=\"string\">&quot;toDo&quot;</span>&gt;</span>...<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- ç‚¹å‡»äº‹ä»¶å°†åªä¼šè§¦å‘ä¸€æ¬¡ --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">v-on:click.once</span>=<span class=\"string\">&quot;toDo&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- æ»šåŠ¨äº‹ä»¶çš„é»˜è®¤è¡Œä¸º (å³æ»šåŠ¨è¡Œä¸º) å°†ä¼šç«‹å³è§¦å‘ --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">v-on:scroll.passive</span>=<span class=\"string\">&quot;onScroll&quot;</span>&gt;</span>...<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"è¡¨å•ä¿®é¥°ç¬¦\"><a href=\"#è¡¨å•ä¿®é¥°ç¬¦\" class=\"headerlink\" title=\"è¡¨å•ä¿®é¥°ç¬¦\"></a>è¡¨å•ä¿®é¥°ç¬¦</h3><ul>\n<li>.lazy åœ¨è¾“å…¥æ¡†è¾“å…¥å®Œå†…å®¹ï¼Œå…‰æ ‡ç¦»å¼€æ—¶æ‰æ›´æ–°è§†å›¾</li>\n<li>.trim è¿‡æ»¤é¦–å°¾ç©ºæ ¼</li>\n<li>.number å¦‚æœå…ˆè¾“å…¥æ•°å­—ï¼Œé‚£å®ƒå°±ä¼šé™åˆ¶ä½ è¾“å…¥çš„åªèƒ½æ˜¯æ•°å­—;å¦‚æœå…ˆè¾“å…¥å­—ç¬¦ä¸²ï¼Œé‚£å°±ç›¸å½“äºæ²¡æœ‰åŠ .number</li>\n</ul>\n<h3 id=\"è¿‡æ»¤å™¨-filter\"><a href=\"#è¿‡æ»¤å™¨-filter\" class=\"headerlink\" title=\"è¿‡æ»¤å™¨ filter\"></a>è¿‡æ»¤å™¨ filter</h3><p>è¿‡æ»¤å™¨æ˜¯å¯¹å³å°†æ˜¾ç¤ºçš„æ•°æ®åšè¿›ä¸€æ­¥çš„ç­›é€‰å¤„ç†ï¼Œç„¶åè¿›è¡Œæ˜¾ç¤ºï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯è¿‡æ»¤å™¨å¹¶æ²¡æœ‰æ”¹å˜åŸæ¥çš„æ•°æ®ï¼Œåªæ˜¯åœ¨åŸæ•°æ®çš„åŸºç¡€ä¸Šäº§ç”Ÿæ–°çš„æ•°æ®ã€‚</p>\n<ol>\n<li>å®šä¹‰è¿‡æ»¤å™¨<br>å…¨å±€æ³¨å†Œ</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"title class_\">Vue</span>.<span class=\"title function_\">filter</span>(<span class=\"string\">&#x27;myFilter&#x27;</span>, <span class=\"keyword\">function</span> (<span class=\"params\">value1[,value2,...] </span>) &#123;</span><br><span class=\"line\"><span class=\"comment\">// ä»£ç é€»è¾‘</span></span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<p>å±€éƒ¨æ³¨å†Œ</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">new</span> <span class=\"title class_\">Vue</span>(&#123;</span><br><span class=\"line\"> <span class=\"attr\">filters</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">&#x27;myFilter&#x27;</span>: <span class=\"keyword\">function</span> (<span class=\"params\">value1[,value2,...] </span>) &#123;</span><br><span class=\"line\">       <span class=\"comment\">// ä»£ç é€»è¾‘</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">ã€€&#125;)</span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li>ä½¿ç”¨è¿‡æ»¤å™¨</li>\n</ol>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- åœ¨åŒèŠ±æ‹¬å·ä¸­ --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span>&#123;&#123; message | myFilter &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- åœ¨ `v-bind` ä¸­ --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">v-bind:id</span>=<span class=\"string\">&quot;message | myFilter&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"è®¡ç®—å±æ€§-computed\"><a href=\"#è®¡ç®—å±æ€§-computed\" class=\"headerlink\" title=\"è®¡ç®—å±æ€§ computed\"></a>è®¡ç®—å±æ€§ computed</h3><p>ä¾èµ–å…¶å®ƒå±æ€§å€¼ï¼Œå¹¶ä¸” <code>computed</code> çš„å€¼æœ‰ç¼“å­˜ï¼Œåªæœ‰å®ƒä¾èµ–çš„å±æ€§å€¼å‘ç”Ÿæ”¹å˜ï¼Œä¸‹ä¸€æ¬¡è·å– <code>computed</code> çš„å€¼æ—¶æ‰ä¼šé‡æ–°è®¡ç®— <code>computed</code> çš„å€¼ï¼›</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;example&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>Original message: &quot;&#123;&#123; message &#125;&#125;&quot;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>Computed reversed message: &quot;&#123;&#123; reversedMessage &#125;&#125;&quot;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"keyword\">var</span> vm = <span class=\"keyword\">new</span> <span class=\"title class_\">Vue</span>(&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"attr\">el</span>: <span class=\"string\">&#x27;#example&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"attr\">data</span>: &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"attr\">message</span>: <span class=\"string\">&#x27;Hello&#x27;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"attr\">computed</span>: &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"comment\">// è®¡ç®—å±æ€§çš„ getter</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"attr\">reversedMessage</span>: <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">// `this` æŒ‡å‘ vm å®ä¾‹</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"property\">message</span>.<span class=\"title function_\">split</span>(<span class=\"string\">&#x27;&#x27;</span>).<span class=\"title function_\">reverse</span>().<span class=\"title function_\">join</span>(<span class=\"string\">&#x27;&#x27;</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ç›‘å¬å±æ€§-watch\"><a href=\"#ç›‘å¬å±æ€§-watch\" class=\"headerlink\" title=\"ç›‘å¬å±æ€§ watch\"></a>ç›‘å¬å±æ€§ watch</h3><p>è§‚å¯Ÿå’Œå“åº” Vue å®ä¾‹ä¸Šçš„æ•°æ®å˜åŠ¨ã€‚ç±»ä¼¼äºæŸäº›æ•°æ®çš„ç›‘å¬å›è°ƒ ï¼Œæ¯å½“ç›‘å¬çš„æ•°æ®å˜åŒ–æ—¶éƒ½ä¼šæ‰§è¡Œå›è°ƒè¿›è¡Œåç»­æ“ä½œã€‚å®ƒå¯ä»¥æœ‰ä¸‰ä¸ªå‚æ•°</p>\n<ul>\n<li><code>handler</code>ï¼šå…¶å€¼æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ã€‚å³ç›‘å¬åˆ°å˜åŒ–æ—¶åº”è¯¥æ‰§è¡Œçš„å‡½æ•°</li>\n<li><code>deep</code>ï¼šå…¶å€¼æ˜¯ true æˆ– falseï¼›ç¡®è®¤æ˜¯å¦æ·±å…¥ç›‘å¬ã€‚</li>\n<li><code>immediate</code>ï¼šå…¶å€¼æ˜¯ true æˆ– falseï¼Œç¡®è®¤æ˜¯å¦ä»¥å½“å‰çš„åˆå§‹å€¼æ‰§è¡Œ handler çš„å‡½æ•°</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">watch</span>:&#123;</span><br><span class=\"line\">  <span class=\"attr\">message</span>:&#123;</span><br><span class=\"line\">    <span class=\"attr\">handler</span>:<span class=\"keyword\">function</span>(<span class=\"params\">val, oldVal</span>)&#123;</span><br><span class=\"line\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(val, oldVal)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">deep</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"attr\">immediate</span>: <span class=\"literal\">true</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"computed-å’Œ-watch-çš„åŒºåˆ«\"><a href=\"#computed-å’Œ-watch-çš„åŒºåˆ«\" class=\"headerlink\" title=\"computed å’Œ watch çš„åŒºåˆ«\"></a>computed å’Œ watch çš„åŒºåˆ«</h3><ul>\n<li><code>computed</code>ï¼š æ˜¯è®¡ç®—å±æ€§ï¼Œä¾èµ–å…¶å®ƒå±æ€§å€¼ï¼Œå¹¶ä¸” computed çš„å€¼æœ‰ç¼“å­˜ï¼Œåªæœ‰å®ƒä¾èµ–çš„å±æ€§å€¼å‘ç”Ÿæ”¹å˜ï¼Œä¸‹ä¸€æ¬¡è·å– computed çš„å€¼æ—¶æ‰ä¼šé‡æ–°è®¡ç®— computed çš„å€¼ï¼›</li>\n<li><code>watch</code>ï¼š æ›´å¤šçš„æ˜¯ã€Œè§‚å¯Ÿã€çš„ä½œç”¨ï¼Œç±»ä¼¼äºæŸäº›æ•°æ®çš„ç›‘å¬å›è°ƒ ï¼Œæ¯å½“ç›‘å¬çš„æ•°æ®å˜åŒ–æ—¶éƒ½ä¼šæ‰§è¡Œå›è°ƒè¿›è¡Œåç»­æ“ä½œã€‚</li>\n</ul>\n<p><strong>è¿ç”¨åœºæ™¯</strong></p>\n<ul>\n<li>å½“æˆ‘ä»¬éœ€è¦è¿›è¡Œæ•°å€¼è®¡ç®—ï¼Œå¹¶ä¸”ä¾èµ–äºå…¶å®ƒæ•°æ®æ—¶ï¼Œåº”è¯¥ä½¿ç”¨ computedï¼Œå› ä¸ºå¯ä»¥åˆ©ç”¨ computed çš„ç¼“å­˜ç‰¹æ€§ï¼Œé¿å…æ¯æ¬¡è·å–å€¼æ—¶ï¼Œéƒ½è¦é‡æ–°è®¡ç®—ï¼›</li>\n<li>å½“æˆ‘ä»¬éœ€è¦åœ¨æ•°æ®å˜åŒ–æ—¶æ‰§è¡Œå¼‚æ­¥æˆ–å¼€é”€è¾ƒå¤§çš„æ“ä½œæ—¶ï¼Œåº”è¯¥ä½¿ç”¨ watchï¼Œä½¿ç”¨ Â watchÂ  é€‰é¡¹å…è®¸æˆ‘ä»¬æ‰§è¡Œå¼‚æ­¥æ“ä½œ ( è®¿é—®ä¸€ä¸ª API )ï¼Œé™åˆ¶æˆ‘ä»¬æ‰§è¡Œè¯¥æ“ä½œçš„é¢‘ç‡ï¼Œå¹¶åœ¨æˆ‘ä»¬å¾—åˆ°æœ€ç»ˆç»“æœå‰ï¼Œè®¾ç½®ä¸­é—´çŠ¶æ€ã€‚è¿™äº›éƒ½æ˜¯è®¡ç®—å±æ€§æ— æ³•åšåˆ°çš„ã€‚</li>\n</ul>\n<h3 id=\"ç”Ÿå‘½å‘¨æœŸå‡½æ•°\"><a href=\"#ç”Ÿå‘½å‘¨æœŸå‡½æ•°\" class=\"headerlink\" title=\"ç”Ÿå‘½å‘¨æœŸå‡½æ•°\"></a>ç”Ÿå‘½å‘¨æœŸå‡½æ•°</h3><ul>\n<li><code>beforeCreate</code>(åˆ›å»ºå‰) vue å®ä¾‹çš„æŒ‚è½½å…ƒç´ $el å’Œæ•°æ®å¯¹è±¡ data éƒ½æ˜¯ undefined, è¿˜æœªåˆå§‹åŒ–</li>\n<li><code>created</code>(åˆ›å»ºå) å®Œæˆäº† data æ•°æ®åˆå§‹åŒ–, el è¿˜æœªåˆå§‹åŒ–</li>\n<li><code>beforeMount</code>(è½½å…¥å‰) vue å®ä¾‹çš„$el å’Œ data éƒ½åˆå§‹åŒ–äº†, ç›¸å…³çš„ render å‡½æ•°é¦–æ¬¡è¢«è°ƒç”¨</li>\n<li><code>mounted</code>(è½½å…¥å) æ­¤è¿‡ç¨‹ä¸­è¿›è¡Œ ajax äº¤äº’</li>\n<li><code>beforeUpdate</code>(æ›´æ–°å‰)</li>\n<li><code>updated</code>(æ›´æ–°å)</li>\n<li><code>beforeDestroy</code>(é”€æ¯å‰)</li>\n<li><code>destroyed</code>(é”€æ¯å)</li>\n</ul>\n<p><strong>Vue çš„çˆ¶ç»„ä»¶å’Œå­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸé’©å­æ‰§è¡Œé¡ºåºæ˜¯ä»€ä¹ˆ?</strong></p>\n<ol>\n<li>æ¸²æŸ“è¿‡ç¨‹ï¼šçˆ¶ç»„ä»¶æŒ‚è½½å®Œæˆä¸€å®šæ˜¯ç­‰å­ç»„ä»¶éƒ½æŒ‚è½½å®Œæˆåï¼Œæ‰ç®—æ˜¯çˆ¶ç»„ä»¶æŒ‚è½½å®Œï¼Œæ‰€ä»¥çˆ¶ç»„ä»¶çš„ mounted åœ¨å­ç»„ä»¶ mouted ä¹‹åã€‚</li>\n</ol>\n<ul>\n<li>çˆ¶ beforeCreate -&gt; çˆ¶ created -&gt; çˆ¶ beforeMount -&gt; å­ beforeCreate -&gt; å­ created -&gt; å­ beforeMount -&gt; å­ mounted -&gt; çˆ¶ mounted</li>\n</ul>\n<ol start=\"2\">\n<li>å­ç»„ä»¶æ›´æ–°è¿‡ç¨‹ï¼š</li>\n</ol>\n<ul>\n<li>å½±å“åˆ°çˆ¶ç»„ä»¶ï¼šçˆ¶ beforeUpdate -&gt; å­ beforeUpdate-&gt;å­ updated -&gt; çˆ¶ updted</li>\n<li>ä¸å½±å“çˆ¶ç»„ä»¶ï¼šå­ beforeUpdate -&gt; å­ updated</li>\n</ul>\n<ol start=\"3\">\n<li>çˆ¶ç»„ä»¶æ›´æ–°è¿‡ç¨‹ï¼š</li>\n</ol>\n<ul>\n<li>å½±å“åˆ°å­ç»„ä»¶ï¼šçˆ¶ beforeUpdate -&gt; å­ beforeUpdate-&gt;å­ updated -&gt; çˆ¶ updted</li>\n<li>ä¸å½±å“å­ç»„ä»¶ï¼šçˆ¶ beforeUpdate -&gt; çˆ¶ updated</li>\n</ul>\n<ol start=\"4\">\n<li>é”€æ¯è¿‡ç¨‹ï¼š</li>\n</ol>\n<ul>\n<li>çˆ¶ beforeDestroy -&gt; å­ beforeDestroy -&gt; å­ destroyed -&gt; çˆ¶ destroyed</li>\n</ul>\n<h3 id=\"ç»„ä»¶æ³¨å†Œ\"><a href=\"#ç»„ä»¶æ³¨å†Œ\" class=\"headerlink\" title=\"ç»„ä»¶æ³¨å†Œ\"></a>ç»„ä»¶æ³¨å†Œ</h3><p>ç»„ä»¶<code>ï¼ˆcomponentï¼‰</code>æ˜¯ Vue.js æœ€å¼ºå¤§çš„åŠŸèƒ½ä¹‹ä¸€ã€‚ç»„ä»¶å¯ä»¥æ‰©å±• HTML å…ƒç´ ï¼Œå°è£…å¯é‡ç”¨çš„ä»£ç ã€‚ç»„ä»¶çš„ä½¿ç”¨è¿‡ç¨‹åŒ…æ‹¬å®šä¹‰å’Œæ³¨å†Œçš„è¿‡ç¨‹ã€‚</p>\n<ol>\n<li>å®šä¹‰ç»„ä»¶</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// æ–¹æ³•ä¸€ Vue.extend</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> <span class=\"title class_\">MyComponent</span> = <span class=\"title class_\">Vue</span>.<span class=\"title function_\">extend</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">template</span>: <span class=\"string\">&#x27;&lt;div&gt;A custom component!&lt;/div&gt;&#x27;</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"comment\">// æ–¹æ³•äºŒï¼šæ–°å»ºä¸€ä¸ª.vue æ–‡ä»¶</span></span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li>æ³¨å†Œç»„ä»¶</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// å…¨å±€æ³¨å†Œ</span></span><br><span class=\"line\"><span class=\"title class_\">Vue</span>.<span class=\"title function_\">component</span>(<span class=\"string\">&#x27;my-component&#x27;</span>, <span class=\"title class_\">MyComponent</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å±€éƒ¨æ³¨å†Œ</span></span><br><span class=\"line\"><span class=\"keyword\">new</span> <span class=\"title class_\">Vue</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">el</span>: <span class=\"string\">&#x27;#app&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">components</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">&#x27;my-component&#x27;</span>: <span class=\"title class_\">MyComponent</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li>ä½¿ç”¨ç»„ä»¶</li>\n</ol>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;example&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">my-component</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">my-component</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ç»„ä»¶ä¼ å€¼\"><a href=\"#ç»„ä»¶ä¼ å€¼\" class=\"headerlink\" title=\"ç»„ä»¶ä¼ å€¼\"></a>ç»„ä»¶ä¼ å€¼</h3><h4 id=\"1-props-çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ä¼ å€¼\"><a href=\"#1-props-çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ä¼ å€¼\" class=\"headerlink\" title=\"1. props çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ä¼ å€¼\"></a>1. props çˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ä¼ å€¼</h4><p>props å€¼å¯ä»¥æ˜¯ä¸€ä¸ªæ•°ç»„æˆ–å¯¹è±¡;</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// æ•°ç»„:ä¸å»ºè®®ä½¿ç”¨</span></span><br><span class=\"line\"><span class=\"attr\">props</span>:[]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å¯¹è±¡</span></span><br><span class=\"line\"><span class=\"attr\">props</span>:&#123;</span><br><span class=\"line\"> <span class=\"attr\">inpVal</span>:&#123;</span><br><span class=\"line\">  <span class=\"attr\">type</span>:<span class=\"title class_\">Number</span>, <span class=\"comment\">//ä¼ å…¥å€¼é™å®šç±»å‹</span></span><br><span class=\"line\">  <span class=\"comment\">// type å€¼å¯ä¸ºString,Number,Boolean,Array,Object,Date,Function,Symbol</span></span><br><span class=\"line\">  <span class=\"comment\">// type è¿˜å¯ä»¥æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰çš„æ„é€ å‡½æ•°ï¼Œå¹¶ä¸”é€šè¿‡ instanceof æ¥è¿›è¡Œæ£€æŸ¥ç¡®è®¤</span></span><br><span class=\"line\">  <span class=\"attr\">required</span>: <span class=\"literal\">true</span>, <span class=\"comment\">//æ˜¯å¦å¿…ä¼ </span></span><br><span class=\"line\">  <span class=\"attr\">default</span>:<span class=\"number\">200</span>,  <span class=\"comment\">//é»˜è®¤å€¼,å¯¹è±¡æˆ–æ•°ç»„é»˜è®¤å€¼å¿…é¡»ä»ä¸€ä¸ªå·¥å‚å‡½æ•°è·å–å¦‚ default:()=&gt;[]</span></span><br><span class=\"line\">  <span class=\"attr\">validator</span>:(value) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// è¿™ä¸ªå€¼å¿…é¡»åŒ¹é…ä¸‹åˆ—å­—ç¬¦ä¸²ä¸­çš„ä¸€ä¸ª</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> [<span class=\"string\">&#x27;success&#x27;</span>, <span class=\"string\">&#x27;warning&#x27;</span>, <span class=\"string\">&#x27;danger&#x27;</span>].<span class=\"title function_\">indexOf</span>(value) !== -<span class=\"number\">1</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"2-emit-å­ç»„ä»¶ç»™çˆ¶ç»„ä»¶ä¼ å€¼\"><a href=\"#2-emit-å­ç»„ä»¶ç»™çˆ¶ç»„ä»¶ä¼ å€¼\" class=\"headerlink\" title=\"2. $emit å­ç»„ä»¶ç»™çˆ¶ç»„ä»¶ä¼ å€¼\"></a>2. $emit å­ç»„ä»¶ç»™çˆ¶ç»„ä»¶ä¼ å€¼</h4><p>è§¦å‘å­ç»„ä»¶è§¦å‘çˆ¶ç»„ä»¶ç»™è‡ªå·±ç»‘å®šçš„äº‹ä»¶,å…¶å®å°±æ˜¯å­ä¼ çˆ¶çš„æ–¹æ³•</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// çˆ¶ç»„ä»¶</span></span><br><span class=\"line\">&lt;v-<span class=\"title class_\">Header</span> @title=<span class=\"string\">&quot;title&quot;</span>&gt;</span><br><span class=\"line\"><span class=\"comment\">// å­ç»„ä»¶</span></span><br><span class=\"line\"><span class=\"variable language_\">this</span>.$emit(<span class=\"string\">&#x27;title&#x27;</span>,&#123;<span class=\"attr\">title</span>: <span class=\"string\">&#x27;è¿™æ˜¯title&#x27;</span>&#125;)</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"3-vuex-æ•°æ®çŠ¶æ€ç®¡ç†\"><a href=\"#3-vuex-æ•°æ®çŠ¶æ€ç®¡ç†\" class=\"headerlink\" title=\"3. vuex æ•°æ®çŠ¶æ€ç®¡ç†\"></a>3. vuex æ•°æ®çŠ¶æ€ç®¡ç†</h4><ul>\n<li><code>state</code>:å®šä¹‰å­˜è´®æ•°æ®çš„ä»“åº“ ,å¯é€šè¿‡ this.$store.state æˆ– mapState è®¿é—®</li>\n<li><code>getter</code>:è·å– store å€¼,å¯è®¤ä¸ºæ˜¯ store çš„è®¡ç®—å±æ€§,å¯é€šè¿‡ this.$store.getter æˆ– mapGetters è®¿é—®</li>\n<li><code>mutation</code>:åŒæ­¥æ”¹å˜ store å€¼,å¯é€šè¿‡ mapMutations è°ƒç”¨</li>\n<li><code>action</code>:å¼‚æ­¥è°ƒç”¨å‡½æ•°æ‰§è¡Œ mutation,è¿›è€Œæ”¹å˜ store å€¼,å¯é€šè¿‡ this.$dispatch æˆ– mapActions è®¿é—®</li>\n<li><code>modules</code>:æ¨¡å—,å¦‚æœçŠ¶æ€è¿‡å¤š,å¯ä»¥æ‹†åˆ†æˆæ¨¡å—,æœ€ååœ¨å…¥å£é€šè¿‡â€¦è§£æ„å¼•å…¥</li>\n</ul>\n<h4 id=\"4-attrs-å’Œ-listeners\"><a href=\"#4-attrs-å’Œ-listeners\" class=\"headerlink\" title=\"4. attrs å’Œ listeners\"></a>4. attrs å’Œ listeners</h4><p><code>attrs</code> è·å–å­ä¼ çˆ¶ä¸­æœªåœ¨ props å®šä¹‰çš„å€¼</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// çˆ¶ç»„ä»¶</span></span><br><span class=\"line\">&lt;home title=<span class=\"string\">&quot;è¿™æ˜¯æ ‡é¢˜&quot;</span> width=<span class=\"string\">&quot;80&quot;</span> height=<span class=\"string\">&quot;80&quot;</span> imgUrl=<span class=\"string\">&quot;imgUrl&quot;</span>/&gt;</span><br><span class=\"line\"><span class=\"comment\">// å­ç»„ä»¶</span></span><br><span class=\"line\"><span class=\"title function_\">mounted</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">$attrs</span>) <span class=\"comment\">//&#123;title:  &quot;è¿™æ˜¯æ ‡é¢˜&quot;, width: &quot;80&quot;, height: &quot;80&quot;, imgUrl: &quot;imgUrl&quot;&#125;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ç›¸å¯¹åº”çš„å¦‚æœå­ç»„ä»¶å®šä¹‰äº† props,æ‰“å°çš„å€¼å°±æ˜¯å‰”é™¤å®šä¹‰çš„å±æ€§</span></span><br><span class=\"line\"><span class=\"attr\">props</span>: &#123;</span><br><span class=\"line\">  <span class=\"attr\">width</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">type</span>: <span class=\"title class_\">String</span>,</span><br><span class=\"line\">    <span class=\"attr\">default</span>: <span class=\"string\">&#x27;&#x27;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"><span class=\"title function_\">mounted</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">$attrs</span>) <span class=\"comment\">//&#123;title:  &quot;è¿™æ˜¯æ ‡é¢˜&quot;, height: &quot;80&quot;, imgUrl: &quot;imgUrl&quot;&#125;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><code>listeners</code>:åœºæ™¯:å­ç»„ä»¶éœ€è¦è°ƒç”¨çˆ¶ç»„ä»¶çš„æ–¹æ³•ã€‚<br>è§£å†³:çˆ¶ç»„ä»¶çš„æ–¹æ³•å¯ä»¥é€šè¿‡ <code>v-on=&quot;listeners&quot;</code> ä¼ å…¥å†…éƒ¨ç»„ä»¶â€”â€”åœ¨åˆ›å»ºæ›´é«˜å±‚æ¬¡çš„ç»„ä»¶æ—¶éå¸¸æœ‰ç”¨</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// çˆ¶ç»„ä»¶</span></span><br><span class=\"line\">&lt;home @change=<span class=\"string\">&quot;change&quot;</span>/&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å­ç»„ä»¶</span></span><br><span class=\"line\"><span class=\"title function_\">mounted</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">$listeners</span>) <span class=\"comment\">//å³å¯æ‹¿åˆ° change äº‹ä»¶</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"5-provide-å’Œ-inject\"><a href=\"#5-provide-å’Œ-inject\" class=\"headerlink\" title=\"5. provide å’Œ inject\"></a>5. provide å’Œ inject</h4><p><code>provide</code> å’Œ <code>inject</code> ä¸»è¦ä¸ºé«˜é˜¶æ’ä»¶&#x2F;ç»„ä»¶åº“æä¾›ç”¨ä¾‹ã€‚å¹¶ä¸æ¨èç›´æ¥ç”¨äºåº”ç”¨ç¨‹åºä»£ç ä¸­; å¹¶ä¸”è¿™å¯¹é€‰é¡¹éœ€è¦ä¸€èµ·ä½¿ç”¨; ä»¥å…è®¸ä¸€ä¸ªç¥–å…ˆç»„ä»¶å‘å…¶æ‰€æœ‰å­å­™åä»£æ³¨å…¥ä¸€ä¸ªä¾èµ–ï¼Œä¸è®ºç»„ä»¶å±‚æ¬¡æœ‰å¤šæ·±ï¼Œå¹¶åœ¨èµ·ä¸Šä¸‹æ¸¸å…³ç³»æˆç«‹çš„æ—¶é—´é‡Œå§‹ç»ˆç”Ÿæ•ˆã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//çˆ¶ç»„ä»¶:</span></span><br><span class=\"line\"><span class=\"attr\">provide</span>: &#123; <span class=\"comment\">//provide æ˜¯ä¸€ä¸ªå¯¹è±¡,æä¾›ä¸€ä¸ªå±æ€§æˆ–æ–¹æ³•</span></span><br><span class=\"line\">  <span class=\"attr\">foo</span>: <span class=\"string\">&#x27;è¿™æ˜¯ foo&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">fooMethod</span>:<span class=\"function\">()=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;çˆ¶ç»„ä»¶ fooMethod è¢«è°ƒç”¨&#x27;</span>)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å­æˆ–è€…å­™å­ç»„ä»¶</span></span><br><span class=\"line\"><span class=\"attr\">inject</span>: [<span class=\"string\">&#x27;foo&#x27;</span>,<span class=\"string\">&#x27;fooMethod&#x27;</span>], <span class=\"comment\">//æ•°ç»„æˆ–è€…å¯¹è±¡,æ³¨å…¥åˆ°å­ç»„ä»¶</span></span><br><span class=\"line\"><span class=\"title function_\">mounted</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"title function_\">fooMethod</span>()</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">foo</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//åœ¨çˆ¶ç»„ä»¶ä¸‹é¢æ‰€æœ‰çš„å­ç»„ä»¶éƒ½å¯ä»¥åˆ©ç”¨inject</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"6-refs\"><a href=\"#6-refs\" class=\"headerlink\" title=\"6. $refs\"></a>6. $refs</h4><p>é€šå¸¸ç”¨äºçˆ¶ç»„ä»¶è°ƒç”¨å­ç»„ä»¶çš„æ–¹æ³•</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// çˆ¶ç»„ä»¶</span></span><br><span class=\"line\">&lt;home ref=<span class=\"string\">&quot;child&quot;</span>/&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">mounted</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">$refs</span>.<span class=\"property\">child</span>) <span class=\"comment\">//å³å¯æ‹¿åˆ°å­ç»„ä»¶çš„å®ä¾‹,å°±å¯ä»¥ç›´æ¥æ“ä½œ data å’Œ methods</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"7-EventBus\"><a href=\"#7-EventBus\" class=\"headerlink\" title=\"7. EventBus\"></a>7. EventBus</h4><ol>\n<li>å°±æ˜¯å£°æ˜ä¸€ä¸ªå…¨å±€ Vue å®ä¾‹å˜é‡ EventBus , æŠŠæ‰€æœ‰çš„é€šä¿¡æ•°æ®ï¼Œäº‹ä»¶ç›‘å¬éƒ½å­˜å‚¨åˆ°è¿™ä¸ªå˜é‡ä¸Š;</li>\n<li>ç±»ä¼¼äº Vuexã€‚ä½†è¿™ç§æ–¹å¼åªé€‚ç”¨äºæå°çš„é¡¹ç›® 3.åŸç†å°±æ˜¯åˆ©ç”¨ emit å¹¶å®ä¾‹åŒ–ä¸€ä¸ªå…¨å±€ vue å®ç°æ•°æ®å…±äº«</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// åœ¨ main.js</span></span><br><span class=\"line\"><span class=\"title class_\">Vue</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">$eventBus</span> = <span class=\"keyword\">new</span> <span class=\"title class_\">Vue</span>()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ä¼ å€¼ç»„ä»¶</span></span><br><span class=\"line\"><span class=\"variable language_\">this</span>.<span class=\"property\">$eventBus</span>.$emit(<span class=\"string\">&#x27;eventTarget&#x27;</span>, <span class=\"string\">&#x27;è¿™æ˜¯eventTargetä¼ è¿‡æ¥çš„å€¼&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ¥æ”¶ç»„ä»¶</span></span><br><span class=\"line\"><span class=\"variable language_\">this</span>.<span class=\"property\">$eventBus</span>.$on(<span class=\"string\">&#x27;eventTarget&#x27;</span>, <span class=\"function\"><span class=\"params\">v</span> =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;eventTarget&#x27;</span>, v) <span class=\"comment\">//è¿™æ˜¯eventTargetä¼ è¿‡æ¥çš„å€¼</span></span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"è·¯ç”±é…ç½®å’Œä½¿ç”¨\"><a href=\"#è·¯ç”±é…ç½®å’Œä½¿ç”¨\" class=\"headerlink\" title=\"è·¯ç”±é…ç½®å’Œä½¿ç”¨\"></a>è·¯ç”±é…ç½®å’Œä½¿ç”¨</h3><ol>\n<li>é…ç½®è·¯ç”±ä¿¡æ¯<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> routes = [</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"attr\">path</span>: <span class=\"string\">&#x27;/home&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">component</span>: home</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"attr\">path</span>: <span class=\"string\">&#x27;/list&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">component</span>: list</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> router = <span class=\"keyword\">new</span> <span class=\"title class_\">VueRouter</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">routes</span>: routes</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">let</span> vm = <span class=\"keyword\">new</span> <span class=\"title class_\">Vue</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">el</span>: <span class=\"string\">&#x27;#app&#x27;</span>,</span><br><span class=\"line\">  router</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure></li>\n</ol>\n<p>åœ¨htmlä½¿ç”¨</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">router-link</span> <span class=\"attr\">to</span>=<span class=\"string\">&#x27;/home&#x27;</span> <span class=\"attr\">active-class</span>=<span class=\"string\">&#x27;current&#x27;</span>&gt;</span>é¦–é¡µ<span class=\"tag\">&lt;/<span class=\"name\">router-link</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">router-link</span> <span class=\"attr\">to</span>=<span class=\"string\">&#x27;/list&#x27;</span> <span class=\"attr\">tag</span>=<span class=\"string\">&#x27;div&#x27;</span>&gt;</span>åˆ—è¡¨<span class=\"tag\">&lt;/<span class=\"name\">router-link</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">router-view</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">router-view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>æ­¤å¤–ï¼Œ<code>vue-router</code>è¿˜å¯ä»¥é€šè¿‡ä¸€ä¸‹æ–¹å¼é…ç½®åŠ¨æ€è·¯ç”±</p>\n<ul>\n<li><code>query</code>ä¼ å‚ï¼ˆé—®å·ä¼ å‚ï¼‰</li>\n<li><code>params</code>ä¼ å‚ï¼ˆè·¯å¾„ä¼ å‚ï¼‰</li>\n</ul>\n<h3 id=\"è·¯ç”±æ‡’åŠ è½½\"><a href=\"#è·¯ç”±æ‡’åŠ è½½\" class=\"headerlink\" title=\"è·¯ç”±æ‡’åŠ è½½\"></a>è·¯ç”±æ‡’åŠ è½½</h3><p>Vue é¡¹ç›®ä¸­å®ç°è·¯ç”±æŒ‰éœ€åŠ è½½ï¼ˆè·¯ç”±æ‡’åŠ è½½ï¼‰çš„ 3 ä¸­æ–¹å¼ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 1ã€Vueå¼‚æ­¥ç»„ä»¶æŠ€æœ¯ï¼š</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"attr\">path</span>: <span class=\"string\">&#x27;/home&#x27;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">name</span>: <span class=\"string\">&#x27;Home&#x27;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">component</span>: <span class=\"function\"><span class=\"params\">resolve</span> =&gt;</span> <span class=\"title function_\">reqire</span>([<span class=\"string\">&#x27;pathè·¯å¾„&#x27;</span>], resolve)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 2ã€es6ææ¡ˆçš„import()</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">Home</span> = (<span class=\"params\"></span>) =&gt; <span class=\"title function_\">import</span>(<span class=\"string\">&#x27;pathè·¯å¾„&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 3ã€webpackæä¾›çš„require.ensure()</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">\t<span class=\"attr\">path</span>: <span class=\"string\">&#x27;/home&#x27;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">name</span>: <span class=\"string\">&#x27;Home&#x27;</span>,</span><br><span class=\"line\">\t<span class=\"attr\">component</span>: <span class=\"function\"><span class=\"params\">r</span> =&gt;</span> <span class=\"built_in\">require</span>.<span class=\"title function_\">ensure</span>([],<span class=\"function\">() =&gt;</span>  <span class=\"title function_\">r</span>(<span class=\"built_in\">require</span>(<span class=\"string\">&#x27;pathè·¯å¾„&#x27;</span>)), <span class=\"string\">&#x27;demo&#x27;</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"è·¯ç”±å®ˆå«\"><a href=\"#è·¯ç”±å®ˆå«\" class=\"headerlink\" title=\"è·¯ç”±å®ˆå«\"></a>è·¯ç”±å®ˆå«</h3><p>vue-router æä¾›çš„å¯¼èˆªå®ˆå«ä¸»è¦ç”¨æ¥é€šè¿‡è·³è½¬æˆ–å–æ¶ˆçš„æ–¹å¼å®ˆå«å¯¼èˆªã€‚æœ‰å¤šç§æœºä¼šæ¤å…¥è·¯ç”±å¯¼èˆªè¿‡ç¨‹ä¸­ï¼šå…¨å±€çš„, å•ä¸ªè·¯ç”±ç‹¬äº«çš„, æˆ–è€…ç»„ä»¶çº§çš„ã€‚  </p>\n<p><strong>å…¨å±€å‰ç½®å®ˆå«</strong><br>å¸¸ç”¨äºåˆ¤æ–­ç™»å½•çŠ¶æ€å’Œèœå•æƒé™æ ¡éªŒ</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">router.<span class=\"title function_\">beforeEach</span>(<span class=\"function\">(<span class=\"params\">to, <span class=\"keyword\">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> isLogin = sessionStorage.<span class=\"title function_\">getItem</span>(<span class=\"string\">&#x27;isLogin&#x27;</span>) || <span class=\"string\">&#x27;&#x27;</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (!isLogin &amp;&amp; to.<span class=\"property\">meta</span>.<span class=\"property\">auth</span>) &#123;</span><br><span class=\"line\">    <span class=\"title function_\">next</span>(<span class=\"string\">&#x27;/login&#x27;</span>)</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"title function_\">next</span>()</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<ul>\n<li><code>to</code>: Route: å³å°†è¦è¿›å…¥çš„ç›®æ ‡ è·¯ç”±å¯¹è±¡</li>\n<li><code>from</code>: Route: å½“å‰å¯¼èˆªæ­£è¦ç¦»å¼€çš„è·¯ç”±</li>\n<li><code>next</code>: Function: ä¸€å®šè¦è°ƒç”¨è¯¥æ–¹æ³•æ¥ resolve è¿™ä¸ªé’©å­ã€‚æ‰§è¡Œæ•ˆæœä¾èµ– next æ–¹æ³•çš„è°ƒç”¨å‚æ•°ã€‚</li>\n</ul>\n<p><strong>ç»„ä»¶å†…çš„å®ˆå«</strong></p>\n<ul>\n<li><code>beforeRouteEnter</code></li>\n<li><code>beforeRouteUpdate</code> </li>\n<li><code>beforeRouteLeave</code></li>\n</ul>\n<h3 id=\"è·¯ç”±ç¼“å­˜-keepalive\"><a href=\"#è·¯ç”±ç¼“å­˜-keepalive\" class=\"headerlink\" title=\"è·¯ç”±ç¼“å­˜ keepalive\"></a>è·¯ç”±ç¼“å­˜ keepalive</h3><p><code>keep-alive</code> æ˜¯ Vue æä¾›çš„ä¸€ä¸ªæŠ½è±¡ç»„ä»¶ï¼Œç”¨æ¥å¯¹ç»„ä»¶è¿›è¡Œç¼“å­˜ï¼Œä»è€ŒèŠ‚çœæ€§èƒ½ï¼Œç”±äºæ˜¯ä¸€ä¸ªæŠ½è±¡ç»„ä»¶ï¼Œæ‰€ä»¥åœ¨ v é¡µé¢æ¸²æŸ“å®Œæ¯•åä¸ä¼šè¢«æ¸²æŸ“æˆä¸€ä¸ª DOM å…ƒç´ ã€‚</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">keep-alive</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">router-view</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">router-view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">keep-alive</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>å½“ç»„ä»¶åœ¨ <code>keep-alive</code> å†…è¢«åˆ‡æ¢æ—¶ç»„ä»¶çš„ <code>activated</code>ã€<code>deactivated</code> è¿™ä¸¤ä¸ªç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ä¼šè¢«æ‰§è¡Œ</p>\n<h4 id=\"1-ä½¿ç”¨å‚æ•°include-x2F-exclude\"><a href=\"#1-ä½¿ç”¨å‚æ•°include-x2F-exclude\" class=\"headerlink\" title=\"1. ä½¿ç”¨å‚æ•°include&#x2F;exclude\"></a>1. ä½¿ç”¨å‚æ•°include&#x2F;exclude</h4><ul>\n<li>include: å­—ç¬¦ä¸²æˆ–æ­£åˆ™è¡¨è¾¾å¼ã€‚åªæœ‰åŒ¹é…çš„ç»„ä»¶ä¼šè¢«ç¼“å­˜ã€‚</li>\n<li>exclude: å­—ç¬¦ä¸²æˆ–æ­£åˆ™è¡¨è¾¾å¼ã€‚ä»»ä½•åŒ¹é…çš„ç»„ä»¶éƒ½ä¸ä¼šè¢«ç¼“å­˜ã€‚</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">keep-alive</span> <span class=\"attr\">include</span>=<span class=\"string\">&quot;a,b&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">router-view</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">router-view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">keep-alive</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">keep-alive</span> <span class=\"attr\">exclude</span>=<span class=\"string\">&quot;c&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">router-view</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">router-view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">keep-alive</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p><code>include</code> å±æ€§è¡¨ç¤ºåªæœ‰ name å±æ€§ä¸º aï¼Œb çš„ç»„ä»¶ä¼šè¢«ç¼“å­˜ï¼Œï¼ˆæ³¨æ„æ˜¯ç»„ä»¶çš„åå­—ï¼Œä¸æ˜¯è·¯ç”±çš„åå­—ï¼‰å…¶å®ƒç»„ä»¶ä¸ä¼šè¢«ç¼“å­˜ã€‚<br><code>exclude</code> å±æ€§è¡¨ç¤ºé™¤äº† name å±æ€§ä¸º c çš„ç»„ä»¶ä¸ä¼šè¢«ç¼“å­˜ï¼Œå…¶å®ƒç»„ä»¶éƒ½ä¼šè¢«ç¼“å­˜ã€‚</p>\n<h4 id=\"2-ä½¿ç”¨-route-meta-çš„-keepAlive-å±æ€§\"><a href=\"#2-ä½¿ç”¨-route-meta-çš„-keepAlive-å±æ€§\" class=\"headerlink\" title=\"2. ä½¿ç”¨$route.meta çš„ keepAlive å±æ€§\"></a>2. ä½¿ç”¨$route.meta çš„ keepAlive å±æ€§</h4><p>éœ€è¦åœ¨ router ä¸­è®¾ç½® router çš„å…ƒä¿¡æ¯ meta</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Router</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">routes</span>: [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">path</span>: <span class=\"string\">&#x27;/&#x27;</span>,</span><br><span class=\"line\">      <span class=\"attr\">name</span>: <span class=\"string\">&#x27;Hello&#x27;</span>,</span><br><span class=\"line\">      <span class=\"attr\">component</span>: <span class=\"title class_\">Hello</span>,</span><br><span class=\"line\">      <span class=\"attr\">meta</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">keepAlive</span>: <span class=\"literal\">false</span> <span class=\"comment\">// ä¸éœ€è¦ç¼“å­˜</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">path</span>: <span class=\"string\">&#x27;/page1&#x27;</span>,</span><br><span class=\"line\">      <span class=\"attr\">name</span>: <span class=\"string\">&#x27;Page1&#x27;</span>,</span><br><span class=\"line\">      <span class=\"attr\">component</span>: <span class=\"title class_\">Page1</span>,</span><br><span class=\"line\">      <span class=\"attr\">meta</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">keepAlive</span>: <span class=\"literal\">true</span> <span class=\"comment\">// éœ€è¦è¢«ç¼“å­˜</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<p>åœ¨ app.vue è¿›è¡ŒåŒºåˆ«ç¼“å­˜å’Œä¸ç”¨ç¼“å­˜çš„é¡µé¢</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">router-view</span> <span class=\"attr\">v-if</span>=<span class=\"string\">&quot;!$route.meta.keepAlive&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">router-view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">keep-alive</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">router-view</span> <span class=\"attr\">v-if</span>=<span class=\"string\">&quot;$route.meta.keepAlive&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">router-view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">keep-alive</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"hash-å’Œ-historyæ¨¡å¼\"><a href=\"#hash-å’Œ-historyæ¨¡å¼\" class=\"headerlink\" title=\"hash å’Œ historyæ¨¡å¼\"></a>hash å’Œ historyæ¨¡å¼</h3><ul>\n<li><p>hash æ¨¡å¼ï¼šåœ¨æµè§ˆå™¨ä¸­ç¬¦å·â€œ#â€ï¼Œ#ä»¥åŠ#åé¢çš„å­—ç¬¦ç§°ä¹‹ä¸º hashï¼Œç”¨ <code>window.location.hash</code> è¯»å–ã€‚ç‰¹ç‚¹ï¼šhash è™½ç„¶åœ¨ URL ä¸­ï¼Œä½†ä¸è¢«åŒ…æ‹¬åœ¨ HTTP è¯·æ±‚ä¸­ï¼›ç”¨æ¥æŒ‡å¯¼æµè§ˆå™¨åŠ¨ä½œï¼Œå¯¹æœåŠ¡ç«¯å®‰å…¨æ— ç”¨ï¼Œhash ä¸ä¼šé‡åŠ è½½é¡µé¢ã€‚</p>\n</li>\n<li><p>history æ¨¡å¼ï¼šhistory é‡‡ç”¨ HTML5 çš„æ–°ç‰¹æ€§ï¼›ä¸”æä¾›äº†ä¸¤ä¸ªæ–°æ–¹æ³•ï¼š <code>pushState()ï¼Œ replaceState()</code>å¯ä»¥å¯¹æµè§ˆå™¨å†å²è®°å½•æ ˆè¿›è¡Œä¿®æ”¹ï¼Œä»¥åŠ<code>popState</code>äº‹ä»¶çš„ç›‘å¬åˆ°çŠ¶æ€å˜æ›´ã€‚</p>\n</li>\n<li><p>hash æ¨¡å¼ä¸­<code>ï¼ˆ http://localhost:8080#homeï¼‰</code>ï¼Œå³ä½¿ä¸éœ€è¦é…ç½®ï¼Œé™æ€æœåŠ¡å™¨å§‹ç»ˆä¼šå»å¯»æ‰¾<code>index.html</code>å¹¶è¿”å›ç»™æˆ‘ä»¬ï¼Œç„¶å<code>vue-router</code>ä¼šè·å– #åé¢çš„å­—ç¬¦ä½œä¸ºå‚æ•°ï¼Œå¯¹å‰ç«¯é¡µé¢è¿›è¡Œå˜æ¢ã€‚</p>\n</li>\n<li><p>history æ¨¡å¼ä¸­ï¼Œæˆ‘ä»¬æ‰€æƒ³è¦çš„æƒ…å†µå°±æ˜¯ï¼šè¾“å…¥<code>http://localhost:8080/home</code>ï¼Œä½†æœ€ç»ˆè¿”å›çš„ä¹Ÿæ˜¯<code>index.html</code>ï¼Œç„¶å<code>vue-router</code>ä¼šè·å– home ä½œä¸ºå‚æ•°ï¼Œå¯¹å‰ç«¯é¡µé¢è¿›è¡Œå˜æ¢ã€‚é‚£ä¹ˆåœ¨<code>nginx</code>ä¸­ï¼Œè°èƒ½åšåˆ°è¿™ä»¶äº‹å‘¢ï¼Ÿç­”æ¡ˆå°±æ˜¯<code>try_files</code>ã€‚</p>\n</li>\n</ul>\n"},{"url":"/LittleWhiteRabbit/2022/04/26/%E6%80%BB%E7%BB%93vue%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB%E4%B9%8B%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/","content":"<hr>\n<p>title:  Vue ç›‘å¬ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ<br>date:  2019&#x2F;3&#x2F;26 hh:mm:ss # æ—¶é—´</p>\n<hr>\n<h3 id=\"ç›‘å¬ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ\"><a href=\"#ç›‘å¬ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ\" class=\"headerlink\" title=\"ç›‘å¬ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ\"></a>ç›‘å¬ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ</h3><p>æ¯”å¦‚æœ‰çˆ¶ç»„ä»¶ Parent å’Œå­ç»„ä»¶ Childï¼Œå¦‚æœçˆ¶ç»„ä»¶ç›‘å¬åˆ°å­ç»„ä»¶æŒ‚è½½ mounted å°±åšä¸€äº›é€»è¾‘å¤„ç†ï¼Œå¸¸è§„çš„å†™æ³•å¯èƒ½å¦‚ä¸‹ï¼š</p>\n<span id=\"more\"></span>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"> <span class=\"comment\">// Parent.vue</span></span><br><span class=\"line\">&lt;<span class=\"title class_\">Child</span> @mounted=<span class=\"string\">&quot;doSomething&quot;</span>/&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Child.vue</span></span><br><span class=\"line\"><span class=\"title function_\">mounted</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.$emit(<span class=\"string\">&quot;mounted&quot;</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æ­¤å¤–ï¼Œè¿˜æœ‰ä¸€ç§ç‰¹åˆ«ç®€å•çš„æ–¹å¼ï¼Œå­ç»„ä»¶ä¸éœ€è¦ä»»ä½•å¤„ç†ï¼Œåªéœ€è¦åœ¨çˆ¶ç»„ä»¶å¼•ç”¨çš„æ—¶å€™é€šè¿‡@hook æ¥ç›‘å¬å³å¯ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">Child</span> @<span class=\"attr\">hook:mounted</span>=<span class=\"string\">&quot;doSomething&quot;</span> /&gt;</span> <span class=\"tag\">&lt;<span class=\"name\">Child</span> @<span class=\"attr\">hook:updated</span>=<span class=\"string\">&quot;doSomething&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>å½“ç„¶è¿™é‡Œä¸ä»…ä»…æ˜¯å¯ä»¥ç›‘å¬ mountedï¼Œå…¶å®ƒçš„ç”Ÿå‘½å‘¨æœŸäº‹ä»¶ï¼Œä¾‹å¦‚ï¼šcreatedï¼Œupdated ç­‰éƒ½å¯ä»¥ã€‚</p>\n<h3 id=\"watch-çš„åˆå§‹ç«‹å³æ‰§è¡Œ\"><a href=\"#watch-çš„åˆå§‹ç«‹å³æ‰§è¡Œ\" class=\"headerlink\" title=\"watch çš„åˆå§‹ç«‹å³æ‰§è¡Œ\"></a>watch çš„åˆå§‹ç«‹å³æ‰§è¡Œ</h3><p>è§‚å¯Ÿå’Œå“åº” Vue å®ä¾‹ä¸Šçš„æ•°æ®å˜åŠ¨ã€‚ç±»ä¼¼äºæŸäº›æ•°æ®çš„ç›‘å¬å›è°ƒ ï¼Œæ¯å½“ç›‘å¬çš„æ•°æ®å˜åŒ–æ—¶éƒ½ä¼šæ‰§è¡Œå›è°ƒè¿›è¡Œåç»­æ“ä½œã€‚</p>\n<p>ä½†æ˜¯å½“ watch ä¸€ä¸ªå˜é‡çš„æ—¶å€™ï¼Œåˆå§‹åŒ–æ—¶å¹¶ä¸ä¼šæ‰§è¡Œï¼Œå¦‚ä¸‹é¢çš„ä¾‹å­ï¼Œä½ éœ€è¦åœ¨ created çš„æ—¶å€™æ‰‹åŠ¨è°ƒç”¨ä¸€æ¬¡ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">created</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"title function_\">getList</span>();</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"><span class=\"attr\">watch</span>: &#123;</span><br><span class=\"line\">  <span class=\"attr\">keyWord</span>: <span class=\"string\">&#x27;getList&#x27;</span>,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ä¸Šé¢è¿™æ ·çš„åšæ³•å¯ä»¥ä½¿ç”¨ï¼Œä½†å¾ˆéº»çƒ¦ï¼Œæˆ‘ä»¬å¯ä»¥æ·»åŠ  immediate å±æ€§ï¼Œè¿™æ ·åˆå§‹åŒ–çš„æ—¶å€™å°±ä¼šè‡ªåŠ¨è§¦å‘(ä¸ç”¨å†å†™ created å»è°ƒç”¨äº†)ï¼Œç„¶åä¸Šé¢çš„ä»£ç å°±èƒ½ç®€åŒ–ä¸ºï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">watch</span>: &#123;</span><br><span class=\"line\">  <span class=\"attr\">keyWord</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">handler</span>: <span class=\"string\">&#x27;getList&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">immediate</span>: <span class=\"literal\">true</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>watch æœ‰ä¸‰ä¸ªå‚æ•°</p>\n<ul>\n<li><code>handler</code>ï¼šå…¶å€¼æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ã€‚å³ç›‘å¬åˆ°å˜åŒ–æ—¶åº”è¯¥æ‰§è¡Œçš„å‡½æ•°</li>\n<li><code>deep</code>ï¼šå…¶å€¼æ˜¯ true æˆ– falseï¼›ç¡®è®¤æ˜¯å¦æ·±å…¥ç›‘å¬ã€‚</li>\n<li><code>immediate</code>ï¼šå…¶å€¼æ˜¯ true æˆ– falseï¼Œç¡®è®¤æ˜¯å¦ä»¥å½“å‰çš„åˆå§‹å€¼æ‰§è¡Œ handler çš„å‡½æ•°</li>\n</ul>\n<h3 id=\"è·¯ç”±å‚æ•°å˜åŒ–ç»„ä»¶ä¸æ›´æ–°\"><a href=\"#è·¯ç”±å‚æ•°å˜åŒ–ç»„ä»¶ä¸æ›´æ–°\" class=\"headerlink\" title=\"è·¯ç”±å‚æ•°å˜åŒ–ç»„ä»¶ä¸æ›´æ–°\"></a>è·¯ç”±å‚æ•°å˜åŒ–ç»„ä»¶ä¸æ›´æ–°</h3><p>åŒä¸€<code>path</code>çš„é¡µé¢è·³è½¬æ—¶è·¯ç”±å‚æ•°å˜åŒ–ï¼Œä½†æ˜¯ç»„ä»¶æ²¡æœ‰å¯¹åº”çš„æ›´æ–°ã€‚</p>\n<p>åŸå› ï¼šä¸»è¦æ˜¯å› ä¸ºè·å–å‚æ•°å†™åœ¨äº†<code>created</code>æˆ–è€…<code>mounted</code>è·¯ç”±é’©å­å‡½æ•°ä¸­ï¼Œè·¯ç”±å‚æ•°å˜åŒ–çš„æ—¶å€™ï¼Œè¿™ä¸ªç”Ÿå‘½å‘¨æœŸä¸ä¼šé‡æ–°æ‰§è¡Œã€‚</p>\n<p>è§£å†³æ–¹æ¡ˆ 1ï¼š<code>watch</code>ç›‘å¬è·¯ç”±</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">watch</span>: &#123;</span><br><span class=\"line\"> <span class=\"comment\">// æ–¹æ³•1 //ç›‘å¬è·¯ç”±æ˜¯å¦å˜åŒ–</span></span><br><span class=\"line\">  <span class=\"string\">&#x27;$route&#x27;</span> (to, <span class=\"keyword\">from</span>) &#123;</span><br><span class=\"line\">   <span class=\"keyword\">if</span>(to.<span class=\"property\">query</span>.<span class=\"property\">id</span> !== <span class=\"keyword\">from</span>.<span class=\"property\">query</span>.<span class=\"property\">id</span>)&#123;</span><br><span class=\"line\">\t\t\t<span class=\"variable language_\">this</span>.<span class=\"property\">id</span> = to.<span class=\"property\">query</span>.<span class=\"property\">id</span>;</span><br><span class=\"line\">\t\t\t<span class=\"variable language_\">this</span>.<span class=\"title function_\">init</span>();<span class=\"comment\">//é‡æ–°åŠ è½½æ•°æ®</span></span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//æ–¹æ³• 2  è®¾ç½®è·¯å¾„å˜åŒ–æ—¶çš„å¤„ç†å‡½æ•°</span></span><br><span class=\"line\"><span class=\"attr\">watch</span>: &#123;</span><br><span class=\"line\"><span class=\"string\">&#x27;$route&#x27;</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">handler</span>: <span class=\"string\">&#x27;init&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">immediate</span>: <span class=\"literal\">true</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>è§£å†³æ–¹æ¡ˆ 2 ï¼šä¸ºäº†å®ç°è¿™æ ·çš„æ•ˆæœå¯ä»¥ç»™<code>router-view</code>æ·»åŠ ä¸€ä¸ªä¸åŒçš„<code>key</code>ï¼Œè¿™æ ·å³ä½¿æ˜¯å…¬ç”¨ç»„ä»¶ï¼Œåªè¦ url å˜åŒ–äº†ï¼Œå°±ä¸€å®šä¼šé‡æ–°åˆ›å»ºè¿™ä¸ªç»„ä»¶ã€‚</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">router-view</span> <span class=\"attr\">:key</span>=<span class=\"string\">&quot;$route.fullpath&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">router-view</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"è·¯ç”±æ‡’åŠ è½½\"><a href=\"#è·¯ç”±æ‡’åŠ è½½\" class=\"headerlink\" title=\"è·¯ç”±æ‡’åŠ è½½\"></a>è·¯ç”±æ‡’åŠ è½½</h3><p>Vue é¡¹ç›®ä¸­å®ç°è·¯ç”±æŒ‰éœ€åŠ è½½ï¼ˆè·¯ç”±æ‡’åŠ è½½ï¼‰çš„ 3 ä¸­æ–¹å¼ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 1ã€Vueå¼‚æ­¥ç»„ä»¶æŠ€æœ¯ï¼š</span></span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">path</span>: <span class=\"string\">&#x27;/home&#x27;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">name</span>: <span class=\"string\">&#x27;Home&#x27;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">component</span>: <span class=\"function\"><span class=\"params\">resolve</span> =&gt;</span> <span class=\"title function_\">reqire</span>([<span class=\"string\">&#x27;pathè·¯å¾„&#x27;</span>], resolve)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 2ã€es6ææ¡ˆçš„import()</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> <span class=\"title function_\">Home</span> = (<span class=\"params\"></span>) =&gt; <span class=\"title function_\">import</span>(<span class=\"string\">&#x27;pathè·¯å¾„&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 3ã€webpackæä¾›çš„require.ensure()</span></span><br><span class=\"line\">\t&#123;</span><br><span class=\"line\">\t\t<span class=\"attr\">path</span>: <span class=\"string\">&#x27;/home&#x27;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">name</span>: <span class=\"string\">&#x27;Home&#x27;</span>,</span><br><span class=\"line\">\t\t<span class=\"attr\">component</span>: <span class=\"function\"><span class=\"params\">r</span> =&gt;</span> <span class=\"built_in\">require</span>.<span class=\"title function_\">ensure</span>([],<span class=\"function\">() =&gt;</span>  <span class=\"title function_\">r</span>(<span class=\"built_in\">require</span>(<span class=\"string\">&#x27;pathè·¯å¾„&#x27;</span>)), <span class=\"string\">&#x27;demo&#x27;</span>)</span><br><span class=\"line\">\t&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"require-context\"><a href=\"#require-context\" class=\"headerlink\" title=\"require.context()\"></a>require.context()</h3><p>require.context(directory,useSubdirectories,regExp)</p>\n<ul>\n<li>directoryï¼šè¯´æ˜éœ€è¦æ£€ç´¢çš„ç›®å½•</li>\n<li>useSubdirectoriesï¼šæ˜¯å¦æ£€ç´¢å­ç›®å½•</li>\n<li>regExp: åŒ¹é…æ–‡ä»¶çš„æ­£åˆ™è¡¨è¾¾å¼,ä¸€èˆ¬æ˜¯æ–‡ä»¶å</li>\n</ul>\n<p>åœºæ™¯:å¦‚é¡µé¢éœ€è¦å¯¼å…¥å¤šä¸ªç»„ä»¶,åŸå§‹å†™æ³•:</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> titleCom <span class=\"keyword\">from</span> <span class=\"string\">&#x27;@/components/home/titleCom&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> bannerCom <span class=\"keyword\">from</span> <span class=\"string\">&#x27;@/components/home/bannerCom&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> cellCom <span class=\"keyword\">from</span> <span class=\"string\">&#x27;@/components/home/cellCom&#x27;</span></span><br><span class=\"line\"><span class=\"attr\">components</span>: &#123;</span><br><span class=\"line\">  titleCom, bannerCom, cellCom</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>è¿™æ ·å°±å†™äº†å¤§é‡é‡å¤çš„ä»£ç ,åˆ©ç”¨ require.context å¯ä»¥å†™æˆ</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> path = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;path&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">const</span> files = <span class=\"built_in\">require</span>.<span class=\"title function_\">context</span>(<span class=\"string\">&#x27;@/components/home&#x27;</span>, <span class=\"literal\">false</span>, <span class=\"regexp\">/\\.vue$/</span>)</span><br><span class=\"line\"><span class=\"keyword\">const</span> modules = &#123;&#125;</span><br><span class=\"line\">files.<span class=\"title function_\">keys</span>().<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">key</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> name = path.<span class=\"title function_\">basename</span>(key, <span class=\"string\">&#x27;.vue&#x27;</span>)</span><br><span class=\"line\">  modules[name] = <span class=\"title function_\">files</span>(key).<span class=\"property\">default</span> || <span class=\"title function_\">files</span>(key)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"attr\">components</span>: modules</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"é€’å½’ç»„ä»¶\"><a href=\"#é€’å½’ç»„ä»¶\" class=\"headerlink\" title=\"é€’å½’ç»„ä»¶\"></a>é€’å½’ç»„ä»¶</h3><ul>\n<li>é€’å½’ç»„ä»¶: ç»„ä»¶åœ¨å®ƒçš„æ¨¡æ¿å†…å¯ä»¥é€’å½’çš„è°ƒç”¨è‡ªå·±ï¼Œåªè¦ç»™ç»„ä»¶è®¾ç½® name ç»„ä»¶å°±å¯ä»¥äº†ã€‚</li>\n<li>ä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¿…é¡»ç»™ä¸€ä¸ªæ¡ä»¶æ¥é™åˆ¶æ•°é‡ï¼Œå¦åˆ™ä¼šæŠ›å‡ºé”™è¯¯: max stack size exceeded</li>\n<li>ç»„ä»¶é€’å½’ç”¨æ¥å¼€å‘ä¸€äº›å…·ä½“æœ‰æœªçŸ¥å±‚çº§å…³ç³»çš„ç‹¬ç«‹ç»„ä»¶ã€‚æ¯”å¦‚ï¼šè”çº§é€‰æ‹©å™¨å’Œæ ‘å½¢æ§ä»¶</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">  <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;(item,index) in treeArr&quot;</span>&gt;</span> &#123;&#123;index&#125;&#125; <span class=\"tag\">&lt;<span class=\"name\">br</span>/&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">      <span class=\"tag\">&lt;<span class=\"name\">tree</span> <span class=\"attr\">:item</span>=<span class=\"string\">&quot;item.arr&quot;</span> <span class=\"attr\">v-if</span>=<span class=\"string\">&quot;item.flag&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">tree</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span><br><span class=\"line\">&lt;/template&gt;</span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">  <span class=\"comment\">// å¿…é¡»å®šä¹‰nameï¼Œç»„ä»¶å†…éƒ¨æ‰èƒ½é€’å½’è°ƒç”¨</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">  <span class=\"attr\">name</span>: <span class=\"string\">&#x27;tree&#x27;</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">  <span class=\"title function_\">data</span>(<span class=\"params\"></span>)&#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    <span class=\"keyword\">return</span> &#123;&#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">  &#125;,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">  <span class=\"comment\">// æ¥æ”¶å¤–éƒ¨ä¼ å…¥çš„å€¼</span></span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">  <span class=\"attr\">props</span>: &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">     <span class=\"attr\">item</span>: &#123;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      <span class=\"attr\">type</span>:<span class=\"title class_\">Array</span>,</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">      <span class=\"attr\">default</span>: <span class=\"function\">()=&gt;</span>[]</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">    &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">  &#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\">&#125;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"language-xml\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ¸…é™¤å®šæ—¶å™¨æˆ–è€…äº‹ä»¶ç›‘å¬\"><a href=\"#æ¸…é™¤å®šæ—¶å™¨æˆ–è€…äº‹ä»¶ç›‘å¬\" class=\"headerlink\" title=\"æ¸…é™¤å®šæ—¶å™¨æˆ–è€…äº‹ä»¶ç›‘å¬\"></a>æ¸…é™¤å®šæ—¶å™¨æˆ–è€…äº‹ä»¶ç›‘å¬</h3><p>ç”±äºé¡¹ç›®ä¸­æœ‰äº›é¡µé¢éš¾å…ä¼šç¢°åˆ°éœ€è¦å®šæ—¶å™¨æˆ–è€…äº‹ä»¶ç›‘å¬ã€‚ä½†æ˜¯åœ¨ç¦»å¼€å½“å‰é¡µé¢çš„æ—¶å€™ï¼Œå®šæ—¶å™¨å¦‚æœä¸åŠæ—¶åˆç†åœ°æ¸…é™¤ï¼Œä¼šé€ æˆä¸šåŠ¡é€»è¾‘æ··ä¹±ç”šè‡³åº”ç”¨å¡æ­»çš„æƒ…å†µï¼Œè¿™ä¸ªæ—¶å°±éœ€è¦æ¸…é™¤å®šæ—¶å™¨äº‹ä»¶ç›‘å¬ï¼Œå³åœ¨é¡µé¢å¸è½½ï¼ˆå…³é—­ï¼‰çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°é‡Œï¼Œæ¸…é™¤å®šæ—¶å™¨ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">methods</span>:&#123;</span><br><span class=\"line\">  resizeFun () &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">tableHeight</span> = <span class=\"variable language_\">window</span>.<span class=\"property\">innerHeight</span> - <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;table&#x27;</span>).<span class=\"property\">offsetTop</span> - <span class=\"number\">128</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"title function_\">setTimer</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">timer</span> = <span class=\"built_in\">setInterval</span>(<span class=\"function\">() =&gt;</span> &#123; &#125;)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"title function_\">clearTimer</span>(<span class=\"params\"></span>) &#123;<span class=\"comment\">//æ¸…é™¤å®šæ—¶å™¨</span></span><br><span class=\"line\">\t\t<span class=\"built_in\">clearInterval</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">timer</span>)</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">timer</span> = <span class=\"literal\">null</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"><span class=\"title function_\">mounted</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"title function_\">setTimer</span>()</span><br><span class=\"line\">  <span class=\"variable language_\">window</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;resize&#x27;</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">resizeFun</span>)</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"><span class=\"title function_\">beforeDestroy</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">window</span>.<span class=\"title function_\">removeEventListener</span>(<span class=\"string\">&#x27;resize&#x27;</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">resizeFun</span>)</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"title function_\">clearTimer</span>()</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"è‡ªå®šä¹‰è·¯å¾„åˆ«å\"><a href=\"#è‡ªå®šä¹‰è·¯å¾„åˆ«å\" class=\"headerlink\" title=\"è‡ªå®šä¹‰è·¯å¾„åˆ«å\"></a>è‡ªå®šä¹‰è·¯å¾„åˆ«å</h3><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨åŸºç¡€é…ç½®æ–‡ä»¶ä¸­æ·»åŠ è‡ªå·±çš„è·¯å¾„åˆ«å</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">resolve</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">extensions</span>: [<span class=\"string\">&#x27;.js&#x27;</span>, <span class=\"string\">&#x27;.vue&#x27;</span>, <span class=\"string\">&#x27;.json&#x27;</span>],</span><br><span class=\"line\">    <span class=\"attr\">alias</span>: &#123;</span><br><span class=\"line\">      <span class=\"string\">&#x27;vue$&#x27;</span>: <span class=\"string\">&#x27;vue/dist/vue.esm.js&#x27;</span>,</span><br><span class=\"line\">      <span class=\"string\">&#x27;@&#x27;</span>: <span class=\"title function_\">resolve</span>(<span class=\"string\">&#x27;src&#x27;</span>),</span><br><span class=\"line\">      <span class=\"string\">&#x27;assets&#x27;</span>: <span class=\"title function_\">resolve</span>(<span class=\"string\">&#x27;src/assets&#x27;</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure>\n\n<p>ç„¶åæˆ‘ä»¬å¯¼å…¥ç»„ä»¶çš„æ—¶å€™å°±å¯ä»¥è¿™æ ·å†™ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// import YourComponent from &#x27;/src/assets/YourComponent&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">YourComponent</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;assets/YourComponent&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<p>è¿™æ ·æ—¢è§£å†³äº†è·¯å¾„è¿‡é•¿çš„éº»çƒ¦ï¼Œåˆè§£å†³äº†ç›¸å¯¹è·¯å¾„çš„çƒ¦æ¼ã€‚</p>\n<h3 id=\"åŠ¨æ€ç»™ä¿®æ”¹-dom-çš„æ ·å¼\"><a href=\"#åŠ¨æ€ç»™ä¿®æ”¹-dom-çš„æ ·å¼\" class=\"headerlink\" title=\"åŠ¨æ€ç»™ä¿®æ”¹ dom çš„æ ·å¼\"></a>åŠ¨æ€ç»™ä¿®æ”¹ dom çš„æ ·å¼</h3><p>åŸå› ï¼šå› ä¸ºæˆ‘ä»¬åœ¨å†™.vue æ–‡ä»¶ä¸­çš„æ ·å¼éƒ½ä¼šè¿½åŠ  scopedã€‚è¿™æ ·é’ˆå¯¹æ¨¡æ¿ dom ä¸­çš„æ ·å¼å°±å¯ä»¥ç”Ÿæ•ˆï¼Œä½†å…¶ç”Ÿæ•ˆåçš„æœ€ç»ˆæ ·å¼å¹¶ä¸æ˜¯æˆ‘ä»¬å†™çš„æ ·å¼åï¼Œè€Œæ˜¯ç¼–ç åçš„ã€‚æ¯”å¦‚ï¼š</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;box&quot;</span>&gt;</span>dom<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;scss&quot;</span> <span class=\"attr\">scoped</span>&gt;</span><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">  <span class=\"selector-class\">.box</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">    <span class=\"attribute\">background</span>: red;</span></span><br><span class=\"line\"><span class=\"language-css\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>vue å°†ä»£ç è½¬è¯‘æˆå¦‚ä¸‹ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨ js ä¸­æ‹¼æ¥ä¸Šçš„ dom ç»“æ„æ ·å¼å¹¶ä¸ä¼šç”Ÿæ•ˆã€‚</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\">.box[data-v-11c6864c]&#123; background:red; &#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;box&quot;</span> <span class=\"attr\">data-v-11c6864c</span>&gt;</span>dom<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>è§£å†³æ–¹æ³•ï¼šå°†è¦æ”¹å˜çš„æ ·å¼å†™åœ¨é scoped æ ·å¼æ ‡ç­¾ä¸­ã€‚</p>\n<h3 id=\"é•¿åˆ—è¡¨æ€§èƒ½ä¼˜åŒ–\"><a href=\"#é•¿åˆ—è¡¨æ€§èƒ½ä¼˜åŒ–\" class=\"headerlink\" title=\"é•¿åˆ—è¡¨æ€§èƒ½ä¼˜åŒ–\"></a>é•¿åˆ—è¡¨æ€§èƒ½ä¼˜åŒ–</h3><p>æˆ‘ä»¬åº”è¯¥éƒ½çŸ¥é“ vue ä¼šé€šè¿‡ object.defineProperty å¯¹æ•°æ®è¿›è¡ŒåŠ«æŒï¼Œæ¥å®ç°è§†å›¾å“åº”æ•°æ®çš„å˜åŒ–ï¼Œç„¶è€Œæœ‰äº›æ—¶å€™æˆ‘ä»¬çš„ç»„ä»¶å°±æ˜¯çº¯ç²¹çš„æ•°æ®å±•ç¤ºï¼Œä¸ä¼šæœ‰ä»»ä½•æ”¹å˜ï¼Œæˆ‘ä»¬å°±ä¸éœ€è¦ vue æ¥åŠ«æŒæˆ‘ä»¬çš„æ•°æ®ï¼Œåœ¨å¤§é‡æ•°æ®å±•ç¤ºçš„æƒ…å†µä¸‹ï¼Œè¿™èƒ½å¤Ÿå¾ˆæ˜æ˜¾çš„å‡å°‘ç»„ä»¶åˆå§‹åŒ–çš„æ—¶é—´ã€‚</p>\n<p>æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ object.freeze æ–¹æ³•æ¥å†»ç»“ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡ä¸€æ—¦è¢«å†»ç»“ï¼Œvue å°±ä¸ä¼šå¯¹æ•°æ®è¿›è¡ŒåŠ«æŒäº†ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span><br><span class=\"line\">  <span class=\"attr\">data</span>: <span class=\"function\">() =&gt;</span> (&#123;</span><br><span class=\"line\">    <span class=\"attr\">list</span>: [],</span><br><span class=\"line\">  &#125;),</span><br><span class=\"line\">  <span class=\"keyword\">async</span> <span class=\"title function_\">created</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> list = <span class=\"keyword\">await</span> axios.<span class=\"title function_\">get</span>(<span class=\"string\">&#x27;xxxx&#x27;</span>)</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">list</span> = <span class=\"title class_\">Object</span>.<span class=\"title function_\">freeze</span>(list)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">methods</span>: &#123;</span><br><span class=\"line\">    <span class=\"comment\">// æ­¤å¤„åšçš„æ“ä½œéƒ½ä¸èƒ½æ”¹å˜listçš„å€¼</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>å¦å¤–éœ€è¦è¯´æ˜çš„æ˜¯ï¼Œè¿™é‡Œåªæ˜¯å†»ç»“äº† list çš„å€¼ï¼Œå¼•ç”¨ä¸ä¼šè¢«å†»ç»“ï¼Œå½“æˆ‘ä»¬éœ€è¦ reactive æ•°æ®çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥é‡æ–°ç»™ list èµ‹å€¼ã€‚</p>\n<h3 id=\"å†…å®¹åˆ†å‘-slot\"><a href=\"#å†…å®¹åˆ†å‘-slot\" class=\"headerlink\" title=\"å†…å®¹åˆ†å‘(slot)\"></a>å†…å®¹åˆ†å‘(slot)</h3><p>æ’æ§½ slotï¼Œä¹Ÿæ˜¯ç»„ä»¶çš„ä¸€å— HTML æ¨¡æ¿ï¼Œè¿™ä¸€å—æ¨¡æ¿æ˜¾ç¤ºä¸æ˜¾ç¤ºã€ä»¥åŠæ€æ ·æ˜¾ç¤ºç”±çˆ¶ç»„ä»¶æ¥å†³å®šã€‚å®é™…ä¸Šï¼Œä¸€ä¸ª slot æœ€æ ¸å¿ƒçš„ä¸¤ä¸ªé—®é¢˜åœ¨è¿™é‡Œå°±ç‚¹å‡ºæ¥äº†ï¼Œæ˜¯æ˜¾ç¤ºä¸æ˜¾ç¤ºå’Œæ€æ ·æ˜¾ç¤ºã€‚</p>\n<h4 id=\"é»˜è®¤æ’æ§½\"><a href=\"#é»˜è®¤æ’æ§½\" class=\"headerlink\" title=\"é»˜è®¤æ’æ§½\"></a>é»˜è®¤æ’æ§½</h4><p>åˆåå•ä¸ªæ’æ§½ã€åŒ¿åæ’æ§½ï¼Œè¿™ç±»æ’æ§½æ²¡æœ‰å…·ä½“åå­—ï¼Œä¸€ä¸ªç»„ä»¶åªèƒ½æœ‰ä¸€ä¸ªè¯¥ç±»æ’æ§½ã€‚</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- çˆ¶ç»„ä»¶ parent.vue --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;parent&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>çˆ¶å®¹å™¨<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">child</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;tmpl&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>èœå•1<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">child</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- å­ç»„ä»¶ child.vue --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;child&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>å­ç»„ä»¶<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">slot</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">slot</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"å…·åæ’æ§½\"><a href=\"#å…·åæ’æ§½\" class=\"headerlink\" title=\"å…·åæ’æ§½\"></a>å…·åæ’æ§½</h4><p>åŒ¿åæ’æ§½æ²¡æœ‰ name å±æ€§ï¼Œæ‰€ä»¥å«åŒ¿åæ’æ§½ã€‚é‚£ä¹ˆï¼Œæ’æ§½åŠ äº† name å±æ€§ï¼Œå°±å˜æˆäº†å…·åæ’æ§½ã€‚å…·åæ’æ§½å¯ä»¥åœ¨ä¸€ä¸ªç»„ä»¶ä¸­å‡ºç° N æ¬¡ï¼Œå‡ºç°åœ¨ä¸åŒçš„ä½ç½®ï¼Œåªéœ€è¦ä½¿ç”¨ä¸åŒçš„ name å±æ€§åŒºåˆ†å³å¯ã€‚</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- çˆ¶ç»„ä»¶ parent.vue --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;parent&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>çˆ¶å®¹å™¨<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">child</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;tmpl&quot;</span> <span class=\"attr\">slot</span>=<span class=\"string\">&quot;up&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>èœå•up-1<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;tmpl&quot;</span> <span class=\"attr\">slot</span>=<span class=\"string\">&quot;down&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>èœå•down-1<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;tmpl&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>èœå•-&gt;1<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">child</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- å­ç»„ä»¶ child.vue --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;child&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- å…·åæ’æ§½ --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">slot</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;up&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">slot</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h3</span>&gt;</span>è¿™é‡Œæ˜¯å­ç»„ä»¶<span class=\"tag\">&lt;/<span class=\"name\">h3</span>&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- å…·åæ’æ§½ --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">slot</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;down&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">slot</span>&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- åŒ¿åæ’æ§½ --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">slot</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">slot</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"ä½œç”¨åŸŸæ’æ§½\"><a href=\"#ä½œç”¨åŸŸæ’æ§½\" class=\"headerlink\" title=\"ä½œç”¨åŸŸæ’æ§½\"></a>ä½œç”¨åŸŸæ’æ§½</h4><p>ä½œç”¨åŸŸæ’æ§½å¯ä»¥æ˜¯é»˜è®¤æ’æ§½ï¼Œä¹Ÿå¯ä»¥æ˜¯å…·åæ’æ§½ï¼Œä¸ä¸€æ ·çš„åœ°æ–¹æ˜¯ï¼Œä½œç”¨åŸŸæ’æ§½å¯ä»¥ä¸º slot æ ‡ç­¾ç»‘å®šæ•°æ®ï¼Œè®©å…¶çˆ¶ç»„ä»¶å¯ä»¥è·å–åˆ°å­ç»„ä»¶çš„æ•°æ®ã€‚</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- parent.vue --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;parent&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>è¿™æ˜¯çˆ¶ç»„ä»¶<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">child</span></span></span><br><span class=\"line\"><span class=\"tag\">      &gt;</span>&gt;</span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">slot</span>=<span class=\"string\">&quot;default&quot;</span> <span class=\"attr\">slot-scope</span>=<span class=\"string\">&quot;slotProps&quot;</span>&gt;</span></span><br><span class=\"line\">        &#123;&#123; slotProps.user.name &#125;&#125;</span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span> &lt;/child</span><br><span class=\"line\">    &gt;&gt;</span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- å­ç»„ä»¶ child.vue --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;child&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>è¿™æ˜¯å­ç»„ä»¶<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">slot</span> <span class=\"attr\">:user</span>=<span class=\"string\">&quot;user&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">slot</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"title function_\">data</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"keyword\">return</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">user</span>: &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">          <span class=\"attr\">name</span>: <span class=\"string\">&#x27;å°èµµ&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n"},{"title":"Vue åº”ç”¨","url":"/LittleWhiteRabbit/2022/04/26/%E6%80%BB%E7%BB%93vue%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB%E4%B9%8B%E9%AB%98%E7%BA%A7%E5%BA%94%E7%94%A8%E7%AF%87/","content":"<h3 id=\"Vue-use\"><a href=\"#Vue-use\" class=\"headerlink\" title=\"Vue.use\"></a>Vue.use</h3><p>æˆ‘ä»¬ä½¿ç”¨çš„ç¬¬ä¸‰æ–¹ Vue.js æ’ä»¶ã€‚å¦‚æœæ’ä»¶æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¿…é¡»æä¾›<code>install</code>æ–¹æ³•ã€‚å¦‚æœæ’ä»¶æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒä¼šè¢«ä½œä¸º<code>install</code>æ–¹æ³•ã€‚<code>install</code>æ–¹æ³•è°ƒç”¨æ—¶ï¼Œä¼šå°†<code>Vue</code>ä½œä¸ºå‚æ•°ä¼ å…¥ã€‚è¯¥æ–¹æ³•éœ€è¦åœ¨è°ƒç”¨<code>new Vue()</code>ä¹‹å‰è¢«è°ƒç”¨ã€‚</p>\n<p>æˆ‘ä»¬åœ¨ä½¿ç”¨æ’ä»¶æˆ–è€…ç¬¬ä¸‰æ–¹ç»„ä»¶åº“çš„æ—¶å€™ç”¨åˆ°<code>Vue.use</code>è¿™ä¸ªæ–¹æ³•ï¼Œæ¯”å¦‚</p>\n<span id=\"more\"></span>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> iView <span class=\"keyword\">from</span> <span class=\"string\">&#x27;iview&#x27;</span></span><br><span class=\"line\"><span class=\"title class_\">Vue</span>.<span class=\"title function_\">use</span>(iView)</span><br></pre></td></tr></table></figure>\n\n<p>é‚£ä¹ˆ<code>Vue.use</code>åˆ°åº•åšäº†äº›ä»€ä¹ˆäº‹æƒ…å‘¢ï¼Ÿæˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹æºç </p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; toArray &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;../util/index&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">initUse</span>(<span class=\"params\">Vue: GlobalAPI</span>) &#123;</span><br><span class=\"line\">  <span class=\"title class_\">Vue</span>.<span class=\"property\">use</span> = <span class=\"keyword\">function</span>(<span class=\"params\">plugin: <span class=\"built_in\">Function</span> | <span class=\"built_in\">Object</span></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> installedPlugins = <span class=\"variable language_\">this</span>.<span class=\"property\">_installedPlugins</span> || (<span class=\"variable language_\">this</span>.<span class=\"property\">_installedPlugins</span> = [])</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (installedPlugins.<span class=\"title function_\">indexOf</span>(plugin) &gt; -<span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"variable language_\">this</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// additional parameters</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> args = <span class=\"title function_\">toArray</span>(<span class=\"variable language_\">arguments</span>, <span class=\"number\">1</span>)</span><br><span class=\"line\">    args.<span class=\"title function_\">unshift</span>(<span class=\"variable language_\">this</span>)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> plugin.<span class=\"property\">install</span> === <span class=\"string\">&#x27;function&#x27;</span>) &#123;</span><br><span class=\"line\">      plugin.<span class=\"property\">install</span>.<span class=\"title function_\">apply</span>(plugin, args)</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> plugin === <span class=\"string\">&#x27;function&#x27;</span>) &#123;</span><br><span class=\"line\">      plugin.<span class=\"title function_\">apply</span>(<span class=\"literal\">null</span>, args)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    installedPlugins.<span class=\"title function_\">push</span>(plugin)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"variable language_\">this</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æˆ‘ä»¬ç”±ä»¥ä¸Šå¯ä»¥çœ‹å‡ºï¼Œ<code>plugin</code>å‚æ•°ä¸ºå‡½æ•°æˆ–è€…å¯¹è±¡ç±»å‹ï¼Œé¦–å…ˆ<code>Vue</code>ä¼šå»å¯»æ‰¾è¿™ä¸ªæ’ä»¶åœ¨å·²å®‰è£…çš„æ’ä»¶åˆ—è¡¨é‡Œæœ‰æ²¡æœ‰ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™è¿›è¡Œå®‰è£…æ’ä»¶ï¼Œå¦‚æœæœ‰åˆ™è·³å‡ºå‡½æ•°ï¼Œè¿™ä¿è¯æ’ä»¶åªè¢«å®‰è£…ä¸€æ¬¡ã€‚</p>\n<p>æ¥ç€é€šè¿‡<code>toArray</code>æ–¹æ³•å°†å‚æ•°å˜æˆæ•°ç»„ï¼Œå†åˆ¤æ–­<code>plugin</code>çš„<code>install</code>å±æ€§æ˜¯å¦ä¸ºå‡½æ•°ï¼Œæˆ–è€…<code>plugin</code>æœ¬èº«å°±æ˜¯å‡½æ•°ï¼Œæœ€åæ‰§è¡Œ<code>plugin.install</code>æˆ–è€…<code>plugin</code>çš„æ–¹æ³•ã€‚</p>\n<h4 id=\"ä¸¾ä¸ªä¾‹å­\"><a href=\"#ä¸¾ä¸ªä¾‹å­\" class=\"headerlink\" title=\"ä¸¾ä¸ªä¾‹å­\"></a>ä¸¾ä¸ªä¾‹å­</h4><p>ä¸‹é¢æˆ‘ä»¬æ¥ä¸¾ä¸ªå®é™…ä¾‹å­<br>1ã€ç¼–å†™ä¸¤ä¸ªæ’ä»¶</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">Plugin1</span> = &#123;</span><br><span class=\"line\">  <span class=\"title function_\">install</span>(<span class=\"params\">a</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Plugin2</span>(<span class=\"params\">b</span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(b)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> &#123; <span class=\"title class_\">Plugin1</span>, <span class=\"title class_\">Plugin2</span> &#125;</span><br></pre></td></tr></table></figure>\n\n<p>2ã€å¼•å…¥å¹¶ use è¿™ä¸¤ä¸ªæ’ä»¶</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Vue</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vue&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Plugin1</span>, <span class=\"title class_\">Plugin2</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./plugins&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title class_\">Vue</span>.<span class=\"title function_\">use</span>(<span class=\"title class_\">Plugin1</span>, <span class=\"string\">&#x27;å‚æ•°1&#x27;</span>)</span><br><span class=\"line\"><span class=\"title class_\">Vue</span>.<span class=\"title function_\">use</span>(<span class=\"title class_\">Plugin2</span>, <span class=\"string\">&#x27;å‚æ•°2&#x27;</span>)</span><br></pre></td></tr></table></figure>\n\n<p>æ­¤æ—¶æˆ‘ä»¬è¿è¡Œé¡¹ç›®ä»£ç å°±å¯ä»¥ç”¨åˆ°ä¸Šé¢ä¸¤ä¸ªæ’ä»¶äº†ã€‚</p>\n<h3 id=\"Vue-mixin\"><a href=\"#Vue-mixin\" class=\"headerlink\" title=\"Vue.mixin\"></a>Vue.mixin</h3><p>æ··å…¥ (mixin) æä¾›äº†ä¸€ç§éå¸¸çµæ´»çš„æ–¹å¼ï¼Œæ¥åˆ†å‘ Vue ç»„ä»¶ä¸­çš„å¯å¤ç”¨åŠŸèƒ½ã€‚ä¸€ä¸ªæ··å…¥å¯¹è±¡å¯ä»¥åŒ…å«ä»»æ„ç»„ä»¶é€‰é¡¹ã€‚å½“ç»„ä»¶ä½¿ç”¨æ··å…¥å¯¹è±¡æ—¶ï¼Œæ‰€æœ‰æ··å…¥å¯¹è±¡çš„é€‰é¡¹å°†è¢«â€œæ··åˆâ€è¿›å…¥è¯¥ç»„ä»¶æœ¬èº«çš„é€‰é¡¹ã€‚</p>\n<p>1ã€å®šä¹‰ä¸€ä¸ª mixin.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> mixin &#123;</span><br><span class=\"line\"> <span class=\"title function_\">data</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">   <span class=\"attr\">name</span>: <span class=\"string\">&#x27;mixin&#x27;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"> &#125;,</span><br><span class=\"line\"> <span class=\"title function_\">created</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;mixin...&#x27;</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">name</span>);</span><br><span class=\"line\"> &#125;,</span><br><span class=\"line\"> <span class=\"title function_\">mounted</span>(<span class=\"params\"></span>) &#123;&#125;,</span><br><span class=\"line\"> <span class=\"attr\">methods</span>: &#123;  <span class=\"comment\">//æ—¥æœŸè½¬æ¢</span></span><br><span class=\"line\">   formatDate (dateTime, fmt = <span class=\"string\">&#x27;YYYYå¹´MMæœˆDDæ—¥ HH:mm:ss&#x27;</span>) &#123;</span><br><span class=\"line\">     <span class=\"keyword\">if</span> (!dateTime) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"string\">&#x27;&#x27;</span></span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">     moment.<span class=\"title function_\">locale</span>(<span class=\"string\">&#x27;zh-CN&#x27;</span>)</span><br><span class=\"line\">     dateTime = <span class=\"title function_\">moment</span>(dateTime).<span class=\"title function_\">format</span>(fmt)</span><br><span class=\"line\">     <span class=\"keyword\">return</span> dateTime</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>2ã€åœ¨vueæ–‡ä»¶ä¸­ä½¿ç”¨mixin</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">&#x27;@/mixin&#x27;</span>; <span class=\"comment\">// å¼•å…¥mixinæ–‡ä»¶</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span><br><span class=\"line\"> <span class=\"attr\">mixins</span>: [mixin],  <span class=\"comment\">//ç”¨æ³•</span></span><br><span class=\"line\"> <span class=\"title function_\">data</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">   <span class=\"attr\">userName</span>: <span class=\"string\">&quot;adimin&quot;</span>,</span><br><span class=\"line\">   <span class=\"attr\">time</span>: <span class=\"variable language_\">this</span>.<span class=\"title function_\">formatDate</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>()) <span class=\"comment\">//è¿™ä¸ªvueæ–‡ä»¶çš„æ•°æ®æºdataé‡Œé¢çš„timeå°±æ˜¯å¼•ç”¨æ··å…¥è¿›æ¥çš„æ–¹æ³•</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\">&#125; </span><br></pre></td></tr></table></figure>\n\n<p>æˆ–è€…åœ¨å…¨å±€ä¸­ä½¿ç”¨åœ¨main.jsä¸­ï¼Œæ‰€æœ‰é¡µé¢éƒ½èƒ½ä½¿ç”¨äº†</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> mixin <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./mixin&#x27;</span></span><br><span class=\"line\"><span class=\"title class_\">Vue</span>.<span class=\"title function_\">mixin</span>(mixin)  </span><br></pre></td></tr></table></figure>\n\n<h4 id=\"åˆå¹¶é€‰é¡¹\"><a href=\"#åˆå¹¶é€‰é¡¹\" class=\"headerlink\" title=\"åˆå¹¶é€‰é¡¹\"></a>åˆå¹¶é€‰é¡¹</h4><p>å½“ç»„ä»¶å’Œæ··å…¥å¯¹è±¡å«æœ‰åŒåé€‰é¡¹æ—¶ï¼Œè¿™äº›é€‰é¡¹å°†ä»¥æ°å½“çš„æ–¹å¼è¿›è¡Œâ€œåˆå¹¶â€ã€‚</p>\n<ul>\n<li><code>data</code>å¯¹è±¡åœ¨å†…éƒ¨ä¼šè¿›è¡Œé€’å½’åˆå¹¶ï¼Œå¹¶åœ¨å‘ç”Ÿå†²çªæ—¶ä»¥ç»„ä»¶æ•°æ®ä¼˜å…ˆã€‚</li>\n<li>åŒåé’©å­å‡½æ•°å°†åˆå¹¶ä¸ºä¸€ä¸ªæ•°ç»„ï¼Œå› æ­¤éƒ½å°†è¢«è°ƒç”¨ã€‚æ··å…¥å¯¹è±¡çš„é’©å­å°†åœ¨ç»„ä»¶è‡ªèº«é’©å­ä¹‹å‰è°ƒç”¨ã€‚</li>\n<li>å€¼ä¸ºå¯¹è±¡çš„é€‰é¡¹ï¼Œä¾‹å¦‚ <code>methods</code>ã€<code>components</code> å’Œ <code>directives</code>ï¼Œå°†è¢«åˆå¹¶ä¸ºåŒä¸€ä¸ªå¯¹è±¡ã€‚ä¸¤ä¸ªå¯¹è±¡é”®åå†²çªæ—¶ï¼Œå–ç»„ä»¶å¯¹è±¡çš„é”®å€¼å¯¹ã€‚</li>\n</ul>\n<h3 id=\"Vue-extend\"><a href=\"#Vue-extend\" class=\"headerlink\" title=\"Vue.extend\"></a>Vue.extend</h3><p><code>Vue.extend</code> å±äº Vue çš„å…¨å±€ APIã€‚å®ƒä½¿ç”¨åŸºç¡€ Vue æ„é€ å™¨ï¼Œåˆ›å»ºä¸€ä¸ªâ€œå­ç±»â€ã€‚å‚æ•°æ˜¯ä¸€ä¸ªåŒ…å«ç»„ä»¶é€‰é¡¹çš„å¯¹è±¡ã€‚å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">&lt;div id=<span class=\"string\">&quot;app&quot;</span>&gt;&lt;/div&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> <span class=\"title class_\">Profile</span> = <span class=\"title class_\">Vue</span>.<span class=\"title function_\">extend</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">template</span>: <span class=\"string\">&#x27;&lt;p&gt;&#123;&#123;firstName&#125;&#125; &#123;&#123;lastName&#125;&#125;&lt;/p&gt;&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">data</span>: <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">      <span class=\"attr\">firstName</span>: <span class=\"string\">&#x27;Walter&#x27;</span>,</span><br><span class=\"line\">      <span class=\"attr\">lastName</span>: <span class=\"string\">&#x27;White&#x27;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"comment\">// åˆ›å»º Profile å®ä¾‹ï¼Œå¹¶æŒ‚è½½åˆ°ä¸€ä¸ªå…ƒç´ ä¸Šã€‚</span></span><br><span class=\"line\"><span class=\"keyword\">new</span> <span class=\"title class_\">Profile</span>().$mount(<span class=\"string\">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"åº”ç”¨å®ä¾‹\"><a href=\"#åº”ç”¨å®ä¾‹\" class=\"headerlink\" title=\"åº”ç”¨å®ä¾‹\"></a>åº”ç”¨å®ä¾‹</h4><p>æˆ‘ä»¬å¸¸ç”¨ <code>Vue.extend</code> å°è£…ä¸€äº›å…¨å±€æ’ä»¶ï¼Œæ¯”å¦‚ <code>toast</code>ï¼Œ <code>diolog</code> ç­‰ã€‚   </p>\n<p>ä¸‹é¢ä»¥å°è£…ä¸€ä¸ª <code>toast</code> ç»„ä»¶ä¸ºä¾‹ã€‚  </p>\n<p>1ã€ç¼–å†™ç»„ä»¶</p>\n<ul>\n<li>æ ¹æ®ä¼ å…¥çš„ type ç¡®å®šå¼¹çª—çš„ç±»å‹ï¼ˆæˆåŠŸæç¤ºï¼Œå¤±è´¥æç¤ºï¼Œè­¦å‘Šï¼ŒåŠ è½½ï¼Œçº¯æ–‡å­—ï¼‰</li>\n<li>è®¾ç½®å¼¹çª—æ¶ˆå¤±çš„æ—¶é—´<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">transition</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;fade&quot;</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;little-tip&quot;</span> <span class=\"attr\">v-show</span>=<span class=\"string\">&quot;showTip&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;/success.png&quot;</span> <span class=\"attr\">alt</span>=<span class=\"string\">&quot;&quot;</span> <span class=\"attr\">width</span>=<span class=\"string\">&quot;36&quot;</span> <span class=\"attr\">v-if</span>=<span class=\"string\">&quot;type==&#x27;success&#x27;&quot;</span> /&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;/fail.png&quot;</span> <span class=\"attr\">alt</span>=<span class=\"string\">&quot;&quot;</span> <span class=\"attr\">width</span>=<span class=\"string\">&quot;36&quot;</span> <span class=\"attr\">v-if</span>=<span class=\"string\">&quot;type==&#x27;fail&#x27;&quot;</span> /&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;/warning.png&quot;</span> <span class=\"attr\">alt</span>=<span class=\"string\">&quot;&quot;</span> <span class=\"attr\">width</span>=<span class=\"string\">&quot;36&quot;</span> <span class=\"attr\">v-if</span>=<span class=\"string\">&quot;type==&#x27;warning&#x27;&quot;</span> /&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;/loading.png&quot;</span> <span class=\"attr\">alt</span>=<span class=\"string\">&quot;&quot;</span> <span class=\"attr\">width</span>=<span class=\"string\">&quot;36&quot;</span> <span class=\"attr\">v-if</span>=<span class=\"string\">&quot;type==&#x27;loading&#x27;&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;loading&quot;</span> /&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>&#123;&#123;msg&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">transition</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"title function_\">data</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"keyword\">return</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">showTip</span>: <span class=\"literal\">true</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">msg</span>: <span class=\"string\">&#x27;&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">type</span>: <span class=\"string\">&#x27;&#x27;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"title function_\">mounted</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"variable language_\">this</span>.<span class=\"property\">showTip</span> = <span class=\"literal\">false</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125;, <span class=\"number\">1500</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;less&quot;</span> <span class=\"attr\">scoped</span>&gt;</span><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">  <span class=\"comment\">/* æ ·å¼ç•¥ */</span></span></span><br><span class=\"line\"><span class=\"language-css\"></span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br></pre></td></tr></table></figure></li>\n</ul>\n<p>2ã€åˆ©ç”¨ <code>Vue.extend</code> æ„é€ å™¨æŠŠ <code>toast</code> ç»„ä»¶æŒ‚è½½åˆ° <code>vue</code> å®ä¾‹ä¸‹</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Vue</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vue&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Main</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./toast.vue&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> <span class=\"title class_\">Toast</span> = <span class=\"title class_\">Vue</span>.<span class=\"title function_\">extend</span>(<span class=\"title class_\">Main</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> instance</span><br><span class=\"line\"><span class=\"keyword\">const</span> toast = <span class=\"keyword\">function</span>(<span class=\"params\">options</span>) &#123;</span><br><span class=\"line\">  options = options || &#123;&#125;</span><br><span class=\"line\">  instance = <span class=\"keyword\">new</span> <span class=\"title class_\">Toast</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">data</span>: options</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">  instance.<span class=\"property\">vm</span> = instance.$mount()</span><br><span class=\"line\">  <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"title function_\">appendChild</span>(instance.<span class=\"property\">vm</span>.<span class=\"property\">$el</span>)</span><br><span class=\"line\">  <span class=\"keyword\">return</span> instance.<span class=\"property\">vm</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> toast</span><br></pre></td></tr></table></figure>\n\n<p>3ã€åœ¨ <code>main.js</code> å¼•å…¥ <code>toast</code> ç»„ä»·å¹¶æŒ‚è½½åœ¨ <code>vue</code> åŸå‹ä¸Š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Vue</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vue&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> toast <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./components/toast&#x27;</span></span><br><span class=\"line\"><span class=\"title class_\">Vue</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">$toast</span> = toast</span><br></pre></td></tr></table></figure>\n\n<p>4ã€åœ¨é¡¹ç›®ä¸­è°ƒç”¨</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">this</span>.$toast(&#123; <span class=\"attr\">msg</span>: <span class=\"string\">&#x27;æ‰‹æœºå·ç ä¸èƒ½ä¸ºç©º&#x27;</span> &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">this</span>.$toast(&#123;</span><br><span class=\"line\">  <span class=\"attr\">msg</span>: <span class=\"string\">&#x27;æˆåŠŸæç¤º&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">type</span>: <span class=\"string\">&#x27;success&#x27;</span></span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"Vue-extend-å’Œ-Vue-component-çš„åŒºåˆ«\"><a href=\"#Vue-extend-å’Œ-Vue-component-çš„åŒºåˆ«\" class=\"headerlink\" title=\"Vue.extend å’Œ Vue.component çš„åŒºåˆ«\"></a>Vue.extend å’Œ Vue.component çš„åŒºåˆ«</h4><ul>\n<li><code>component</code>æ˜¯éœ€è¦å…ˆè¿›è¡Œç»„ä»¶æ³¨å†Œåï¼Œç„¶ååœ¨ <code>template</code> ä¸­ä½¿ç”¨æ³¨å†Œçš„æ ‡ç­¾åæ¥å®ç°ç»„ä»¶çš„ä½¿ç”¨ã€‚<code>Vue.extend</code> åˆ™æ˜¯ç¼–ç¨‹å¼çš„å†™æ³•ã€‚</li>\n<li>æ§åˆ¶<code>component</code>çš„æ˜¾ç¤ºä¸å¦ï¼Œéœ€è¦åœ¨çˆ¶ç»„ä»¶ä¸­ä¼ å…¥ä¸€ä¸ªçŠ¶æ€æ¥æ§åˆ¶æˆ–è€…åœ¨ç»„ä»¶å¤–éƒ¨ç”¨ <code>v-if/v-show</code> æ¥å®ç°æ§åˆ¶ï¼Œè€Œ <code>Vue.extend</code> çš„æ˜¾ç¤ºä¸å¦æ˜¯æ‰‹åŠ¨çš„å»åšç»„ä»¶çš„æŒ‚è½½å’Œé”€æ¯ã€‚</li>\n</ul>\n<h3 id=\"Vue-directive\"><a href=\"#Vue-directive\" class=\"headerlink\" title=\"Vue.directive\"></a>Vue.directive</h3><p>æ³¨å†Œæˆ–è·å–å…¨å±€æŒ‡ä»¤ã€‚æŒ‡ä»¤å®šä¹‰å‡½æ•°æä¾›äº†å‡ ä¸ªé’©å­å‡½æ•°ï¼ˆå¯é€‰ï¼‰ï¼š</p>\n<ul>\n<li>bind: åªè°ƒç”¨ä¸€æ¬¡ï¼ŒæŒ‡ä»¤ç¬¬ä¸€æ¬¡ç»‘å®šåˆ°å…ƒç´ æ—¶è°ƒç”¨ï¼Œå¯ä»¥å®šä¹‰ä¸€ä¸ªåœ¨ç»‘å®šæ—¶æ‰§è¡Œä¸€æ¬¡çš„åˆå§‹åŒ–åŠ¨ä½œã€‚</li>\n<li>inserted: è¢«ç»‘å®šå…ƒç´ æ’å…¥çˆ¶èŠ‚ç‚¹æ—¶è°ƒç”¨ï¼ˆçˆ¶èŠ‚ç‚¹å­˜åœ¨å³å¯è°ƒç”¨ï¼Œä¸å¿…å­˜åœ¨äº document ä¸­ï¼‰ã€‚</li>\n<li>update:  è¢«ç»‘å®šå…ƒç´ æ‰€åœ¨çš„æ¨¡æ¿æ›´æ–°æ—¶è°ƒç”¨ï¼Œè€Œä¸è®ºç»‘å®šå€¼æ˜¯å¦å˜åŒ–ã€‚é€šè¿‡æ¯”è¾ƒæ›´æ–°å‰åçš„ç»‘å®šå€¼ã€‚</li>\n<li>componentUpdated: è¢«ç»‘å®šå…ƒç´ æ‰€åœ¨æ¨¡æ¿å®Œæˆä¸€æ¬¡æ›´æ–°å‘¨æœŸæ—¶è°ƒç”¨ã€‚</li>\n<li>unbind: åªè°ƒç”¨ä¸€æ¬¡ï¼Œ æŒ‡ä»¤ä¸å…ƒç´ è§£ç»‘æ—¶è°ƒç”¨ã€‚</li>\n</ul>\n<h4 id=\"åº”ç”¨å®ä¾‹-1\"><a href=\"#åº”ç”¨å®ä¾‹-1\" class=\"headerlink\" title=\"åº”ç”¨å®ä¾‹\"></a>åº”ç”¨å®ä¾‹</h4><p>ä¸‹é¢å°è£…ä¸€ä¸ªå¤åˆ¶ç²˜è´´æ–‡æœ¬çš„ä¾‹å­ã€‚  </p>\n<p>1ã€ç¼–å†™æŒ‡ä»¤ <code>copy.js</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> vCopy = &#123; </span><br><span class=\"line\">  bind (el, &#123; value &#125;) &#123;</span><br><span class=\"line\">    el.<span class=\"property\">$value</span> = value <span class=\"comment\">// ç”¨ä¸€ä¸ªå…¨å±€å±æ€§æ¥å­˜ä¼ è¿›æ¥çš„å€¼</span></span><br><span class=\"line\">    el.<span class=\"property\">handler</span> = <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (!el.<span class=\"property\">$value</span>) &#123;</span><br><span class=\"line\">        <span class=\"title function_\">alert</span>(<span class=\"string\">&#x27;æ— å¤åˆ¶å†…å®¹&#x27;</span>)</span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"comment\">// åŠ¨æ€åˆ›å»º textarea æ ‡ç­¾</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> textarea = <span class=\"variable language_\">document</span>.<span class=\"title function_\">createElement</span>(<span class=\"string\">&#x27;textarea&#x27;</span>)</span><br><span class=\"line\">      <span class=\"comment\">// å°†è¯¥ textarea è®¾ä¸º readonly é˜²æ­¢ iOS ä¸‹è‡ªåŠ¨å”¤èµ·é”®ç›˜ï¼ŒåŒæ—¶å°† textarea ç§»å‡ºå¯è§†åŒºåŸŸ</span></span><br><span class=\"line\">      textarea.<span class=\"property\">readOnly</span> = <span class=\"string\">&#x27;readonly&#x27;</span></span><br><span class=\"line\">      textarea.<span class=\"property\">style</span>.<span class=\"property\">position</span> = <span class=\"string\">&#x27;absolute&#x27;</span></span><br><span class=\"line\">      textarea.<span class=\"property\">style</span>.<span class=\"property\">left</span> = <span class=\"string\">&#x27;-9999px&#x27;</span></span><br><span class=\"line\">      <span class=\"comment\">// å°†è¦ copy çš„å€¼èµ‹ç»™ textarea æ ‡ç­¾çš„ value å±æ€§</span></span><br><span class=\"line\">      textarea.<span class=\"property\">value</span> = el.<span class=\"property\">$value</span></span><br><span class=\"line\">      <span class=\"comment\">// å°† textarea æ’å…¥åˆ° body ä¸­</span></span><br><span class=\"line\">      <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"title function_\">appendChild</span>(textarea)</span><br><span class=\"line\">      <span class=\"comment\">// é€‰ä¸­å€¼å¹¶å¤åˆ¶</span></span><br><span class=\"line\">      textarea.<span class=\"title function_\">select</span>()</span><br><span class=\"line\">      <span class=\"comment\">// textarea.setSelectionRange(0, textarea.value.length);</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> result = <span class=\"variable language_\">document</span>.<span class=\"title function_\">execCommand</span>(<span class=\"string\">&#x27;Copy&#x27;</span>)</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (result) &#123;</span><br><span class=\"line\">        <span class=\"title function_\">alert</span>(<span class=\"string\">&#x27;å¤åˆ¶æˆåŠŸ&#x27;</span>)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"title function_\">removeChild</span>(textarea)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// ç»‘å®šç‚¹å‡»äº‹ä»¶ï¼Œå°±æ˜¯æ‰€è°“çš„ä¸€é”® copy å•¦</span></span><br><span class=\"line\">    el.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;click&#x27;</span>, el.<span class=\"property\">handler</span>)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// å½“ä¼ è¿›æ¥çš„å€¼æ›´æ–°çš„æ—¶å€™è§¦å‘</span></span><br><span class=\"line\">  componentUpdated (el, &#123; value &#125;) &#123;</span><br><span class=\"line\">    el.<span class=\"property\">$value</span> = value</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">// æŒ‡ä»¤ä¸å…ƒç´ è§£ç»‘çš„æ—¶å€™ï¼Œç§»é™¤äº‹ä»¶ç»‘å®š</span></span><br><span class=\"line\">  unbind (el) &#123;</span><br><span class=\"line\">    el.<span class=\"title function_\">removeEventListener</span>(<span class=\"string\">&#x27;click&#x27;</span>, el.<span class=\"property\">handler</span>)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> vCopy</span><br></pre></td></tr></table></figure>\n\n<p>2ã€æ³¨å†ŒæŒ‡ä»¤</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> copy <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./copy&#x27;</span></span><br><span class=\"line\"><span class=\"comment\">// è‡ªå®šä¹‰æŒ‡ä»¤</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> directives = &#123;</span><br><span class=\"line\">  copy</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// è¿™ç§å†™æ³•å¯ä»¥æ‰¹é‡æ³¨å†ŒæŒ‡ä»¤</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span><br><span class=\"line\">  install (<span class=\"title class_\">Vue</span>) &#123;</span><br><span class=\"line\">    <span class=\"title class_\">Object</span>.<span class=\"title function_\">keys</span>(directives).<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">key</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"title class_\">Vue</span>.<span class=\"title function_\">directive</span>(key, directives[key])</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>3ã€åœ¨ <code>main.js</code> å¼•å…¥å¹¶ <code>use</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Vue</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vue&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Directives</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./JS/directives&#x27;</span></span><br><span class=\"line\"><span class=\"title class_\">Vue</span>.<span class=\"title function_\">use</span>(<span class=\"title class_\">Directives</span>)</span><br></pre></td></tr></table></figure>\n\n<p>è¿™æ ·å°±å¯ä»¥åœ¨é¡¹ç›®ç›´æ¥ç”¨ <code>vCopy</code> æŒ‡ä»¤äº†ã€‚</p>\n"},{"title":"æ€»ç»“ç§»åŠ¨ç«¯H5å¼€å‘å¸¸ç”¨æŠ€å·§","url":"/LittleWhiteRabbit/2022/04/26/%E6%80%BB%E7%BB%93%E7%A7%BB%E5%8A%A8%E7%AB%AFH5%E5%BC%80%E5%8F%91%E5%B8%B8%E7%94%A8%E6%8A%80%E5%B7%A7/","content":"<h3 id=\"html-ç¯‡\"><a href=\"#html-ç¯‡\" class=\"headerlink\" title=\"html ç¯‡\"></a>html ç¯‡</h3><h4 id=\"å¸¸ç”¨çš„metaå±æ€§è®¾ç½®\"><a href=\"#å¸¸ç”¨çš„metaå±æ€§è®¾ç½®\" class=\"headerlink\" title=\"å¸¸ç”¨çš„metaå±æ€§è®¾ç½®\"></a>å¸¸ç”¨çš„metaå±æ€§è®¾ç½®</h4><p>metaå¯¹äºç§»åŠ¨ç«¯çš„ä¸€äº›ç‰¹æ®Šå±æ€§ï¼Œå¯æ ¹æ®éœ€è¦è‡ªè¡Œè®¾ç½®</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;screen-orientation&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;portrait&quot;</span>&gt;</span> //Android ç¦æ­¢å±å¹•æ—‹è½¬</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;full-screen&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;yes&quot;</span>&gt;</span>             //å…¨å±æ˜¾ç¤º</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;browsermode&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;application&quot;</span>&gt;</span>     //UCåº”ç”¨æ¨¡å¼ï¼Œä½¿ç”¨äº†applicationè¿™ç§åº”ç”¨æ¨¡å¼åï¼Œé¡µé¢è®²é»˜è®¤å…¨å±ï¼Œç¦æ­¢é•¿æŒ‰èœå•ï¼Œç¦æ­¢æ”¶æ‹¾ï¼Œæ ‡å‡†æ’ç‰ˆï¼Œä»¥åŠå¼ºåˆ¶å›¾ç‰‡æ˜¾ç¤ºã€‚</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;x5-orientation&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;portrait&quot;</span>&gt;</span>     //QQå¼ºåˆ¶ç«–å±</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;x5-fullscreen&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;true&quot;</span>&gt;</span>          //QQå¼ºåˆ¶å…¨å±</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;x5-page-mode&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span>            //QQåº”ç”¨æ¨¡å¼</span><br></pre></td></tr></table></figure>\n<span id=\"more\"></span>\n<h4 id=\"ç”µè¯å·ç è¯†åˆ«\"><a href=\"#ç”µè¯å·ç è¯†åˆ«\" class=\"headerlink\" title=\"ç”µè¯å·ç è¯†åˆ«\"></a>ç”µè¯å·ç è¯†åˆ«</h4><p>åœ¨ iOS Safari ï¼ˆå…¶ä»–æµè§ˆå™¨å’Œ Android å‡ä¸ä¼šï¼‰ä¸Šä¼šå¯¹é‚£äº›çœ‹èµ·æ¥åƒæ˜¯ç”µè¯å·ç çš„æ•°å­—å¤„ç†ä¸ºç”µè¯é“¾æ¥ï¼Œæ¯”å¦‚ï¼š</p>\n<ul>\n<li>7 ä½æ•°å­—ï¼Œå½¢å¦‚ï¼š1234567</li>\n<li>å¸¦æ‹¬å·åŠåŠ å·çš„æ•°å­—ï¼Œå½¢å¦‚ï¼š(+86)123456789</li>\n<li>åŒè¿æ¥çº¿çš„æ•°å­—ï¼Œå½¢å¦‚ï¼š00-00-00111</li>\n<li>11 ä½æ•°å­—ï¼Œå½¢å¦‚ï¼š13800138000</li>\n</ul>\n<p>å…³é—­è¯†åˆ«</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;format-detection&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;telephone=no&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>å¼€å¯è¯†åˆ«</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;tel:123456&quot;</span>&gt;</span>123456<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"é‚®ç®±è¯†åˆ«ï¼ˆAndroidï¼‰\"><a href=\"#é‚®ç®±è¯†åˆ«ï¼ˆAndroidï¼‰\" class=\"headerlink\" title=\"é‚®ç®±è¯†åˆ«ï¼ˆAndroidï¼‰\"></a>é‚®ç®±è¯†åˆ«ï¼ˆAndroidï¼‰</h4><p>å®‰å“ä¸Šä¼šå¯¹ç¬¦åˆé‚®ç®±æ ¼å¼çš„å­—ç¬¦ä¸²è¿›è¡Œè¯†åˆ«ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¦‚ä¸‹çš„ meta æ¥ç®¡åˆ«é‚®ç®±çš„è‡ªåŠ¨è¯†åˆ«ï¼š</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;email=no&quot;</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;format-detection&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>åŒæ ·åœ°ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡æ ‡ç­¾å±æ€§æ¥å¼€å¯é•¿æŒ‰é‚®ç®±åœ°å€å¼¹å‡ºé‚®ä»¶å‘é€çš„åŠŸèƒ½ï¼š</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">mailto:dooyoe</span>@<span class=\"attr\">gmail.com</span>&quot;&gt;</span>dooyoe@gmail.com<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"css-ç¯‡\"><a href=\"#css-ç¯‡\" class=\"headerlink\" title=\"css ç¯‡\"></a>css ç¯‡</h3><h4 id=\"0-5pxç»†çº¿\"><a href=\"#0-5pxç»†çº¿\" class=\"headerlink\" title=\"0.5pxç»†çº¿\"></a>0.5pxç»†çº¿</h4><p>ç§»åŠ¨ç«¯ H5 é¡¹ç›®è¶Šæ¥è¶Šå¤šï¼Œè®¾è®¡å¸ˆå¯¹äº UI çš„è¦æ±‚ä¹Ÿè¶Šæ¥è¶Šé«˜ï¼Œæ¯”å¦‚ 1px çš„è¾¹æ¡†ã€‚åœ¨é«˜æ¸…å±ä¸‹ï¼Œç§»åŠ¨ç«¯çš„ 1px ä¼šå¾ˆç²—ã€‚</p>\n<p>é‚£ä¹ˆä¸ºä»€ä¹ˆä¼šäº§ç”Ÿè¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿä¸»è¦æ˜¯è·Ÿä¸€ä¸ªä¸œè¥¿æœ‰å…³ï¼ŒDPR(devicePixelRatio) è®¾å¤‡åƒç´ æ¯”ï¼Œå®ƒæ˜¯é»˜è®¤ç¼©æ”¾ä¸º 100%çš„æƒ…å†µä¸‹ï¼Œè®¾å¤‡åƒç´ å’Œ CSS åƒç´ çš„æ¯”å€¼ã€‚ç›®å‰ä¸»æµçš„å±å¹• DPR&#x3D;2ï¼ˆiPhone 8ï¼‰,æˆ–è€… 3ï¼ˆiPhone 8 Plusï¼‰ã€‚æ‹¿ 2 å€å±æ¥è¯´ï¼Œè®¾å¤‡çš„ç‰©ç†åƒç´ è¦å®ç° 1 åƒç´ ï¼Œè€Œ DPR&#x3D;2ï¼Œæ‰€ä»¥ css åƒç´ åªèƒ½æ˜¯ 0.5ã€‚</p>\n<p>ä¸‹é¢ä»‹ç»æœ€å¸¸ç”¨çš„æ–¹æ³•</p>\n<figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* åº•è¾¹æ¡† */</span></span><br><span class=\"line\"><span class=\"selector-class\">.b-border</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: relative;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.b-border</span><span class=\"selector-pseudo\">:before</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">content</span>: <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">  <span class=\"attribute\">left</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">bottom</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">1px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"number\">#d9d9d9</span>;</span><br><span class=\"line\">  -webkit-<span class=\"attribute\">transform</span>: <span class=\"built_in\">scaleY</span>(<span class=\"number\">0.5</span>);</span><br><span class=\"line\">  <span class=\"attribute\">transform</span>: <span class=\"built_in\">scaleY</span>(<span class=\"number\">0.5</span>);</span><br><span class=\"line\">  -webkit-<span class=\"attribute\">transform-origin</span>: <span class=\"number\">0</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">transform-origin</span>: <span class=\"number\">0</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/* ä¸Šè¾¹æ¡† */</span></span><br><span class=\"line\"><span class=\"selector-class\">.t-border</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: relative;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.t-border</span><span class=\"selector-pseudo\">:before</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">content</span>: <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">  <span class=\"attribute\">left</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">top</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">1px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"number\">#d9d9d9</span>;</span><br><span class=\"line\">  -webkit-<span class=\"attribute\">transform</span>: <span class=\"built_in\">scaleY</span>(<span class=\"number\">0.5</span>);</span><br><span class=\"line\">  <span class=\"attribute\">transform</span>: <span class=\"built_in\">scaleY</span>(<span class=\"number\">0.5</span>);</span><br><span class=\"line\">  -webkit-<span class=\"attribute\">transform-origin</span>: <span class=\"number\">0</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">transform-origin</span>: <span class=\"number\">0</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/* å³è¾¹æ¡† */</span></span><br><span class=\"line\"><span class=\"selector-class\">.r-border</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: relative;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.r-border</span><span class=\"selector-pseudo\">:before</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">content</span>: <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">  <span class=\"attribute\">right</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">bottom</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">1px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"number\">#d9d9d9</span>;</span><br><span class=\"line\">  -webkit-<span class=\"attribute\">transform</span>: <span class=\"built_in\">scaleX</span>(<span class=\"number\">0.5</span>);</span><br><span class=\"line\">  <span class=\"attribute\">transform</span>: <span class=\"built_in\">scaleX</span>(<span class=\"number\">0.5</span>);</span><br><span class=\"line\">  -webkit-<span class=\"attribute\">transform-origin</span>: <span class=\"number\">0</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">transform-origin</span>: <span class=\"number\">0</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/* å·¦è¾¹æ¡† */</span></span><br><span class=\"line\"><span class=\"selector-class\">.l-border</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: relative;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.l-border</span><span class=\"selector-pseudo\">:before</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">content</span>: <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">  <span class=\"attribute\">left</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">bottom</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">1px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"number\">#d9d9d9</span>;</span><br><span class=\"line\">  -webkit-<span class=\"attribute\">transform</span>: <span class=\"built_in\">scaleX</span>(<span class=\"number\">0.5</span>);</span><br><span class=\"line\">  <span class=\"attribute\">transform</span>: <span class=\"built_in\">scaleX</span>(<span class=\"number\">0.5</span>);</span><br><span class=\"line\">  -webkit-<span class=\"attribute\">transform-origin</span>: <span class=\"number\">0</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">transform-origin</span>: <span class=\"number\">0</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* å››æ¡è¾¹ */</span></span><br><span class=\"line\"><span class=\"selector-class\">.setBorderAll</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: relative;</span><br><span class=\"line\">  &amp;<span class=\"selector-pseudo\">:after</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">content</span>: <span class=\"string\">&#x27; &#x27;</span>;</span><br><span class=\"line\">    <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">    <span class=\"attribute\">top</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"attribute\">left</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">200%</span>;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>: <span class=\"number\">200%</span>;</span><br><span class=\"line\">    <span class=\"attribute\">transform</span>: <span class=\"built_in\">scale</span>(<span class=\"number\">0.5</span>);</span><br><span class=\"line\">    <span class=\"attribute\">transform-origin</span>: left top;</span><br><span class=\"line\">    <span class=\"attribute\">box-sizing</span>: border-box;</span><br><span class=\"line\">    <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid <span class=\"number\">#e5e5e5</span>;</span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"number\">4px</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"å±è”½ç”¨æˆ·é€‰æ‹©\"><a href=\"#å±è”½ç”¨æˆ·é€‰æ‹©\" class=\"headerlink\" title=\"å±è”½ç”¨æˆ·é€‰æ‹©\"></a>å±è”½ç”¨æˆ·é€‰æ‹©</h4><p>ç¦æ­¢ç”¨æˆ·é€‰æ‹©é¡µé¢ä¸­çš„æ–‡å­—æˆ–è€…å›¾ç‰‡</p>\n<figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">div</span> &#123;</span><br><span class=\"line\">  -webkit-touch-callout: none;</span><br><span class=\"line\">  -webkit-user-select: none;</span><br><span class=\"line\">  -khtml-user-select: none;</span><br><span class=\"line\">  -moz-user-select: none;</span><br><span class=\"line\">  -ms-user-select: none;</span><br><span class=\"line\">  user-select: none;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"æ¸…é™¤è¾“å…¥æ¡†å†…é˜´å½±\"><a href=\"#æ¸…é™¤è¾“å…¥æ¡†å†…é˜´å½±\" class=\"headerlink\" title=\"æ¸…é™¤è¾“å…¥æ¡†å†…é˜´å½±\"></a>æ¸…é™¤è¾“å…¥æ¡†å†…é˜´å½±</h4><p>åœ¨ iOS ä¸Šï¼Œè¾“å…¥æ¡†é»˜è®¤æœ‰å†…éƒ¨é˜´å½±,ä»¥è¿™æ ·å…³é—­ï¼š</p>\n<figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">div</span> &#123;</span><br><span class=\"line\">  -webkit-appearance: none;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"å¦‚ä½•ç¦æ­¢ä¿å­˜æˆ–æ‹·è´å›¾åƒ\"><a href=\"#å¦‚ä½•ç¦æ­¢ä¿å­˜æˆ–æ‹·è´å›¾åƒ\" class=\"headerlink\" title=\"å¦‚ä½•ç¦æ­¢ä¿å­˜æˆ–æ‹·è´å›¾åƒ\"></a>å¦‚ä½•ç¦æ­¢ä¿å­˜æˆ–æ‹·è´å›¾åƒ</h4><p>ä»£ç å¦‚ä¸‹</p>\n<figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">img</span> &#123;</span><br><span class=\"line\">  -webkit-touch-callout: none;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"è¾“å…¥æ¡†é»˜è®¤å­—ä½“é¢œè‰²\"><a href=\"#è¾“å…¥æ¡†é»˜è®¤å­—ä½“é¢œè‰²\" class=\"headerlink\" title=\"è¾“å…¥æ¡†é»˜è®¤å­—ä½“é¢œè‰²\"></a>è¾“å…¥æ¡†é»˜è®¤å­—ä½“é¢œè‰²</h4><p>è®¾ç½® input é‡Œé¢ placeholder å­—ä½“çš„é¢œè‰²</p>\n<figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">input</span>::-webkit-input-placeholder,</span><br><span class=\"line\">textarea::-webkit-input-placeholder &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#c7c7c7</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-tag\">input</span>:-moz-placeholder,</span><br><span class=\"line\">textarea:-moz-placeholder &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#c7c7c7</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-tag\">input</span>:-ms-input-placeholder,</span><br><span class=\"line\">textarea:-ms-input-placeholder &#123;</span><br><span class=\"line\">  <span class=\"attribute\">color</span>: <span class=\"number\">#c7c7c7</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"ç”¨æˆ·è®¾ç½®å­—å·æ”¾å¤§æˆ–è€…ç¼©å°å¯¼è‡´é¡µé¢å¸ƒå±€é”™è¯¯\"><a href=\"#ç”¨æˆ·è®¾ç½®å­—å·æ”¾å¤§æˆ–è€…ç¼©å°å¯¼è‡´é¡µé¢å¸ƒå±€é”™è¯¯\" class=\"headerlink\" title=\"ç”¨æˆ·è®¾ç½®å­—å·æ”¾å¤§æˆ–è€…ç¼©å°å¯¼è‡´é¡µé¢å¸ƒå±€é”™è¯¯\"></a>ç”¨æˆ·è®¾ç½®å­—å·æ”¾å¤§æˆ–è€…ç¼©å°å¯¼è‡´é¡µé¢å¸ƒå±€é”™è¯¯</h4><p>è®¾ç½®å­—ä½“ç¦æ­¢ç¼©æ”¾</p>\n<figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">body</span> &#123;</span><br><span class=\"line\">  -webkit-text-size-adjust: <span class=\"number\">100%</span> <span class=\"meta\">!important</span>;</span><br><span class=\"line\">  text-size-adjust: <span class=\"number\">100%</span> <span class=\"meta\">!important</span>;</span><br><span class=\"line\">  -moz-text-size-adjust: <span class=\"number\">100%</span> <span class=\"meta\">!important</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"androidç³»ç»Ÿä¸­å…ƒç´ è¢«ç‚¹å‡»æ—¶äº§ç”Ÿè¾¹æ¡†\"><a href=\"#androidç³»ç»Ÿä¸­å…ƒç´ è¢«ç‚¹å‡»æ—¶äº§ç”Ÿè¾¹æ¡†\" class=\"headerlink\" title=\"androidç³»ç»Ÿä¸­å…ƒç´ è¢«ç‚¹å‡»æ—¶äº§ç”Ÿè¾¹æ¡†\"></a>androidç³»ç»Ÿä¸­å…ƒç´ è¢«ç‚¹å‡»æ—¶äº§ç”Ÿè¾¹æ¡†</h4><p>éƒ¨åˆ†androidç³»ç»Ÿç‚¹å‡»ä¸€ä¸ªé“¾æ¥ï¼Œä¼šå‡ºç°ä¸€ä¸ªè¾¹æ¡†æˆ–è€…åŠé€æ˜ç°è‰²é®ç½©, ä¸åŒç”Ÿäº§å•†å®šä¹‰å‡ºæ¥é¢æ•ˆæœä¸ä¸€æ ·ã€‚å»é™¤ä»£ç å¦‚ä¸‹</p>\n<figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">a</span>,<span class=\"selector-tag\">button</span>,<span class=\"selector-tag\">input</span>,<span class=\"selector-tag\">textarea</span>&#123;</span><br><span class=\"line\">  -webkit-tap-highlight-<span class=\"attribute\">color</span>: <span class=\"built_in\">rgba</span>(<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>,<span class=\"number\">0</span>)</span><br><span class=\"line\">  -webkit-user-modify:read-write-plaintext-only; </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"iOS-æ»‘åŠ¨ä¸æµç•…\"><a href=\"#iOS-æ»‘åŠ¨ä¸æµç•…\" class=\"headerlink\" title=\"iOS æ»‘åŠ¨ä¸æµç•…\"></a>iOS æ»‘åŠ¨ä¸æµç•…</h4><p>ios æ‰‹æœºä¸Šä¸‹æ»‘åŠ¨é¡µé¢ä¼šäº§ç”Ÿå¡é¡¿ï¼Œæ‰‹æŒ‡ç¦»å¼€é¡µé¢ï¼Œé¡µé¢ç«‹å³åœæ­¢è¿åŠ¨ã€‚æ•´ä½“è¡¨ç°å°±æ˜¯æ»‘åŠ¨ä¸æµç•…ï¼Œæ²¡æœ‰æ»‘åŠ¨æƒ¯æ€§ã€‚<br>iOS 5.0 ä»¥åŠä¹‹åçš„ç‰ˆæœ¬ï¼Œæ»‘åŠ¨æœ‰å®šä¹‰æœ‰ä¸¤ä¸ªå€¼ auto å’Œ touchï¼Œé»˜è®¤å€¼ä¸º autoã€‚</p>\n<p><strong>è§£å†³æ–¹æ¡ˆ</strong></p>\n<ol>\n<li>åœ¨æ»šåŠ¨å®¹å™¨ä¸Šå¢åŠ æ»šåŠ¨ touch æ–¹æ³•</li>\n</ol>\n<figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.wrapper</span> &#123;</span><br><span class=\"line\">  -webkit-<span class=\"attribute\">overflow</span>-scrolling: touch;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li>è®¾ç½® overflow<br>è®¾ç½®å¤–éƒ¨ overflow ä¸º hidden,è®¾ç½®å†…å®¹å…ƒç´  overflow ä¸º autoã€‚å†…éƒ¨å…ƒç´ è¶…å‡º body å³äº§ç”Ÿæ»šåŠ¨ï¼Œè¶…å‡ºçš„éƒ¨åˆ† body éšè—ã€‚</li>\n</ol>\n<figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">body</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">overflow-y</span>: hidden;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.wrapper</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">overflow-y</span>: auto;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"js-ç¯‡\"><a href=\"#js-ç¯‡\" class=\"headerlink\" title=\"js ç¯‡\"></a>js ç¯‡</h3><h4 id=\"ç§»åŠ¨ç«¯clickå±å¹•äº§ç”Ÿ200-300-msçš„å»¶è¿Ÿå“åº”\"><a href=\"#ç§»åŠ¨ç«¯clickå±å¹•äº§ç”Ÿ200-300-msçš„å»¶è¿Ÿå“åº”\" class=\"headerlink\" title=\"ç§»åŠ¨ç«¯clickå±å¹•äº§ç”Ÿ200-300 msçš„å»¶è¿Ÿå“åº”\"></a>ç§»åŠ¨ç«¯clickå±å¹•äº§ç”Ÿ200-300 msçš„å»¶è¿Ÿå“åº”</h4><p>ç§»åŠ¨è®¾å¤‡ä¸Šçš„webç½‘é¡µæ˜¯æœ‰300mså»¶è¿Ÿçš„ï¼Œå¾€å¾€ä¼šé€ æˆæŒ‰é’®ç‚¹å‡»å»¶è¿Ÿç”šè‡³æ˜¯ç‚¹å‡»å¤±æ•ˆã€‚è§£å†³æ–¹æ¡ˆï¼š</p>\n<ul>\n<li>fastclickå¯ä»¥è§£å†³åœ¨æ‰‹æœºä¸Šç‚¹å‡»äº‹ä»¶çš„300mså»¶è¿Ÿ</li>\n<li>zeptoçš„touchæ¨¡å—ï¼Œtapäº‹ä»¶ä¹Ÿæ˜¯ä¸ºäº†è§£å†³åœ¨clickçš„å»¶è¿Ÿé—®é¢˜</li>\n</ul>\n<p>è§¦æ‘¸äº‹ä»¶çš„å“åº”é¡ºåº</p>\n<ol>\n<li>ontouchstart </li>\n<li>ontouchmove </li>\n<li>ontouchend </li>\n<li>onclick</li>\n</ol>\n<h4 id=\"audio-å’Œ-video-åœ¨-ios-å’Œ-andriod-ä¸­è‡ªåŠ¨æ’­æ”¾\"><a href=\"#audio-å’Œ-video-åœ¨-ios-å’Œ-andriod-ä¸­è‡ªåŠ¨æ’­æ”¾\" class=\"headerlink\" title=\"audio å’Œ video åœ¨ ios å’Œ andriod ä¸­è‡ªåŠ¨æ’­æ”¾\"></a>audio å’Œ video åœ¨ ios å’Œ andriod ä¸­è‡ªåŠ¨æ’­æ”¾</h4><p>è¿™ä¸ªä¸æ˜¯bugï¼Œç”±äºè‡ªåŠ¨æ’­æ”¾ç½‘é¡µä¸­çš„éŸ³é¢‘æˆ–è§†é¢‘ï¼Œä¼šç»™ç”¨æˆ·å¸¦æ¥ä¸€äº›å›°æ‰°æˆ–è€…ä¸å¿…è¦çš„æµé‡æ¶ˆè€—ï¼Œæ‰€ä»¥è‹¹æœç³»ç»Ÿå’Œå®‰å“ç³»ç»Ÿé€šå¸¸éƒ½ä¼šç¦æ­¢è‡ªåŠ¨æ’­æ”¾å’Œä½¿ç”¨ JS çš„è§¦å‘æ’­æ”¾ï¼Œå¿…é¡»ç”±ç”¨æˆ·æ¥è§¦å‘æ‰å¯ä»¥æ’­æ”¾ã€‚åŠ å…¥è‡ªåŠ¨è§¦å‘æ’­æ”¾çš„ä»£ç </p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">$(<span class=\"string\">&#x27;html&#x27;</span>).<span class=\"title function_\">one</span>(<span class=\"string\">&#x27;touchstart&#x27;</span>, <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  audio.<span class=\"title function_\">play</span>()</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"iOS-ä¸Šæ‹‰è¾¹ç•Œä¸‹æ‹‰å‡ºç°ç©ºç™½\"><a href=\"#iOS-ä¸Šæ‹‰è¾¹ç•Œä¸‹æ‹‰å‡ºç°ç©ºç™½\" class=\"headerlink\" title=\"iOS ä¸Šæ‹‰è¾¹ç•Œä¸‹æ‹‰å‡ºç°ç©ºç™½\"></a>iOS ä¸Šæ‹‰è¾¹ç•Œä¸‹æ‹‰å‡ºç°ç©ºç™½</h4><p>æ‰‹æŒ‡æŒ‰ä½å±å¹•ä¸‹æ‹‰ï¼Œå±å¹•é¡¶éƒ¨ä¼šå¤šå‡ºä¸€å—ç™½è‰²åŒºåŸŸã€‚æ‰‹æŒ‡æŒ‰ä½å±å¹•ä¸Šæ‹‰ï¼Œåº•éƒ¨å¤šå‡ºä¸€å—ç™½è‰²åŒºåŸŸã€‚</p>\n<p>åœ¨ iOS ä¸­ï¼Œæ‰‹æŒ‡æŒ‰ä½å±å¹•ä¸Šä¸‹æ‹–åŠ¨ï¼Œä¼šè§¦å‘ touchmove äº‹ä»¶ã€‚è¿™ä¸ªäº‹ä»¶è§¦å‘çš„å¯¹è±¡æ˜¯æ•´ä¸ª webview å®¹å™¨ï¼Œå®¹å™¨è‡ªç„¶ä¼šè¢«æ‹–åŠ¨ï¼Œå‰©ä¸‹çš„éƒ¨åˆ†ä¼šæˆç©ºç™½ã€‚</p>\n<p><strong>è§£å†³æ–¹æ¡ˆ</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"title function_\">addEventListener</span>(</span><br><span class=\"line\">  <span class=\"string\">&#x27;touchmove&#x27;</span>,</span><br><span class=\"line\">  <span class=\"keyword\">function</span>(<span class=\"params\">e</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (e.<span class=\"property\">_isScroller</span>) <span class=\"keyword\">return</span></span><br><span class=\"line\">    <span class=\"comment\">// é˜»æ­¢é»˜è®¤äº‹ä»¶</span></span><br><span class=\"line\">    e.<span class=\"title function_\">preventDefault</span>()</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"attr\">passive</span>: <span class=\"literal\">false</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">)</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"ios-æ—¥æœŸè½¬æ¢-NAN-çš„é—®é¢˜\"><a href=\"#ios-æ—¥æœŸè½¬æ¢-NAN-çš„é—®é¢˜\" class=\"headerlink\" title=\"ios æ—¥æœŸè½¬æ¢ NAN çš„é—®é¢˜\"></a>ios æ—¥æœŸè½¬æ¢ NAN çš„é—®é¢˜</h4><p>å°†æ—¥æœŸå­—ç¬¦ä¸²çš„æ ¼å¼ç¬¦å·æ›¿æ¢æˆâ€™&#x2F;â€˜</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&#x27;yyyy-MM-dd&#x27;</span>.<span class=\"title function_\">replace</span>(<span class=\"regexp\">/-/g</span>, <span class=\"string\">&#x27;/&#x27;</span>)</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"è½¯é”®ç›˜é—®é¢˜\"><a href=\"#è½¯é”®ç›˜é—®é¢˜\" class=\"headerlink\" title=\"è½¯é”®ç›˜é—®é¢˜\"></a>è½¯é”®ç›˜é—®é¢˜</h3><h4 id=\"IOS-é”®ç›˜å¼¹èµ·æŒ¡ä½åŸæ¥çš„è§†å›¾\"><a href=\"#IOS-é”®ç›˜å¼¹èµ·æŒ¡ä½åŸæ¥çš„è§†å›¾\" class=\"headerlink\" title=\"IOS é”®ç›˜å¼¹èµ·æŒ¡ä½åŸæ¥çš„è§†å›¾\"></a>IOS é”®ç›˜å¼¹èµ·æŒ¡ä½åŸæ¥çš„è§†å›¾</h4><ul>\n<li>å¯ä»¥é€šè¿‡ç›‘å¬ç§»åŠ¨ç«¯è½¯é”®ç›˜å¼¹èµ·<br>Element.scrollIntoViewIfNeededï¼ˆBooleanï¼‰æ–¹æ³•ç”¨æ¥å°†ä¸åœ¨æµè§ˆå™¨çª—å£çš„å¯è§åŒºåŸŸå†…çš„å…ƒç´ æ»šåŠ¨åˆ°æµè§ˆå™¨çª—å£çš„å¯è§åŒºåŸŸã€‚ å¦‚æœè¯¥å…ƒç´ å·²ç»åœ¨æµè§ˆå™¨çª—å£çš„å¯è§åŒºåŸŸå†…ï¼Œåˆ™ä¸ä¼šå‘ç”Ÿæ»šåŠ¨ã€‚</li>\n<li>trueï¼Œåˆ™å…ƒç´ å°†åœ¨å…¶æ‰€åœ¨æ»šåŠ¨åŒºçš„å¯è§†åŒºåŸŸä¸­å±…ä¸­å¯¹é½ã€‚</li>\n<li>falseï¼Œåˆ™å…ƒç´ å°†ä¸å…¶æ‰€åœ¨æ»šåŠ¨åŒºçš„å¯è§†åŒºåŸŸæœ€è¿‘çš„è¾¹ç¼˜å¯¹é½ã€‚ æ ¹æ®å¯è§åŒºåŸŸæœ€é è¿‘å…ƒç´ çš„å“ªä¸ªè¾¹ç¼˜ï¼Œå…ƒç´ çš„é¡¶éƒ¨å°†ä¸å¯è§åŒºåŸŸçš„é¡¶éƒ¨è¾¹ç¼˜å¯¹å‡†ï¼Œæˆ–è€…å…ƒç´ çš„åº•éƒ¨è¾¹ç¼˜å°†ä¸å¯è§åŒºåŸŸçš„åº•éƒ¨è¾¹ç¼˜å¯¹å‡†ã€‚</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;resize&#x27;</span>, <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (</span><br><span class=\"line\">    <span class=\"variable language_\">document</span>.<span class=\"property\">activeElement</span>.<span class=\"property\">tagName</span> === <span class=\"string\">&#x27;INPUT&#x27;</span> ||</span><br><span class=\"line\">    <span class=\"variable language_\">document</span>.<span class=\"property\">activeElement</span>.<span class=\"property\">tagName</span> === <span class=\"string\">&#x27;TEXTAREA&#x27;</span></span><br><span class=\"line\">  ) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">window</span>.<span class=\"built_in\">setTimeout</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"string\">&#x27;scrollIntoView&#x27;</span> <span class=\"keyword\">in</span> <span class=\"variable language_\">document</span>.<span class=\"property\">activeElement</span>) &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">document</span>.<span class=\"property\">activeElement</span>.<span class=\"title function_\">scrollIntoView</span>(<span class=\"literal\">false</span>)</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">document</span>.<span class=\"property\">activeElement</span>.<span class=\"title function_\">scrollIntoViewIfNeeded</span>(<span class=\"literal\">false</span>)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;, <span class=\"number\">0</span>)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"onkeyUp-å’Œ-onKeydown-å…¼å®¹æ€§é—®é¢˜\"><a href=\"#onkeyUp-å’Œ-onKeydown-å…¼å®¹æ€§é—®é¢˜\" class=\"headerlink\" title=\"onkeyUp å’Œ onKeydown å…¼å®¹æ€§é—®é¢˜\"></a>onkeyUp å’Œ onKeydown å…¼å®¹æ€§é—®é¢˜</h4><p>IOS ä¸­ input é”®ç›˜äº‹ä»¶ keyupã€keydownã€ç­‰æ”¯æŒä¸æ˜¯å¾ˆå¥½, ç”¨ input ç›‘å¬é”®ç›˜ keyup äº‹ä»¶ï¼Œåœ¨å®‰å“æ‰‹æœºæµè§ˆå™¨ä¸­æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯åœ¨ ios æ‰‹æœºæµè§ˆå™¨ä¸­ç”¨è¾“å…¥æ³•è¾“å…¥ä¹‹åï¼Œå¹¶æœªç«‹åˆ»ç›¸åº” keyup äº‹ä»¶</p>\n<h4 id=\"IOS12-è¾“å…¥æ¡†éš¾ä»¥ç‚¹å‡»è·å–ç„¦ç‚¹ï¼Œå¼¹ä¸å‡ºè½¯é”®ç›˜\"><a href=\"#IOS12-è¾“å…¥æ¡†éš¾ä»¥ç‚¹å‡»è·å–ç„¦ç‚¹ï¼Œå¼¹ä¸å‡ºè½¯é”®ç›˜\" class=\"headerlink\" title=\"IOS12 è¾“å…¥æ¡†éš¾ä»¥ç‚¹å‡»è·å–ç„¦ç‚¹ï¼Œå¼¹ä¸å‡ºè½¯é”®ç›˜\"></a>IOS12 è¾“å…¥æ¡†éš¾ä»¥ç‚¹å‡»è·å–ç„¦ç‚¹ï¼Œå¼¹ä¸å‡ºè½¯é”®ç›˜</h4><p>å®šä½æ‰¾åˆ°é—®é¢˜æ˜¯ fastclick.js å¯¹ IOS12 çš„å…¼å®¹æ€§ï¼Œå¯åœ¨ fastclick.js æºç æˆ–è€… main.js åšä»¥ä¸‹ä¿®æ”¹</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"title class_\">FastClick</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">focus</span> = <span class=\"keyword\">function</span>(<span class=\"params\">targetElement</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> length</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (</span><br><span class=\"line\">    deviceIsIOS &amp;&amp;</span><br><span class=\"line\">    targetElement.<span class=\"property\">setSelectionRange</span> &amp;&amp;</span><br><span class=\"line\">    targetElement.<span class=\"property\">type</span>.<span class=\"title function_\">indexOf</span>(<span class=\"string\">&#x27;date&#x27;</span>) !== <span class=\"number\">0</span> &amp;&amp;</span><br><span class=\"line\">    targetElement.<span class=\"property\">type</span> !== <span class=\"string\">&#x27;time&#x27;</span> &amp;&amp;</span><br><span class=\"line\">    targetElement.<span class=\"property\">type</span> !== <span class=\"string\">&#x27;month&#x27;</span></span><br><span class=\"line\">  ) &#123;</span><br><span class=\"line\">    length = targetElement.<span class=\"property\">value</span>.<span class=\"property\">length</span></span><br><span class=\"line\">    targetElement.<span class=\"title function_\">setSelectionRange</span>(length, length)</span><br><span class=\"line\">    targetElement.<span class=\"title function_\">focus</span>()</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    targetElement.<span class=\"title function_\">focus</span>()</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"IOS-é”®ç›˜æ”¶èµ·æ—¶é¡µé¢æ²¡ç”¨å›è½ï¼Œåº•éƒ¨ä¼šç•™ç™½\"><a href=\"#IOS-é”®ç›˜æ”¶èµ·æ—¶é¡µé¢æ²¡ç”¨å›è½ï¼Œåº•éƒ¨ä¼šç•™ç™½\" class=\"headerlink\" title=\"IOS é”®ç›˜æ”¶èµ·æ—¶é¡µé¢æ²¡ç”¨å›è½ï¼Œåº•éƒ¨ä¼šç•™ç™½\"></a>IOS é”®ç›˜æ”¶èµ·æ—¶é¡µé¢æ²¡ç”¨å›è½ï¼Œåº•éƒ¨ä¼šç•™ç™½</h4><p>é€šè¿‡ç›‘å¬é”®ç›˜å›è½æ—¶é—´æ»šåŠ¨åˆ°åŸæ¥çš„ä½ç½®</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;focusout&#x27;</span>, <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">window</span>.<span class=\"title function_\">scrollTo</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//inputè¾“å…¥æ¡†å¼¹èµ·è½¯é”®ç›˜çš„è§£å†³æ–¹æ¡ˆã€‚</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> bfscrolltop = <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"property\">scrollTop</span></span><br><span class=\"line\">$(<span class=\"string\">&#x27;input&#x27;</span>)</span><br><span class=\"line\">  .<span class=\"title function_\">focus</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"property\">scrollTop</span> = <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"property\">scrollHeight</span></span><br><span class=\"line\">    <span class=\"comment\">//console.log(document.body.scrollTop);</span></span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">  .<span class=\"title function_\">blur</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"property\">scrollTop</span> = bfscrolltop</span><br><span class=\"line\">    <span class=\"comment\">//console.log(document.body.scrollTop);</span></span><br><span class=\"line\">  &#125;)</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"IOS-ä¸‹-fixed-å¤±æ•ˆçš„åŸå› \"><a href=\"#IOS-ä¸‹-fixed-å¤±æ•ˆçš„åŸå› \" class=\"headerlink\" title=\"IOS ä¸‹ fixed å¤±æ•ˆçš„åŸå› \"></a>IOS ä¸‹ fixed å¤±æ•ˆçš„åŸå› </h4><p>è½¯é”®ç›˜å”¤èµ·åï¼Œé¡µé¢çš„ fixed å…ƒç´ å°†å¤±æ•ˆï¼Œå˜æˆäº† absoluteï¼Œæ‰€ä»¥å½“é¡µé¢è¶…è¿‡ä¸€å±ä¸”æ»šåŠ¨æ—¶ï¼Œå¤±æ•ˆçš„ fixed å…ƒç´ å°±ä¼šè·Ÿéšæ»šåŠ¨äº†ã€‚ä¸ä»…é™äº type&#x3D;text çš„è¾“å…¥æ¡†ï¼Œå‡¡æ˜¯è½¯é”®ç›˜ï¼ˆæ¯”å¦‚æ—¶é—´æ—¥æœŸé€‰æ‹©ã€select é€‰æ‹©ç­‰ç­‰ï¼‰è¢«å”¤èµ·ï¼Œéƒ½ä¼šé‡åˆ°åŒæ ·åœ°é—®é¢˜ã€‚</p>\n<p>è§£å†³æ–¹æ³•: ä¸è®©é¡µé¢æ»šåŠ¨ï¼Œè€Œæ˜¯è®©ä¸»ä½“éƒ¨åˆ†è‡ªå·±æ»šåŠ¨,ä¸»ä½“éƒ¨åˆ†é«˜åº¦è®¾ä¸º 100%ï¼Œoverflow:scroll</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&#x27;warper&#x27;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&#x27;main&#x27;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;fix-bottom&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.warper</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">  <span class=\"attribute\">left</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">right</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">top</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">bottom</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">overflow-y</span>: scroll;</span><br><span class=\"line\">  -webkit-<span class=\"attribute\">overflow</span>-scrolling: touch; <span class=\"comment\">/* è§£å†³iosæ»‘åŠ¨ä¸æµç•…é—®é¢˜ */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.fix-bottom</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: fixed;</span><br><span class=\"line\">  <span class=\"attribute\">bottom</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"æ€»ç»“å‡ ä¸ªç§»åŠ¨ç«¯H5è½¯é”®ç›˜çš„å¤§å‘","url":"/LittleWhiteRabbit/2022/04/26/%E6%80%BB%E7%BB%93%E5%87%A0%E4%B8%AA%E7%A7%BB%E5%8A%A8%E7%AB%AFH5%E8%BD%AF%E9%94%AE%E7%9B%98%E7%9A%84%E5%A4%A7%E5%9D%91/","content":"<h3 id=\"1ã€éƒ¨åˆ†æœºå‹è½¯é”®ç›˜å¼¹èµ·æŒ¡ä½åŸæ¥çš„è§†å›¾\"><a href=\"#1ã€éƒ¨åˆ†æœºå‹è½¯é”®ç›˜å¼¹èµ·æŒ¡ä½åŸæ¥çš„è§†å›¾\" class=\"headerlink\" title=\"1ã€éƒ¨åˆ†æœºå‹è½¯é”®ç›˜å¼¹èµ·æŒ¡ä½åŸæ¥çš„è§†å›¾\"></a>1ã€éƒ¨åˆ†æœºå‹è½¯é”®ç›˜å¼¹èµ·æŒ¡ä½åŸæ¥çš„è§†å›¾</h3><p>è§£å†³æ–¹æ³•ï¼šå¯ä»¥é€šè¿‡ç›‘å¬ç§»åŠ¨ç«¯è½¯é”®ç›˜å¼¹èµ·</p>\n<span id=\"more\"></span>\n<p><code>Element.scrollIntoView()</code> æ–¹æ³•è®©å½“å‰çš„å…ƒç´ æ»šåŠ¨åˆ°æµè§ˆå™¨çª—å£çš„å¯è§†åŒºåŸŸå†…ã€‚å‚æ•°å¦‚ä¸‹ã€‚</p>\n<ul>\n<li>trueï¼Œè¡¨ç¤ºå…ƒç´ çš„é¡¶éƒ¨ä¸å½“å‰åŒºåŸŸçš„å¯è§éƒ¨åˆ†çš„é¡¶éƒ¨å¯¹é½</li>\n<li>falseï¼Œè¡¨ç¤ºå…ƒç´ çš„åº•éƒ¨ä¸å½“å‰åŒºåŸŸçš„å¯è§éƒ¨åˆ†çš„å°¾éƒ¨å¯¹é½</li>\n</ul>\n<p><code>Element.scrollIntoViewIfNeeded()</code>æ–¹æ³•ä¹Ÿæ˜¯ç”¨æ¥å°†ä¸åœ¨æµè§ˆå™¨çª—å£çš„å¯è§åŒºåŸŸå†…çš„å…ƒç´ æ»šåŠ¨åˆ°æµè§ˆå™¨çª—å£çš„å¯è§åŒºåŸŸã€‚ä½†å¦‚æœè¯¥å…ƒç´ å·²ç»åœ¨æµè§ˆå™¨çª—å£çš„å¯è§åŒºåŸŸå†…ï¼Œåˆ™ä¸ä¼šå‘ç”Ÿæ»šåŠ¨ã€‚æ­¤æ–¹æ³•æ˜¯æ ‡å‡†çš„<code>Element.scrollIntoView()</code>æ–¹æ³•çš„ä¸“æœ‰å˜ä½“ã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;resize&#x27;</span>, <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"variable language_\">document</span>.<span class=\"property\">activeElement</span>.<span class=\"property\">tagName</span> === <span class=\"string\">&#x27;INPUT&#x27;</span> || <span class=\"variable language_\">document</span>.<span class=\"property\">activeElement</span>.<span class=\"property\">tagName</span> === <span class=\"string\">&#x27;TEXTAREA&#x27;</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">window</span>.<span class=\"built_in\">setTimeout</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"string\">&#x27;scrollIntoView&#x27;</span> <span class=\"keyword\">in</span> <span class=\"variable language_\">document</span>.<span class=\"property\">activeElement</span>) &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">document</span>.<span class=\"property\">activeElement</span>.<span class=\"title function_\">scrollIntoView</span>(<span class=\"literal\">false</span>)</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">document</span>.<span class=\"property\">activeElement</span>.<span class=\"title function_\">scrollIntoViewIfNeeded</span>(<span class=\"literal\">false</span>)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;, <span class=\"number\">0</span>)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"2ã€ios-é”®ç›˜æ”¶èµ·æ—¶é¡µé¢æ²¡æœ‰å›è½ï¼Œåº•éƒ¨ä¼šç•™ç™½\"><a href=\"#2ã€ios-é”®ç›˜æ”¶èµ·æ—¶é¡µé¢æ²¡æœ‰å›è½ï¼Œåº•éƒ¨ä¼šç•™ç™½\" class=\"headerlink\" title=\"2ã€ios é”®ç›˜æ”¶èµ·æ—¶é¡µé¢æ²¡æœ‰å›è½ï¼Œåº•éƒ¨ä¼šç•™ç™½\"></a>2ã€ios é”®ç›˜æ”¶èµ·æ—¶é¡µé¢æ²¡æœ‰å›è½ï¼Œåº•éƒ¨ä¼šç•™ç™½</h3><p>éƒ¨åˆ†è‹¹æœæ‰‹æœºå¡«å†™è¡¨å•çš„æ—¶å€™çš„ï¼Œè¾“å…¥å†…å®¹åå…³é—­è½¯é”®ç›˜ï¼Œåº•éƒ¨ä¼šç•™ä¸€å—ç©ºç™½ã€‚è¿™ç§æƒ…å†µå¯ä»¥é€šè¿‡ç›‘å¬é”®ç›˜å›è½æ—¶é—´æ»šåŠ¨åˆ°åŸæ¥çš„ä½ç½®ã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;focusout&#x27;</span>, <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">window</span>.<span class=\"title function_\">scrollTo</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//inputè¾“å…¥æ¡†å¼¹èµ·è½¯é”®ç›˜çš„è§£å†³æ–¹æ¡ˆã€‚</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> bfscrolltop = <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"property\">scrollTop</span></span><br><span class=\"line\">$(<span class=\"string\">&#x27;input&#x27;</span>)</span><br><span class=\"line\">  .<span class=\"title function_\">focus</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"property\">scrollTop</span> = <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"property\">scrollHeight</span></span><br><span class=\"line\">    <span class=\"comment\">//console.log(document.body.scrollTop);</span></span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">  .<span class=\"title function_\">blur</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"property\">scrollTop</span> = bfscrolltop</span><br><span class=\"line\">    <span class=\"comment\">//console.log(document.body.scrollTop);</span></span><br><span class=\"line\">  &#125;)</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"3ã€onkeyUp-å’Œ-onKeydown-å…¼å®¹æ€§é—®é¢˜\"><a href=\"#3ã€onkeyUp-å’Œ-onKeydown-å…¼å®¹æ€§é—®é¢˜\" class=\"headerlink\" title=\"3ã€onkeyUp å’Œ onKeydown å…¼å®¹æ€§é—®é¢˜\"></a>3ã€onkeyUp å’Œ onKeydown å…¼å®¹æ€§é—®é¢˜</h3><p>éƒ¨åˆ† ios æœºå‹ ä¸­ <code>input</code> é”®ç›˜äº‹ä»¶ <code>keyup</code>ã€<code>keydown</code>ã€ç­‰æ”¯æŒä¸æ˜¯å¾ˆå¥½, ç”¨ <code>input</code> ç›‘å¬é”®ç›˜ <code>keyup</code> äº‹ä»¶ï¼Œåœ¨å®‰å“æ‰‹æœºæµè§ˆå™¨ä¸­æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯åœ¨ ios æ‰‹æœºæµè§ˆå™¨ä¸­ç”¨è¾“å…¥æ³•è¾“å…¥ä¹‹åï¼Œå¹¶æœªç«‹åˆ»ç›¸åº” <code>keyup</code> äº‹ä»¶</p>\n<ul>\n<li><code>onkeypress</code> ç”¨æˆ·æŒ‰ä¸‹å¹¶æ”¾å¼€ä»»ä½•å­—æ¯æ•°å­—é”®æ—¶å‘ç”Ÿã€‚ç³»ç»ŸæŒ‰é’®ï¼ˆç®­å¤´é”®å’ŒåŠŸèƒ½é”®ï¼‰æ— æ³•å¾—åˆ°è¯†åˆ«ã€‚ </li>\n<li><code>onkeyup</code> ç”¨æˆ·æ”¾å¼€ä»»ä½•å…ˆå‰æŒ‰ä¸‹çš„é”®ç›˜é”®æ—¶å‘ç”Ÿã€‚</li>\n<li><code>onkeydown</code> ç”¨æˆ·æŒ‰ä¸‹ä»»ä½•é”®ç›˜é”®ï¼ˆåŒ…æ‹¬ç³»ç»ŸæŒ‰é’®ï¼Œå¦‚ç®­å¤´é”®å’ŒåŠŸèƒ½é”®ï¼‰æ—¶å‘ç”Ÿã€‚</li>\n</ul>\n<h3 id=\"4ã€ios12-è¾“å…¥æ¡†éš¾ä»¥ç‚¹å‡»è·å–ç„¦ç‚¹ï¼Œå¼¹ä¸å‡ºè½¯é”®ç›˜\"><a href=\"#4ã€ios12-è¾“å…¥æ¡†éš¾ä»¥ç‚¹å‡»è·å–ç„¦ç‚¹ï¼Œå¼¹ä¸å‡ºè½¯é”®ç›˜\" class=\"headerlink\" title=\"4ã€ios12 è¾“å…¥æ¡†éš¾ä»¥ç‚¹å‡»è·å–ç„¦ç‚¹ï¼Œå¼¹ä¸å‡ºè½¯é”®ç›˜\"></a>4ã€ios12 è¾“å…¥æ¡†éš¾ä»¥ç‚¹å‡»è·å–ç„¦ç‚¹ï¼Œå¼¹ä¸å‡ºè½¯é”®ç›˜</h3><p>å®šä½æ‰¾åˆ°é—®é¢˜æ˜¯ <code>fastclick.js</code> å¯¹ <code>ios12</code> çš„å…¼å®¹æ€§ï¼Œå¯åœ¨ <code>fastclick.js</code> æºç æˆ–è€… <code>main.js</code> åšä»¥ä¸‹ä¿®æ”¹</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"title class_\">FastClick</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">focus</span> = <span class=\"keyword\">function</span>(<span class=\"params\">targetElement</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> length</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (deviceIsIOS &amp;&amp; targetElement.<span class=\"property\">setSelectionRange</span> &amp;&amp; targetElement.<span class=\"property\">type</span>.<span class=\"title function_\">indexOf</span>(<span class=\"string\">&#x27;date&#x27;</span>) !== <span class=\"number\">0</span> &amp;&amp; targetElement.<span class=\"property\">type</span> !== <span class=\"string\">&#x27;time&#x27;</span> &amp;&amp; targetElement.<span class=\"property\">type</span> !== <span class=\"string\">&#x27;month&#x27;</span>) &#123;</span><br><span class=\"line\">    length = targetElement.<span class=\"property\">value</span>.<span class=\"property\">length</span></span><br><span class=\"line\">    targetElement.<span class=\"title function_\">setSelectionRange</span>(length, length)</span><br><span class=\"line\">    targetElement.<span class=\"title function_\">focus</span>()</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    targetElement.<span class=\"title function_\">focus</span>()</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n<h3 id=\"5ã€fastclick-å¯¼è‡´ä¸‹æ‹‰æ¡†ç„¦ç‚¹å†²çª\"><a href=\"#5ã€fastclick-å¯¼è‡´ä¸‹æ‹‰æ¡†ç„¦ç‚¹å†²çª\" class=\"headerlink\" title=\"5ã€fastclick å¯¼è‡´ä¸‹æ‹‰æ¡†ç„¦ç‚¹å†²çª\"></a>5ã€fastclick å¯¼è‡´ä¸‹æ‹‰æ¡†ç„¦ç‚¹å†²çª</h3><p>ç§»åŠ¨ç«¯ä½¿ç”¨ <code>fastclick</code> ä¹‹åï¼Œåœ¨ ios ç¯å¢ƒä¸‹ï¼Œæœ‰å‡ ä¸ªè¿ç»­çš„ä¸‹æ‹‰æ¡† ç¬¬ä¸€ä¸ª <code>select</code> æ¡†çªç„¶å¡«å……äº†ç¬¬äºŒä¸ªä¸‹æ‹‰æ¡†çš„å†…å®¹ã€‚</p>\n<p>æ ¹æœ¬åŸå› æ˜¯ <code>Fastclick</code> å¯¼è‡´ ios ä¸‹å¤šä¸ª <code>select</code> ï¼Œç‚¹å‡»æŸä¸€ä¸ªï¼Œç„¦ç‚¹ä¸åœå˜æ¢çš„ bugã€‚ä¿®æ”¹æºç ï¼Œåœ¨ onTouchStart äº‹ä»¶å†…åˆ¤æ–­è®¾å¤‡æ˜¯å¦ä¸º iosï¼Œå†åˆ¤æ–­å½“å‰ <code>nodeName</code> æ˜¯å¦ä¸º <code>select</code>ï¼Œå¦‚æœæ˜¯ <code>return false</code> å»é˜»æ­¢ <code>fastClick</code> æ‰§è¡Œå…¶ä»–äº‹ä»¶ã€‚ </p>\n<p>github æºç åœ°å€ï¼šfastclick.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//line 391è¡Œ</span></span><br><span class=\"line\"><span class=\"title class_\">FastClick</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">onTouchStart</span> = <span class=\"keyword\">function</span>(<span class=\"params\">event</span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">//åœ¨å…¶æ–¹æ³•ä¸­æ·»åŠ åˆ¤æ–­ ç¬¦åˆios selectçš„æ—¶å€™ ä¸è¿”å›äº‹ä»¶</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (deviceIsIOS &amp;&amp; <span class=\"variable language_\">this</span>.<span class=\"property\">targetElement</span> == <span class=\"string\">&#x27;select&#x27;</span>) <span class=\"variable language_\">this</span>.<span class=\"property\">targetElement</span> = <span class=\"literal\">null</span></span><br><span class=\"line\">  event.<span class=\"title function_\">preventDefault</span>()</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//line521 æˆ–è€…è®²æºç ä¸­ æœ‰å…³touchEndåˆ¤æ–­éiosæˆ–è€…éselectçš„äº‹ä»¶æ³¨é‡Šï¼Œ</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (!deviceIsIOS || targetTagName !== <span class=\"string\">&#x27;select&#x27;</span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"property\">targetElement</span> = <span class=\"literal\">null</span></span><br><span class=\"line\">  event.<span class=\"title function_\">preventDefault</span>()</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"6ã€ios-ä¸‹-fixed-å¤±æ•ˆçš„åŸå› \"><a href=\"#6ã€ios-ä¸‹-fixed-å¤±æ•ˆçš„åŸå› \" class=\"headerlink\" title=\"6ã€ios ä¸‹ fixed å¤±æ•ˆçš„åŸå› \"></a>6ã€ios ä¸‹ fixed å¤±æ•ˆçš„åŸå› </h3><p>è½¯é”®ç›˜å”¤èµ·åï¼Œé¡µé¢çš„ <code>fixed</code> å…ƒç´ å°†å¤±æ•ˆï¼Œå˜æˆäº† <code>absolute</code>ï¼Œæ‰€ä»¥å½“é¡µé¢è¶…è¿‡ä¸€å±ä¸”æ»šåŠ¨æ—¶ï¼Œå¤±æ•ˆçš„ <code>fixed</code> å…ƒç´ å°±ä¼šè·Ÿéšæ»šåŠ¨äº†ã€‚ä¸ä»…é™äº <code>type=text</code> çš„è¾“å…¥æ¡†ï¼Œå‡¡æ˜¯è½¯é”®ç›˜ï¼ˆæ¯”å¦‚æ—¶é—´æ—¥æœŸé€‰æ‹©ã€select é€‰æ‹©ç­‰ç­‰ï¼‰è¢«å”¤èµ·ï¼Œéƒ½ä¼šé‡åˆ°åŒæ ·åœ°é—®é¢˜ã€‚</p>\n<p>è§£å†³æ–¹æ³•: ä¸è®©é¡µé¢æ»šåŠ¨ï¼Œè€Œæ˜¯è®©ä¸»ä½“éƒ¨åˆ†è‡ªå·±æ»šåŠ¨,ä¸»ä½“éƒ¨åˆ†é«˜åº¦è®¾ä¸º 100%ï¼Œ<code>overflow:scroll</code></p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&#x27;warper&#x27;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&#x27;main&#x27;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;fix-bottom&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.warper</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">  <span class=\"attribute\">left</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">right</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">top</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">bottom</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">overflow-y</span>: scroll;</span><br><span class=\"line\">  -webkit-<span class=\"attribute\">overflow</span>-scrolling: touch; <span class=\"comment\">/* è§£å†³iosæ»‘åŠ¨ä¸æµç•…é—®é¢˜ */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.fix-bottom</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: fixed;</span><br><span class=\"line\">  <span class=\"attribute\">bottom</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"7ã€ios-é”®ç›˜æ¢è¡Œå˜ä¸ºæœç´¢\"><a href=\"#7ã€ios-é”®ç›˜æ¢è¡Œå˜ä¸ºæœç´¢\" class=\"headerlink\" title=\"7ã€ios é”®ç›˜æ¢è¡Œå˜ä¸ºæœç´¢\"></a>7ã€ios é”®ç›˜æ¢è¡Œå˜ä¸ºæœç´¢</h3><ol>\n<li><code>input type=&quot;search&quot;</code></li>\n<li>input å¤–é¢å¥— formï¼Œå¿…é¡»è¦æœ‰ actionï¼Œ<code>action=&quot;javascript:return true&quot;</code></li>\n<li>è¡¨å•æäº¤é˜»æ­¢é»˜è®¤æäº¤äº‹ä»¶</li>\n</ol>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">form</span> <span class=\"attr\">action</span>=<span class=\"string\">&quot;javascript:return true&quot;</span> @<span class=\"attr\">submit.prevent</span>=<span class=\"string\">&quot;formSubmit&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;search&quot;</span> <span class=\"attr\">placeholder</span>=<span class=\"string\">&quot;è¯·è¾“å…¥è¯‰æ±‚åç§°&quot;</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;search&quot;</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">form</span>&gt;</span></span><br></pre></td></tr></table></figure>\n"},{"title":"webSocket","url":"/LittleWhiteRabbit/2022/04/26/%E6%B5%85%E8%B0%88webscoket%E5%8E%9F%E7%90%86%E5%8F%8A%E5%85%B6%E5%BA%94%E7%94%A8/","content":"<h3 id=\"ä»€ä¹ˆæ˜¯-webSocket\"><a href=\"#ä»€ä¹ˆæ˜¯-webSocket\" class=\"headerlink\" title=\"ä»€ä¹ˆæ˜¯ webSocket\"></a>ä»€ä¹ˆæ˜¯ webSocket</h3><p>WebSocket æ˜¯ä¸€ç§åœ¨å•ä¸ª TCP è¿æ¥ä¸Šè¿›è¡Œå…¨åŒå·¥é€šä¿¡çš„åè®®ã€‚ä½¿å¾—å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„æ•°æ®äº¤æ¢å˜å¾—æ›´åŠ ç®€å•ï¼Œå…è®¸æœåŠ¡ç«¯ä¸»åŠ¨å‘å®¢æˆ·ç«¯æ¨é€æ•°æ®ã€‚  </p>\n<p>åœ¨ WebSocket API ä¸­ï¼Œæµè§ˆå™¨å’ŒæœåŠ¡å™¨åªéœ€è¦å®Œæˆä¸€æ¬¡æ¡æ‰‹ï¼Œä¸¤è€…ä¹‹é—´å°±ç›´æ¥å¯ä»¥åˆ›å»ºæŒä¹…æ€§çš„è¿æ¥ï¼Œå¹¶è¿›è¡ŒåŒå‘æ•°æ®ä¼ è¾“ã€‚</p>\n<h3 id=\"WebSocket-è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼š\"><a href=\"#WebSocket-è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼š\" class=\"headerlink\" title=\"WebSocket è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼š\"></a>WebSocket è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼š</h3><p>åœ¨ä¸ä½¿ç”¨ WebSocket æ—¶ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦å»ºç«‹ä¸€æ¡é•¿è¿æ¥ï¼Œæœ‰ä»¥ä¸‹å‡ ç§æ–¹æ³•ï¼š</p>\n<span id=\"more\"></span>\n<ul>\n<li>è½®è¯¢</li>\n<li>é•¿è½®è¯¢ï¼ˆå¸¸ç”¨ï¼‰</li>\n<li>SSE(Server Send Event)</li>\n</ul>\n<p>å½“å‡ºç°ç±»ä¼¼ä½“è‚²èµ›äº‹ã€èŠå¤©å®¤ã€å®æ—¶ä½ç½®ä¹‹ç±»çš„åœºæ™¯æ—¶ï¼Œå®¢æˆ·ç«¯è¦è·å–æœåŠ¡å™¨ç«¯çš„å˜åŒ–ï¼Œå°±åªèƒ½é€šè¿‡è½®è¯¢(å®šæ—¶è¯·æ±‚)æ¥äº†è§£æœåŠ¡å™¨ç«¯æœ‰æ²¡æœ‰æ–°çš„ä¿¡æ¯å˜åŒ–ã€‚WebSocket çš„å‡ºç°ï¼Œè®©æœåŠ¡å™¨ç«¯å¯ä»¥ä¸»åŠ¨å‘æœåŠ¡å™¨ç«¯å‘é€ä¿¡æ¯ï¼Œä½¿å¾—æµè§ˆå™¨å…·å¤‡äº†å®æ—¶åŒå‘é€šä¿¡çš„èƒ½åŠ›,è¿™å°±æ˜¯ WebSocket è§£å†³çš„é—®é¢˜</p>\n<ul>\n<li>å¸¦å®½é—®é¢˜ï¼šWebSocket ç›¸å¯¹äº HTTP æ¥è¯´åè®®å¤´æ›´åŠ å°ï¼ŒåŒæ—¶æŒ‰éœ€ä¼ é€’ã€‚</li>\n<li>æ•°æ®å®æ—¶æ€§é—®é¢˜ï¼šWebSocket ç›¸å¯¹äºè½®è¯¢å’Œé•¿è½®è¯¢æ¥è¯´ï¼Œèƒ½å¤Ÿå®æ—¶ä¼ é€’æ•°æ®ï¼Œå»¶è¿Ÿæ›´å°ã€‚</li>\n<li>çŠ¶æ€é—®é¢˜ï¼šç›¸è¾ƒäº HTTP çš„æ— çŠ¶æ€è¯·æ±‚ï¼ŒWebSocket åœ¨å»ºç«‹è¿æ¥åèƒ½å¤Ÿç»´æŒç‰¹å®šçš„çŠ¶æ€ã€‚</li>\n</ul>\n<h3 id=\"WebSocket-ä¸-HTTP-å¯¹æ¯”\"><a href=\"#WebSocket-ä¸-HTTP-å¯¹æ¯”\" class=\"headerlink\" title=\"WebSocket ä¸ HTTP å¯¹æ¯”\"></a>WebSocket ä¸ HTTP å¯¹æ¯”</h3><p><img src=\"https://user-gold-cdn.xitu.io/2019/12/3/16ec9bc6c28a9a19?w=1014&h=442&f=png&s=225703\"></p>\n<h3 id=\"åŸºæœ¬ä½¿ç”¨\"><a href=\"#åŸºæœ¬ä½¿ç”¨\" class=\"headerlink\" title=\"åŸºæœ¬ä½¿ç”¨\"></a>åŸºæœ¬ä½¿ç”¨</h3><p><strong>å®¢æˆ·ç«¯</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> ws = <span class=\"keyword\">new</span> <span class=\"title class_\">WebSocket</span>(<span class=\"string\">&#x27;ws://localhost:8888&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">ws.<span class=\"property\">onopen</span> = <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;WebSocket onopen&#x27;</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">ws.<span class=\"property\">onmessage</span> = <span class=\"function\"><span class=\"params\">e</span> =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(e)</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(e.<span class=\"property\">data</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">ws.<span class=\"property\">onclose</span> = <span class=\"function\"><span class=\"params\">e</span> =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;WebSocket onclose&#x27;</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">ws.<span class=\"property\">onerror</span> = <span class=\"function\"><span class=\"params\">e</span> =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;WebSocket onerror&#x27;</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>WebSocket.onopenï¼š è¿æ¥æˆåŠŸåè°ƒç”¨</li>\n<li>WebSocket.onmessageï¼š å½“æ¥æ”¶åˆ°æœåŠ¡å™¨æ¶ˆæ¯æ—¶è°ƒç”¨</li>\n<li>WebSocket.oncloseï¼š è¿æ¥å…³é—­åè°ƒç”¨</li>\n<li>WebSocket.onerrorï¼š å‘ç”Ÿé”™è¯¯åè°ƒç”¨</li>\n</ul>\n<p><strong>æœåŠ¡ç«¯ä¾‹å­(koa)</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">Koa</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;koa&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">WebSocket</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;ws&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> app = <span class=\"keyword\">new</span> <span class=\"title class_\">Koa</span>()</span><br><span class=\"line\"><span class=\"keyword\">const</span> ws = <span class=\"keyword\">new</span> <span class=\"title class_\">WebSocket</span>.<span class=\"title class_\">Server</span>(&#123; <span class=\"attr\">port</span>: <span class=\"number\">8888</span> &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">ws.<span class=\"title function_\">on</span>(<span class=\"string\">&#x27;connection&#x27;</span>, <span class=\"function\"><span class=\"params\">ws</span> =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;server connection&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">  ws.<span class=\"title function_\">on</span>(<span class=\"string\">&#x27;message&#x27;</span>, <span class=\"function\"><span class=\"params\">msg</span> =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;server receive msgï¼š&#x27;</span>, msg)</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">  ws.<span class=\"title function_\">send</span>(<span class=\"string\">&#x27;Information from the server&#x27;</span>)</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">app.<span class=\"title function_\">listen</span>(<span class=\"number\">3000</span>)</span><br></pre></td></tr></table></figure>\n\n<p>WebSocket å¯ä»¥ä¼ é€’ Stringã€ArrayBuffer å’Œ Blob ä¸‰ç§æ•°æ®ç±»å‹ï¼Œå› æ­¤åœ¨æ”¶åˆ°æ¶ˆæ¯æ—¶å¯èƒ½æ˜¯å…¶ä¸­çš„ä»»æ„ä¸€ç§ã€‚å…¶ä¸­ï¼ŒString å’Œ ArrayBuffer ä½¿ç”¨çš„æœ€å¤šã€‚</p>\n<ul>\n<li>å¦‚æœæ˜¯ String ç±»å‹ï¼Œç›´æ¥é€šè¿‡å­—ç¬¦ä¸²å¤„ç†å‡½æ•°å³å¯è¿›è¡Œç›¸å…³è½¬æ¢ï¼Œå¦‚ JSON ç­‰æ ¼å¼ã€‚</li>\n<li>å¦‚æœæ˜¯äºŒè¿›åˆ¶ blob ç±»å‹ï¼Œåˆ™éœ€è¦ä½¿ç”¨ ArrayBuffer å’Œ DataView æ¥è¿›è¡Œå¤„ç†ï¼Œä¸‹é¢ç®€å•ä»‹ç»ã€‚</li>\n</ul>\n<p>äºŒè¿›åˆ¶æ•°æ®åŒ…æ‹¬ï¼šblob å¯¹è±¡å’Œ Arraybuffer å¯¹è±¡ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åˆ†å¼€æ¥å¤„ç†ã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// æ¥æ”¶æ•°æ®</span></span><br><span class=\"line\">ws.<span class=\"property\">onmessage</span> = <span class=\"keyword\">function</span>(<span class=\"params\">event</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (event.<span class=\"property\">data</span> <span class=\"keyword\">instanceof</span> <span class=\"title class_\">ArrayBuffer</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// åˆ¤æ–­ ArrayBuffer å¯¹è±¡</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (event.<span class=\"property\">data</span> <span class=\"keyword\">instanceof</span> <span class=\"title class_\">Blob</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// åˆ¤æ–­ Blob å¯¹è±¡</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å‘é€ Blob å¯¹è±¡çš„ä¾‹å­</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> file = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;input[type=&quot;file&quot;]&#x27;</span>).<span class=\"property\">files</span>[<span class=\"number\">0</span>]</span><br><span class=\"line\">ws.<span class=\"title function_\">send</span>(file)</span><br><span class=\"line\"><span class=\"comment\">// å‘é€ ArrayBuffer å¯¹è±¡çš„ä¾‹å­</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> img = canvas_context.<span class=\"title function_\">getImageData</span>(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">400</span>, <span class=\"number\">320</span>)</span><br><span class=\"line\"><span class=\"keyword\">var</span> binary = <span class=\"keyword\">new</span> <span class=\"title class_\">Uint8Array</span>(img.<span class=\"property\">data</span>.<span class=\"property\">length</span>)</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; img.<span class=\"property\">data</span>.<span class=\"property\">length</span>; i++) &#123;</span><br><span class=\"line\">  binary[i] = img.<span class=\"property\">data</span>[i]</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">ws.<span class=\"title function_\">send</span>(binary.<span class=\"property\">buffer</span>)</span><br></pre></td></tr></table></figure>\n\n<p>webSocket.bufferedAmount å±æ€§ï¼Œè¡¨ç¤ºè¿˜æœ‰å¤šå°‘å­—èŠ‚çš„äºŒè¿›åˆ¶æ•°æ®æ²¡æœ‰å‘é€å‡ºå»<br>å¦‚æœå‘é€çš„äºŒè¿›åˆ¶æ•°æ®å¾ˆå¤§çš„è¯ï¼Œå¯ä»¥è¿™æ ·åˆ¤æ–­</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> data = <span class=\"keyword\">new</span> <span class=\"title class_\">ArrayBuffer</span>(<span class=\"number\">10000000</span>)</span><br><span class=\"line\">socket.<span class=\"title function_\">send</span>(data)</span><br><span class=\"line\"><span class=\"keyword\">if</span> (socket.<span class=\"property\">bufferedAmount</span> === <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// å‘é€å®Œæ¯•</span></span><br><span class=\"line\">&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// å‘é€è¿˜æ²¡ç»“æŸ</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ€»ç»“-WebSocket-çš„ä¼˜ç‚¹\"><a href=\"#æ€»ç»“-WebSocket-çš„ä¼˜ç‚¹\" class=\"headerlink\" title=\"æ€»ç»“ WebSocket çš„ä¼˜ç‚¹\"></a>æ€»ç»“ WebSocket çš„ä¼˜ç‚¹</h3><ul>\n<li>åŒå‘é€šä¿¡(ä¸€å¼€å§‹è¯´çš„ï¼Œä¹Ÿæ˜¯æœ€é‡è¦çš„ä¸€ç‚¹)ã€‚</li>\n<li>æ•°æ®æ ¼å¼æ¯”è¾ƒè½»é‡ï¼Œæ€§èƒ½å¼€é”€å°ï¼Œé€šä¿¡é«˜æ•ˆ</li>\n<li>åè®®æ§åˆ¶çš„æ•°æ®åŒ…å¤´éƒ¨è¾ƒå°ï¼Œè€Œ HTTP åè®®æ¯æ¬¡é€šä¿¡éƒ½éœ€è¦æºå¸¦å®Œæ•´çš„å¤´éƒ¨</li>\n<li>æ›´å¥½çš„äºŒè¿›åˆ¶æ”¯æŒ</li>\n<li>æ²¡æœ‰åŒæºé™åˆ¶ï¼Œå®¢æˆ·ç«¯å¯ä»¥ä¸ä»»æ„æœåŠ¡å™¨é€šä¿¡</li>\n<li>ä¸ HTTP åè®®æœ‰ç€è‰¯å¥½çš„å…¼å®¹æ€§ã€‚é»˜è®¤ç«¯å£ä¹Ÿæ˜¯ 80 å’Œ 443ï¼Œå¹¶ä¸”æ¡æ‰‹é˜¶æ®µé‡‡ç”¨ HTTP åè®®ï¼Œå› æ­¤æ¡æ‰‹æ—¶ä¸å®¹æ˜“å±è”½ï¼Œèƒ½é€šè¿‡å„ç§ HTTP ä»£ç†æœåŠ¡å™¨</li>\n</ul>\n"},{"title":"ä»€ä¹ˆæ˜¯å•é¡µé¢åº”ç”¨","url":"/LittleWhiteRabbit/2022/04/26/%E6%A1%86%E6%9E%B6%E5%8C%BA%E5%88%AB/","content":"<p><strong>ä»€ä¹ˆæ˜¯å•é¡µé¢åº”ç”¨(SPA)ï¼Ÿ</strong></p>\n<ul>\n<li><p>å•é¡µé¢åº”ç”¨(SPA)æ˜¯æŒ‡ç”¨æˆ·åœ¨æµè§ˆå™¨åŠ è½½å•ä¸€çš„HTMLé¡µé¢ï¼Œåç»­è¯·æ±‚éƒ½æ— éœ€å†ç¦»å¼€æ­¤é¡µ</p>\n</li>\n<li><p>ç›®æ ‡ï¼šæ—¨åœ¨ç”¨ä¸ºç”¨æˆ·æä¾›äº†æ›´æ¥è¿‘æœ¬åœ°ç§»åŠ¨APPæˆ–æ¡Œé¢åº”ç”¨ç¨‹åºçš„ä½“éªŒã€‚</p>\n</li>\n<li><p>æµç¨‹ï¼šç¬¬ä¸€æ¬¡è¯·æ±‚æ—¶ï¼Œå°†å¯¼èˆªé¡µä¼ è¾“åˆ°å®¢æˆ·ç«¯ï¼Œå…¶ä½™è¯·æ±‚é€šè¿‡ REST API è·å– JSON æ•°æ®</p>\n</li>\n<li><p>å®ç°ï¼šæ•°æ®çš„ä¼ è¾“é€šè¿‡ Web Socket API æˆ– RPC(è¿œç¨‹è¿‡ç¨‹è°ƒç”¨)ã€‚</p>\n</li>\n<li><p>ä¼˜ç‚¹ï¼šç”¨æˆ·ä½“éªŒæµç•…ï¼ŒæœåŠ¡å™¨å‹åŠ›å°ï¼Œå‰åç«¯èŒè´£åˆ†ç¦»</p>\n</li>\n<li><p>ç¼ºç‚¹ï¼šå…³é”®è¯å¸ƒå±€éš¾åº¦åŠ å¤§ï¼Œä¸åˆ©äº SEO</p>\n<span id=\"more\"></span></li>\n</ul>\n<p><strong>ä»€ä¹ˆæ˜¯â€œå‰ç«¯è·¯ç”±â€? ä»€ä¹ˆæ—¶å€™é€‚ç”¨â€œå‰ç«¯è·¯ç”±â€? æœ‰å“ªäº›ä¼˜ç‚¹å’Œç¼ºç‚¹?</strong></p>\n<ul>\n<li>å‰ç«¯è·¯ç”±é€šè¿‡ URL å’Œ History æ¥å®ç°é¡µé¢åˆ‡æ¢</li>\n<li>åº”ç”¨ï¼šå‰ç«¯è·¯ç”±ä¸»è¦é€‚ç”¨äºâ€œå‰åç«¯åˆ†ç¦»â€çš„å•é¡µé¢åº”ç”¨(SPA)é¡¹ç›®</li>\n<li>ä¼˜ç‚¹ï¼šç”¨æˆ·ä½“éªŒå¥½ï¼Œäº¤äº’æµç•…</li>\n<li>ç¼ºç‚¹ï¼šæµè§ˆå™¨â€œå‰è¿›â€ã€â€œåé€€â€ä¼šé‡æ–°è¯·æ±‚ï¼Œæ— æ³•åˆç†åˆ©ç”¨ç¼“å­˜</li>\n</ul>\n<p><strong>æ¨¡å—åŒ–å¼€å‘æ€ä¹ˆåšï¼Ÿ</strong></p>\n<ul>\n<li>å°è£…å¯¹è±¡ä½œä¸ºå‘½åç©ºé—´ â€“ å†…éƒ¨çŠ¶æ€å¯ä»¥è¢«å¤–éƒ¨æ”¹å†™</li>\n<li>ç«‹å³æ‰§è¡Œå‡½æ•°(IIFE) â€“ éœ€è¦ä¾èµ–å¤šä¸ªJSæ–‡ä»¶ï¼Œå¹¶ä¸”ä¸¥æ ¼æŒ‰é¡ºåºåŠ è½½</li>\n<li>ä½¿ç”¨æ¨¡å—åŠ è½½å™¨ â€“ require.js, sea.js, EC6 æ¨¡å—</li>\n</ul>\n<p><strong>é€šè¡Œçš„ Javascript æ¨¡å—çš„è§„èŒƒæœ‰å“ªäº›ï¼Ÿ</strong></p>\n<ul>\n<li>CommonJS â€“ ä¸»è¦ç”¨åœ¨æœåŠ¡å™¨ç«¯ node.js</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> math = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;./math&#x27;</span>);</span><br><span class=\"line\">math.<span class=\"title function_\">add</span>(<span class=\"number\">2</span>,<span class=\"number\">3</span>);</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>AMD(å¼‚æ­¥æ¨¡å—å®šä¹‰) â€“ require.js</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">require</span>([<span class=\"string\">&#x27;./math&#x27;</span>], <span class=\"keyword\">function</span> (<span class=\"params\">math</span>) &#123;</span><br><span class=\"line\">    math.<span class=\"title function_\">add</span>(<span class=\"number\">2</span>, <span class=\"number\">3</span>);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><p>CMD(é€šç”¨æ¨¡å—å®šä¹‰) â€“ sea.js </p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> math = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;./math&#x27;</span>);</span><br><span class=\"line\">math.<span class=\"title function_\">add</span>(<span class=\"number\">2</span>,<span class=\"number\">3</span>);</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ES6 æ¨¡å—</p>\n</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123;math&#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./math&#x27;</span>;</span><br><span class=\"line\">math.<span class=\"title function_\">add</span>(<span class=\"number\">2</span>, <span class=\"number\">3</span>);</span><br></pre></td></tr></table></figure>\n\n<p><strong>AMD ä¸ CMD è§„èŒƒçš„åŒºåˆ«ï¼Ÿ</strong></p>\n<ul>\n<li><p>è§„èŒƒåŒ–äº§å‡ºï¼š</p>\n<ul>\n<li>AMD ç”± RequireJS æ¨å¹¿äº§å‡º</li>\n<li>CMD ç”± SeaJS æ¨å¹¿äº§å‡º</li>\n</ul>\n</li>\n<li><p>æ¨¡å—çš„ä¾èµ–:</p>\n<ul>\n<li>AMD æå‰æ‰§è¡Œï¼Œæ¨å´‡ä¾èµ–å‰ç½®</li>\n<li>CMD å»¶è¿Ÿæ‰§è¡Œï¼Œæ¨å´‡ä¾èµ–å°±è¿‘</li>\n</ul>\n</li>\n<li><p>API åŠŸèƒ½:</p>\n<ul>\n<li>AMD çš„ API é»˜è®¤å¤šåŠŸèƒ½ï¼ˆåˆ†å…¨å±€ require å’Œå±€éƒ¨ requireï¼‰</li>\n<li>CMD çš„ API æ¨å´‡èŒè´£å•ä¸€çº¯ç²¹ï¼ˆæ²¡æœ‰å…¨å±€ requireï¼‰</li>\n</ul>\n</li>\n<li><p>æ¨¡å—å®šä¹‰è§„åˆ™ï¼š</p>\n<ul>\n<li>AMD é»˜è®¤ä¸€å¼€å§‹å°±è½½å…¥å…¨éƒ¨ä¾èµ–æ¨¡å—</li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">define</span>([<span class=\"string\">&#x27;./a&#x27;</span>, <span class=\"string\">&#x27;./b&#x27;</span>], <span class=\"keyword\">function</span>(<span class=\"params\">a, b</span>) &#123;</span><br><span class=\"line\">    a.<span class=\"title function_\">doSomething</span>();</span><br><span class=\"line\">    b.<span class=\"title function_\">doSomething</span>();</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>CMD ä¾èµ–æ¨¡å—åœ¨ç”¨åˆ°æ—¶æ‰å°±è¿‘è½½å…¥</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">define</span>(<span class=\"keyword\">function</span>(<span class=\"params\"><span class=\"built_in\">require</span>, <span class=\"built_in\">exports</span>, <span class=\"variable language_\">module</span></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> a = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;./a&#x27;</span>);</span><br><span class=\"line\">    a.<span class=\"title function_\">doSomething</span>();</span><br><span class=\"line\">    <span class=\"keyword\">var</span> b = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;./b&#x27;</span>);</span><br><span class=\"line\">    b.<span class=\"title function_\">doSomething</span>();</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<p><strong>requireJSçš„æ ¸å¿ƒåŸç†æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p>\n<ul>\n<li>æ¯ä¸ªæ¨¡å—æ‰€ä¾èµ–æ¨¡å—éƒ½ä¼šæ¯”æœ¬æ¨¡å—é¢„å…ˆåŠ è½½</li>\n</ul>\n<p><strong>å¯¹ Node.js çš„ä¼˜ç‚¹ã€ç¼ºç‚¹æå‡ºäº†è‡ªå·±çš„çœ‹æ³•ï¼Ÿ Node.jsçš„ç‰¹ç‚¹å’Œé€‚ç”¨åœºæ™¯ï¼Ÿ</strong></p>\n<ul>\n<li>Node.jsçš„ç‰¹ç‚¹ï¼šå•çº¿ç¨‹ï¼Œéé˜»å¡I&#x2F;Oï¼Œäº‹ä»¶é©±åŠ¨</li>\n<li>Node.jsçš„ä¼˜ç‚¹ï¼šæ“…é•¿å¤„ç†é«˜å¹¶å‘ï¼›é€‚åˆI&#x2F;Oå¯†é›†å‹åº”ç”¨</li>\n</ul>\n<ul>\n<li><p>Node.jsçš„ç¼ºç‚¹ï¼šä¸é€‚åˆCPUå¯†é›†è¿ç®—ï¼›ä¸èƒ½å……åˆ†åˆ©ç”¨å¤šæ ¸CPUï¼›å¯é æ€§ä½ï¼ŒæŸä¸ªç¯èŠ‚å‡ºé”™ä¼šå¯¼è‡´æ•´ä¸ªç³»ç»Ÿå´©æºƒ</p>\n</li>\n<li><p>Node.jsçš„é€‚ç”¨åœºæ™¯ï¼š</p>\n<ul>\n<li>RESTful API</li>\n<li>å®æ—¶åº”ç”¨ï¼šåœ¨çº¿èŠå¤©ã€å›¾æ–‡ç›´æ’­</li>\n<li>å·¥å…·ç±»åº”ç”¨ï¼šå‰ç«¯éƒ¨ç½²(npm, gulp)</li>\n<li>è¡¨å•æ”¶é›†ï¼šé—®å·ç³»ç»Ÿ</li>\n</ul>\n</li>\n</ul>\n<p><strong>å¦‚ä½•åˆ¤æ–­å½“å‰è„šæœ¬è¿è¡Œåœ¨æµè§ˆå™¨è¿˜æ˜¯nodeç¯å¢ƒä¸­ï¼Ÿ</strong></p>\n<ul>\n<li>åˆ¤æ–­ Global å¯¹è±¡æ˜¯å¦ä¸º windowï¼Œå¦‚æœä¸ä¸º windowï¼Œå½“å‰è„šæœ¬æ²¡æœ‰è¿è¡Œåœ¨æµè§ˆå™¨ä¸­</li>\n</ul>\n<p><strong>ä»€ä¹ˆæ˜¯ npm ï¼Ÿ</strong></p>\n<ul>\n<li>npm æ˜¯ Node.js çš„æ¨¡å—ç®¡ç†å’Œå‘å¸ƒå·¥å…·</li>\n</ul>\n<p><strong>ä»€ä¹ˆæ˜¯ WebKit ï¼Ÿ</strong></p>\n<ul>\n<li>WebKit æ˜¯ä¸€ä¸ªå¼€æºçš„æµè§ˆå™¨å†…æ ¸ï¼Œç”±æ¸²æŸ“å¼•æ“(WebCore)å’ŒJSè§£é‡Šå¼•æ“(JSCore)ç»„æˆ</li>\n<li>é€šå¸¸æ‰€è¯´çš„ WebKit æŒ‡çš„æ˜¯ WebKit(WebCore)ï¼Œä¸»è¦å·¥ä½œæ˜¯è¿›è¡Œ HTML&#x2F;CSS æ¸²æŸ“</li>\n<li>WebKit ä¸€ç›´æ˜¯ Safari å’Œ Chrome(ä¹‹å‰) ä½¿ç”¨çš„æµè§ˆå™¨å†…æ ¸ï¼Œåæ¥ Chrome æ”¹ç”¨Blink å†…æ ¸</li>\n</ul>\n<p><strong>å¦‚ä½•æµ‹è¯•å‰ç«¯ä»£ç ? çŸ¥é“ Unit Testï¼ŒBDD, TDD ä¹ˆ? æ€ä¹ˆæµ‹è¯•ä½ çš„å‰ç«¯å·¥ç¨‹(mocha, jasmin..)?</strong></p>\n<ul>\n<li>é€šè¿‡ä¸ºå‰ç«¯ä»£ç ç¼–å†™å•å…ƒæµ‹è¯•(Unit Test)æ¥æµ‹è¯•å‰ç«¯ä»£ç </li>\n<li>Unit Testï¼šä¸€æ®µç”¨äºæµ‹è¯•ä¸€ä¸ªæ¨¡å—æˆ–æ¥å£æ˜¯å¦èƒ½è¾¾åˆ°é¢„æœŸç»“æœçš„ä»£ç </li>\n<li>BDDï¼šè¡Œä¸ºé©±åŠ¨å¼€å‘ â€“ ä¸šåŠ¡éœ€æ±‚æè¿°äº§å‡ºäº§å“ä»£ç çš„å¼€å‘æ–¹æ³•</li>\n<li>TDDï¼šæµ‹è¯•é©±åŠ¨å¼€å‘ â€“ å•å…ƒæµ‹è¯•ç”¨ä¾‹ä»£ç äº§å‡ºäº§å“ä»£ç çš„å¼€å‘æ–¹æ³•</li>\n<li>å•å…ƒæµ‹è¯•æ¡†æ¶ï¼š</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// mocha ç¤ºä¾‹</span></span><br><span class=\"line\"><span class=\"title function_\">describe</span>(<span class=\"string\">&#x27;Test add&#x27;</span>, <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"title function_\">it</span>(<span class=\"string\">&#x27;1 + 2 = 3&#x27;</span>, <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">      <span class=\"title function_\">expect</span>(<span class=\"title function_\">add</span>(<span class=\"number\">1</span>, <span class=\"number\">2</span>)).<span class=\"property\">to</span>.<span class=\"property\">be</span>.<span class=\"title function_\">equal</span>(<span class=\"number\">3</span>);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// jasmin ç¤ºä¾‹</span></span><br><span class=\"line\"><span class=\"title function_\">describe</span>(<span class=\"string\">&#x27;Test add&#x27;</span>, <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"title function_\">it</span>(<span class=\"string\">&#x27;1 + 2 = 3&#x27;</span>, <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        <span class=\"title function_\">expect</span>(<span class=\"title function_\">add</span>(<span class=\"number\">1</span>, <span class=\"number\">2</span>)).<span class=\"title function_\">toEqual</span>(<span class=\"number\">3</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p><strong>ä»‹ç»ä½ çŸ¥é“çš„å‰ç«¯æ¨¡æ¿å¼•æ“ï¼Ÿ</strong></p>\n<ul>\n<li>artTemplate, underscore, handlebars</li>\n</ul>\n<p><strong>ä»€ä¹ˆæ˜¯ Modernizrï¼Ÿ Modernizr å·¥ä½œåŸç†ï¼Ÿ</strong></p>\n<ul>\n<li>Modernizr æ˜¯ä¸€ä¸ªå¼€æºçš„ JavaScript åº“ï¼Œç”¨äºæ£€æµ‹ç”¨æˆ·æµè§ˆå™¨å¯¹ HTML5 ä¸ CSS3 çš„æ”¯æŒæƒ…å†µ</li>\n</ul>\n<p><strong>ç§»åŠ¨ç«¯æœ€å°è§¦æ§åŒºåŸŸæ˜¯å¤šå¤§ï¼Ÿ</strong></p>\n<ul>\n<li>44 * 44 px</li>\n</ul>\n<p><strong>ç§»åŠ¨ç«¯çš„ç‚¹å‡»äº‹ä»¶çš„å»¶è¿Ÿæ—¶é—´æ˜¯å¤šé•¿ï¼Œä¸ºä»€ä¹ˆä¼šæœ‰å»¶è¿Ÿï¼Ÿ å¦‚ä½•è§£å†³è¿™ä¸ªå»¶æ—¶ï¼Ÿ</strong></p>\n<ul>\n<li>ç§»åŠ¨ç«¯ click æœ‰ 300ms å»¶è¿Ÿï¼Œæµè§ˆå™¨ä¸ºäº†åŒºåˆ†â€œåŒå‡»â€ï¼ˆæ”¾å¤§é¡µé¢ï¼‰è¿˜æ˜¯â€œå•å‡»â€è€Œè®¾è®¡</li>\n<li>è§£å†³æ–¹æ¡ˆï¼š<ul>\n<li>ç¦ç”¨ç¼©æ”¾(å¯¹safariæ— æ•ˆ)</li>\n<li>ä½¿ç”¨æŒ‡é’ˆäº‹ä»¶(IEç§æœ‰ç‰¹æ€§ï¼Œä¸”ä»…IE10+)</li>\n<li>ä½¿ç”¨ Zepto çš„ tap äº‹ä»¶(æœ‰ç‚¹é€BUG)</li>\n<li>ä½¿ç”¨ FastClick æ’ä»¶(ä½“ç§¯å¤§[å‹ç¼©å8k])</li>\n</ul>\n</li>\n</ul>\n<p><strong>ä»€ä¹ˆæ˜¯å‡½æ•°å¼ç¼–ç¨‹ï¼Ÿ</strong></p>\n<ul>\n<li><p>å‡½æ•°å¼ç¼–ç¨‹æ˜¯ä¸€ç§â€ç¼–ç¨‹èŒƒå¼â€ï¼Œä¸»è¦æ€æƒ³æ˜¯æŠŠè¿ç®—è¿‡ç¨‹å°½é‡å†™æˆä¸€ç³»åˆ—åµŒå¥—çš„å‡½æ•°è°ƒç”¨</p>\n</li>\n<li><p>ä¾‹å¦‚ï¼švar result &#x3D; subtract(multiply(add(1,2), 3), 4);</p>\n</li>\n<li><p>å‡½æ•°å¼ç¼–ç¨‹çš„ç‰¹ç‚¹ï¼š</p>\n<ul>\n<li>å‡½æ•°æ ¸å¿ƒåŒ–ï¼šå‡½æ•°å¯ä»¥ä½œä¸ºå˜é‡çš„èµ‹å€¼ã€å¦ä¸€å‡½æ•°çš„å‚æ•°ã€å¦ä¸€å‡½æ•°çš„è¿”å›å€¼</li>\n<li>åªç”¨â€œè¡¨è¾¾å¼â€ï¼Œä¸ç”¨â€œè¯­å¥â€ï¼šè¦æ±‚æ¯ä¸€æ­¥éƒ½æ˜¯å•çº¯çš„è¿ç®—ï¼Œéƒ½å¿…é¡»æœ‰è¿”å›å€¼</li>\n<li>æ²¡æœ‰â€å‰¯ä½œç”¨â€ï¼šæ‰€æœ‰åŠŸèƒ½åªä¸ºè¿”å›ä¸€ä¸ªæ–°çš„å€¼ï¼Œä¸ä¿®æ”¹å¤–éƒ¨å˜é‡</li>\n<li>å¼•ç”¨é€æ˜ï¼šè¿è¡Œä¸ä¾èµ–äºå¤–éƒ¨å˜é‡ï¼Œåªä¾èµ–äºè¾“å…¥çš„å‚æ•°</li>\n</ul>\n</li>\n<li><p>å‡½æ•°å¼ç¼–ç¨‹çš„ä¼˜ç‚¹ï¼š</p>\n<ul>\n<li>ä»£ç ç®€æ´ï¼Œæ¥è¿‘è‡ªç„¶è¯­è¨€ï¼Œæ˜“äºç†è§£</li>\n<li>ä¾¿äºç»´æŠ¤ï¼Œåˆ©äºæµ‹è¯•ã€é™¤é”™ã€ç»„åˆ</li>\n<li>æ˜“äºâ€œå¹¶å‘ç¼–ç¨‹â€œï¼Œä¸ç”¨æ‹…å¿ƒä¸€ä¸ªçº¿ç¨‹çš„æ•°æ®ï¼Œè¢«å¦ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹</li>\n<li>å¯â€œçƒ­å‡çº§â€ä»£ç ï¼Œåœ¨è¿è¡ŒçŠ¶æ€ä¸‹ç›´æ¥å‡çº§ä»£ç ï¼Œä¸éœ€è¦é‡å¯ï¼Œä¹Ÿä¸éœ€è¦åœæœº</li>\n</ul>\n</li>\n</ul>\n<p><strong>ä»€ä¹ˆæ˜¯å‡½æ•°æŸ¯é‡ŒåŒ–Currying)ï¼Ÿ</strong></p>\n<ul>\n<li><p>æŸ¯é‡ŒåŒ–ï¼š</p>\n<ul>\n<li>é€šå¸¸ä¹Ÿç§°éƒ¨åˆ†æ±‚å€¼ï¼Œå«ä¹‰æ˜¯ç»™å‡½æ•°åˆ†æ­¥ä¼ é€’å‚æ•°ï¼Œæ¯æ¬¡é€’å‚éƒ¨åˆ†åº”ç”¨å‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ›´å…·ä½“çš„å‡½æ•°ï¼Œç»§ç»­æ¥å—å‰©ä½™å‚æ•°</li>\n<li>æœŸé—´ä¼šè¿ç»­è¿”å›å…·ä½“å‡½æ•°ï¼Œç›´è‡³è¿”å›æœ€åç»“æœã€‚å› æ­¤ï¼Œå‡½æ•°æŸ¯é‡ŒåŒ–æ˜¯é€æ­¥ä¼ å‚ï¼Œé€æ­¥ç¼©å°å‡½æ•°çš„é€‚ç”¨èŒƒå›´ï¼Œé€æ­¥æ±‚è§£çš„è¿‡ç¨‹</li>\n<li>æŸ¯é‡ŒåŒ–çš„ä½œç”¨ï¼šå»¶è¿Ÿè®¡ç®—ï¼›å‚æ•°å¤ç”¨ï¼›åŠ¨æ€åˆ›å»ºå‡½æ•°</li>\n</ul>\n</li>\n<li><p>æŸ¯é‡ŒåŒ–çš„ç¼ºç‚¹ï¼š</p>\n<ul>\n<li>å‡½æ•°æŸ¯é‡ŒåŒ–ä¼šäº§ç”Ÿå¼€é”€ï¼ˆå‡½æ•°åµŒå¥—ï¼Œæ¯”æ™®é€šå‡½æ•°å æ›´å¤šå†…å­˜ï¼‰ï¼Œä½†æ€§èƒ½ç“¶é¢ˆé¦–å…ˆæ¥è‡ªå…¶å®ƒåŸå› ï¼ˆDOM æ“ä½œç­‰ï¼‰</li>\n</ul>\n</li>\n</ul>\n<p><strong>ä»€ä¹ˆæ˜¯ä¾èµ–æ³¨å…¥ï¼Ÿ</strong></p>\n<ul>\n<li>å½“ä¸€ä¸ªç±»çš„å®ä¾‹ä¾èµ–å¦ä¸€ä¸ªç±»çš„å®ä¾‹æ—¶ï¼Œè‡ªå·±ä¸åˆ›å»ºè¯¥å®ä¾‹ï¼Œç”±IOCå®¹å™¨åˆ›å»ºå¹¶æ³¨å…¥ç»™è‡ªå·±ï¼Œå› æ­¤ç§°ä¸ºä¾èµ–æ³¨å…¥ã€‚</li>\n<li>ä¾èµ–æ³¨å…¥è§£å†³çš„å°±æ˜¯å¦‚ä½•æœ‰æ•ˆç»„ç»‡ä»£ç ä¾èµ–æ¨¡å—çš„é—®é¢˜</li>\n</ul>\n<p><strong>è®¾è®¡æ¨¡å¼ï¼šä»€ä¹ˆæ˜¯ singleton, factory, strategy, decoratorï¼Ÿ</strong></p>\n<ul>\n<li>Singleton(å•ä¾‹)   ä¸€ä¸ªç±»åªæœ‰å”¯ä¸€å®ä¾‹ï¼Œè¿™ä¸ªå®ä¾‹åœ¨æ•´ä¸ªç¨‹åºä¸­æœ‰ä¸€ä¸ªå…¨å±€çš„è®¿é—®ç‚¹</li>\n<li>Factory (å·¥å‚)    è§£å†³å®åˆ—åŒ–å¯¹è±¡äº§ç”Ÿé‡å¤çš„é—®é¢˜</li>\n<li>Strategy(ç­–ç•¥)    å°†æ¯ä¸€ä¸ªç®—æ³•å°è£…èµ·æ¥ï¼Œä½¿å®ƒä»¬è¿˜å¯ä»¥ç›¸äº’æ›¿æ¢ï¼Œè®©ç®—æ³•ç‹¬ç«‹äºä½¿ç”¨</li>\n<li>Observer(è§‚å¯Ÿè€…)  å¤šä¸ªè§‚å¯Ÿè€…åŒæ—¶ç›‘å¬ä¸€ä¸ªä¸»ä½“ï¼Œå½“ä¸»ä½“å¯¹è±¡å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰€æœ‰è§‚å¯Ÿè€…éƒ½å°†å¾—åˆ°é€šçŸ¥</li>\n<li>Prototype(åŸå‹)   ä¸€ä¸ªå®Œå…¨åˆå§‹åŒ–çš„å®ä¾‹ï¼Œç”¨äºæ‹·è´æˆ–è€…å…‹éš†</li>\n<li>Adapter(é€‚é…å™¨)   å°†ä¸åŒç±»çš„æ¥å£è¿›è¡ŒåŒ¹é…è°ƒæ•´ï¼Œå°½ç®¡å†…éƒ¨æ¥å£ä¸å…¼å®¹ï¼Œä¸åŒçš„ç±»è¿˜æ˜¯å¯ä»¥ååŒå·¥ä½œ</li>\n<li>Proxy(ä»£ç†æ¨¡å¼)   ä¸€ä¸ªå……å½“è¿‡æ»¤è½¬å‘çš„å¯¹è±¡ç”¨æ¥ä»£è¡¨ä¸€ä¸ªçœŸå®çš„å¯¹è±¡</li>\n<li>Iterator(è¿­ä»£å™¨)  åœ¨ä¸éœ€è¦ç›´åˆ°é›†åˆå†…éƒ¨å·¥ä½œåŸç†çš„æƒ…å†µä¸‹ï¼Œé¡ºåºè®¿é—®ä¸€ä¸ªé›†åˆé‡Œé¢çš„å…ƒç´ </li>\n<li>Chain of Responsibility(èŒè´£è¿)  å¤„ç†è¯·æ±‚ç»„æˆçš„å¯¹è±¡ä¸€æ¡é“¾ï¼Œè¯·æ±‚é“¾ä¸­ä¼ é€’ï¼Œç›´åˆ°æœ‰å¯¹è±¡å¯ä»¥å¤„ç†</li>\n</ul>\n<p><strong>ä»€ä¹ˆæ˜¯å‰ç«¯å·¥ç¨‹åŒ–ï¼Ÿ</strong></p>\n<ul>\n<li><p>å‰ç«¯å·¥ç¨‹åŒ–å°±æ˜¯æŠŠä¸€æ•´å¥—å‰ç«¯å·¥ä½œæµç¨‹ä½¿ç”¨å·¥å…·è‡ªåŠ¨åŒ–å®Œæˆ</p>\n</li>\n<li><p>å‰ç«¯å¼€å‘åŸºæœ¬æµç¨‹ï¼š</p>\n<ul>\n<li>é¡¹ç›®åˆå§‹åŒ–ï¼šyeoman, FIS</li>\n<li>å¼•å…¥ä¾èµ–åŒ…ï¼šbower, npm</li>\n<li>æ¨¡å—åŒ–ç®¡ç†ï¼šnpm, browserify, Webpack</li>\n<li>ä»£ç ç¼–è¯‘ï¼šbabel, sass, less</li>\n<li>ä»£ç ä¼˜åŒ–(å‹ç¼©&#x2F;åˆå¹¶)ï¼šGulp, Grunt</li>\n<li>ä»£ç æ£€æŸ¥ï¼šJSHint, ESLint</li>\n<li>ä»£ç æµ‹è¯•ï¼šMocha</li>\n</ul>\n</li>\n<li><p>ç›®å‰æœ€çŸ¥åçš„æ„å»ºå·¥å…·ï¼šGulp, Grunt, npm + Webpack</p>\n</li>\n</ul>\n<p><strong>ä»‹ç» Yeoman æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p>\n<ul>\n<li>Yeoman â€“å‰ç«¯å¼€å‘è„šæ‰‹æ¶å·¥å…·ï¼Œè‡ªåŠ¨å°†æœ€ä½³å®è·µå’Œå·¥å…·æ•´åˆèµ·æ¥æ„å»ºé¡¹ç›®éª¨æ¶</li>\n<li>Yeoman å…¶å®æ˜¯ä¸‰ç±»å·¥å…·çš„åˆä½“ï¼Œä¸‰ç±»å·¥å…·å„è‡ªç‹¬ç«‹ï¼š<ul>\n<li>yo â€” è„šæ‰‹æ¶ï¼Œè‡ªåŠ¨ç”Ÿæˆå·¥å…·ï¼ˆç›¸å½“äºä¸€ä¸ªç²˜åˆå‰‚ï¼ŒæŠŠ Yeoman å·¥å…·ç²˜åˆåœ¨ä¸€èµ·ï¼‰</li>\n<li>Gruntã€gulp â€” è‡ªåŠ¨åŒ–æ„å»ºå·¥å…· ï¼ˆæœ€åˆåªæœ‰gruntï¼Œä¹‹ååŠ å…¥äº†gulpï¼‰</li>\n<li>Bowerã€npm â€” åŒ…ç®¡ç†å·¥å…· ï¼ˆåŸæ¥æ˜¯bowerï¼Œä¹‹ååŠ å…¥äº†npmï¼‰</li>\n</ul>\n</li>\n</ul>\n<p><strong>ä»‹ç» WebPack æ˜¯ä»€ä¹ˆï¼Ÿ æœ‰ä»€ä¹ˆä¼˜åŠ¿ï¼Ÿ</strong></p>\n<ul>\n<li>WebPack æ˜¯ä¸€æ¬¾[æ¨¡å—åŠ è½½å™¨]å…¼[æ‰“åŒ…å·¥å…·]ï¼Œç”¨äºæŠŠå„ç§é™æ€èµ„æºï¼ˆjs&#x2F;css&#x2F;imageç­‰ï¼‰ä½œä¸ºæ¨¡å—æ¥ä½¿ç”¨</li>\n<li>WebPack çš„ä¼˜åŠ¿ï¼š<ul>\n<li>WebPack åŒæ—¶æ”¯æŒ commonJS å’Œ AMD&#x2F;CMDï¼Œæ–¹ä¾¿ä»£ç è¿ç§»</li>\n<li>ä¸ä»…ä»…èƒ½è¢«æ¨¡å—åŒ– JS ï¼Œè¿˜åŒ…æ‹¬ CSSã€Image ç­‰</li>\n<li>èƒ½æ›¿ä»£éƒ¨åˆ† grunt&#x2F;gulp çš„å·¥ä½œï¼Œå¦‚æ‰“åŒ…ã€å‹ç¼©æ··æ·†ã€å›¾ç‰‡base64</li>\n<li>æ‰©å±•æ€§å¼ºï¼Œæ’ä»¶æœºåˆ¶å®Œå–„ï¼Œç‰¹åˆ«æ˜¯æ”¯æŒ React çƒ­æ’æ‹”çš„åŠŸèƒ½</li>\n</ul>\n</li>\n</ul>\n<p><strong>ä»‹ç»ç±»åº“å’Œæ¡†æ¶çš„åŒºåˆ«ï¼Ÿ</strong></p>\n<ul>\n<li>ç±»åº“æ˜¯ä¸€äº›å‡½æ•°çš„é›†åˆï¼Œå¸®åŠ©å¼€å‘è€…å†™WEBåº”ç”¨ï¼Œèµ·ä¸»å¯¼ä½œç”¨çš„æ˜¯å¼€å‘è€…çš„ä»£ç </li>\n<li>æ¡†æ¶æ˜¯å·²å®ç°çš„ç‰¹æ®ŠWEBåº”ç”¨ï¼Œå¼€å‘è€…åªéœ€å¯¹å®ƒå¡«å……å…·ä½“çš„ä¸šåŠ¡é€»è¾‘ï¼Œèµ·ä¸»å¯¼ä½œç”¨æ˜¯æ¡†æ¶</li>\n</ul>\n<p><strong>ä»€ä¹ˆæ˜¯ MVC&#x2F;MVP&#x2F;MVVM&#x2F;Fluxï¼Ÿ</strong></p>\n<ul>\n<li><p>MVC(Model-View-Controller) </p>\n<ul>\n<li>V-&gt;C, C-&gt;M, M-&gt;V</li>\n<li>é€šä¿¡éƒ½æ˜¯å•å‘çš„ï¼›Cåªèµ·è·¯ç”±ä½œç”¨ï¼Œä¸šåŠ¡é€»è¾‘éƒ½éƒ¨ç½²åœ¨V</li>\n<li>Backbone</li>\n</ul>\n</li>\n<li><p>MVP(Model-View-Presenter)</p>\n<ul>\n<li>V&lt;-&gt;P, P&lt;-&gt;M</li>\n<li>é€šä¿¡éƒ½æ˜¯åŒå‘çš„ï¼›Vå’ŒMä¸å‘ç”Ÿè”ç³»(é€šè¿‡Pä¼ )ï¼›Véå¸¸è–„ï¼Œé€»è¾‘éƒ½éƒ¨ç½²åœ¨P</li>\n<li>Riot.js</li>\n</ul>\n</li>\n<li><p>MVVM(Model-View-ViewModel)</p>\n<ul>\n<li>V-&gt;VM, VM&lt;-&gt;M</li>\n<li>é‡‡ç”¨åŒå‘æ•°æ®ç»‘å®šï¼šView å’Œ ViewModel çš„å˜åŠ¨éƒ½ä¼šç›¸äº’æ˜ å°„åˆ°å¯¹è±¡ä¸Šé¢</li>\n<li>Angular</li>\n</ul>\n</li>\n<li><p>Flux(Dispatcher-Store-View)</p>\n<ul>\n<li>Action-&gt;Dispatcher-&gt;Store-&gt;View, View-&gt;Action</li>\n<li>Facebook ä¸ºäº†è§£å†³åœ¨ MVC åº”ç”¨ä¸­ç¢°åˆ°çš„å·¥ç¨‹æ€§é—®é¢˜æå‡ºä¸€ä¸ªæ¶æ„æ€æƒ³</li>\n<li>åŸºäºä¸€ä¸ªç®€å•çš„åŸåˆ™ï¼šæ•°æ®åœ¨åº”ç”¨ä¸­å•å‘æµåŠ¨ï¼ˆå•å‘æ•°æ®æµï¼‰</li>\n<li>React(Flux ä¸­ Viewï¼Œåªå…³æ³¨è¡¨ç°å±‚)</li>\n</ul>\n</li>\n</ul>\n<p><strong>Backbone æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p>\n<ul>\n<li>Backbone æ˜¯ä¸€ä¸ªåŸºäº jquery å’Œ underscore çš„å‰ç«¯(MVC)æ¡†æ¶</li>\n</ul>\n<p><strong>AngularJS æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p>\n<ul>\n<li>AngularJS æ˜¯ä¸€ä¸ªå®Œå–„çš„å‰ç«¯ MVVM æ¡†æ¶ï¼ŒåŒ…å«æ¨¡æ¿ã€æ•°æ®åŒå‘ç»‘å®šã€è·¯ç”±ã€æ¨¡å—åŒ–ã€æœåŠ¡ã€ä¾èµ–æ³¨å…¥ç­‰</li>\n<li>AngularJS ç”± Google ç»´æŠ¤ï¼Œç”¨æ¥ååŠ©å¤§å‹å•ä¸€é¡µé¢åº”ç”¨å¼€å‘ã€‚</li>\n</ul>\n<p><strong>React æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p>\n<ul>\n<li>React ä¸æ˜¯ MV* æ¡†æ¶ï¼Œç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„ JavaScript åº“ï¼Œä¾§é‡äº View å±‚</li>\n<li>React ä¸»è¦çš„åŸç†ï¼š<ul>\n<li>è™šæ‹Ÿ DOM + diff ç®—æ³• -&gt; ä¸ç›´æ¥æ“ä½œ DOM å¯¹è±¡</li>\n<li>Components ç»„ä»¶ -&gt; Virtual DOM çš„èŠ‚ç‚¹</li>\n<li>State è§¦å‘è§†å›¾çš„æ¸²æŸ“ -&gt; å•å‘æ•°æ®ç»‘å®š</li>\n<li>React è§£å†³æ–¹æ¡ˆï¼šReact + Redux + react-router + Fetch + webpack</li>\n</ul>\n</li>\n</ul>\n<p><strong>react-router è·¯ç”±ç³»ç»Ÿçš„å®ç°åŸç†ï¼Ÿ</strong></p>\n<ul>\n<li>å®ç°åŸç†ï¼šlocation ä¸ components ä¹‹é—´çš„åŒæ­¥</li>\n</ul>\n<ul>\n<li>è·¯ç”±çš„èŒè´£æ˜¯ä¿è¯ UI å’Œ URL çš„åŒæ­¥</li>\n<li>åœ¨ react-router ä¸­ï¼ŒURL å¯¹åº” Location å¯¹è±¡ï¼ŒUI ç”± react components å†³å®š</li>\n<li>å› æ­¤ï¼Œè·¯ç”±åœ¨ react-router ä¸­å°±è½¬å˜æˆ location ä¸ components ä¹‹é—´çš„åŒæ­¥</li>\n</ul>\n<p><strong>Meteor æ˜¯ä»€ä¹ˆ</strong></p>\n<ul>\n<li>Meteor æ˜¯ä¸€ä¸ªå…¨æ ˆå¼€å‘æ¡†æ¶ï¼ŒåŸºç¡€æ„æ¶æ˜¯ Node.JS + MongoDBï¼Œå¹¶æŠŠå»¶ä¼¸åˆ°äº†æµè§ˆå™¨ç«¯ã€‚</li>\n<li>Meteor ç»Ÿä¸€äº†æœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯çš„æ•°æ®è®¿é—®ï¼Œä½¿å¼€å‘è€…å¯ä»¥è½»æ¾å®Œæˆå…¨æ ˆå¼å¼€å‘å·¥ä½œã€‚</li>\n</ul>\n"},{"title":"æµè§ˆå™¨","url":"/LittleWhiteRabbit/2022/04/26/%E6%B5%8F%E8%A7%88%E5%99%A8/","content":"<h2 id=\"ä¸€ã€äº‹ä»¶æœºåˆ¶\"><a href=\"#ä¸€ã€äº‹ä»¶æœºåˆ¶\" class=\"headerlink\" title=\"ä¸€ã€äº‹ä»¶æœºåˆ¶\"></a>ä¸€ã€äº‹ä»¶æœºåˆ¶</h2><h3 id=\"1-1-äº‹ä»¶è§¦å‘ä¸‰é˜¶æ®µ\"><a href=\"#1-1-äº‹ä»¶è§¦å‘ä¸‰é˜¶æ®µ\" class=\"headerlink\" title=\"1.1 äº‹ä»¶è§¦å‘ä¸‰é˜¶æ®µ\"></a>1.1 äº‹ä»¶è§¦å‘ä¸‰é˜¶æ®µ</h3><ul>\n<li>document å¾€äº‹ä»¶è§¦å‘å¤„ä¼ æ’­ï¼Œé‡åˆ°æ³¨å†Œçš„æ•è·äº‹ä»¶ä¼šè§¦å‘</li>\n<li>ä¼ æ’­åˆ°äº‹ä»¶è§¦å‘å¤„æ—¶è§¦å‘æ³¨å†Œçš„äº‹ä»¶</li>\n<li>ä»äº‹ä»¶è§¦å‘å¤„å¾€ document ä¼ æ’­ï¼Œé‡åˆ°æ³¨å†Œçš„å†’æ³¡äº‹ä»¶ä¼šè§¦å‘</li>\n</ul>\n<blockquote>\n<p>äº‹ä»¶è§¦å‘ä¸€èˆ¬æ¥è¯´ä¼šæŒ‰ç…§ä¸Šé¢çš„é¡ºåºè¿›è¡Œï¼Œä½†æ˜¯ä¹Ÿæœ‰ç‰¹ä¾‹ï¼Œå¦‚æœç»™ä¸€ä¸ªç›®æ ‡èŠ‚ç‚¹åŒæ—¶æ³¨å†Œå†’æ³¡å’Œæ•è·äº‹ä»¶ï¼Œäº‹ä»¶è§¦å‘ä¼šæŒ‰ç…§æ³¨å†Œçš„é¡ºåºæ‰§è¡Œ</p>\n</blockquote>\n<span id=\"more\"></span>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">// ä»¥ä¸‹ä¼šå…ˆæ‰“å°å†’æ³¡ç„¶åæ˜¯æ•è·</span><br><span class=\"line\">node.addEventListener(&#x27;click&#x27;,(event) =&gt;&#123;</span><br><span class=\"line\">\tconsole.log(&#x27;å†’æ³¡&#x27;)</span><br><span class=\"line\">&#125;,false);</span><br><span class=\"line\">node.addEventListener(&#x27;click&#x27;,(event) =&gt;&#123;</span><br><span class=\"line\">\tconsole.log(&#x27;æ•è· &#x27;)</span><br><span class=\"line\">&#125;,true)</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"1-2-æ³¨å†Œäº‹ä»¶\"><a href=\"#1-2-æ³¨å†Œäº‹ä»¶\" class=\"headerlink\" title=\"1.2 æ³¨å†Œäº‹ä»¶\"></a>1.2 æ³¨å†Œäº‹ä»¶</h3><ul>\n<li>é€šå¸¸æˆ‘ä»¬ä½¿ç”¨ <code>addEventListener</code> æ³¨å†Œäº‹ä»¶ï¼Œè¯¥å‡½æ•°çš„ç¬¬ä¸‰ä¸ªå‚æ•°å¯ä»¥æ˜¯å¸ƒå°”å€¼ï¼Œä¹Ÿå¯ä»¥æ˜¯å¯¹è±¡ã€‚å¯¹äºå¸ƒå°”å€¼ <code>useCapture</code> å‚æ•°æ¥è¯´ï¼Œè¯¥å‚æ•°é»˜è®¤å€¼ä¸º <code>false</code> ã€‚<code>useCapture</code> å†³å®šäº†æ³¨å†Œçš„äº‹ä»¶æ˜¯æ•è·äº‹ä»¶è¿˜æ˜¯å†’æ³¡äº‹ä»¶</li>\n<li>ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬åªå¸Œæœ›äº‹ä»¶åªè§¦å‘åœ¨ç›®æ ‡ä¸Šï¼Œè¿™æ—¶å€™å¯ä»¥ä½¿ç”¨ <code>stopPropagation</code> æ¥é˜»æ­¢äº‹ä»¶çš„è¿›ä¸€æ­¥ä¼ æ’­ã€‚é€šå¸¸æˆ‘ä»¬è®¤ä¸º <code>stopPropagation</code> æ˜¯ç”¨æ¥é˜»æ­¢äº‹ä»¶å†’æ³¡çš„ï¼Œå…¶å®è¯¥å‡½æ•°ä¹Ÿå¯ä»¥é˜»æ­¢æ•è·äº‹ä»¶ã€‚<code>stopImmediatePropagation</code> åŒæ ·ä¹Ÿèƒ½å®ç°é˜»æ­¢äº‹ä»¶ï¼Œä½†æ˜¯è¿˜èƒ½é˜»æ­¢è¯¥äº‹ä»¶ç›®æ ‡æ‰§è¡Œåˆ«çš„æ³¨å†Œäº‹ä»¶</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\">node.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;click&#x27;</span>,<span class=\"function\">(<span class=\"params\">event</span>) =&gt;</span>&#123;</span><br><span class=\"line\">\tevent.<span class=\"title function_\">stopImmediatePropagation</span>()</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;å†’æ³¡&#x27;</span>)</span><br><span class=\"line\">&#125;,<span class=\"literal\">false</span>);</span><br><span class=\"line\"><span class=\"comment\">// ç‚¹å‡» node åªä¼šæ‰§è¡Œä¸Šé¢çš„å‡½æ•°ï¼Œè¯¥å‡½æ•°ä¸ä¼šæ‰§è¡Œ</span></span><br><span class=\"line\">node.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;click&#x27;</span>,<span class=\"function\">(<span class=\"params\">event</span>) =&gt;</span> &#123;</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;æ•è· &#x27;</span>)</span><br><span class=\"line\">&#125;,<span class=\"literal\">true</span>)</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"1-3-äº‹ä»¶ä»£ç†\"><a href=\"#1-3-äº‹ä»¶ä»£ç†\" class=\"headerlink\" title=\"1.3 äº‹ä»¶ä»£ç†\"></a>1.3 äº‹ä»¶ä»£ç†</h3><blockquote>\n<p>å¦‚æœä¸€ä¸ªèŠ‚ç‚¹ä¸­çš„å­èŠ‚ç‚¹æ˜¯åŠ¨æ€ç”Ÿæˆçš„ï¼Œé‚£ä¹ˆå­èŠ‚ç‚¹éœ€è¦æ³¨å†Œäº‹ä»¶çš„è¯åº”è¯¥æ³¨å†Œåœ¨çˆ¶èŠ‚ç‚¹ä¸Š</p>\n</blockquote>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">ul</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;ul&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>1<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>2<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>3<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>4<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>5<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">\t<span class=\"keyword\">let</span> ul = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;##ul&#x27;</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">\tul.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"function\">(<span class=\"params\">event</span>) =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">\t\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(event.<span class=\"property\">target</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">\t&#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>äº‹ä»¶ä»£ç†çš„æ–¹å¼ç›¸å¯¹äºç›´æ¥ç»™ç›®æ ‡æ³¨å†Œäº‹ä»¶æ¥è¯´ï¼Œæœ‰ä»¥ä¸‹ä¼˜ç‚¹</p>\n</blockquote>\n<ul>\n<li>èŠ‚çœå†…å­˜</li>\n<li>ä¸éœ€è¦ç»™å­èŠ‚ç‚¹æ³¨é”€äº‹ä»¶</li>\n</ul>\n<h2 id=\"äºŒã€è·¨åŸŸ\"><a href=\"#äºŒã€è·¨åŸŸ\" class=\"headerlink\" title=\"äºŒã€è·¨åŸŸ\"></a>äºŒã€è·¨åŸŸ</h2><blockquote>\n<p>å› ä¸ºæµè§ˆå™¨å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œæœ‰åŒæºç­–ç•¥ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœåè®®ã€åŸŸåæˆ–è€…ç«¯å£æœ‰ä¸€ä¸ªä¸åŒå°±æ˜¯è·¨åŸŸï¼ŒAjax è¯·æ±‚ä¼šå¤±è´¥</p>\n</blockquote>\n<h3 id=\"2-1-JSONP\"><a href=\"#2-1-JSONP\" class=\"headerlink\" title=\"2.1 JSONP\"></a>2.1 JSONP</h3><blockquote>\n<p>JSONP çš„åŸç†å¾ˆç®€å•ï¼Œå°±æ˜¯åˆ©ç”¨ <script> æ ‡ç­¾æ²¡æœ‰è·¨åŸŸé™åˆ¶çš„æ¼æ´ã€‚é€šè¿‡ <script> æ ‡ç­¾æŒ‡å‘ä¸€ä¸ªéœ€è¦è®¿é—®çš„åœ°å€å¹¶æä¾›ä¸€ä¸ªå›è°ƒå‡½æ•°æ¥æ¥æ”¶æ•°æ®å½“éœ€è¦é€šè®¯æ—¶</p>\n</blockquote>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;http://domain/api?param1=a&amp;param2=b&amp;callback=jsonp&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">function</span> <span class=\"title function_\">jsonp</span>(<span class=\"params\">data</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    \t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(data)</span></span><br><span class=\"line\"><span class=\"language-javascript\">\t&#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>JSONP ä½¿ç”¨ç®€å•ä¸”å…¼å®¹æ€§ä¸é”™ï¼Œä½†æ˜¯åªé™äº get è¯·æ±‚</li>\n</ul>\n<h3 id=\"2-2-CORS\"><a href=\"#2-2-CORS\" class=\"headerlink\" title=\"2.2 CORS\"></a>2.2 CORS</h3><ul>\n<li><code>CORS</code>éœ€è¦æµè§ˆå™¨å’Œåç«¯åŒæ—¶æ”¯æŒ</li>\n<li>æµè§ˆå™¨ä¼šè‡ªåŠ¨è¿›è¡Œ <code>CORS</code> é€šä¿¡ï¼Œå®ç°CORSé€šä¿¡çš„å…³é”®æ˜¯åç«¯ã€‚åªè¦åç«¯å®ç°äº† <code>CORS</code>ï¼Œå°±å®ç°äº†è·¨åŸŸã€‚</li>\n<li>æœåŠ¡ç«¯è®¾ç½® <code>Access-Control-Allow-Origin</code> å°±å¯ä»¥å¼€å¯ <code>CORS</code>ã€‚ è¯¥å±æ€§è¡¨ç¤ºå“ªäº›åŸŸåå¯ä»¥è®¿é—®èµ„æºï¼Œå¦‚æœè®¾ç½®é€šé…ç¬¦åˆ™è¡¨ç¤ºæ‰€æœ‰ç½‘ç«™éƒ½å¯ä»¥è®¿é—®èµ„æº</li>\n</ul>\n<h3 id=\"2-3-document-domain\"><a href=\"#2-3-document-domain\" class=\"headerlink\" title=\"2.3 document.domain\"></a>2.3 document.domain</h3><ul>\n<li>è¯¥æ–¹å¼åªèƒ½ç”¨äºäºŒçº§åŸŸåç›¸åŒçš„æƒ…å†µä¸‹ï¼Œæ¯”å¦‚ <code>a.test.com</code> å’Œ <code>b.test.com</code> é€‚ç”¨äºè¯¥æ–¹å¼ã€‚</li>\n<li>åªéœ€è¦ç»™é¡µé¢æ·»åŠ  <code>document.domain = &#39;test.com&#39;</code> è¡¨ç¤ºäºŒçº§åŸŸåéƒ½ç›¸åŒå°±å¯ä»¥å®ç°è·¨åŸŸ</li>\n</ul>\n<h3 id=\"2-4-postMessage\"><a href=\"#2-4-postMessage\" class=\"headerlink\" title=\"2.4 postMessage\"></a>2.4 postMessage</h3><blockquote>\n<p>è¿™ç§æ–¹å¼é€šå¸¸ç”¨äºè·å–åµŒå…¥é¡µé¢ä¸­çš„ç¬¬ä¸‰æ–¹é¡µé¢æ•°æ®ã€‚ä¸€ä¸ªé¡µé¢å‘é€æ¶ˆæ¯ï¼Œå¦ä¸€ä¸ªé¡µé¢åˆ¤æ–­æ¥æºå¹¶æ¥æ”¶æ¶ˆæ¯</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// å‘é€æ¶ˆæ¯ç«¯</span></span><br><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"property\">parent</span>.<span class=\"title function_\">postMessage</span>(<span class=\"string\">&#x27;message&#x27;</span>, <span class=\"string\">&#x27;http://test.com&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ¥æ”¶æ¶ˆæ¯ç«¯</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> mc = <span class=\"keyword\">new</span> <span class=\"title class_\">MessageChannel</span>();</span><br><span class=\"line\">mc.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;message&#x27;</span>, <span class=\"function\">(<span class=\"params\">event</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> origin = event.<span class=\"property\">origin</span> || event.<span class=\"property\">originalEvent</span>.<span class=\"property\">origin</span>; </span><br><span class=\"line\">    <span class=\"keyword\">if</span> (origin === <span class=\"string\">&#x27;http://test.com&#x27;</span>) &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;éªŒè¯é€šè¿‡&#x27;</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ä¸‰ã€Event-loop\"><a href=\"#ä¸‰ã€Event-loop\" class=\"headerlink\" title=\"ä¸‰ã€Event loop\"></a>ä¸‰ã€Event loop</h2><h3 id=\"3-1-JSä¸­çš„event-loop\"><a href=\"#3-1-JSä¸­çš„event-loop\" class=\"headerlink\" title=\"3.1 JSä¸­çš„event loop\"></a>3.1 JSä¸­çš„event loop</h3><blockquote>\n<p>ä¼—æ‰€å‘¨çŸ¥ JS æ˜¯é—¨éé˜»å¡å•çº¿ç¨‹è¯­è¨€ï¼Œå› ä¸ºåœ¨æœ€åˆ JS å°±æ˜¯ä¸ºäº†å’Œæµè§ˆå™¨äº¤äº’è€Œè¯ç”Ÿçš„ã€‚å¦‚æœ JS æ˜¯é—¨å¤šçº¿ç¨‹çš„è¯­è¨€è¯ï¼Œæˆ‘ä»¬åœ¨å¤šä¸ªçº¿ç¨‹ä¸­å¤„ç† DOM å°±å¯èƒ½ä¼šå‘ç”Ÿé—®é¢˜ï¼ˆä¸€ä¸ªçº¿ç¨‹ä¸­æ–°åŠ èŠ‚ç‚¹ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹ä¸­åˆ é™¤èŠ‚ç‚¹ï¼‰</p>\n</blockquote>\n<ul>\n<li>JS åœ¨æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ä¼šäº§ç”Ÿæ‰§è¡Œç¯å¢ƒï¼Œè¿™äº›æ‰§è¡Œç¯å¢ƒä¼šè¢«é¡ºåºçš„åŠ å…¥åˆ°æ‰§è¡Œæ ˆä¸­ã€‚å¦‚æœé‡åˆ°å¼‚æ­¥çš„ä»£ç ï¼Œä¼šè¢«æŒ‚èµ·å¹¶åŠ å…¥åˆ° Taskï¼ˆæœ‰å¤šç§ taskï¼‰ é˜Ÿåˆ—ä¸­ã€‚ä¸€æ—¦æ‰§è¡Œæ ˆä¸ºç©ºï¼ŒEvent Loop å°±ä¼šä» Task é˜Ÿåˆ—ä¸­æ‹¿å‡ºéœ€è¦æ‰§è¡Œçš„ä»£ç å¹¶æ”¾å…¥æ‰§è¡Œæ ˆä¸­æ‰§è¡Œï¼Œæ‰€ä»¥æœ¬è´¨ä¸Šæ¥è¯´ JS ä¸­çš„å¼‚æ­¥è¿˜æ˜¯åŒæ­¥è¡Œä¸º</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;script start&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">setTimeout</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;setTimeout&#x27;</span>);</span><br><span class=\"line\">&#125;, <span class=\"number\">0</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;script end&#x27;</span>);</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>ä¸åŒçš„ä»»åŠ¡æºä¼šè¢«åˆ†é…åˆ°ä¸åŒçš„ <code>Task</code> é˜Ÿåˆ—ä¸­ï¼Œä»»åŠ¡æºå¯ä»¥åˆ†ä¸º å¾®ä»»åŠ¡ï¼ˆ<code>microtask</code>ï¼‰ å’Œ å®ä»»åŠ¡ï¼ˆ<code>macrotask</code>ï¼‰ã€‚åœ¨ <code>ES6</code> è§„èŒƒä¸­ï¼Œ<code>microtask</code> ç§°ä¸º jobsï¼Œmacrotask ç§°ä¸º task</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;script start&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">setTimeout</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;setTimeout&#x27;</span>);</span><br><span class=\"line\">&#125;, <span class=\"number\">0</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;Promise&#x27;</span>)</span><br><span class=\"line\">    <span class=\"title function_\">resolve</span>()</span><br><span class=\"line\">&#125;).<span class=\"title function_\">then</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;promise1&#x27;</span>);</span><br><span class=\"line\">&#125;).<span class=\"title function_\">then</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;promise2&#x27;</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;script end&#x27;</span>);</span><br><span class=\"line\"><span class=\"comment\">// script start =&gt; Promise =&gt; script end =&gt; promise1 =&gt; promise2 =&gt; setTimeout</span></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>ä»¥ä¸Šä»£ç è™½ç„¶ <code>setTimeout</code> å†™åœ¨ <code>Promise</code> ä¹‹å‰ï¼Œä½†æ˜¯å› ä¸º <code>Promise</code> å±äºå¾®ä»»åŠ¡è€Œ <code>setTimeout</code> å±äºå®ä»»åŠ¡</p>\n</blockquote>\n<p><strong>å¾®ä»»åŠ¡</strong></p>\n<ul>\n<li><code>process.nextTick</code></li>\n<li><code>promise</code></li>\n<li><code>Object.observe</code></li>\n<li><code>MutationObserver</code></li>\n</ul>\n<p><strong>å®ä»»åŠ¡</strong></p>\n<ul>\n<li><code>script </code></li>\n<li><code>setTimeout</code></li>\n<li><code>setInterval </code></li>\n<li><code>setImmediate </code></li>\n<li><code>I/O </code></li>\n<li><code>UI rendering</code></li>\n</ul>\n<blockquote>\n<p>å®ä»»åŠ¡ä¸­åŒ…æ‹¬äº† script ï¼Œæµè§ˆå™¨ä¼šå…ˆæ‰§è¡Œä¸€ä¸ªå®ä»»åŠ¡ï¼Œæ¥ä¸‹æ¥æœ‰å¼‚æ­¥ä»£ç çš„è¯å°±å…ˆæ‰§è¡Œå¾®ä»»åŠ¡</p>\n</blockquote>\n<p><strong>æ‰€ä»¥æ­£ç¡®çš„ä¸€æ¬¡ Event loop é¡ºåºæ˜¯è¿™æ ·çš„</strong></p>\n<ul>\n<li>æ‰§è¡ŒåŒæ­¥ä»£ç ï¼Œè¿™å±äºå®ä»»åŠ¡</li>\n<li>æ‰§è¡Œæ ˆä¸ºç©ºï¼ŒæŸ¥è¯¢æ˜¯å¦æœ‰å¾®ä»»åŠ¡éœ€è¦æ‰§è¡Œ</li>\n<li>æ‰§è¡Œæ‰€æœ‰å¾®ä»»åŠ¡</li>\n<li>å¿…è¦çš„è¯æ¸²æŸ“ UI</li>\n<li>ç„¶åå¼€å§‹ä¸‹ä¸€è½® <code>Event loop</code>ï¼Œæ‰§è¡Œå®ä»»åŠ¡ä¸­çš„å¼‚æ­¥ä»£ç </li>\n</ul>\n<blockquote>\n<p>é€šè¿‡ä¸Šè¿°çš„ <code>Event loop</code> é¡ºåºå¯çŸ¥ï¼Œå¦‚æœå®ä»»åŠ¡ä¸­çš„å¼‚æ­¥ä»£ç æœ‰å¤§é‡çš„è®¡ç®—å¹¶ä¸”éœ€è¦æ“ä½œ <code>DOM</code> çš„è¯ï¼Œä¸ºäº†æ›´å¿«çš„å“åº”ç•Œé¢å“åº”ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæ“ä½œ <code>DOM</code> æ”¾å…¥å¾®ä»»åŠ¡ä¸­</p>\n</blockquote>\n<h3 id=\"3-2-Node-ä¸­çš„-Event-loop\"><a href=\"#3-2-Node-ä¸­çš„-Event-loop\" class=\"headerlink\" title=\"3.2 Node ä¸­çš„ Event loop\"></a>3.2 Node ä¸­çš„ Event loop</h3><ul>\n<li><code>Node</code> ä¸­çš„ <code>Event loop</code> å’Œæµè§ˆå™¨ä¸­çš„ä¸ç›¸åŒã€‚</li>\n<li><code>Node</code> çš„ <code>Event loop</code> åˆ†ä¸º<code>6</code>ä¸ªé˜¶æ®µï¼Œå®ƒä»¬ä¼šæŒ‰ç…§é¡ºåºåå¤è¿è¡Œ</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><br><span class=\"line\">â”Œâ”€&gt;â”‚        timers         â”‚</span><br><span class=\"line\">â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><br><span class=\"line\">â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><br><span class=\"line\">â”‚  â”‚     I/O callbacks     â”‚</span><br><span class=\"line\">â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><br><span class=\"line\">â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><br><span class=\"line\">â”‚  â”‚     idle, prepare     â”‚</span><br><span class=\"line\">â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><br><span class=\"line\">â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚   <span class=\"attr\">incoming</span>:   â”‚</span><br><span class=\"line\">â”‚  â”‚         poll          â”‚&lt;â”€â”€connectionsâ”€â”€â”€     â”‚</span><br><span class=\"line\">â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚   data, etc.  â”‚</span><br><span class=\"line\">â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><br><span class=\"line\">â”‚  â”‚        check          â”‚</span><br><span class=\"line\">â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><br><span class=\"line\">â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><br><span class=\"line\">â””â”€â”€â”¤    close callbacks    â”‚</span><br><span class=\"line\">   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><br></pre></td></tr></table></figure>\n\n<p><strong>timer</strong></p>\n<ul>\n<li><code>timers</code> é˜¶æ®µä¼šæ‰§è¡Œ <code>setTimeout</code> å’Œ <code>setInterval</code></li>\n<li>ä¸€ä¸ª timer æŒ‡å®šçš„æ—¶é—´å¹¶ä¸æ˜¯å‡†ç¡®æ—¶é—´ï¼Œè€Œæ˜¯åœ¨è¾¾åˆ°è¿™ä¸ªæ—¶é—´åå°½å¿«æ‰§è¡Œå›è°ƒï¼Œå¯èƒ½ä¼šå› ä¸ºç³»ç»Ÿæ­£åœ¨æ‰§è¡Œåˆ«çš„äº‹åŠ¡è€Œå»¶è¿Ÿ</li>\n</ul>\n<p><strong>I/O</strong></p>\n<ul>\n<li><code>I/O</code> é˜¶æ®µä¼šæ‰§è¡Œé™¤äº† <code>close</code> äº‹ä»¶ï¼Œå®šæ—¶å™¨å’Œ <code>setImmediate</code> çš„å›è°ƒ</li>\n</ul>\n<p>idle, prepare<br>idle, prepare é˜¶æ®µå†…éƒ¨å®ç°</p>\n<p><strong>poll</strong></p>\n<ul>\n<li><p><code>poll</code> é˜¶æ®µå¾ˆé‡è¦ï¼Œè¿™ä¸€é˜¶æ®µä¸­ï¼Œç³»ç»Ÿä¼šåšä¸¤ä»¶äº‹æƒ…</p>\n<ul>\n<li>æ‰§è¡Œåˆ°ç‚¹çš„å®šæ—¶å™¨</li>\n<li>æ‰§è¡Œ <code>poll</code> é˜Ÿåˆ—ä¸­çš„äº‹ä»¶</li>\n</ul>\n</li>\n<li><p>å¹¶ä¸”å½“ poll ä¸­æ²¡æœ‰å®šæ—¶å™¨çš„æƒ…å†µä¸‹ï¼Œä¼šå‘ç°ä»¥ä¸‹ä¸¤ä»¶äº‹æƒ…</p>\n<ul>\n<li>å¦‚æœ poll é˜Ÿåˆ—ä¸ä¸ºç©ºï¼Œä¼šéå†å›è°ƒé˜Ÿåˆ—å¹¶åŒæ­¥æ‰§è¡Œï¼Œç›´åˆ°é˜Ÿåˆ—ä¸ºç©ºæˆ–è€…ç³»ç»Ÿé™åˆ¶</li>\n<li>å¦‚æœ poll é˜Ÿåˆ—ä¸ºç©ºï¼Œä¼šæœ‰ä¸¤ä»¶äº‹å‘ç”Ÿ</li>\n<li>å¦‚æœæœ‰ <code>setImmediate</code> éœ€è¦æ‰§è¡Œï¼Œ<code>poll</code> é˜¶æ®µä¼šåœæ­¢å¹¶ä¸”è¿›å…¥åˆ° <code>check</code> é˜¶æ®µæ‰§è¡Œ <code>setImmediate</code></li>\n<li>å¦‚æœæ²¡æœ‰ <code>setImmediate</code> éœ€è¦æ‰§è¡Œï¼Œä¼šç­‰å¾…å›è°ƒè¢«åŠ å…¥åˆ°é˜Ÿåˆ—ä¸­å¹¶ç«‹å³æ‰§è¡Œå›è°ƒ</li>\n<li>å¦‚æœæœ‰åˆ«çš„å®šæ—¶å™¨éœ€è¦è¢«æ‰§è¡Œï¼Œä¼šå›åˆ° <code>timer</code> é˜¶æ®µæ‰§è¡Œå›è°ƒã€‚</li>\n</ul>\n</li>\n</ul>\n<p><strong>check</strong></p>\n<ul>\n<li><code>check</code> é˜¶æ®µæ‰§è¡Œ <code>setImmediate</code></li>\n</ul>\n<p><strong>close callbacks</strong></p>\n<ul>\n<li><code>close callbacks</code> é˜¶æ®µæ‰§è¡Œ <code>close</code> äº‹ä»¶</li>\n<li>å¹¶ä¸”åœ¨ <code>Node</code> ä¸­ï¼Œæœ‰äº›æƒ…å†µä¸‹çš„å®šæ—¶å™¨æ‰§è¡Œé¡ºåºæ˜¯éšæœºçš„</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;setTimeout&#x27;</span>);</span><br><span class=\"line\">&#125;, <span class=\"number\">0</span>);</span><br><span class=\"line\"><span class=\"title function_\">setImmediate</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;setImmediate&#x27;</span>);</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"comment\">// è¿™é‡Œå¯èƒ½ä¼šè¾“å‡º setTimeoutï¼ŒsetImmediate</span></span><br><span class=\"line\"><span class=\"comment\">// å¯èƒ½ä¹Ÿä¼šç›¸åçš„è¾“å‡ºï¼Œè¿™å–å†³äºæ€§èƒ½</span></span><br><span class=\"line\"><span class=\"comment\">// å› ä¸ºå¯èƒ½è¿›å…¥ event loop ç”¨äº†ä¸åˆ° 1 æ¯«ç§’ï¼Œè¿™æ—¶å€™ä¼šæ‰§è¡Œ setImmediate</span></span><br><span class=\"line\"><span class=\"comment\">// å¦åˆ™ä¼šæ‰§è¡Œ setTimeout</span></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>ä¸Šé¢ä»‹ç»çš„éƒ½æ˜¯ macrotask çš„æ‰§è¡Œæƒ…å†µï¼Œmicrotask ä¼šåœ¨ä»¥ä¸Šæ¯ä¸ªé˜¶æ®µå®Œæˆåç«‹å³æ‰§è¡Œ</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">setTimeout</span>(<span class=\"function\">()=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;timer1&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"title class_\">Promise</span>.<span class=\"title function_\">resolve</span>().<span class=\"title function_\">then</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;promise1&#x27;</span>)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;, <span class=\"number\">0</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">setTimeout</span>(<span class=\"function\">()=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;timer2&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"title class_\">Promise</span>.<span class=\"title function_\">resolve</span>().<span class=\"title function_\">then</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;promise2&#x27;</span>)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;, <span class=\"number\">0</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ä»¥ä¸Šä»£ç åœ¨æµè§ˆå™¨å’Œ node ä¸­æ‰“å°æƒ…å†µæ˜¯ä¸åŒçš„</span></span><br><span class=\"line\"><span class=\"comment\">// æµè§ˆå™¨ä¸­ä¸€å®šæ‰“å° timer1, promise1, timer2, promise2</span></span><br><span class=\"line\"><span class=\"comment\">// node ä¸­å¯èƒ½æ‰“å° timer1, timer2, promise1, promise2</span></span><br><span class=\"line\"><span class=\"comment\">// ä¹Ÿå¯èƒ½æ‰“å° timer1, promise1, timer2, promise2</span></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p><code>Node</code> ä¸­çš„ <code>process.nextTick</code> ä¼šå…ˆäºå…¶ä»– <code>microtask</code> æ‰§è¡Œ</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\"> <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;timer1&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"> <span class=\"title class_\">Promise</span>.<span class=\"title function_\">resolve</span>().<span class=\"title function_\">then</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">   <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;promise1&quot;</span>);</span><br><span class=\"line\"> &#125;);</span><br><span class=\"line\">&#125;, <span class=\"number\">0</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">process.<span class=\"title function_\">nextTick</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\"> <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;nextTick&quot;</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"comment\">// nextTick, timer1, promise1</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"å››ã€Service-Worker\"><a href=\"#å››ã€Service-Worker\" class=\"headerlink\" title=\"å››ã€Service Worker\"></a>å››ã€Service Worker</h2><blockquote>\n<p>Service workers æœ¬è´¨ä¸Šå……å½“Webåº”ç”¨ç¨‹åºä¸æµè§ˆå™¨ä¹‹é—´çš„ä»£ç†æœåŠ¡å™¨ï¼Œä¹Ÿå¯ä»¥åœ¨ç½‘ç»œå¯ç”¨æ—¶ä½œä¸ºæµè§ˆå™¨å’Œç½‘ç»œé—´çš„ä»£ç†ã€‚å®ƒä»¬æ—¨åœ¨ï¼ˆé™¤å…¶ä»–ä¹‹å¤–ï¼‰ä½¿å¾—èƒ½å¤Ÿåˆ›å»ºæœ‰æ•ˆçš„ç¦»çº¿ä½“éªŒï¼Œæ‹¦æˆªç½‘ç»œè¯·æ±‚å¹¶åŸºäºç½‘ç»œæ˜¯å¦å¯ç”¨ä»¥åŠæ›´æ–°çš„èµ„æºæ˜¯å¦é©»ç•™åœ¨æœåŠ¡å™¨ä¸Šæ¥é‡‡å–é€‚å½“çš„åŠ¨ä½œã€‚ä»–ä»¬è¿˜å…è®¸è®¿é—®æ¨é€é€šçŸ¥å’Œåå°åŒæ­¥API</p>\n</blockquote>\n<p><strong>ç›®å‰è¯¥æŠ€æœ¯é€šå¸¸ç”¨æ¥åšç¼“å­˜æ–‡ä»¶ï¼Œæé«˜é¦–å±é€Ÿåº¦</strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// index.js</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> (navigator.<span class=\"property\">serviceWorker</span>) &#123;</span><br><span class=\"line\">  navigator.<span class=\"property\">serviceWorker</span></span><br><span class=\"line\">    .<span class=\"title function_\">register</span>(<span class=\"string\">&quot;sw.js&quot;</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">then</span>(<span class=\"keyword\">function</span>(<span class=\"params\">registration</span>) &#123;</span><br><span class=\"line\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;service worker æ³¨å†ŒæˆåŠŸ&quot;</span>);</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    .<span class=\"title function_\">catch</span>(<span class=\"keyword\">function</span>(<span class=\"params\">err</span>) &#123;</span><br><span class=\"line\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;servcie worker æ³¨å†Œå¤±è´¥&quot;</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">// sw.js</span></span><br><span class=\"line\"><span class=\"comment\">// ç›‘å¬ `install` äº‹ä»¶ï¼Œå›è°ƒä¸­ç¼“å­˜æ‰€éœ€æ–‡ä»¶</span></span><br><span class=\"line\">self.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;install&quot;</span>, <span class=\"function\"><span class=\"params\">e</span> =&gt;</span> &#123;</span><br><span class=\"line\">  e.<span class=\"title function_\">waitUntil</span>(</span><br><span class=\"line\">    caches.<span class=\"title function_\">open</span>(<span class=\"string\">&quot;my-cache&quot;</span>).<span class=\"title function_\">then</span>(<span class=\"keyword\">function</span>(<span class=\"params\">cache</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> cache.<span class=\"title function_\">addAll</span>([<span class=\"string\">&quot;./index.html&quot;</span>, <span class=\"string\">&quot;./index.js&quot;</span>]);</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  );</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ‹¦æˆªæ‰€æœ‰è¯·æ±‚äº‹ä»¶</span></span><br><span class=\"line\"><span class=\"comment\">// å¦‚æœç¼“å­˜ä¸­å·²ç»æœ‰è¯·æ±‚çš„æ•°æ®å°±ç›´æ¥ç”¨ç¼“å­˜ï¼Œå¦åˆ™å»è¯·æ±‚æ•°æ®</span></span><br><span class=\"line\">self.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;fetch&quot;</span>, <span class=\"function\"><span class=\"params\">e</span> =&gt;</span> &#123;</span><br><span class=\"line\">  e.<span class=\"title function_\">respondWith</span>(</span><br><span class=\"line\">    caches.<span class=\"title function_\">match</span>(e.<span class=\"property\">request</span>).<span class=\"title function_\">then</span>(<span class=\"keyword\">function</span>(<span class=\"params\">response</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (response) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> response;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;fetch source&quot;</span>);</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  );</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>æ‰“å¼€é¡µé¢ï¼Œå¯ä»¥åœ¨å¼€å‘è€…å·¥å…·ä¸­çš„ Application çœ‹åˆ° Service Worker å·²ç»å¯åŠ¨äº†</p>\n</blockquote>\n<p><img src=\"https://user-gold-cdn.xitu.io/2018/3/28/1626b1e8eba68e1c?w=1770&h=722&f=png&s=192277\"></p>\n<blockquote>\n<p>åœ¨ Cache ä¸­ä¹Ÿå¯ä»¥å‘ç°æˆ‘ä»¬æ‰€éœ€çš„æ–‡ä»¶å·²è¢«ç¼“å­˜</p>\n</blockquote>\n<p><img src=\"https://user-gold-cdn.xitu.io/2018/3/28/1626b20dfc4fcd26?w=1118&h=728&f=png&s=85610\"></p>\n<p>å½“æˆ‘ä»¬é‡æ–°åˆ·æ–°é¡µé¢å¯ä»¥å‘ç°æˆ‘ä»¬ç¼“å­˜çš„æ•°æ®æ˜¯ä» Service Worker ä¸­è¯»å–çš„</p>\n<h2 id=\"äº”ã€æ¸²æŸ“æœºåˆ¶\"><a href=\"#äº”ã€æ¸²æŸ“æœºåˆ¶\" class=\"headerlink\" title=\"äº”ã€æ¸²æŸ“æœºåˆ¶\"></a>äº”ã€æ¸²æŸ“æœºåˆ¶</h2><p><strong>æµè§ˆå™¨çš„æ¸²æŸ“æœºåˆ¶ä¸€èˆ¬åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤</strong></p>\n<ul>\n<li>å¤„ç† <code>HTML</code> å¹¶æ„å»º <code>DOM</code> æ ‘ã€‚</li>\n<li>å¤„ç† <code>CSS</code> æ„å»º <code>CSSOM</code> æ ‘ã€‚</li>\n<li>å°† <code>DOM</code> ä¸ <code>CSSOM</code> åˆå¹¶æˆä¸€ä¸ªæ¸²æŸ“æ ‘ã€‚</li>\n<li>æ ¹æ®æ¸²æŸ“æ ‘æ¥å¸ƒå±€ï¼Œè®¡ç®—æ¯ä¸ªèŠ‚ç‚¹çš„ä½ç½®ã€‚</li>\n<li>è°ƒç”¨ <code>GPU</code> ç»˜åˆ¶ï¼Œåˆæˆå›¾å±‚ï¼Œæ˜¾ç¤ºåœ¨å±å¹•ä¸Š</li>\n</ul>\n<p><img src=\"https://user-gold-cdn.xitu.io/2018/4/11/162b2ab2ec70ac5b?w=900&h=352&f=png&s=49983\"></p>\n<ul>\n<li>åœ¨æ„å»º CSSOM æ ‘æ—¶ï¼Œä¼šé˜»å¡æ¸²æŸ“ï¼Œç›´è‡³ CSSOM æ ‘æ„å»ºå®Œæˆã€‚å¹¶ä¸”æ„å»º CSSOM æ ‘æ˜¯ä¸€ä¸ªååˆ†æ¶ˆè€—æ€§èƒ½çš„è¿‡ç¨‹ï¼Œæ‰€ä»¥åº”è¯¥å°½é‡ä¿è¯å±‚çº§æ‰å¹³ï¼Œå‡å°‘è¿‡åº¦å±‚å ï¼Œè¶Šæ˜¯å…·ä½“çš„ CSS é€‰æ‹©å™¨ï¼Œæ‰§è¡Œé€Ÿåº¦è¶Šæ…¢</li>\n<li>å½“ HTML è§£æåˆ° script æ ‡ç­¾æ—¶ï¼Œä¼šæš‚åœæ„å»º DOMï¼Œå®Œæˆåæ‰ä¼šä»æš‚åœçš„åœ°æ–¹é‡æ–°å¼€å§‹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä½ æƒ³é¦–å±æ¸²æŸ“çš„è¶Šå¿«ï¼Œå°±è¶Šä¸åº”è¯¥åœ¨é¦–å±å°±åŠ è½½ JS æ–‡ä»¶ã€‚å¹¶ä¸” CSS ä¹Ÿä¼šå½±å“ JS çš„æ‰§è¡Œï¼Œåªæœ‰å½“è§£æå®Œæ ·å¼è¡¨æ‰ä¼šæ‰§è¡Œ JSï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥è®¤ä¸ºè¿™ç§æƒ…å†µä¸‹ï¼ŒCSS ä¹Ÿä¼šæš‚åœæ„å»º DOM</li>\n</ul>\n<h3 id=\"5-1-å›¾å±‚\"><a href=\"#5-1-å›¾å±‚\" class=\"headerlink\" title=\"5.1 å›¾å±‚\"></a>5.1 å›¾å±‚</h3><blockquote>\n<p>ä¸€èˆ¬æ¥è¯´ï¼Œå¯ä»¥æŠŠæ™®é€šæ–‡æ¡£æµçœ‹æˆä¸€ä¸ªå›¾å±‚ã€‚ç‰¹å®šçš„å±æ€§å¯ä»¥ç”Ÿæˆä¸€ä¸ªæ–°çš„å›¾å±‚ã€‚ä¸åŒçš„å›¾å±‚æ¸²æŸ“äº’ä¸å½±å“ï¼Œæ‰€ä»¥å¯¹äºæŸäº›é¢‘ç¹éœ€è¦æ¸²æŸ“çš„å»ºè®®å•ç‹¬ç”Ÿæˆä¸€ä¸ªæ–°å›¾å±‚ï¼Œæé«˜æ€§èƒ½ã€‚ä½†ä¹Ÿä¸èƒ½ç”Ÿæˆè¿‡å¤šçš„å›¾å±‚ï¼Œä¼šå¼•èµ·åä½œç”¨</p>\n</blockquote>\n<p><strong>é€šè¿‡ä»¥ä¸‹å‡ ä¸ªå¸¸ç”¨å±æ€§å¯ä»¥ç”Ÿæˆæ–°å›¾å±‚</strong></p>\n<ul>\n<li>3D å˜æ¢ï¼š<code>translate3d</code>ã€<code>translateZ</code></li>\n<li><code>will-change</code></li>\n<li><code>video</code>ã€<code>iframe</code> æ ‡ç­¾</li>\n<li>é€šè¿‡åŠ¨ç”»å®ç°çš„ <code>opacity</code> åŠ¨ç”»è½¬æ¢</li>\n<li><code>position: fixed</code></li>\n</ul>\n<h3 id=\"5-2-é‡ç»˜ï¼ˆRepaintï¼‰å’Œå›æµï¼ˆReflowï¼‰\"><a href=\"#5-2-é‡ç»˜ï¼ˆRepaintï¼‰å’Œå›æµï¼ˆReflowï¼‰\" class=\"headerlink\" title=\"5.2 é‡ç»˜ï¼ˆRepaintï¼‰å’Œå›æµï¼ˆReflowï¼‰\"></a>5.2 é‡ç»˜ï¼ˆRepaintï¼‰å’Œå›æµï¼ˆReflowï¼‰</h3><ul>\n<li>é‡ç»˜æ˜¯å½“èŠ‚ç‚¹éœ€è¦æ›´æ”¹å¤–è§‚è€Œä¸ä¼šå½±å“å¸ƒå±€çš„ï¼Œæ¯”å¦‚æ”¹å˜ color å°±å«ç§°ä¸ºé‡ç»˜</li>\n<li>å›æµæ˜¯å¸ƒå±€æˆ–è€…å‡ ä½•å±æ€§éœ€è¦æ”¹å˜å°±ç§°ä¸ºå›æµ</li>\n</ul>\n<blockquote>\n<p>å›æµå¿…å®šä¼šå‘ç”Ÿé‡ç»˜ï¼Œé‡ç»˜ä¸ä¸€å®šä¼šå¼•å‘å›æµã€‚å›æµæ‰€éœ€çš„æˆæœ¬æ¯”é‡ç»˜é«˜çš„å¤šï¼Œæ”¹å˜æ·±å±‚æ¬¡çš„èŠ‚ç‚¹å¾ˆå¯èƒ½å¯¼è‡´çˆ¶èŠ‚ç‚¹çš„ä¸€ç³»åˆ—å›æµ</p>\n</blockquote>\n<p><strong>æ‰€ä»¥ä»¥ä¸‹å‡ ä¸ªåŠ¨ä½œå¯èƒ½ä¼šå¯¼è‡´æ€§èƒ½é—®é¢˜</strong>ï¼š</p>\n<ul>\n<li>æ”¹å˜ window å¤§å°</li>\n<li>æ”¹å˜å­—ä½“</li>\n<li>æ·»åŠ æˆ–åˆ é™¤æ ·å¼</li>\n<li>æ–‡å­—æ”¹å˜</li>\n<li>å®šä½æˆ–è€…æµ®åŠ¨</li>\n<li>ç›’æ¨¡å‹</li>\n</ul>\n<p><strong>å¾ˆå¤šäººä¸çŸ¥é“çš„æ˜¯ï¼Œé‡ç»˜å’Œå›æµå…¶å®å’Œ Event loop æœ‰å…³</strong></p>\n<ul>\n<li>å½“ Event loop æ‰§è¡Œå®Œ <code>Microtasks</code> åï¼Œä¼šåˆ¤æ–­ <code>document</code> æ˜¯å¦éœ€è¦æ›´æ–°ã€‚å› ä¸ºæµè§ˆå™¨æ˜¯ <code>60Hz </code>çš„åˆ·æ–°ç‡ï¼Œæ¯ <code>16ms </code>æ‰ä¼šæ›´æ–°ä¸€æ¬¡ã€‚</li>\n<li>ç„¶ååˆ¤æ–­æ˜¯å¦æœ‰ <code>resize</code> æˆ–è€… <code>scroll</code> ï¼Œæœ‰çš„è¯ä¼šå»è§¦å‘äº‹ä»¶ï¼Œæ‰€ä»¥ <code>resize</code> å’Œ <code>scroll</code> äº‹ä»¶ä¹Ÿæ˜¯è‡³å°‘ <code>16ms</code> æ‰ä¼šè§¦å‘ä¸€æ¬¡ï¼Œå¹¶ä¸”è‡ªå¸¦èŠ‚æµåŠŸèƒ½ã€‚</li>\n<li>åˆ¤æ–­æ˜¯å¦è§¦å‘äº†<code> media query</code></li>\n<li>æ›´æ–°åŠ¨ç”»å¹¶ä¸”å‘é€äº‹ä»¶</li>\n<li>åˆ¤æ–­æ˜¯å¦æœ‰å…¨å±æ“ä½œäº‹ä»¶</li>\n<li>æ‰§è¡Œ <code>requestAnimationFrame</code> å›è°ƒ</li>\n<li>æ‰§è¡Œ <code>IntersectionObserver</code> å›è°ƒï¼Œè¯¥æ–¹æ³•ç”¨äºåˆ¤æ–­å…ƒç´ æ˜¯å¦å¯è§ï¼Œå¯ä»¥ç”¨äºæ‡’åŠ è½½ä¸Šï¼Œä½†æ˜¯å…¼å®¹æ€§ä¸å¥½</li>\n<li>æ›´æ–°ç•Œé¢</li>\n<li>ä»¥ä¸Šå°±æ˜¯ä¸€å¸§ä¸­å¯èƒ½ä¼šåšçš„äº‹æƒ…ã€‚å¦‚æœåœ¨ä¸€å¸§ä¸­æœ‰ç©ºé—²æ—¶é—´ï¼Œå°±ä¼šå»æ‰§è¡Œ <code>requestIdleCallback</code> å›è°ƒ</li>\n</ul>\n<p><strong>å‡å°‘é‡ç»˜å’Œå›æµ</strong></p>\n<ul>\n<li>ä½¿ç”¨ <code>translate</code> æ›¿ä»£ <code>top</code></li>\n<li>ä½¿ç”¨ <code>visibility</code> æ›¿æ¢<code> display: none</code> ï¼Œå› ä¸ºå‰è€…åªä¼šå¼•èµ·é‡ç»˜ï¼Œåè€…ä¼šå¼•å‘å›æµï¼ˆæ”¹å˜äº†å¸ƒå±€ï¼‰</li>\n<li>ä¸è¦ä½¿ç”¨ <code>table</code> å¸ƒå±€ï¼Œå¯èƒ½å¾ˆå°çš„ä¸€ä¸ªå°æ”¹åŠ¨ä¼šé€ æˆæ•´ä¸ª table çš„é‡æ–°å¸ƒå±€</li>\n<li>åŠ¨ç”»å®ç°çš„é€Ÿåº¦çš„é€‰æ‹©ï¼ŒåŠ¨ç”»é€Ÿåº¦è¶Šå¿«ï¼Œå›æµæ¬¡æ•°è¶Šå¤šï¼Œä¹Ÿå¯ä»¥é€‰æ‹©ä½¿ç”¨ <code>requestAnimationFrame</code></li>\n<li><code>CSS</code> é€‰æ‹©ç¬¦ä»å³å¾€å·¦åŒ¹é…æŸ¥æ‰¾ï¼Œé¿å… <code>DOM</code> æ·±åº¦è¿‡æ·±</li>\n<li>å°†é¢‘ç¹è¿è¡Œçš„åŠ¨ç”»å˜ä¸ºå›¾å±‚ï¼Œå›¾å±‚èƒ½å¤Ÿé˜»æ­¢è¯¥èŠ‚ç‚¹å›æµå½±å“åˆ«çš„å…ƒç´ ã€‚æ¯”å¦‚å¯¹äº <code>video </code>æ ‡ç­¾ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨å°†è¯¥èŠ‚ç‚¹å˜ä¸ºå›¾å±‚</li>\n</ul>\n"},{"title":"è°ˆè°ˆæ•°æ®çŠ¶æ€ç®¡ç†å’Œå®ç°ä¸€ä¸ªç®€æ˜“ç‰ˆvuex","url":"/LittleWhiteRabbit/2022/04/26/%E8%B0%88%E8%B0%88%E6%95%B0%E6%8D%AE%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86%E5%92%8C%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E7%AE%80%E6%98%93%E7%89%88vuex/","content":"<h3 id=\"æ•°æ®çŠ¶æ€ç®¡ç†\"><a href=\"#æ•°æ®çŠ¶æ€ç®¡ç†\" class=\"headerlink\" title=\"æ•°æ®çŠ¶æ€ç®¡ç†\"></a>æ•°æ®çŠ¶æ€ç®¡ç†</h3><p>é¦–å…ˆè¯´è¯´ä»€ä¹ˆå«â€œå‰ç«¯çŠ¶æ€â€ã€‚æ‰€æœ‰ç¨‹åºéƒ½æœ‰â€œçŠ¶æ€â€ï¼ŒçŠ¶æ€è¡¨ç°åœ¨ä»£ç ä¸­çš„å„ç§ç±»å‹çš„å˜é‡ï¼Œåœ¨ç¨‹åºè¿è¡Œçš„è¿‡ç¨‹ä¸­å‘ç”Ÿæ”¹å˜çš„è¿‡ç¨‹ï¼Œè€Œæˆ‘ä»¬ç¼–å†™çš„ç¨‹åºå°±æ˜¯åœ¨æ§åˆ¶è¿™äº›â€œçŠ¶æ€â€å¦‚ä½•å‘ç”Ÿæ”¹å˜ã€‚</p>\n<h4 id=\"ä¸ºä»€ä¹ˆè¦è¿›è¡Œæ•°æ®çŠ¶æ€ç®¡ç†\"><a href=\"#ä¸ºä»€ä¹ˆè¦è¿›è¡Œæ•°æ®çŠ¶æ€ç®¡ç†\" class=\"headerlink\" title=\"ä¸ºä»€ä¹ˆè¦è¿›è¡Œæ•°æ®çŠ¶æ€ç®¡ç†\"></a>ä¸ºä»€ä¹ˆè¦è¿›è¡Œæ•°æ®çŠ¶æ€ç®¡ç†</h4><span id=\"more\"></span>\n<p>æ•°æ®çŠ¶æ€ç®¡ç†æ˜¯è¿‘å¹´éšç€åœ¨ React&#x2F;Vue ç­‰ç°ä»£åŒ–çš„å‰ç«¯æ¡†æ¶æµè¡Œèµ·æ¥çš„ï¼Œä¸»è¦åº”ç”¨åœ¨å•é¡µåº”ç”¨ SPA<code>(Single Page Application)</code>ä¸­ã€‚åœ¨ä»¥å‰å‰ç«¯â€œåˆ€è€•ç«ç§â€çš„å¹´ä»£è¿˜æ²¡æœ‰è¿™ç§æ¦‚å¿µçš„ã€‚</p>\n<p>å‰ç«¯æŠ€æœ¯åœ¨å¦‚ç«å¦‚è¼åœ°å‘å±•ï¼Œå‰ç«¯å·¥ä½œä¹Ÿè¶Šæ¥è¶Šå¤æ‚ï¼Œç°é˜¶æ®µçš„å‰ç«¯ä¸åœ¨åªæ˜¯ä¼ ç»Ÿæ„ä¹‰ä¸Šçš„â€œåˆ‡å›¾ä»”â€ï¼Œæ›´å¤šåœ°è´Ÿè´£é¡µé¢æ•°æ®é€»è¾‘å¤„ç†ï¼ŒåŸæœ‰çš„å¾ˆå¤šæŠ€æœ¯ä½“ç³»ã€è§£å†³æ–¹æ¡ˆå·²ç»ä¸èƒ½å¾ˆå¥½çš„æ”¯æ’‘è¿™äº›è¶Šæ¥è¶Šå¤æ‚çš„éœ€æ±‚ã€‚è€Œä¸”ï¼Œç°åœ¨ Vue&#x2F;React ç­‰å‰ç«¯æ¡†æ¶éƒ½æ˜¯ä½¿ç”¨ MVVM çš„è®¾è®¡æ¨¡å¼ï¼Œéƒ½æ˜¯ä¾é æ•°æ®é©±åŠ¨è§†å›¾çš„æ›´æ–°ã€‚</p>\n<p>æ¯”å¦‚ Vue ä½¿ç”¨äº† Virtual DOM çš„ æ€æƒ³ã€‚å°† DOM æ”¾åˆ°å†…å­˜ä¸­ï¼Œå½“ data å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œç”Ÿæˆæ–°çš„ Virtual DOMï¼Œå†å°†å®ƒå’Œä¹‹å‰çš„ Virtual DOM é€šè¿‡ä¸€ä¸ª diff ç®—æ³•è¿›è¡Œå¯¹æ¯”ï¼Œå°†è¢«æ”¹å˜çš„å†…å®¹åœ¨æµè§ˆå™¨ä¸­æ¸²æŸ“ï¼Œå¤§å¤§å‡å°‘äº†å¯¹ DOM çš„æ“ä½œï¼Œæå‡äº†å‰ç«¯æ€§èƒ½ã€‚</p>\n<p>å…¶æ¬¡æ•°æ®ç®¡ç†é€»è¾‘å’Œé¡µé¢æ¸²æŸ“é€»è¾‘åˆ†ç¦»ï¼Œä½¿å¾—ä»£ç æ›´å®¹æ˜“ç»´æŠ¤ã€‚æ“ä½œæ•°æ®çš„åœ°æ–¹ä¸ä¼šå…³å¿ƒé¡µé¢å¦‚ä½•å±•ç¤ºï¼Œå±•ç¤ºé¡µé¢çš„åœ°æ–¹ä¸ä¼šå…³å¿ƒæ•°æ®ä»å“ªé‡Œæ¥çš„ã€‚</p>\n<h4 id=\"æ•°æ®çŠ¶æ€ç®¡ç†çš„æ–¹æ³•\"><a href=\"#æ•°æ®çŠ¶æ€ç®¡ç†çš„æ–¹æ³•\" class=\"headerlink\" title=\"æ•°æ®çŠ¶æ€ç®¡ç†çš„æ–¹æ³•\"></a>æ•°æ®çŠ¶æ€ç®¡ç†çš„æ–¹æ³•</h4><ul>\n<li>localStorage å’Œ sessionStorage : é€‚åˆå°é‡ç®€å•æ•°æ®çš„å­˜å‚¨</li>\n<li>prop å’Œ $emit: é€‚åˆçˆ¶å­ç»„ä»¶ä¼ å€¼</li>\n<li>provide å’Œ inject: å…è®¸ä¸€ä¸ªç¥–å…ˆç»„ä»¶å‘å…¶æ‰€æœ‰å­å­™åä»£æ³¨å…¥ä¸€ä¸ªä¾èµ–</li>\n<li>vuex: å…¨å±€æ•°æ®çŠ¶æ€ç®¡ç†ï¼Œé€‚åˆæ•°æ®å¤æ‚çš„å¤§å‹åº”ç”¨</li>\n</ul>\n<h3 id=\"Vuex\"><a href=\"#Vuex\" class=\"headerlink\" title=\"Vuex\"></a>Vuex</h3><p>Vuex æ˜¯ä¸€ä¸ªä¸“ä¸º Vue.js åº”ç”¨ç¨‹åºå¼€å‘çš„çŠ¶æ€ç®¡ç†æ¨¡å¼ã€‚å®ƒé‡‡ç”¨é›†ä¸­å¼å­˜å‚¨ç®¡ç†åº”ç”¨çš„æ‰€æœ‰ç»„ä»¶çš„çŠ¶æ€ï¼Œå¹¶ä»¥ç›¸åº”çš„è§„åˆ™ä¿è¯çŠ¶æ€ä»¥ä¸€ç§å¯é¢„æµ‹çš„æ–¹å¼å‘ç”Ÿå˜åŒ–ã€‚</p>\n<h4 id=\"Vuex-è§£å†³äº†ä»€ä¹ˆé—®é¢˜\"><a href=\"#Vuex-è§£å†³äº†ä»€ä¹ˆé—®é¢˜\" class=\"headerlink\" title=\"Vuex è§£å†³äº†ä»€ä¹ˆé—®é¢˜\"></a>Vuex è§£å†³äº†ä»€ä¹ˆé—®é¢˜</h4><ul>\n<li>å¤šä¸ªç»„ä»¶ä¾èµ–äºåŒä¸€çŠ¶æ€æ—¶ï¼Œå¯¹äºå¤šå±‚åµŒå¥—çš„ç»„ä»¶çš„ä¼ å‚å°†ä¼šéå¸¸ç¹çï¼Œå¹¶ä¸”å¯¹äºå…„å¼Ÿç»„ä»¶é—´çš„çŠ¶æ€ä¼ é€’æ— èƒ½ä¸ºåŠ›ã€‚</li>\n<li>æ¥è‡ªä¸åŒç»„ä»¶çš„è¡Œä¸ºéœ€è¦å˜æ›´åŒä¸€çŠ¶æ€ã€‚ä»¥å¾€é‡‡ç”¨çˆ¶å­ç»„ä»¶ç›´æ¥å¼•ç”¨æˆ–è€…é€šè¿‡äº‹ä»¶æ¥å˜æ›´å’ŒåŒæ­¥çŠ¶æ€çš„å¤šä»½æ‹·è´ã€‚ä»¥ä¸Šçš„è¿™äº›æ¨¡å¼éå¸¸è„†å¼±ï¼Œé€šå¸¸ä¼šå¯¼è‡´æ— æ³•ç»´æŠ¤çš„ä»£ç ã€‚</li>\n</ul>\n<h4 id=\"äº”ä¸ªæ ¸å¿ƒå±æ€§\"><a href=\"#äº”ä¸ªæ ¸å¿ƒå±æ€§\" class=\"headerlink\" title=\"äº”ä¸ªæ ¸å¿ƒå±æ€§\"></a>äº”ä¸ªæ ¸å¿ƒå±æ€§</h4><ul>\n<li>stateï¼šå­˜å‚¨çŠ¶æ€ï¼ˆå˜é‡ï¼‰,ç›¸å½“äº vue çš„ data</li>\n<li>gettersï¼šå¯¹æ•°æ®è·å–ä¹‹å‰çš„å†æ¬¡ç¼–è¯‘ï¼Œå¯ä»¥ç†è§£ä¸º state çš„è®¡ç®—å±æ€§ã€‚æˆ‘ä»¬åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ <code>$sotre.getters.fun()</code></li>\n<li>mutationsï¼šä¿®æ”¹çŠ¶æ€ï¼Œå¹¶ä¸”æ˜¯åŒæ­¥çš„ã€‚åœ¨ç»„ä»¶ä¸­ä½¿ç”¨<code>$store.commit(&#39;&#39;,params)</code>ã€‚ç›¸å½“äº vue çš„ methodsã€‚</li>\n<li>actionsï¼šå¼‚æ­¥æ“ä½œã€‚åœ¨ç»„ä»¶ä¸­ä½¿ç”¨æ˜¯<code>$store.dispath(&#39;&#39;)</code></li>\n<li>modulesï¼šstore çš„å­æ¨¡å—ï¼Œä¸ºäº†å¼€å‘å¤§å‹é¡¹ç›®ï¼Œæ–¹ä¾¿çŠ¶æ€ç®¡ç†è€Œä½¿ç”¨çš„ã€‚</li>\n</ul>\n<h4 id=\"state\"><a href=\"#state\" class=\"headerlink\" title=\"state\"></a>state</h4><p>state æ˜¯å­˜å‚¨çŠ¶æ€ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> store = <span class=\"keyword\">new</span> <span class=\"title class_\">Vuex</span>.<span class=\"title class_\">Store</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">state</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">count</span>: <span class=\"number\">10</span>,</span><br><span class=\"line\">    <span class=\"attr\">price</span>: <span class=\"number\">10</span>,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<p>å½“ä¸€ä¸ªç»„ä»¶éœ€è¦è·å–å¤šä¸ªçŠ¶æ€æ—¶å€™ï¼Œå°†è¿™äº›çŠ¶æ€éƒ½å£°æ˜ä¸ºè®¡ç®—å±æ€§ä¼šæœ‰äº›é‡å¤å’Œå†—ä½™ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ mapState è¾…åŠ©å‡½æ•°å¸®åŠ©æˆ‘ä»¬ç”Ÿæˆè®¡ç®—å±æ€§ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// åœ¨å•ç‹¬æ„å»ºçš„ç‰ˆæœ¬ä¸­è¾…åŠ©å‡½æ•°ä¸º Vuex.mapState</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; mapState &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vuex&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span><br><span class=\"line\">  <span class=\"attr\">computed</span>: <span class=\"title function_\">mapState</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">count</span>: <span class=\"function\">(<span class=\"params\">state</span>) =&gt;</span> state.<span class=\"property\">count</span>,</span><br><span class=\"line\">    <span class=\"attr\">price</span>: <span class=\"function\">(<span class=\"params\">state</span>) =&gt;</span> state.<span class=\"property\">price</span>,</span><br><span class=\"line\">  &#125;),</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å½“æ˜ å°„çš„è®¡ç®—å±æ€§çš„åç§°ä¸ state çš„å­èŠ‚ç‚¹åç§°ç›¸åŒæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç»™ mapState ä¼ ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ã€‚</span></span><br><span class=\"line\"><span class=\"attr\">computed</span>: <span class=\"title function_\">mapState</span>([<span class=\"string\">&#x27;count&#x27;</span>, <span class=\"string\">&#x27;price&#x27;</span>])</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"getter\"><a href=\"#getter\" class=\"headerlink\" title=\"getter\"></a>getter</h4><p>æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦ä» store ä¸­çš„ state ä¸­æ´¾ç”Ÿå‡ºä¸€äº›çŠ¶æ€ï¼Œä¾‹å¦‚å¯¹åˆ—è¡¨è¿›è¡Œè¿‡æ»¤å¹¶è®¡æ•°ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±ç”¨åˆ° getter å±æ€§ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Vuex</span>.<span class=\"title class_\">Store</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">state</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">list</span>: [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">getters</span>: &#123; <span class=\"comment\">//  è¿™ä¸ªä¸»è¦æ˜¯å¯¹çŠ¶æ€çš„å¤„ç†ï¼Œç›¸å½“äºæŠŠçŠ¶æ€å¤„ç†çš„æ–¹æ³•æŠ½æˆå…¬å…±éƒ¨åˆ†æ¥ç®¡ç†äº†</span></span><br><span class=\"line\">    <span class=\"title function_\">filterArr</span>(<span class=\"params\">state</span>) &#123; <span class=\"comment\">// ä¸€èˆ¬åŒ–getter</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> state.<span class=\"property\">list</span>.<span class=\"title function_\">filter</span>(<span class=\"function\">(<span class=\"params\">item, index, arr</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> item % <span class=\"number\">2</span> === <span class=\"number\">0</span>;</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"title function_\">getLength</span>(<span class=\"params\">state, getter</span>) &#123; <span class=\"comment\">// æ–¹æ³•é‡Œé¢ä¼ getterï¼Œè°ƒç”¨modifyArræ¥è®¡ç®—é•¿åº¦</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> getter.<span class=\"property\">filterArr</span>.<span class=\"property\">length</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<p>ç„¶ååœ¨ç»„ä»¶ä¸­å¯ä»¥ç”¨è®¡ç®—å±æ€§ computed æ¥è®¿é—®è¿™äº›æ´¾ç”Ÿè½¬æ€ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">computed</span>: &#123;</span><br><span class=\"line\">  <span class=\"title function_\">list</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"property\">$store</span>.<span class=\"property\">getters</span>.<span class=\"property\">filterArr</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>mapGetters è¾…åŠ©å‡½æ•°ä»…ä»…æ˜¯å°† store ä¸­çš„ getter æ˜ å°„åˆ°å±€éƒ¨è®¡ç®—å±æ€§ï¼Œå½“æˆ‘ä»¬æƒ³åœ¨ç»„ä»¶é‡Œé¢å¼•å…¥å¤šä¸ª getter æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ mapGettersï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; mapGetters &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vuex&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span><br><span class=\"line\">  <span class=\"attr\">computed</span>: &#123;</span><br><span class=\"line\">    ...<span class=\"title function_\">mapGetters</span>([<span class=\"string\">&#x27;filterArr&#x27;</span>, <span class=\"string\">&#x27;getLength&#x27;</span>]),</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"mutation\"><a href=\"#mutation\" class=\"headerlink\" title=\"mutation\"></a>mutation</h4><p><strong>æ›´æ”¹ Vuex çš„ store ä¸­çš„çŠ¶æ€çš„å”¯ä¸€æ–¹æ³•æ˜¯æäº¤ mutationã€‚</strong> Vuex ä¸­çš„ mutation éå¸¸ç±»ä¼¼äºäº‹ä»¶ï¼šæ¯ä¸ª mutation éƒ½æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²çš„äº‹ä»¶ç±»å‹ (type) å’Œ ä¸€ä¸ª å›è°ƒå‡½æ•° (handler)ã€‚<br>å®ƒä¼šæ¥å— state ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œæäº¤è½½è·ï¼ˆPayloadï¼‰ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> store = <span class=\"keyword\">new</span> <span class=\"title class_\">Vuex</span>.<span class=\"title class_\">Store</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">state</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">count</span>: <span class=\"number\">1</span>,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">mutations</span>: &#123;</span><br><span class=\"line\">    <span class=\"title function_\">increment</span>(<span class=\"params\">state, n</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// å˜æ›´çŠ¶æ€</span></span><br><span class=\"line\">      state.<span class=\"property\">count</span> += n</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">store.<span class=\"title function_\">commit</span>(<span class=\"string\">&#x27;increment&#x27;</span>, <span class=\"number\">10</span>)</span><br></pre></td></tr></table></figure>\n\n<p>åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œè½½è·åº”è¯¥æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™æ ·å¯ä»¥åŒ…å«å¤šä¸ªå­—æ®µå¹¶ä¸”è®°å½•çš„ mutation ä¼šæ›´æ˜“è¯»ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">mutations</span>: &#123;</span><br><span class=\"line\">  increment (state, payload) &#123;</span><br><span class=\"line\">    state.<span class=\"property\">count</span> += payload.<span class=\"property\">count</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">store.<span class=\"title function_\">commit</span>(<span class=\"string\">&#x27;increment&#x27;</span>, &#123;</span><br><span class=\"line\">  <span class=\"attr\">count</span>: <span class=\"number\">10</span></span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<p>æäº¤ mutation çš„å¦ä¸€ç§æ–¹å¼æ˜¯ç›´æ¥ä½¿ç”¨åŒ…å« type å±æ€§çš„å¯¹è±¡ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">store.<span class=\"title function_\">commit</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">type</span>: <span class=\"string\">&#x27;increment&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">count</span>: <span class=\"number\">10</span>,</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<p><strong>åœ¨ç»„ä»¶ä¸­æäº¤ Mutation</strong><br>ä½ å¯ä»¥åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ <code>this.$store.commit(&#39;xxx&#39;)</code> æäº¤ mutationï¼Œæˆ–è€…ä½¿ç”¨ mapMutations è¾…åŠ©å‡½æ•°å°†ç»„ä»¶ä¸­çš„ methods æ˜ å°„ä¸º <code>store.commit</code> è°ƒç”¨ï¼ˆéœ€è¦åœ¨æ ¹èŠ‚ç‚¹æ³¨å…¥ storeï¼‰ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; mapMutations &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vuex&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">  <span class=\"attr\">methods</span>: &#123;</span><br><span class=\"line\">    ...<span class=\"title function_\">mapMutations</span>([</span><br><span class=\"line\">      <span class=\"string\">&#x27;increment&#x27;</span>, <span class=\"comment\">// å°† `this.increment()` æ˜ å°„ä¸º `this.$store.commit(&#x27;increment&#x27;)`</span></span><br><span class=\"line\">    ]),</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"Action\"><a href=\"#Action\" class=\"headerlink\" title=\"Action\"></a>Action</h4><p>Action ç±»ä¼¼äº mutationï¼Œä¸åŒåœ¨äºï¼š</p>\n<ul>\n<li>action æäº¤çš„æ˜¯ mutationï¼Œè€Œä¸æ˜¯ç›´æ¥å˜æ›´çŠ¶æ€ã€‚mutation å¯ä»¥ç›´æ¥å˜æ›´çŠ¶æ€ã€‚</li>\n<li>action å¯ä»¥åŒ…å«ä»»æ„å¼‚æ­¥æ“ä½œã€‚mutation åªèƒ½æ˜¯åŒæ­¥æ“ä½œã€‚</li>\n<li>æäº¤æ–¹å¼ä¸åŒï¼Œaction æ˜¯ç”¨<code>this.$store.dispatch(&#39;ACTION_NAME&#39;,data)</code>æ¥æäº¤ã€‚mutation æ˜¯ç”¨<code>this.$store.commit(&#39;SET_NUMBER&#39;,10)</code>æ¥æäº¤ã€‚</li>\n<li>æ¥æ”¶å‚æ•°ä¸åŒï¼Œmutation ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ stateï¼Œè€Œ action ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ contextã€‚</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> store = <span class=\"keyword\">new</span> <span class=\"title class_\">Vuex</span>.<span class=\"title class_\">Store</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">state</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">count</span>: <span class=\"number\">0</span>,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">mutations</span>: &#123;</span><br><span class=\"line\">    <span class=\"title function_\">increment</span>(<span class=\"params\">state</span>) &#123;</span><br><span class=\"line\">      state.<span class=\"property\">count</span>++</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">actions</span>: &#123;</span><br><span class=\"line\">    <span class=\"title function_\">increment</span>(<span class=\"params\">context</span>) &#123;</span><br><span class=\"line\">      context.<span class=\"title function_\">commit</span>(<span class=\"string\">&#x27;increment&#x27;</span>)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<p><strong>æ³¨æ„ï¼švuex çš„ mutation ä¸­ä¸èƒ½åšå¼‚æ­¥æ“ä½œ</strong></p>\n<p>vuex ä¸­æ‰€æœ‰çš„çŠ¶æ€æ›´æ–°çš„å”¯ä¸€æ–¹å¼éƒ½æ˜¯æäº¤ mutationï¼Œå¼‚æ­¥æ“ä½œéœ€è¦é€šè¿‡ action æ¥æäº¤ mutationï¼ˆdispatchï¼‰ã€‚è¿™æ ·ä½¿å¾—æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°è·Ÿè¸ªæ¯ä¸€ä¸ªçŠ¶æ€çš„å˜åŒ–ï¼Œä»è€Œè®©æˆ‘ä»¬èƒ½å¤Ÿå®ç°ä¸€äº›å·¥å…·å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°ä½¿ç”¨ vuex</p>\n<h4 id=\"Module\"><a href=\"#Module\" class=\"headerlink\" title=\"Module\"></a>Module</h4><p>Vuex å…è®¸æˆ‘ä»¬å°† store åˆ†å‰²æˆæ¨¡å—ï¼ˆmoduleï¼‰ã€‚æ¯ä¸ªæ¨¡å—æ‹¥æœ‰è‡ªå·±çš„ stateã€mutationã€actionã€getterã€ç”šè‡³æ˜¯åµŒå¥—å­æ¨¡å—â€”â€”ä»ä¸Šè‡³ä¸‹è¿›è¡ŒåŒæ ·æ–¹å¼çš„åˆ†å‰²ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> moduleA = &#123;</span><br><span class=\"line\">  <span class=\"attr\">state</span>: &#123; ... &#125;,</span><br><span class=\"line\">  <span class=\"attr\">getters</span>: &#123; ... &#125;,</span><br><span class=\"line\">  <span class=\"attr\">mutations</span>: &#123; ... &#125;,</span><br><span class=\"line\">  <span class=\"attr\">actions</span>: &#123; ... &#125;,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> moduleB = &#123;</span><br><span class=\"line\">  <span class=\"attr\">state</span>: &#123; ... &#125;,</span><br><span class=\"line\">  <span class=\"attr\">getters</span>: &#123; ... &#125;,</span><br><span class=\"line\">  <span class=\"attr\">mutations</span>: &#123; ... &#125;,</span><br><span class=\"line\">  <span class=\"attr\">actions</span>: &#123; ... &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> store = <span class=\"keyword\">new</span> <span class=\"title class_\">Vuex</span>.<span class=\"title class_\">Store</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">modules</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">a</span>: moduleA,</span><br><span class=\"line\">    <span class=\"attr\">b</span>: moduleB</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">store.<span class=\"property\">state</span>.<span class=\"property\">a</span> <span class=\"comment\">// -&gt; moduleA çš„çŠ¶æ€</span></span><br><span class=\"line\">store.<span class=\"property\">state</span>.<span class=\"property\">b</span> <span class=\"comment\">// -&gt; moduleB çš„çŠ¶æ€</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å®ç°ä¸€ä¸ªç®€æ˜“ç‰ˆçš„-vuex\"><a href=\"#å®ç°ä¸€ä¸ªç®€æ˜“ç‰ˆçš„-vuex\" class=\"headerlink\" title=\"å®ç°ä¸€ä¸ªç®€æ˜“ç‰ˆçš„ vuex\"></a>å®ç°ä¸€ä¸ªç®€æ˜“ç‰ˆçš„ vuex</h3><p>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹ vuex çš„ä½¿ç”¨æ–¹æ³•</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Vue</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vue&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Vuex</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vuex&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title class_\">Vue</span>.<span class=\"title function_\">use</span>(<span class=\"title class_\">Vuex</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Vuex</span>.<span class=\"title class_\">Store</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">state</span>: &#123;&#125;,</span><br><span class=\"line\">  <span class=\"attr\">mutations</span>: &#123;&#125;,</span><br><span class=\"line\">  <span class=\"attr\">actions</span>: &#123;&#125;,</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<p>é€šè¿‡ä¸Šé¢å¯ä»¥çœ‹åˆ°ï¼Œ<code>vuex</code> æ˜¯é€šè¿‡ <code>Vue.use()</code> æ³¨å…¥åˆ° <code>Vue</code> çš„ã€‚ä½¿ç”¨<code>Vue.use()</code> çš„æ’ä»¶ï¼Œå¦‚æœæ’ä»¶æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¿…é¡»æä¾› <code>install</code> æ–¹æ³•ã€‚å¦‚æœæ’ä»¶æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒä¼šè¢«ä½œä¸º <code>install</code> æ–¹æ³•ã€‚<code>install</code> æ–¹æ³•è°ƒç”¨æ—¶ï¼Œä¼šå°† Vue ä½œä¸ºå‚æ•°ä¼ å…¥ã€‚</p>\n<h4 id=\"å®ç°-Store-ç±»\"><a href=\"#å®ç°-Store-ç±»\" class=\"headerlink\" title=\"å®ç° Store ç±»\"></a>å®ç° Store ç±»</h4><p>é¦–å…ˆæ¥å®ç°ä¸€ä¸ª Store ç±»ï¼Œä»£ç å¦‚ä¸‹</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Store</span> &#123;</span><br><span class=\"line\">  <span class=\"title function_\">constructor</span>(<span class=\"params\">options</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">state</span> = <span class=\"keyword\">new</span> <span class=\"title class_\">Vue</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">data</span>: options.<span class=\"property\">state</span>,</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">mutations</span> = options.<span class=\"property\">mutations</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">actions</span> = options.<span class=\"property\">actions</span></span><br><span class=\"line\"></span><br><span class=\"line\">    options.<span class=\"property\">getters</span> &amp;&amp; <span class=\"variable language_\">this</span>.<span class=\"title function_\">handleGetters</span>(options.<span class=\"property\">getters</span>)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  commit = <span class=\"function\">(<span class=\"params\">type, arg</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">mutations</span>[type](<span class=\"variable language_\">this</span>.<span class=\"property\">state</span>, arg)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"title function_\">dispatch</span>(<span class=\"params\">type, arg</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">actions</span>[type](</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        <span class=\"attr\">commit</span>: <span class=\"variable language_\">this</span>.<span class=\"property\">commit</span>,</span><br><span class=\"line\">        <span class=\"attr\">state</span>: <span class=\"variable language_\">this</span>.<span class=\"property\">state</span>,</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      arg</span><br><span class=\"line\">    )</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// gettersä¸ºå‚æ•° è€Œthis.gettersæ˜¯å®ä¾‹åŒ–çš„</span></span><br><span class=\"line\">  <span class=\"title function_\">handleGetters</span>(<span class=\"params\">getters</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">getters</span> = &#123;&#125;</span><br><span class=\"line\">    <span class=\"title class_\">Object</span>.<span class=\"title function_\">keys</span>(getters).<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">key</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"title class_\">Object</span>.<span class=\"title function_\">defineProperty</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">getters</span>, key, &#123;</span><br><span class=\"line\">        <span class=\"attr\">get</span>: <span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">          <span class=\"keyword\">return</span> getters[key](<span class=\"variable language_\">this</span>.<span class=\"property\">state</span>)</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"å®ç°-install-æ–¹æ³•\"><a href=\"#å®ç°-install-æ–¹æ³•\" class=\"headerlink\" title=\"å®ç° install æ–¹æ³•\"></a>å®ç° install æ–¹æ³•</h4><p>ä½¿ç”¨<code>Vue.use()</code> çš„æ’ä»¶ï¼Œå¿…é¡»æä¾› <code>install</code> æ–¹æ³•ã€‚å¹¶å°† Vue ä½œä¸ºå‚æ•°ä¼ å…¥ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> <span class=\"title class_\">Vue</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">install</span>(<span class=\"params\">_Vue</span>) &#123;</span><br><span class=\"line\">  <span class=\"title class_\">Vue</span> = _Vue</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"title class_\">Vue</span>.<span class=\"title function_\">mixin</span>(&#123;</span><br><span class=\"line\">    <span class=\"title function_\">beforeCreate</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">$options</span>.<span class=\"property\">store</span>) &#123;</span><br><span class=\"line\">        <span class=\"title class_\">Vue</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">$store</span> = <span class=\"variable language_\">this</span>.<span class=\"property\">$options</span>.<span class=\"property\">store</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>vuex æœ€ç»ˆ export äº†ä¸€ä¸ªå¯¹è±¡è¿™ä¸ªå¯¹è±¡åŒ…æ‹¬äº†ä¸€ä¸ª install æ–¹æ³•å’Œä¸€ä¸ªç±» Store, æ³¨æ„å¯¹åº”æˆ‘ä»¬çš„ä½¿ç”¨æ–¹æ³•ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123; <span class=\"title class_\">Store</span>, install &#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"ä½¿ç”¨ç®€æ˜“ç‰ˆ-vuex\"><a href=\"#ä½¿ç”¨ç®€æ˜“ç‰ˆ-vuex\" class=\"headerlink\" title=\"ä½¿ç”¨ç®€æ˜“ç‰ˆ vuex\"></a>ä½¿ç”¨ç®€æ˜“ç‰ˆ vuex</h4><p>1ã€æ–°å»º store.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Vue</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vue&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Vuex</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./store&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title class_\">Vue</span>.<span class=\"title function_\">use</span>(<span class=\"title class_\">Vuex</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> state = &#123;</span><br><span class=\"line\">  <span class=\"attr\">count</span>: <span class=\"number\">0</span>,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">const</span> getters = &#123;</span><br><span class=\"line\">  <span class=\"title function_\">getCount</span>(<span class=\"params\">state</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> state.<span class=\"property\">count</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">const</span> mutations = &#123;</span><br><span class=\"line\">  <span class=\"title function_\">addCount</span>(<span class=\"params\">state, payload</span>) &#123;</span><br><span class=\"line\">    state.<span class=\"property\">count</span> += payload</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">const</span> actions = &#123;</span><br><span class=\"line\">  <span class=\"title function_\">asyncAdd</span>(<span class=\"params\">context, payload</span>) &#123;</span><br><span class=\"line\">    context.<span class=\"title function_\">commit</span>(<span class=\"string\">&#x27;addCount&#x27;</span>, payload)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> store = <span class=\"keyword\">new</span> <span class=\"title class_\">Vuex</span>.<span class=\"title class_\">Store</span>(&#123;</span><br><span class=\"line\">  state,</span><br><span class=\"line\">  mutations,</span><br><span class=\"line\">  getters,</span><br><span class=\"line\">  actions,</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> store</span><br></pre></td></tr></table></figure>\n\n<p>2ã€main.js å¼•å…¥</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Vue</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vue&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">App</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./App.vue&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> router <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./router&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> store <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./store/index&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title class_\">Vue</span>.<span class=\"property\">config</span>.<span class=\"property\">productionTip</span> = <span class=\"literal\">false</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">new</span> <span class=\"title class_\">Vue</span>(&#123;</span><br><span class=\"line\">  router,</span><br><span class=\"line\">  store,</span><br><span class=\"line\">  <span class=\"attr\">render</span>: <span class=\"function\">(<span class=\"params\">h</span>) =&gt;</span> <span class=\"title function_\">h</span>(<span class=\"title class_\">App</span>),</span><br><span class=\"line\">&#125;).$mount(<span class=\"string\">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure>\n\n<p>3ã€é¡µé¢ä½¿ç”¨æ•°æ®çŠ¶æ€ç®¡ç†</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;item&quot;</span>&gt;</span>å½“å‰æ•°é‡æ˜¯&#123;&#123;count&#125;&#125; <span class=\"tag\">&lt;<span class=\"name\">button</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;add&quot;</span>&gt;</span>å¢åŠ <span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">button</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;asyncAdd&quot;</span>&gt;</span>å¼‚æ­¥æ“ä½œ+10<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"attr\">computed</span>: &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"title function_\">count</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"property\">$store</span>.<span class=\"property\">getters</span>.<span class=\"property\">getCount</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"attr\">methods</span>: &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"title function_\">add</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"variable language_\">this</span>.<span class=\"property\">$store</span>.<span class=\"title function_\">commit</span>(<span class=\"string\">&#x27;add&#x27;</span>, <span class=\"number\">1</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">      <span class=\"title function_\">asyncAdd</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">          <span class=\"variable language_\">this</span>.<span class=\"property\">$store</span>.<span class=\"title function_\">dispatch</span>(<span class=\"string\">&#x27;asyncAdd&#x27;</span>, <span class=\"number\">10</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;, <span class=\"number\">1000</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">      &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">  &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>è¿™æ ·å°±èƒ½å®Œæˆä¸€ä¸ªç®€æ˜“ç‰ˆçš„ vuex äº†ã€‚  </p>\n<p>è¯¦ç»†ä»£ç å¯è§ <a href=\"https://github.com/Michael-lzg/vuex-demo\">https://github.com/Michael-lzg/vuex-demo</a></p>\n"},{"title":"è·¨åŸŸé€šä¿¡","url":"/LittleWhiteRabbit/2022/04/26/%E8%B7%A8%E5%9F%9F%E9%80%9A%E4%BF%A1%E7%B1%BB/","content":"<h2 id=\"1-å‰è¨€\"><a href=\"#1-å‰è¨€\" class=\"headerlink\" title=\"1 å‰è¨€\"></a>1 å‰è¨€</h2><p>ä»æœ¬ç« èµ·ï¼Œå¯¹ä»£ç çš„è¦æ±‚æ²¡ä¹‹å‰é‚£ä¹ˆé«˜äº†ï¼Œä½†æ˜¯ï¼Œè¦æ±‚ä½ å¯¹çŸ¥è¯†é¢çš„æŒæ¡è¦è¶³å¤Ÿå®½ã€‚</p>\n<p><strong>å‰ç«¯é€šä¿¡ç±»çš„é—®é¢˜ï¼Œä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å†…å®¹</strong>ï¼š</p>\n<ol>\n<li><p>ä»€ä¹ˆæ˜¯<strong>åŒæºç­–ç•¥</strong>åŠé™åˆ¶</p>\n<span id=\"more\"></span>\n<blockquote>\n<p>åŒæºç­–ç•¥æ˜¯ä¸€ä¸ªæ¦‚å¿µï¼Œå°±ä¸€å¥è¯ã€‚æœ‰ä»€ä¹ˆé™åˆ¶ï¼Œå°±ä¸‰å¥è¯ã€‚èƒ½è¯´å‡ºæ¥å³å¯ã€‚</p>\n</blockquote>\n</li>\n<li><p><strong>å‰åç«¯å¦‚ä½•é€šä¿¡</strong></p>\n</li>\n</ol>\n<blockquote>\n<p>å¦‚æœä½ ä¸å‡†å¤‡ï¼Œä¼°è®¡ä¹Ÿå°±åªèƒ½è¯´å‡º<code>ajax</code>ã€‚è¿™ä¸ªå¯ä»¥è€ƒå¯Ÿå‡ºçŸ¥è¯†é¢ã€‚</p>\n</blockquote>\n<ol start=\"3\">\n<li>å¦‚ä½•åˆ›å»º<strong>Ajax</strong></li>\n</ol>\n<blockquote>\n<p><code>Ajax</code>åœ¨å‰åç«¯é€šä¿¡ä¸­ç»å¸¸ç”¨åˆ°ã€‚åšä¸šåŠ¡æ—¶ï¼Œå¯ä»¥å€ŸåŠ©ç¬¬ä¸‰æ–¹çš„åº“ï¼Œæ¯”å¦‚<code>vue</code>æ¡†æ¶é‡Œçš„åº“ã€<code>jQuery</code>ä¹Ÿæœ‰å°è£…å¥½çš„æ–¹æ³•ã€‚ä½†å¦‚æœè®©ä½ ç”¨åŸç”Ÿçš„<code>js</code>å»å®ç°ï¼Œè¯¥æ€ä¹ˆåšï¼Ÿ</p>\n</blockquote>\n<p>è¿™å°±æ˜¯è€ƒå¯Ÿä½ çš„åŠ¨æ‰‹èƒ½åŠ›ï¼Œä»¥åŠæ¡†æ¶åŸç†çš„æŒæ¡ã€‚å¦‚æœèƒ½å†™å‡ºæ¥ï¼Œå¯ä»¥ä½“ç°å‡ºä½ çš„åŸºæœ¬åŠŸã€‚æ˜¯åŠ åˆ†é¡¹ã€‚</p>\n<ol start=\"4\">\n<li><strong>è·¨åŸŸé€šä¿¡</strong>çš„å‡ ç§æ–¹å¼</li>\n</ol>\n<blockquote>\n<p>è¿™éƒ¨åˆ†éå¸¸é‡è¦ã€‚æ— éå°±æ˜¯é—®ä½ ï¼šä»€ä¹ˆæ˜¯è·¨åŸŸã€è·¨åŸŸæœ‰ä»€ä¹ˆé™åˆ¶ã€<strong>è·¨åŸŸæœ‰å‡ ç§æ–¹å¼</strong>ã€‚</p>\n</blockquote>\n<p>ä¸‹é¢åˆ†åˆ«è®²è§£ã€‚</p>\n<h2 id=\"2-åŒæºç­–ç•¥çš„æ¦‚å¿µå’Œå…·ä½“é™åˆ¶\"><a href=\"#2-åŒæºç­–ç•¥çš„æ¦‚å¿µå’Œå…·ä½“é™åˆ¶\" class=\"headerlink\" title=\"2 åŒæºç­–ç•¥çš„æ¦‚å¿µå’Œå…·ä½“é™åˆ¶\"></a>2 åŒæºç­–ç•¥çš„æ¦‚å¿µå’Œå…·ä½“é™åˆ¶</h2><blockquote>\n<p><strong>åŒæºç­–ç•¥</strong>ï¼šé™åˆ¶ä»ä¸€ä¸ªæºåŠ è½½çš„æ–‡æ¡£æˆ–è„šæœ¬å¦‚ä½•ä¸æ¥è‡ªå¦ä¸€ä¸ªæºçš„èµ„æºè¿›è¡Œäº¤äº’ã€‚è¿™æ˜¯ä¸€ä¸ªç”¨äºéš”ç¦»æ½œåœ¨æ¶æ„æ–‡ä»¶çš„å…³é”®çš„å®‰å…¨æœºåˆ¶ã€‚ï¼ˆæ¥è‡ªMDNå®˜æ–¹çš„è§£é‡Šï¼‰</p>\n</blockquote>\n<p><strong>å…·ä½“è§£é‡Šï¼š</strong></p>\n<ol>\n<li><code>æº</code>åŒ…æ‹¬ä¸‰ä¸ªéƒ¨åˆ†ï¼šåè®®ã€åŸŸåã€ç«¯å£ï¼ˆ<code>http</code>åè®®çš„é»˜è®¤ç«¯å£æ˜¯<code>80</code>ï¼‰ã€‚å¦‚æœæœ‰ä»»ä½•ä¸€ä¸ªéƒ¨åˆ†ä¸åŒï¼Œåˆ™<code>æº</code>ä¸åŒï¼Œé‚£å°±æ˜¯è·¨åŸŸäº†ã€‚</li>\n<li><code>é™åˆ¶</code>ï¼šè¿™ä¸ªæºçš„æ–‡æ¡£æ²¡æœ‰æƒåˆ©å»æ“ä½œå¦ä¸€ä¸ªæºçš„æ–‡æ¡£ã€‚è¿™ä¸ªé™åˆ¶ä½“ç°åœ¨ï¼šï¼ˆè¦è®°ä½ï¼‰</li>\n</ol>\n<ul>\n<li><code>Cookie</code>ã€<code>LocalStorage</code>å’Œ<code>IndexDB</code>æ— æ³•è·å–ã€‚</li>\n<li>æ— æ³•è·å–å’Œæ“ä½œ<code>DOM</code>ã€‚</li>\n<li>ä¸èƒ½å‘é€<code>Ajax</code>è¯·æ±‚ã€‚æˆ‘ä»¬è¦æ³¨æ„ï¼Œ<code>Ajax</code>åªé€‚åˆ<strong>åŒæº</strong>çš„é€šä¿¡ã€‚</li>\n</ul>\n<h2 id=\"3-å‰åç«¯å¦‚ä½•é€šä¿¡\"><a href=\"#3-å‰åç«¯å¦‚ä½•é€šä¿¡\" class=\"headerlink\" title=\"3 å‰åç«¯å¦‚ä½•é€šä¿¡\"></a>3 å‰åç«¯å¦‚ä½•é€šä¿¡</h2><p><strong>ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§æ–¹å¼ï¼š</strong></p>\n<ul>\n<li><code>Ajax</code>ï¼šä¸æ”¯æŒè·¨åŸŸã€‚</li>\n<li><code>WebSocket</code>ï¼šä¸å—åŒæºç­–ç•¥çš„é™åˆ¶ï¼Œæ”¯æŒè·¨åŸŸ</li>\n<li><code>CORS</code>ï¼šä¸å—åŒæºç­–ç•¥çš„é™åˆ¶ï¼Œæ”¯æŒè·¨åŸŸã€‚ä¸€ç§æ–°çš„é€šä¿¡åè®®æ ‡å‡†ã€‚å¯ä»¥ç†è§£æˆæ˜¯ï¼š<strong>åŒæ—¶æ”¯æŒåŒæºå’Œè·¨åŸŸçš„Ajax</strong>ã€‚</li>\n</ul>\n<h2 id=\"4-å¦‚ä½•åˆ›å»ºAjax\"><a href=\"#4-å¦‚ä½•åˆ›å»ºAjax\" class=\"headerlink\" title=\"4 å¦‚ä½•åˆ›å»ºAjax\"></a>4 å¦‚ä½•åˆ›å»ºAjax</h2><blockquote>\n<p>åœ¨å›ç­” <code>Ajax</code> çš„é—®é¢˜æ—¶ï¼Œè¦å›ç­”ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p>\n</blockquote>\n<ol>\n<li><code>XMLHttpRequest</code> çš„å·¥ä½œåŸç†</li>\n<li>å…¼å®¹æ€§å¤„ç†</li>\n</ol>\n<blockquote>\n<p><code>XMLHttpRequest</code>åªæœ‰åœ¨é«˜çº§æµè§ˆå™¨ä¸­æ‰æ”¯æŒã€‚åœ¨å›ç­”é—®é¢˜æ—¶ï¼Œè¿™ä¸ªå…¼å®¹æ€§é—®é¢˜ä¸è¦å¿½ç•¥ã€‚</p>\n</blockquote>\n<ol start=\"3\">\n<li>äº‹ä»¶çš„è§¦å‘æ¡ä»¶</li>\n<li>äº‹ä»¶çš„è§¦å‘é¡ºåº</li>\n</ol>\n<blockquote>\n<p><code>XMLHttpRequest</code>æœ‰å¾ˆå¤šè§¦å‘äº‹ä»¶ï¼Œæ¯ä¸ªäº‹ä»¶æ˜¯æ€ä¹ˆè§¦å‘çš„ã€‚</p>\n</blockquote>\n<h3 id=\"4-1-å‘é€-Ajax-è¯·æ±‚çš„äº”ä¸ªæ­¥éª¤ï¼ˆXMLHttpRequestçš„å·¥ä½œåŸç†ï¼‰\"><a href=\"#4-1-å‘é€-Ajax-è¯·æ±‚çš„äº”ä¸ªæ­¥éª¤ï¼ˆXMLHttpRequestçš„å·¥ä½œåŸç†ï¼‰\" class=\"headerlink\" title=\"4.1 å‘é€ Ajax è¯·æ±‚çš„äº”ä¸ªæ­¥éª¤ï¼ˆXMLHttpRequestçš„å·¥ä½œåŸç†ï¼‰\"></a>4.1 å‘é€ Ajax è¯·æ±‚çš„äº”ä¸ªæ­¥éª¤ï¼ˆXMLHttpRequestçš„å·¥ä½œåŸç†ï¼‰</h3><ol>\n<li>åˆ›å»º<code>XMLHttpRequest</code> å¯¹è±¡ã€‚</li>\n<li>ä½¿ç”¨<code>open</code>æ–¹æ³•è®¾ç½®è¯·æ±‚çš„å‚æ•°ã€‚&#96;open(method, url, æ˜¯å¦å¼‚æ­¥)&#96;&#96;ã€‚</li>\n<li>å‘é€è¯·æ±‚ã€‚</li>\n<li>æ³¨å†Œäº‹ä»¶ã€‚ æ³¨å†Œ<code>onreadystatechange</code>äº‹ä»¶ï¼ŒçŠ¶æ€æ”¹å˜æ—¶å°±ä¼šè°ƒç”¨ã€‚</li>\n</ol>\n<blockquote>\n<p>å¦‚æœè¦åœ¨æ•°æ®å®Œæ•´è¯·æ±‚å›æ¥çš„æ—¶å€™æ‰è°ƒç”¨ï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨å†™ä¸€äº›åˆ¤æ–­çš„é€»è¾‘ã€‚</p>\n</blockquote>\n<ol start=\"5\">\n<li>è·å–è¿”å›çš„æ•°æ®ï¼Œæ›´æ–°UIã€‚</li>\n</ol>\n<h3 id=\"4-2-å‘é€-get-è¯·æ±‚å’Œ-post-è¯·æ±‚\"><a href=\"#4-2-å‘é€-get-è¯·æ±‚å’Œ-post-è¯·æ±‚\" class=\"headerlink\" title=\"4.2 å‘é€ get è¯·æ±‚å’Œ post è¯·æ±‚\"></a>4.2 å‘é€ get è¯·æ±‚å’Œ post è¯·æ±‚</h3><blockquote>\n<p><code>get</code>è¯·æ±‚ä¸¾ä¾‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Document<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>Ajax å‘é€ get è¯·æ±‚<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;button&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;å‘é€get_ajaxè¯·æ±‚&quot;</span> <span class=\"attr\">id</span>=<span class=\"string\">&#x27;btnAjax&#x27;</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"comment\">// ç»‘å®šç‚¹å‡»äº‹ä»¶</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;#btnAjax&#x27;</span>).<span class=\"property\">onclick</span> = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">// å‘é€ajax è¯·æ±‚ éœ€è¦ äº”æ­¥</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">// ï¼ˆ1ï¼‰åˆ›å»ºå¼‚æ­¥å¯¹è±¡</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">var</span> ajaxObj = <span class=\"keyword\">new</span> <span class=\"title class_\">XMLHttpRequest</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">// ï¼ˆ2ï¼‰è®¾ç½®è¯·æ±‚çš„å‚æ•°ã€‚åŒ…æ‹¬ï¼šè¯·æ±‚çš„æ–¹æ³•ã€è¯·æ±‚çš„urlã€‚</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        ajaxObj.<span class=\"title function_\">open</span>(<span class=\"string\">&#x27;get&#x27;</span>, <span class=\"string\">&#x27;02-ajax.php&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">// ï¼ˆ3ï¼‰å‘é€è¯·æ±‚</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        ajaxObj.<span class=\"title function_\">send</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//ï¼ˆ4ï¼‰æ³¨å†Œäº‹ä»¶ã€‚ onreadystatechangeäº‹ä»¶ï¼ŒçŠ¶æ€æ”¹å˜æ—¶å°±ä¼šè°ƒç”¨ã€‚</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//å¦‚æœè¦åœ¨æ•°æ®å®Œæ•´è¯·æ±‚å›æ¥çš„æ—¶å€™æ‰è°ƒç”¨ï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨å†™ä¸€äº›åˆ¤æ–­çš„é€»è¾‘ã€‚</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        ajaxObj.<span class=\"property\">onreadystatechange</span> = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"comment\">// ä¸ºäº†ä¿è¯ æ•°æ® å®Œæ•´è¿”å›ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šåˆ¤æ–­ ä¸¤ä¸ªå€¼</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">if</span> (ajaxObj.<span class=\"property\">readyState</span> == <span class=\"number\">4</span> &amp;&amp; ajaxObj.<span class=\"property\">status</span> == <span class=\"number\">200</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"comment\">// å¦‚æœèƒ½å¤Ÿè¿›åˆ°è¿™ä¸ªåˆ¤æ–­ è¯´æ˜ æ•°æ® å®Œç¾çš„å›æ¥äº†,å¹¶ä¸”è¯·æ±‚çš„é¡µé¢æ˜¯å­˜åœ¨çš„</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"comment\">// 5.åœ¨æ³¨å†Œçš„äº‹ä»¶ä¸­ è·å– è¿”å›çš„ å†…å®¹ å¹¶ä¿®æ”¹é¡µé¢çš„æ˜¾ç¤º</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;æ•°æ®è¿”å›æˆåŠŸ&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"comment\">// æ•°æ®æ˜¯ä¿å­˜åœ¨ å¼‚æ­¥å¯¹è±¡çš„ å±æ€§ä¸­</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(ajaxObj.<span class=\"property\">responseText</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"comment\">// ä¿®æ”¹é¡µé¢çš„æ˜¾ç¤º</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;h1&#x27;</span>).<span class=\"property\">innerHTML</span> = ajaxObj.<span class=\"property\">responseText</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p><code>post</code> è¯·æ±‚ä¸¾ä¾‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Document<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>Ajax å‘é€ get è¯·æ±‚<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;button&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;å‘é€put_ajaxè¯·æ±‚&quot;</span> <span class=\"attr\">id</span>=<span class=\"string\">&#x27;btnAjax&#x27;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"comment\">// å¼‚æ­¥å¯¹è±¡</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">var</span> xhr = <span class=\"keyword\">new</span> <span class=\"title class_\">XMLHttpRequest</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"comment\">// è®¾ç½®å±æ€§</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    xhr.<span class=\"title function_\">open</span>(<span class=\"string\">&#x27;post&#x27;</span>, <span class=\"string\">&#x27;02.post.php&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"comment\">// å¦‚æœæƒ³è¦ä½¿ç”¨postæäº¤æ•°æ®,å¿…é¡»æ·»åŠ æ­¤è¡Œ</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    xhr.<span class=\"title function_\">setRequestHeader</span>(<span class=\"string\">&quot;Content-type&quot;</span>, <span class=\"string\">&quot;application/x-www-form-urlencoded&quot;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"comment\">// å°†æ•°æ®é€šè¿‡sendæ–¹æ³•ä¼ é€’</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    xhr.<span class=\"title function_\">send</span>(<span class=\"string\">&#x27;name=fox&amp;age=18&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"comment\">// å‘é€å¹¶æ¥å—è¿”å›å€¼</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    xhr.<span class=\"property\">onreadystatechange</span> = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">// è¿™æ­¥ä¸ºåˆ¤æ–­æœåŠ¡å™¨æ˜¯å¦æ­£ç¡®å“åº”</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">if</span> (xhr.<span class=\"property\">readyState</span> == <span class=\"number\">4</span> &amp;&amp; xhr.<span class=\"property\">status</span> == <span class=\"number\">200</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"title function_\">alert</span>(xhr.<span class=\"property\">responseText</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"4-3-onreadystatechange-äº‹ä»¶\"><a href=\"#4-3-onreadystatechange-äº‹ä»¶\" class=\"headerlink\" title=\"4.3 onreadystatechange äº‹ä»¶\"></a>4.3 onreadystatechange äº‹ä»¶</h3><blockquote>\n<p>æ³¨å†Œ <code>onreadystatechange</code> äº‹ä»¶åï¼Œæ¯å½“ <code>readyState</code> å±æ€§æ”¹å˜æ—¶ï¼Œå°±ä¼šè°ƒç”¨ <code>onreadystatechange</code> å‡½æ•°ã€‚</p>\n</blockquote>\n<blockquote>\n<p><code>readyState</code>ï¼šï¼ˆå­˜æœ‰ <code>XMLHttpRequest</code> çš„çŠ¶æ€ã€‚ä» <code>0</code> åˆ° <code>4</code> å‘ç”Ÿå˜åŒ–ï¼‰</p>\n</blockquote>\n<ul>\n<li><code>0</code>: è¯·æ±‚æœªåˆå§‹åŒ–</li>\n<li><code>1</code>: æœåŠ¡å™¨è¿æ¥å·²å»ºç«‹</li>\n<li><code>2</code>: è¯·æ±‚å·²æ¥æ”¶</li>\n<li><code>3</code>: è¯·æ±‚å¤„ç†ä¸­</li>\n<li><code>4</code>: è¯·æ±‚å·²å®Œæˆï¼Œä¸”å“åº”å·²å°±ç»ª</li>\n</ul>\n<h3 id=\"4-4-äº‹ä»¶çš„è§¦å‘æ¡ä»¶\"><a href=\"#4-4-äº‹ä»¶çš„è§¦å‘æ¡ä»¶\" class=\"headerlink\" title=\"4.4 äº‹ä»¶çš„è§¦å‘æ¡ä»¶\"></a>4.4 äº‹ä»¶çš„è§¦å‘æ¡ä»¶</h3><p><img src=\"http://img.smyhvae.com/20180307_1443.png\"></p>\n<h3 id=\"4-5-äº‹ä»¶çš„è§¦å‘é¡ºåº\"><a href=\"#4-5-äº‹ä»¶çš„è§¦å‘é¡ºåº\" class=\"headerlink\" title=\"4.5 äº‹ä»¶çš„è§¦å‘é¡ºåº\"></a>4.5 äº‹ä»¶çš„è§¦å‘é¡ºåº</h3><p><img src=\"http://img.smyhvae.com/20180307_1445.png\"></p>\n<h3 id=\"4-6-å®é™…å¼€å‘ä¸­ç”¨çš„-åŸç”ŸAjaxè¯·æ±‚\"><a href=\"#4-6-å®é™…å¼€å‘ä¸­ç”¨çš„-åŸç”ŸAjaxè¯·æ±‚\" class=\"headerlink\" title=\"4.6 å®é™…å¼€å‘ä¸­ç”¨çš„ åŸç”ŸAjaxè¯·æ±‚\"></a>4.6 å®é™…å¼€å‘ä¸­ç”¨çš„ åŸç”ŸAjaxè¯·æ±‚</h3><figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> util = &#123;&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//è·å– ajax è¯·æ±‚ä¹‹åçš„json</span></span><br><span class=\"line\">util.<span class=\"property\">json</span> = <span class=\"keyword\">function</span> (<span class=\"params\">options</span>) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">var</span> opt = &#123;</span><br><span class=\"line\">        <span class=\"attr\">url</span>: <span class=\"string\">&#x27;&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">type</span>: <span class=\"string\">&#x27;get&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">data</span>: &#123;&#125;,</span><br><span class=\"line\">        <span class=\"attr\">success</span>: <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"attr\">error</span>: <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    util.<span class=\"title function_\">extend</span>(opt, options);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (opt.<span class=\"property\">url</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">//IEå…¼å®¹æ€§å¤„ç†ï¼šæµè§ˆå™¨ç‰¹å¾æ£€æŸ¥ã€‚æ£€æŸ¥è¯¥æµè§ˆå™¨æ˜¯å¦å­˜åœ¨XMLHttpRequestè¿™ä¸ªapiï¼Œæ²¡æœ‰çš„è¯ï¼Œå°±ç”¨IEçš„api</span></span><br><span class=\"line\">        <span class=\"keyword\">var</span> xhr = <span class=\"title class_\">XMLHttpRequest</span> ? <span class=\"keyword\">new</span> <span class=\"title class_\">XMLHttpRequest</span>() : <span class=\"keyword\">new</span> <span class=\"variable language_\">window</span>.<span class=\"title class_\">ActiveXObject</span>(<span class=\"string\">&#x27;Microsoft.XMLHTTP&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">var</span> data = opt.<span class=\"property\">data</span>,</span><br><span class=\"line\">            url = opt.<span class=\"property\">url</span>,</span><br><span class=\"line\">            type = opt.<span class=\"property\">type</span>.<span class=\"title function_\">toUpperCase</span>();</span><br><span class=\"line\">        dataArr = [];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> key <span class=\"keyword\">in</span> data) &#123;</span><br><span class=\"line\">        dataArr.<span class=\"title function_\">push</span>(key + <span class=\"string\">&#x27;=&#x27;</span> + data[key]);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (type === <span class=\"string\">&#x27;GET&#x27;</span>) &#123;</span><br><span class=\"line\">        url = url + <span class=\"string\">&#x27;?&#x27;</span> + dataArr.<span class=\"title function_\">join</span>(<span class=\"string\">&#x27;&amp;&#x27;</span>);</span><br><span class=\"line\">        xhr.<span class=\"title function_\">open</span>(type, url.<span class=\"title function_\">replace</span>(<span class=\"regexp\">/\\?$/g</span>, <span class=\"string\">&#x27;&#x27;</span>), <span class=\"literal\">true</span>);</span><br><span class=\"line\">        xhr.<span class=\"title function_\">send</span>();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (type === <span class=\"string\">&#x27;POST&#x27;</span>) &#123;</span><br><span class=\"line\">        xhr.<span class=\"title function_\">open</span>(type, url, <span class=\"literal\">true</span>);</span><br><span class=\"line\">        <span class=\"comment\">// å¦‚æœæƒ³è¦ä½¿ç”¨postæäº¤æ•°æ®,å¿…é¡»æ·»åŠ æ­¤è¡Œ</span></span><br><span class=\"line\">        xhr.<span class=\"title function_\">setRequestHeader</span>(<span class=\"string\">&quot;Content-type&quot;</span>, <span class=\"string\">&quot;application/x-www-form-urlencoded&quot;</span>);</span><br><span class=\"line\">        xhr.<span class=\"title function_\">send</span>(dataArr.<span class=\"title function_\">join</span>(<span class=\"string\">&#x27;&amp;&#x27;</span>));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    xhr.<span class=\"property\">onload</span> = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (xhr.<span class=\"property\">status</span> === <span class=\"number\">200</span> || xhr.<span class=\"property\">status</span> === <span class=\"number\">304</span>) &#123; <span class=\"comment\">//304è¡¨ç¤ºï¼šç”¨ç¼“å­˜å³å¯ã€‚206è¡¨ç¤ºè·å–åª’ä½“èµ„æºçš„å‰é¢ä¸€éƒ¨åˆ†</span></span><br><span class=\"line\">            <span class=\"keyword\">var</span> res;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (opt.<span class=\"property\">success</span> &amp;&amp; opt.<span class=\"property\">success</span> <span class=\"keyword\">instanceof</span> <span class=\"title class_\">Function</span>) &#123;</span><br><span class=\"line\">                res = xhr.<span class=\"property\">responseText</span>;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (<span class=\"keyword\">typeof</span> res === <span class=\"string\">&#x27;string&#x27;</span>) &#123;</span><br><span class=\"line\">                    res = <span class=\"title class_\">JSON</span>.<span class=\"title function_\">parse</span>(res);  <span class=\"comment\">//å°†å­—ç¬¦ä¸²è½¬æˆjson</span></span><br><span class=\"line\">                    opt.<span class=\"property\">success</span>.<span class=\"title function_\">call</span>(xhr, res);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (opt.<span class=\"property\">error</span> &amp;&amp; opt.<span class=\"property\">error</span> <span class=\"keyword\">instanceof</span> <span class=\"title class_\">Function</span>) &#123;</span><br><span class=\"line\">                opt.<span class=\"property\">error</span>.<span class=\"title function_\">call</span>(xhr, res);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n\n<h2 id=\"5-è·¨åŸŸé€šä¿¡çš„å‡ ç§æ–¹å¼\"><a href=\"#5-è·¨åŸŸé€šä¿¡çš„å‡ ç§æ–¹å¼\" class=\"headerlink\" title=\"5 è·¨åŸŸé€šä¿¡çš„å‡ ç§æ–¹å¼\"></a>5 è·¨åŸŸé€šä¿¡çš„å‡ ç§æ–¹å¼</h2><blockquote>\n<p>æ–¹å¼å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<ol>\n<li><code>JSONP</code></li>\n<li><code>WebSocket</code></li>\n<li><code>CORS</code></li>\n<li><code>Hash</code></li>\n<li><code>postMessage</code></li>\n</ol>\n<blockquote>\n<p>ä¸Šé¢è¿™äº”ç§æ–¹å¼ï¼Œåœ¨é¢è¯•æ—¶ï¼Œéƒ½è¦è¯´å‡ºæ¥ã€‚</p>\n</blockquote>\n<h3 id=\"5-1-JSONP\"><a href=\"#5-1-JSONP\" class=\"headerlink\" title=\"5.1 JSONP\"></a>5.1 JSONP</h3><blockquote>\n<p>é¢è¯•ä¼šé—®ï¼š<code>JSONP</code>çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿæ€ä¹ˆå®ç°çš„ï¼Ÿ</p>\n</blockquote>\n<ul>\n<li>åœ¨<code>CORS</code>å’Œ<code>postMessage</code>ä»¥å‰ï¼Œæˆ‘ä»¬ä¸€ç›´éƒ½æ˜¯é€šè¿‡<code>JSONP</code>æ¥åšè·¨åŸŸé€šä¿¡çš„ã€‚</li>\n</ul>\n<blockquote>\n<p><strong>JSONPçš„åŸç†</strong>ï¼šé€šè¿‡<code>&lt;script&gt;</code>æ ‡ç­¾çš„å¼‚æ­¥åŠ è½½æ¥å®ç°çš„ã€‚æ¯”å¦‚è¯´ï¼Œå®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å‘ç°ï¼Œ<code>head</code>æ ‡ç­¾é‡Œï¼Œå¯ä»¥é€šè¿‡<code>&lt;script&gt;</code>æ ‡ç­¾çš„<code>src</code>ï¼Œé‡Œé¢æ”¾<code>url</code>ï¼ŒåŠ è½½å¾ˆå¤šåœ¨çº¿çš„æ’ä»¶ã€‚è¿™å°±æ˜¯ç”¨åˆ°äº†<code>JSONP</code>ã€‚</p>\n</blockquote>\n<p><strong>JSONPçš„å®ç°ï¼š</strong></p>\n<blockquote>\n<p>æ¯”å¦‚è¯´ï¼Œå®¢æˆ·ç«¯è¿™æ ·å†™ï¼š</p>\n</blockquote>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;http://www.smyhvae.com/?data=name&amp;callback=myjsonp&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>ä¸Šé¢çš„<code>src</code>ä¸­ï¼Œ<code>data=name</code>æ˜¯getè¯·æ±‚çš„å‚æ•°ï¼Œ<code>myjsonp</code>æ˜¯å’Œåå°çº¦å®šå¥½çš„å‡½æ•°åã€‚<br>æœåŠ¡å™¨ç«¯è¿™æ ·å†™ï¼š</p>\n</blockquote>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">myjsonp</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">data</span>: &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n\n<blockquote>\n<p>äºæ˜¯ï¼Œæœ¬åœ°è¦æ±‚åˆ›å»ºä¸€ä¸ª<code>myjsonp</code> çš„<strong>å…¨å±€å‡½æ•°</strong>ï¼Œæ‰èƒ½å°†è¿”å›çš„æ•°æ®æ‰§è¡Œå‡ºæ¥ã€‚</p>\n</blockquote>\n<p><strong>å®é™…å¼€å‘ä¸­ï¼Œå‰ç«¯çš„JSONPæ˜¯è¿™æ ·å®ç°çš„ï¼š</strong></p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">var</span> util = &#123;&#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"comment\">//å®šä¹‰æ–¹æ³•ï¼šåŠ¨æ€åˆ›å»º script æ ‡ç­¾</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"comment\">/**</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"language-javascript\">     * [function åœ¨é¡µé¢ä¸­æ³¨å…¥jsè„šæœ¬]</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"language-javascript\">     * <span class=\"doctag\">@param</span>  &#123;<span class=\"type\">[type]</span>&#125; url     [description]</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"language-javascript\">     * <span class=\"doctag\">@param</span>  &#123;<span class=\"type\">[type]</span>&#125; charset [description]</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"language-javascript\">     * <span class=\"doctag\">@return</span> &#123;<span class=\"type\">[type]</span>&#125;         [description]</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"language-javascript\">     */</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    util.<span class=\"property\">createScript</span> = <span class=\"keyword\">function</span> (<span class=\"params\">url, charset</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">var</span> script = <span class=\"variable language_\">document</span>.<span class=\"title function_\">createElement</span>(<span class=\"string\">&#x27;script&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        script.<span class=\"title function_\">setAttribute</span>(<span class=\"string\">&#x27;type&#x27;</span>, <span class=\"string\">&#x27;text/javascript&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        charset &amp;&amp; script.<span class=\"title function_\">setAttribute</span>(<span class=\"string\">&#x27;charset&#x27;</span>, charset);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        script.<span class=\"title function_\">setAttribute</span>(<span class=\"string\">&#x27;src&#x27;</span>, url);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        script.<span class=\"property\">async</span> = <span class=\"literal\">true</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">return</span> script;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"comment\">/**</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"language-javascript\">     * [function å¤„ç†jsonp]</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"language-javascript\">     * <span class=\"doctag\">@param</span>  &#123;<span class=\"type\">[type]</span>&#125; url      [description]</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"language-javascript\">     * <span class=\"doctag\">@param</span>  &#123;<span class=\"type\">[type]</span>&#125; onsucess [description]</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"language-javascript\">     * <span class=\"doctag\">@param</span>  &#123;<span class=\"type\">[type]</span>&#125; onerror  [description]</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"language-javascript\">     * <span class=\"doctag\">@param</span>  &#123;<span class=\"type\">[type]</span>&#125; charset  [description]</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"language-javascript\">     * <span class=\"doctag\">@return</span> &#123;<span class=\"type\">[type]</span>&#125;          [description]</span></span></span><br><span class=\"line\"><span class=\"comment\"><span class=\"language-javascript\">     */</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    util.<span class=\"property\">jsonp</span> = <span class=\"keyword\">function</span> (<span class=\"params\">url, onsuccess, onerror, charset</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">var</span> callbackName = util.<span class=\"title function_\">getName</span>(<span class=\"string\">&#x27;tt_player&#x27;</span>); <span class=\"comment\">//äº‹å…ˆçº¦å®šå¥½çš„ å‡½æ•°å</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"variable language_\">window</span>[callbackName] = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;      <span class=\"comment\">//æ ¹æ®å›è°ƒåç§°æ³¨å†Œä¸€ä¸ªå…¨å±€çš„å‡½æ•°</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">if</span> (onsuccess &amp;&amp; util.<span class=\"title function_\">isFunction</span>(onsuccess)) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"title function_\">onsuccess</span>(<span class=\"variable language_\">arguments</span>[<span class=\"number\">0</span>]);</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">var</span> script = util.<span class=\"title function_\">createScript</span>(url + <span class=\"string\">&#x27;&amp;callback=&#x27;</span> + callbackName, charset);   <span class=\"comment\">//åŠ¨æ€åˆ›å»ºä¸€ä¸ªscriptæ ‡ç­¾</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        script.<span class=\"property\">onload</span> = script.<span class=\"property\">onreadystatechange</span> = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;   <span class=\"comment\">//ç›‘å¬åŠ è½½æˆåŠŸçš„äº‹ä»¶ï¼Œè·å–æ•°æ®</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">if</span> (!script.<span class=\"property\">readyState</span> || <span class=\"regexp\">/loaded|complete/</span>.<span class=\"title function_\">test</span>(script.<span class=\"property\">readyState</span>)) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                script.<span class=\"property\">onload</span> = script.<span class=\"property\">onreadystatechange</span> = <span class=\"literal\">null</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"comment\">// ç§»é™¤è¯¥scriptçš„ DOM å¯¹è±¡</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"keyword\">if</span> (script.<span class=\"property\">parentNode</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    script.<span class=\"property\">parentNode</span>.<span class=\"title function_\">removeChild</span>(script);</span></span><br><span class=\"line\"><span class=\"language-javascript\">                &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"comment\">// åˆ é™¤å‡½æ•°æˆ–å˜é‡</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"variable language_\">window</span>[callbackName] = <span class=\"literal\">null</span>;  <span class=\"comment\">//æœ€åä¸è¦å¿˜äº†åˆ é™¤</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        script.<span class=\"property\">onerror</span> = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">if</span> (onerror &amp;&amp; util.<span class=\"title function_\">isFunction</span>(onerror)) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"title function_\">onerror</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementsByTagName</span>(<span class=\"string\">&#x27;head&#x27;</span>)[<span class=\"number\">0</span>].<span class=\"title function_\">appendChild</span>(script); <span class=\"comment\">//å¾€htmlä¸­å¢åŠ è¿™ä¸ªæ ‡ç­¾ï¼Œç›®çš„æ˜¯æŠŠè¯·æ±‚å‘é€å‡ºå»</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"5-2-WebSocket\"><a href=\"#5-2-WebSocket\" class=\"headerlink\" title=\"5.2 WebSocket\"></a>5.2 WebSocket</h3><blockquote>\n<p><code>WebSocket</code>çš„ç”¨æ³•å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> ws = <span class=\"keyword\">new</span> <span class=\"title class_\">WebSocket</span>(<span class=\"string\">&#x27;wss://echo.websocket.org&#x27;</span>); <span class=\"comment\">//åˆ›å»ºWebSocketçš„å¯¹è±¡ã€‚å‚æ•°å¯ä»¥æ˜¯ ws æˆ– wssï¼Œåè€…è¡¨ç¤ºåŠ å¯†ã€‚</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//æŠŠè¯·æ±‚å‘å‡ºå»</span></span><br><span class=\"line\">ws.<span class=\"property\">onopen</span> = <span class=\"keyword\">function</span> (<span class=\"params\">evt</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;Connection open ...&#x27;</span>);</span><br><span class=\"line\">    ws.<span class=\"title function_\">send</span>(<span class=\"string\">&#x27;Hello WebSockets!&#x27;</span>);</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//å¯¹æ–¹å‘æ¶ˆæ¯è¿‡æ¥æ—¶ï¼Œæˆ‘æ¥æ”¶</span></span><br><span class=\"line\">ws.<span class=\"property\">onmessage</span> = <span class=\"keyword\">function</span> (<span class=\"params\">evt</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;Received Message: &#x27;</span>, evt.<span class=\"property\">data</span>);</span><br><span class=\"line\">    ws.<span class=\"title function_\">close</span>();</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//å…³é—­è¿æ¥</span></span><br><span class=\"line\">ws.<span class=\"property\">onclose</span> = <span class=\"keyword\">function</span> (<span class=\"params\">evt</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;Connection closed.&#x27;</span>);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>é¢è¯•ä¸€èˆ¬ä¸ä¼šè®©ä½ å†™è¿™ä¸ªä»£ç ï¼Œä¸€èˆ¬æ˜¯è€ƒå¯Ÿä½ æ˜¯å¦äº†è§£ <code>WebSocket</code>æ¦‚å¿µï¼ŒçŸ¥é“æœ‰è¿™ä¹ˆå›äº‹å³å¯ã€‚</p>\n</blockquote>\n<h3 id=\"5-3-CORS\"><a href=\"#5-3-CORS\" class=\"headerlink\" title=\"5.3 CORS\"></a>5.3 CORS</h3><blockquote>\n<p><code>CORS</code> å¯ä»¥ç†è§£æˆæ˜¯<strong>æ—¢å¯ä»¥åŒæ­¥ã€ä¹Ÿå¯ä»¥å¼‚æ­¥</strong>çš„Ajaxã€‚</p>\n</blockquote>\n<ul>\n<li>fetch<code> æ˜¯ä¸€ä¸ªæ¯”è¾ƒæ–°çš„</code>API<code>ï¼Œç”¨æ¥å®ç°</code>CORS&#96;é€šä¿¡ã€‚ç”¨æ³•å¦‚ä¸‹ï¼š</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// urlï¼ˆå¿…é€‰ï¼‰ï¼Œoptionsï¼ˆå¯é€‰ï¼‰</span></span><br><span class=\"line\"><span class=\"title function_\">fetch</span>(<span class=\"string\">&#x27;/some/url/&#x27;</span>, &#123;</span><br><span class=\"line\">    <span class=\"attr\">method</span>: <span class=\"string\">&#x27;get&#x27;</span>,</span><br><span class=\"line\">&#125;).<span class=\"title function_\">then</span>(<span class=\"keyword\">function</span> (<span class=\"params\">response</span>) &#123;  <span class=\"comment\">//ç±»ä¼¼äº ES6ä¸­çš„promise</span></span><br><span class=\"line\"></span><br><span class=\"line\">&#125;).<span class=\"title function_\">catch</span>(<span class=\"keyword\">function</span> (<span class=\"params\">err</span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// å‡ºé”™äº†ï¼Œç­‰ä»·äº then çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œä½†è¿™æ ·æ›´å¥½ç”¨æ›´ç›´è§‚</span></span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>å¦å¤–ï¼Œå¦‚æœé¢è¯•å®˜é—®ï¼šâ€œCORSä¸ºä»€ä¹ˆæ”¯æŒè·¨åŸŸçš„é€šä¿¡ï¼Ÿâ€</p>\n</blockquote>\n<blockquote>\n<p>ç­”æ¡ˆï¼šè·¨åŸŸæ—¶ï¼Œæµè§ˆå™¨ä¼šæ‹¦æˆª<code>Ajax</code>è¯·æ±‚ï¼Œå¹¶åœ¨<code>http</code>å¤´ä¸­åŠ <code>Origin</code>ã€‚</p>\n</blockquote>\n<h3 id=\"5-4-Hash\"><a href=\"#5-4-Hash\" class=\"headerlink\" title=\"5.4 Hash\"></a>5.4 Hash</h3><ul>\n<li><code>url</code>çš„<code>#</code>åé¢çš„å†…å®¹å°±å«<code>Hash</code>ã€‚<strong>Hashçš„æ”¹å˜ï¼Œé¡µé¢ä¸ä¼šåˆ·æ–°</strong>ã€‚è¿™å°±æ˜¯ç”¨ <code>Hash</code> åšè·¨åŸŸé€šä¿¡çš„åŸºæœ¬åŸç†ã€‚</li>\n</ul>\n<blockquote>\n<p>è¡¥å……ï¼š<code>url</code>çš„<code>?</code>åé¢çš„å†…å®¹å«<code>Search</code>ã€‚<code>Search</code>çš„æ”¹å˜ï¼Œä¼šå¯¼è‡´é¡µé¢åˆ·æ–°ï¼Œå› æ­¤ä¸èƒ½åšè·¨åŸŸé€šä¿¡ã€‚</p>\n</blockquote>\n<p><strong>ä½¿ç”¨ä¸¾ä¾‹ï¼š</strong></p>\n<p><strong>åœºæ™¯</strong>ï¼šæˆ‘çš„é¡µé¢ <code>A</code> é€šè¿‡<code>iframe</code>æˆ–<code>frame</code>åµŒå…¥äº†è·¨åŸŸçš„é¡µé¢ <code>B</code>ã€‚</p>\n<blockquote>\n<p>ç°åœ¨ï¼Œæˆ‘è¿™ä¸ª<code>A</code>é¡µé¢æƒ³ç»™<code>B</code>é¡µé¢å‘æ¶ˆæ¯ï¼Œæ€ä¹ˆæ“ä½œå‘¢ï¼Ÿ</p>\n</blockquote>\n<ol>\n<li>é¦–å…ˆï¼Œåœ¨æˆ‘çš„<code>A</code>é¡µé¢ä¸­ï¼š</li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//ä¼ªä»£ç </span></span><br><span class=\"line\"><span class=\"keyword\">var</span> B = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementsByTagName</span>(<span class=\"string\">&#x27;iframe&#x27;</span>);</span><br><span class=\"line\">B.<span class=\"property\">src</span> = B.<span class=\"property\">src</span> + <span class=\"string\">&#x27;#&#x27;</span> + <span class=\"string\">&#x27;jsonString&#x27;</span>;  <span class=\"comment\">//æˆ‘ä»¬å¯ä»¥æŠŠJS å¯¹è±¡ï¼Œé€šè¿‡ JSON.stringify()æ–¹æ³•è½¬æˆ jsonå­—ç¬¦ä¸²ï¼Œå‘ç»™ B</span></span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li>ç„¶åï¼Œåœ¨<code>B</code>é¡µé¢ä¸­ï¼š</li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Bä¸­çš„ä¼ªä»£ç </span></span><br><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"property\">onhashchange</span> = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;  <span class=\"comment\">//é€šè¿‡onhashchangeæ–¹æ³•ç›‘å¬ï¼Œurlä¸­çš„ hash æ˜¯å¦å‘ç”Ÿå˜åŒ–</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> data = <span class=\"variable language_\">window</span>.<span class=\"property\">location</span>.<span class=\"property\">hash</span>;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"5-5-postMessage-æ–¹æ³•\"><a href=\"#5-5-postMessage-æ–¹æ³•\" class=\"headerlink\" title=\"5.5 postMessage()æ–¹æ³•\"></a>5.5 postMessage()æ–¹æ³•</h3><blockquote>\n<p><code>H5</code>ä¸­æ–°å¢çš„&#96;postMessage()&#96;&#96;æ–¹æ³•ï¼Œå¯ä»¥ç”¨æ¥åšè·¨åŸŸé€šä¿¡ã€‚æ—¢ç„¶æ˜¯H5ä¸­æ–°å¢çš„ï¼Œé‚£å°±ä¸€å®šè¦æåˆ°ã€‚</p>\n</blockquote>\n<p><strong>åœºæ™¯</strong>ï¼šçª—å£ A (<code>http:A.com</code>)å‘è·¨åŸŸçš„çª—å£ B (<code>http:B.com</code>)å‘é€ä¿¡æ¯ã€‚æ­¥éª¤å¦‚ä¸‹</p>\n<ol>\n<li>åœ¨<code>A</code>çª—å£ä¸­æ“ä½œå¦‚ä¸‹ï¼šå‘<code>B</code>çª—å£å‘é€æ•°æ®ï¼š</li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// çª—å£A(http:A.com)å‘è·¨åŸŸçš„çª—å£B(http:B.com)å‘é€ä¿¡æ¯</span></span><br><span class=\"line\">\t<span class=\"title class_\">Bwindow</span>.<span class=\"title function_\">postMessage</span>(<span class=\"string\">&#x27;data&#x27;</span>, <span class=\"string\">&#x27;http://B.com&#x27;</span>); <span class=\"comment\">//è¿™é‡Œå¼ºè°ƒçš„æ˜¯Bçª—å£é‡Œçš„windowå¯¹è±¡</span></span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li>åœ¨<code>B</code>çª—å£ä¸­æ“ä½œå¦‚ä¸‹ï¼š</li>\n</ol>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// åœ¨çª—å£Bä¸­ç›‘å¬ message äº‹ä»¶</span></span><br><span class=\"line\"><span class=\"title class_\">Awindow</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;message&#x27;</span>, <span class=\"keyword\">function</span> (<span class=\"params\">event</span>) &#123;   <span class=\"comment\">//è¿™é‡Œå¼ºè°ƒçš„æ˜¯Açª—å£é‡Œçš„windowå¯¹è±¡</span></span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(event.<span class=\"property\">origin</span>);  <span class=\"comment\">//è·å– ï¼šurlã€‚è¿™é‡ŒæŒ‡ï¼šhttp://A.com</span></span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(event.<span class=\"property\">source</span>);  <span class=\"comment\">//è·å–ï¼šA windowå¯¹è±¡</span></span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(event.<span class=\"property\">data</span>);    <span class=\"comment\">//è·å–ä¼ è¿‡æ¥çš„æ•°æ®</span></span><br><span class=\"line\">&#125;, <span class=\"literal\">false</span>);</span><br></pre></td></tr></table></figure>\n"},{"title":"è°ˆè°ˆå…³äºæ–‡ä»¶ä¸Šä¼ ä¸‹è½½é‚£äº›äº‹","url":"/LittleWhiteRabbit/2022/04/26/%E8%B0%88%E8%B0%88%E5%85%B3%E4%BA%8E%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E4%B8%8B%E8%BD%BD%E9%82%A3%E4%BA%9B%E4%BA%8B/","content":"<p>å‰ç«¯å¼€å‘ä¸­æ€»å…ä¸äº†å…³äºæ–‡ä»¶çš„ä¸Šä¼ ã€ä¸‹è½½éœ€æ±‚ã€‚ä¸‹é¢æ¥æ€»ç»“ä¸€ä¸‹å¸¸ç”¨çš„æ–¹æ³•ï¼Œæ¬¢è¿è®¨è®ºå’Œåæ§½ã€‚</p>\n<h3 id=\"form-è¡¨å•æäº¤\"><a href=\"#form-è¡¨å•æäº¤\" class=\"headerlink\" title=\"form è¡¨å•æäº¤\"></a>form è¡¨å•æäº¤</h3><p>æœ€ä¼ ç»Ÿçš„æ–‡ä»¶ä¸Šä¼ æ–¹æ³•æ˜¯ä½¿ç”¨<code>form</code>è¡¨å•ä¸Šä¼ æ–‡ä»¶çš„ï¼Œåªéœ€è¦æŠŠ<code>enctype</code>è®¾ç½®ä¸º <code>multipart/form-data</code>ã€‚è¿™ç§æ–¹å¼ä¸Šä¼ æ–‡ä»¶ä¸éœ€è¦ js ï¼Œè€Œä¸”æ²¡æœ‰å…¼å®¹é—®é¢˜ï¼Œæ‰€æœ‰æµè§ˆå™¨éƒ½æ”¯æŒï¼Œå°±æ˜¯ä½“éªŒå¾ˆå·®ï¼Œå¯¼è‡´é¡µé¢åˆ·æ–°ï¼Œé¡µé¢å…¶ä»–æ•°æ®ä¸¢å¤±ã€‚</p>\n<span id=\"more\"></span>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">form</span> <span class=\"attr\">method</span>=<span class=\"string\">&quot;post&quot;</span> <span class=\"attr\">action</span>=<span class=\"string\">&quot;xxxxx&quot;</span> <span class=\"attr\">enctype</span>=<span class=\"string\">&quot;multipart/form-data&quot;</span>&gt;</span></span><br><span class=\"line\">  é€‰æ‹©æ–‡ä»¶:<span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;file&quot;</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;file&quot;</span> /&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">br</span> /&gt;</span></span><br><span class=\"line\">  æ ‡é¢˜ï¼š<span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;title&quot;</span> /&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">br</span> /&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;submit&quot;</span>&gt;</span>æäº¤<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">form</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>æ³¨æ„ï¼š<code>input</code> å¿…é¡»è®¾ç½® <code>name</code> å±æ€§ï¼Œå¦åˆ™æ•°æ®æ— æ³•å‘é€</strong></p>\n<h3 id=\"æ–‡ä»¶æ¥å£ä¸Šä¼ \"><a href=\"#æ–‡ä»¶æ¥å£ä¸Šä¼ \" class=\"headerlink\" title=\"æ–‡ä»¶æ¥å£ä¸Šä¼ \"></a>æ–‡ä»¶æ¥å£ä¸Šä¼ </h3><p>è¿™ç§æ–¹æ³•ç”±æœåŠ¡ç«¯æä¾›æ¥å£ï¼Œè®¾ç½®ç›¸åº”çš„è¯·æ±‚å¤´ï¼Œå‰ç«¯æäº¤ <code>formData</code> å½¢å¼çš„æ–‡ä»¶æ•°æ®ã€‚</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;uploadFile&quot;</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;file&quot;</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;file&quot;</span> <span class=\"attr\">accept</span>=<span class=\"string\">&quot;image/png,image/gif&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><code>accept</code>ï¼šè¡¨ç¤ºå¯ä»¥é€‰æ‹©çš„æ–‡ä»¶ MIME ç±»å‹ï¼Œå¤šä¸ª MIME ç±»å‹ç”¨è‹±æ–‡é€—å·åˆ†å¼€</li>\n<li><code>multiple</code>ï¼šæ˜¯å¦å¯ä»¥é€‰æ‹©å¤šä¸ªæ–‡ä»¶</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">$(<span class=\"string\">&#x27;#uploadFile&#x27;</span>).<span class=\"title function_\">on</span>(<span class=\"string\">&#x27;change&#x27;</span>, <span class=\"keyword\">function</span> (<span class=\"params\">e</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> file = <span class=\"variable language_\">this</span>.<span class=\"property\">files</span>[<span class=\"number\">0</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">var</span> formData = <span class=\"keyword\">new</span> <span class=\"title class_\">FormData</span>()</span><br><span class=\"line\">  formData.<span class=\"title function_\">append</span>(<span class=\"string\">&#x27;file&#x27;</span>, file)</span><br><span class=\"line\"></span><br><span class=\"line\">  $.<span class=\"title function_\">ajax</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">url</span>: <span class=\"string\">&#x27;xxxx&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">type</span>: <span class=\"string\">&#x27;post&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">data</span>: formData,</span><br><span class=\"line\">    <span class=\"attr\">cache</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">    <span class=\"attr\">contentType</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">    <span class=\"attr\">processData</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">    <span class=\"attr\">success</span>: <span class=\"keyword\">function</span> (<span class=\"params\">res</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">//</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><code>processData</code> è®¾ç½®ä¸º falseã€‚å› ä¸º data å€¼æ˜¯ <code>FormData</code> å¯¹è±¡ï¼Œä¸éœ€è¦å¯¹æ•°æ®åšå¤„ç†ã€‚</li>\n<li><code>cache</code> è®¾ç½®ä¸º falseï¼Œä¸Šä¼ æ–‡ä»¶ä¸éœ€è¦ç¼“å­˜ã€‚</li>\n<li><code>contentType</code> è®¾ç½®ä¸º falseã€‚</li>\n</ul>\n<h3 id=\"åˆ†ç‰‡ä¸Šä¼ \"><a href=\"#åˆ†ç‰‡ä¸Šä¼ \" class=\"headerlink\" title=\"åˆ†ç‰‡ä¸Šä¼ \"></a>åˆ†ç‰‡ä¸Šä¼ </h3><p>æœ‰æ—¶å€™æˆ‘ä»¬ä¸Šä¼ çš„æ–‡ä»¶å¯èƒ½å¾ˆå¤§ï¼Œæ¯”å¦‚è§†é¢‘ç­‰å¯èƒ½è¾¾åˆ° 2 ä¸ª Gï¼Œè¿™æ ·ä¼šé€ æˆä¸Šä¼ é€Ÿåº¦å¤ªæ…¢ï¼Œç”šè‡³æœ‰æ—¶å€™ä¼šå‡ºç°é“¾æ¥è¶…æ—¶çš„æƒ…å†µã€‚è€Œä¸”æœ‰æ—¶å€™æœåŠ¡ç«¯ä¼šè®¾ç½®æ–‡ä»¶å…è®¸ä¸Šä¼ çš„å¤§å°ï¼Œå¤ªå¤§çš„æ–‡ä»¶å°±ä¸å…è®¸ä¸Šä¼ äº†ã€‚ä¸ºè§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ–‡ä»¶è¿›è¡Œåˆ†ç‰‡ä¸Šä¼ ï¼Œæ¯æ¬¡åªä¸Šä¼ å¾ˆå°çš„ä¸€éƒ¨åˆ† æ¯”å¦‚ 1Mã€‚</p>\n<h4 id=\"æ€è·¯\"><a href=\"#æ€è·¯\" class=\"headerlink\" title=\"æ€è·¯\"></a>æ€è·¯</h4><ol>\n<li>å°†æ–‡ä»¶æŒ‰ä¸€å®šå¤§å°(æ¯”å¦‚ 1M)æˆªå–æˆä¸€å°ä»½ï¼Œå¹¶å°†åˆ‡ç‰‡å¸¦ä¸Š hash å€¼ï¼Œç”¨äºä½œä¸ºæ ‡è¯†ã€‚</li>\n<li>å°†æ¯ä¸ªåˆ‡ç‰‡æ–‡ä»¶å¹¶å‘æäº¤åˆ°æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯ä¿å­˜æ¯ä¸ªåˆ‡ç‰‡æ–‡ä»¶çš„ä¿¡æ¯ã€‚</li>\n<li>åˆ‡ç‰‡ä¸Šä¼ å®Œæˆåï¼ŒæœåŠ¡ç«¯æ ¹æ®æ–‡ä»¶æ ‡è¯†è¿›è¡Œåˆå¹¶ï¼Œåˆå¹¶å®Œååˆ é™¤åˆ‡ç‰‡æ–‡ä»¶ã€‚</li>\n</ol>\n<p>è¿™æ ·å› ä¸ºæ¯ä¸ªåˆ‡ç‰‡æ˜¯å¹¶å‘ä¸Šä¼ çš„ï¼Œæ‰€ä»¥å¯ä»¥æœ‰æ•ˆåœ°é™ä½ä¸Šä¼ æ—¶é—´ã€‚ä¸‹é¢è¯´ä¸€ä¸‹å…·ä½“çš„å®ç°æ­¥éª¤ã€‚ï¼ˆPSï¼šè¿™æ˜¯æˆ‘å¸çš„å®ç°æ–¹å¼ï¼Œå¹¶ä¸æ˜¯å”¯ä¸€æ–¹æ³•ï¼Œä¸”æ¶‰åŠåˆ°å…·ä½“æ¥å£çš„ä»£ç å°±ä¸è´´åœ¨è¿™é‡Œäº†ï¼‰</p>\n<h4 id=\"ç”Ÿæˆ-hash-å€¼\"><a href=\"#ç”Ÿæˆ-hash-å€¼\" class=\"headerlink\" title=\"ç”Ÿæˆ hash å€¼\"></a>ç”Ÿæˆ hash å€¼</h4><p>æ— è®ºä¸Šä¼ æ–‡ä»¶ä¿¡æ¯è¿˜æ˜¯ä¸Šä¼ åˆ‡ç‰‡æ–‡ä»¶ï¼Œéƒ½å¿…é¡»è¦ç”Ÿæˆæ–‡ä»¶å’Œåˆ‡ç‰‡çš„ <code>hash</code>ã€‚æœ€ç®€å•ç²—æš´çš„ <code>hash</code> å€¼å¯ä»¥ç”¨æ–‡ä»¶åå­—+ä¸‹æ ‡æ¥æ ‡è¯†ï¼Œä½†æ˜¯è¿™æ ·æ–‡ä»¶åä¸€æ—¦ä¿®æ”¹å°±å¤±å»äº†æ•ˆæœï¼Œè€Œäº‹å®ä¸Šåªè¦æ–‡ä»¶å†…å®¹ä¸å˜ï¼Œ<code>hash</code> å°±ä¸åº”è¯¥å˜åŒ–ï¼Œæ‰€ä»¥æ­£ç¡®çš„åšæ³•æ˜¯æ ¹æ®æ–‡ä»¶å†…å®¹ç”Ÿæˆ <code>hash</code>ã€‚æˆ‘å¸ç”¨çš„æ˜¯ <code>spark-md5</code> åº“ï¼Œåœ¨è¿™é‡Œå°±ä¸ä¸€ä¸€ç»†è¯´äº†ã€‚</p>\n<h4 id=\"æ–‡ä»¶ä¿¡æ¯ä¸Šä¼ \"><a href=\"#æ–‡ä»¶ä¿¡æ¯ä¸Šä¼ \" class=\"headerlink\" title=\"æ–‡ä»¶ä¿¡æ¯ä¸Šä¼ \"></a>æ–‡ä»¶ä¿¡æ¯ä¸Šä¼ </h4><p>åœ¨æ–‡ä»¶åˆ†ç‰‡ä¸Šä¼ ä¹‹å‰éœ€è¦æŠŠæ•´ä¸ªæ–‡ä»¶çš„ä¿¡æ¯å¦‚è¯¥æ–‡ä»¶çš„æ€»çš„æ–‡ä»¶å¤§å°ã€æ–‡ä»¶åã€å“ˆå¸Œå€¼ç­‰ç­‰ï¼Œä¸»è¦ç›®çš„æ˜¯åˆå§‹åŒ–ä¸€ä¸ªæ–‡ä»¶åˆ†ç‰‡ä¸Šä¼ äº‹ä»¶ï¼Œè¿”å›æ–‡ä»¶ idï¼Œç”¨äºæ¯ä¸ªåˆ†ç‰‡çš„æäº¤ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">getFileId (file) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> vm = <span class=\"variable language_\">this</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> formData = <span class=\"keyword\">new</span> <span class=\"title class_\">FormData</span>()</span><br><span class=\"line\">  formData.<span class=\"title function_\">append</span>(<span class=\"string\">&#x27;file&#x27;</span>, file)</span><br><span class=\"line\">  <span class=\"title function_\">axios</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">timeout</span>: <span class=\"number\">5</span> * <span class=\"number\">60</span> * <span class=\"number\">1000</span>,</span><br><span class=\"line\">    <span class=\"attr\">headers</span>: &#123;</span><br><span class=\"line\">      <span class=\"string\">&#x27;Content-Type&#x27;</span>: <span class=\"string\">&#x27;application/json-&#x27;</span>,</span><br><span class=\"line\">      <span class=\"string\">&#x27;x-data&#x27;</span>: <span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(&#123;</span><br><span class=\"line\">        <span class=\"attr\">fileName</span>: file.<span class=\"property\">fileName</span>,</span><br><span class=\"line\">        <span class=\"attr\">size</span>: file.<span class=\"property\">size</span>,</span><br><span class=\"line\">        <span class=\"attr\">hash</span>: <span class=\"string\">&#x27;hashxxx&#x27;</span>,</span><br><span class=\"line\">      &#125;),</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">url</span>: <span class=\"string\">&#x27;xxxxxx&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">method</span>: <span class=\"string\">&#x27;POST&#x27;</span>,</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">  .<span class=\"title function_\">then</span>(<span class=\"function\">(<span class=\"params\">res</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (res.<span class=\"property\">code</span> === <span class=\"string\">&#x27;200&#x27;</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> res.<span class=\"property\">data</span>.<span class=\"property\">fileId</span></span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  .<span class=\"title function_\">catch</span>(<span class=\"function\">(<span class=\"params\">err</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(err)</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"æ–‡ä»¶åˆ‡ç‰‡åˆ†å‰²\"><a href=\"#æ–‡ä»¶åˆ‡ç‰‡åˆ†å‰²\" class=\"headerlink\" title=\"æ–‡ä»¶åˆ‡ç‰‡åˆ†å‰²\"></a>æ–‡ä»¶åˆ‡ç‰‡åˆ†å‰²</h4><p>å½“å‰ç«¯è·å–åˆ°æœ¬åœ°å›¾ç‰‡åï¼Œåˆ©ç”¨ <code>Blob.prototype.slice</code> æ–¹æ³•ï¼ˆå’Œæ•°ç»„çš„ <code>slice</code> æ–¹æ³•ç›¸ä¼¼ï¼‰ï¼Œå°†å¤§æ–‡ä»¶æŒ‰ç…§æ²¡å°ç‰‡ 1M è¿›è¡Œåˆ‡å‰²ï¼Œè¿”å›åŸæ–‡ä»¶çš„æŸä¸ªåˆ‡ç‰‡ï¼Œå†å¹¶å‘å°†å„ä¸ªåˆ†ç‰‡ä¸Šä¼ åˆ°æœåŠ¡ç«¯ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">getCkunk (file, fileId) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> vm = <span class=\"variable language_\">this</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> chunkSize = <span class=\"number\">1024</span> * <span class=\"number\">1024</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> totalSize = file.<span class=\"property\">size</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> count = <span class=\"title class_\">Math</span>.<span class=\"title function_\">ceil</span>(totalSize / chunkSize)</span><br><span class=\"line\">  <span class=\"keyword\">let</span> chunkArr = []</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; count; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (i === count.<span class=\"property\">length</span> - <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">      chunkArr.<span class=\"title function_\">push</span>(file.<span class=\"title function_\">slice</span>(i * chunkSize, totalSize))</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      chunkArr.<span class=\"title function_\">push</span>(file.<span class=\"title function_\">slice</span>(i * chunkSize, (i + <span class=\"number\">1</span>) * chunkSize))</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> index = <span class=\"number\">0</span>; index &lt; count; index++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> item = chunkArr[index]</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"title function_\">uploadChunk</span>(item, index, fileId)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>å„ä¸ªåˆ†ç‰‡ä¸Šä¼ åˆ°æœåŠ¡ç«¯çš„æ–¹æ³•ã€‚æ­¤å¤„çœç•¥ hash å€¼å¾—è·å–æ–¹å¼ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">ploadChunk</span>(<span class=\"params\">item, index, fileId</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> formData = <span class=\"keyword\">new</span> <span class=\"title class_\">FormData</span>()</span><br><span class=\"line\">  formData.<span class=\"title function_\">append</span>(<span class=\"string\">&#x27;file&#x27;</span>, item)</span><br><span class=\"line\">  <span class=\"title function_\">request</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">headers</span>: &#123;</span><br><span class=\"line\">      <span class=\"string\">&#x27;Content-Type&#x27;</span>: <span class=\"string\">&#x27;application/octet-stream;&#x27;</span>,</span><br><span class=\"line\">      <span class=\"string\">&#x27;x-data&#x27;</span>: <span class=\"title class_\">JSON</span>.<span class=\"title function_\">stringify</span>(&#123;</span><br><span class=\"line\">        <span class=\"attr\">fileId</span>: fileId,</span><br><span class=\"line\">        <span class=\"attr\">partId</span>: index + <span class=\"number\">1</span>,</span><br><span class=\"line\">        <span class=\"attr\">hash</span>: res,</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">url</span>: <span class=\"string\">&#x27;xxxxx&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">method</span>: <span class=\"string\">&#x27;POST&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">data</span>: formData,</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">  .<span class=\"title function_\">then</span>(<span class=\"function\">(<span class=\"params\">res</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res.<span class=\"property\">data</span>.<span class=\"property\">path</span></span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">  .<span class=\"title function_\">catch</span>(<span class=\"function\">(<span class=\"params\">err</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(err)</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"æ˜¾ç¤ºä¸Šä¼ è¿›åº¦æ¡\"><a href=\"#æ˜¾ç¤ºä¸Šä¼ è¿›åº¦æ¡\" class=\"headerlink\" title=\"æ˜¾ç¤ºä¸Šä¼ è¿›åº¦æ¡\"></a>æ˜¾ç¤ºä¸Šä¼ è¿›åº¦æ¡</h4><p>ç”±äºæ–‡ä»¶æ¯”è¾ƒå¤§ï¼Œå³ä½¿æ˜¯é‡‡ç”¨åˆ†ç‰‡ä¸Šä¼ çš„æ–¹å¼ä¹Ÿæ˜¯éœ€è¦ä¸€å®šçš„æ—¶é—´çš„ï¼Œä¸ºäº†æ›´å¥½çš„ç”¨æˆ·ä½“éªŒï¼Œå‰ç«¯æœ€å¥½æ˜¯æç¤ºä¸Šä¼ çš„è¿›åº¦ã€‚è¿™æ—¶å€™å°±éœ€è¦åç«¯åœ¨æ¯ä¸ªåˆ†ç‰‡çš„æ”¾å›ç»“æœåŠ ä¸Šä¸Šä¼ çš„ 100%å­—æ®µã€‚å‰ç«¯è·å–åˆ°è¿”å›å€¼å°±æ”¹å˜å½“å‰è¿›åº¦ã€‚</p>\n<p>å½“æœ€åä¸€ä¸ªåˆ†ç‰‡ä¸Šä¼ å®Œæˆåï¼ŒæœåŠ¡ç«¯è¿”å›æ–‡ä»¶çš„ urlï¼Œå‰ç«¯è·å– urlï¼ŒåŒæ—¶å°†è¿›åº¦æ¡çŠ¶æ€æ”¹å˜ä¸º 100%ã€‚</p>\n<h3 id=\"æ–­ç‚¹ç»­ä¼ \"><a href=\"#æ–­ç‚¹ç»­ä¼ \" class=\"headerlink\" title=\"æ–­ç‚¹ç»­ä¼ \"></a>æ–­ç‚¹ç»­ä¼ </h3><p>ä¸Šé¢è¯´åˆ°çš„åˆ†ç‰‡ä¸Šä¼ ï¼Œè§£å†³äº†å¤§æ–‡ä»¶ä¸Šä¼ è¶…æ—¶å’ŒæœåŠ¡å™¨çš„é™åˆ¶ã€‚ä½†æ˜¯å¯¹äºæ›´å¤§çš„æ–‡ä»¶ï¼Œä¸Šä¼ å¹¶ä¸æ˜¯çŸ­æ—¶é—´å†…å°±ä¸Šä¼ å®Œæˆï¼Œç”šè‡³æœ‰æ—¶å€™ä¼šé¢ä¸´æ–­ç½‘æˆ–è€…æ‰‹åŠ¨æš‚åœï¼Œéš¾é“å°±è¦é‡æ–°å°†æ•´ä¸ªæ–‡ä»¶ä¸Šä¼ äº†ï¼Œæˆ‘ä»¬å½“ç„¶ä¸å¸Œæœ›ã€‚è¿™æ—¶å€™æ–­ç‚¹ç»­ä¼ å°±æ´¾ä¸Šç”¨åœºäº†ã€‚</p>\n<p>ä¸‹é¢è¯´ä¸€ä¸‹å®ç°æ€è·¯ã€‚<br>é¦–å…ˆæ–­ç‚¹ç»­ä¼ å¿…é¡»æ˜¯åŸºäºåˆ†ç‰‡ä¸Šä¼ çš„åŸºç¡€ä¸Šçš„</p>\n<ol>\n<li>æ¯ä¸ªåˆ†ç‰‡ä¸Šä¼ çš„æ—¶å€™ï¼ŒæœåŠ¡ç«¯è®°å½•ä¸Šä¼ å¥½çš„æ–‡ä»¶ hash å€¼ï¼Œä¸Šä¼ æˆåŠŸåè¿”å› hash å€¼ç»™å‰ç«¯ï¼Œå‰ç«¯è®°å½• hash å€¼</li>\n<li>é‡æ–°ä¸Šä¼ æ—¶ï¼Œå°†æ¯ä¸ªæ–‡ä»¶çš„ hash å€¼ä¸è®°å½•çš„ hash å€¼åšæ¯”å¯¹ï¼Œå¦‚æœç›¸åŒçš„è¯åˆ™è·³è¿‡ï¼Œç»§ç»­ä¸‹ä¸€ä¸ªåˆ†æ®µçš„ä¸Šä¼ ã€‚</li>\n<li>å…¨éƒ¨åˆ†ç‰‡ä¸Šä¼ å®Œæˆåï¼ŒæœåŠ¡ç«¯æ ¹æ®æ–‡ä»¶æ ‡è¯†è¿›è¡Œåˆå¹¶ï¼Œåˆå¹¶å®Œååˆ é™¤å°æ–‡ä»¶ã€‚</li>\n</ol>\n<h3 id=\"æ–‡ä»¶ä¸‹è½½\"><a href=\"#æ–‡ä»¶ä¸‹è½½\" class=\"headerlink\" title=\"æ–‡ä»¶ä¸‹è½½\"></a>æ–‡ä»¶ä¸‹è½½</h3><p>æ–‡ä»¶ä¸‹è½½æœ‰ä»¥ä¸‹å‡ ç§æ–¹æ³•</p>\n<h4 id=\"form-è¡¨å•æäº¤-1\"><a href=\"#form-è¡¨å•æäº¤-1\" class=\"headerlink\" title=\"form è¡¨å•æäº¤\"></a>form è¡¨å•æäº¤</h4><p>è¿™æ˜¯æœ€åŸå§‹çš„æ–¹æ³•ï¼Œä¸ºä¸€ä¸ªä¸‹è½½æŒ‰é’®æ·»åŠ  click äº‹ä»¶ï¼Œç‚¹å‡»æ—¶åŠ¨æ€ç”Ÿæˆä¸€ä¸ªè¡¨å•ï¼Œåˆ©ç”¨è¡¨å•æäº¤çš„åŠŸèƒ½æ¥å®ç°æ–‡ä»¶çš„ä¸‹è½½ï¼ˆå®é™…ä¸Šè¡¨å•çš„æäº¤å°±æ˜¯å‘é€ä¸€ä¸ªè¯·æ±‚ï¼‰ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">downloadFile</span>(<span class=\"params\">downloadUrl, fileName</span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// åˆ›å»ºè¡¨å•</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> form = <span class=\"variable language_\">document</span>.<span class=\"title function_\">createElement</span>(<span class=\"string\">&#x27;form&#x27;</span>)</span><br><span class=\"line\">  form.<span class=\"property\">method</span> = <span class=\"string\">&#x27;get&#x27;</span></span><br><span class=\"line\">  form.<span class=\"property\">action</span> = downloadUrl</span><br><span class=\"line\">  <span class=\"comment\">//form.target = &#x27;_blank&#x27;;\t// formæ–°å¼€é¡µé¢</span></span><br><span class=\"line\">  <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"title function_\">appendChild</span>(form)</span><br><span class=\"line\">  form.<span class=\"title function_\">submit</span>()</span><br><span class=\"line\">  <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"title function_\">removeChild</span>(form)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>ä¼˜ç‚¹:å…¼å®¹æ€§å¥½ï¼Œä¸ä¼šå‡ºç° URL é•¿åº¦é™åˆ¶é—®é¢˜ã€‚</li>\n<li>ç¼ºç‚¹:æ— æ³•çŸ¥é“ä¸‹è½½çš„è¿›åº¦ï¼Œæ— æ³•ç›´æ¥ä¸‹è½½æµè§ˆå™¨å¯ç›´æ¥é¢„è§ˆçš„æ–‡ä»¶ç±»å‹ï¼ˆå¦‚ txt&#x2F;png ç­‰ï¼‰</li>\n</ul>\n<h4 id=\"window-open-æˆ–-window-location-href\"><a href=\"#window-open-æˆ–-window-location-href\" class=\"headerlink\" title=\"window.open æˆ– window.location.href\"></a>window.open æˆ– window.location.href</h4><p>æœ€ç®€å•æœ€ç›´æ¥çš„æ–¹å¼ï¼Œå®é™…ä¸Šè·Ÿ a æ ‡ç­¾è®¿é—®ä¸‹è½½é“¾æ¥ä¸€æ ·</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"title function_\">open</span>(<span class=\"string\">&#x27;downloadFile.zip&#x27;</span>)</span><br><span class=\"line\">location.<span class=\"property\">href</span> = <span class=\"string\">&#x27;downloadFile.zip&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<p>ç¼ºç‚¹</p>\n<ul>\n<li>ä¼šå‡ºç° URL é•¿åº¦é™åˆ¶é—®é¢˜</li>\n<li>éœ€è¦æ³¨æ„ url ç¼–ç é—®é¢˜</li>\n<li>æµè§ˆå™¨å¯ç›´æ¥æµè§ˆçš„æ–‡ä»¶ç±»å‹æ˜¯ä¸æä¾›ä¸‹è½½çš„ï¼Œå¦‚ txtã€pngã€jpgã€gif ç­‰</li>\n<li>ä¸èƒ½æ·»åŠ  headerï¼Œä¹Ÿå°±ä¸èƒ½è¿›è¡Œé‰´æƒ</li>\n<li>æ— æ³•çŸ¥é“ä¸‹è½½çš„è¿›åº¦</li>\n</ul>\n<h4 id=\"a-æ ‡ç­¾-download-å±æ€§\"><a href=\"#a-æ ‡ç­¾-download-å±æ€§\" class=\"headerlink\" title=\"a æ ‡ç­¾ download å±æ€§\"></a>a æ ‡ç­¾ download å±æ€§</h4><p>download å±æ€§æ˜¯ HTML5 æ–°å¢çš„å±æ€§ï¼Œå…¼å®¹æ€§å¯ä»¥äº†è§£ä¸‹ <code>can i use download</code>ã€‚</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;xxxx&quot;</span> <span class=\"attr\">download</span>&gt;</span>ç‚¹å‡»ä¸‹è½½<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- é‡å‘½åä¸‹è½½æ–‡ä»¶ --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;xxxx&quot;</span> <span class=\"attr\">download</span>=<span class=\"string\">&quot;test&quot;</span>&gt;</span>ç‚¹å‡»ä¸‹è½½<span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>ä¼˜ç‚¹:èƒ½è§£å†³ä¸èƒ½ç›´æ¥ä¸‹è½½æµè§ˆå™¨å¯æµè§ˆçš„æ–‡ä»¶ã€‚</p>\n<p>ç¼ºç‚¹</p>\n<ul>\n<li>å¾—å·²çŸ¥ä¸‹è½½æ–‡ä»¶åœ°å€</li>\n<li>ä¸èƒ½ä¸‹è½½è·¨åŸŸä¸‹çš„æµè§ˆå™¨å¯æµè§ˆçš„æ–‡ä»¶</li>\n<li>æœ‰å…¼å®¹æ€§é—®é¢˜ï¼Œç‰¹åˆ«æ˜¯ IE</li>\n<li>ä¸èƒ½è¿›è¡Œé‰´æƒ</li>\n</ul>\n<h4 id=\"åˆ©ç”¨-Blob-å¯¹è±¡\"><a href=\"#åˆ©ç”¨-Blob-å¯¹è±¡\" class=\"headerlink\" title=\"åˆ©ç”¨ Blob å¯¹è±¡\"></a>åˆ©ç”¨ Blob å¯¹è±¡</h4><p>æ­¤æ–¹æ³•é™¤äº†èƒ½åˆ©ç”¨å·²çŸ¥æ–‡ä»¶åœ°å€è·¯å¾„è¿›è¡Œä¸‹è½½å¤–ï¼Œè¿˜èƒ½é€šè¿‡å‘é€ ajax è¯·æ±‚ api è·å–æ–‡ä»¶æµè¿›è¡Œä¸‹è½½ã€‚åˆ©ç”¨ Blob å¯¹è±¡å¯ä»¥å°†æ–‡ä»¶æµè½¬åŒ–æˆ Blob äºŒè¿›åˆ¶å¯¹è±¡ã€‚</p>\n<p>è¿›è¡Œä¸‹è½½çš„æ€è·¯å¾ˆç®€å•ï¼šå‘è¯·æ±‚è·å–äºŒè¿›åˆ¶æ•°æ®ï¼Œè½¬åŒ–ä¸º Blob å¯¹è±¡ï¼Œåˆ©ç”¨ URL.createObjectUrl ç”Ÿæˆ url åœ°å€ï¼Œèµ‹å€¼åœ¨ a æ ‡ç­¾çš„ href å±æ€§ä¸Šï¼Œç»“åˆ download è¿›è¡Œä¸‹è½½ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">downdFile (path, name) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> xhr = <span class=\"keyword\">new</span> <span class=\"title class_\">XMLHttpRequest</span>();</span><br><span class=\"line\">  xhr.<span class=\"title function_\">open</span>(<span class=\"string\">&#x27;get&#x27;</span>, path);</span><br><span class=\"line\">  xhr.<span class=\"property\">responseType</span> = <span class=\"string\">&#x27;blob&#x27;</span>;</span><br><span class=\"line\">  xhr.<span class=\"title function_\">send</span>();</span><br><span class=\"line\">  xhr.<span class=\"property\">onload</span> = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">status</span> === <span class=\"number\">200</span> || <span class=\"variable language_\">this</span>.<span class=\"property\">status</span> === <span class=\"number\">304</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">// const blob = new Blob([this.response], &#123; type: xhr.getResponseHeader(&#x27;Content-Type&#x27;) &#125;);</span></span><br><span class=\"line\">      <span class=\"comment\">// const url = URL.createObjectURL(blob);</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> url = <span class=\"variable constant_\">URL</span>.<span class=\"title function_\">createObjectURL</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">response</span>);</span><br><span class=\"line\">      <span class=\"keyword\">const</span> a = <span class=\"variable language_\">document</span>.<span class=\"title function_\">createElement</span>(<span class=\"string\">&#x27;a&#x27;</span>);</span><br><span class=\"line\">      a.<span class=\"property\">style</span>.<span class=\"property\">display</span> = <span class=\"string\">&#x27;none&#x27;</span>;</span><br><span class=\"line\">      a.<span class=\"property\">href</span> = url;</span><br><span class=\"line\">      a.<span class=\"property\">download</span> = name;</span><br><span class=\"line\">      <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"title function_\">appendChild</span>(a);</span><br><span class=\"line\">      a.<span class=\"title function_\">click</span>();</span><br><span class=\"line\">      <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"title function_\">removeChild</span>(a);</span><br><span class=\"line\">      <span class=\"variable constant_\">URL</span>.<span class=\"title function_\">revokeObjectURL</span>(url);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"é¢å‘å¯¹è±¡","url":"/LittleWhiteRabbit/2022/04/26/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%EF%BC%9A%E7%B1%BB%E7%9A%84%E5%AE%9A%E4%B9%89%E5%92%8C%E7%BB%A7%E6%89%BF%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E5%BC%8F/","content":"<h2 id=\"1-å‰è¨€\"><a href=\"#1-å‰è¨€\" class=\"headerlink\" title=\"1 å‰è¨€\"></a>1 å‰è¨€</h2><blockquote>\n<p>ç±»ä¸å®ä¾‹ï¼š</p>\n</blockquote>\n<ul>\n<li>ç±»çš„å£°æ˜</li>\n<li>ç”Ÿæˆå®ä¾‹</li>\n</ul>\n<p><strong>ç±»ä¸ç»§æ‰¿ï¼š</strong></p>\n<ul>\n<li>å¦‚ä½•å®ç°ç»§æ‰¿ï¼šç»§æ‰¿çš„æœ¬è´¨å°±æ˜¯åŸå‹é“¾</li>\n<li>ç»§æ‰¿çš„å‡ ç§æ–¹å¼<span id=\"more\"></span>\n<h2 id=\"2-ç±»çš„å®šä¹‰ã€å®ä¾‹åŒ–\"><a href=\"#2-ç±»çš„å®šä¹‰ã€å®ä¾‹åŒ–\" class=\"headerlink\" title=\"2 ç±»çš„å®šä¹‰ã€å®ä¾‹åŒ–\"></a>2 ç±»çš„å®šä¹‰ã€å®ä¾‹åŒ–</h2></li>\n</ul>\n<h3 id=\"2-1-ç±»çš„å®šä¹‰-x2F-ç±»çš„å£°æ˜\"><a href=\"#2-1-ç±»çš„å®šä¹‰-x2F-ç±»çš„å£°æ˜\" class=\"headerlink\" title=\"2.1 ç±»çš„å®šä¹‰&#x2F;ç±»çš„å£°æ˜\"></a>2.1 ç±»çš„å®šä¹‰&#x2F;ç±»çš„å£°æ˜</h3><p><strong>æ–¹å¼ä¸€</strong>ï¼šç”¨æ„é€ å‡½æ•°æ¨¡æ‹Ÿç±»ï¼ˆä¼ ç»Ÿå†™æ³•ï¼‰</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Animal1</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">name</span> = <span class=\"string\">&#x27;smyhvae&#x27;</span>; <span class=\"comment\">//é€šè¿‡thisï¼Œè¡¨æ˜è¿™æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>æ–¹å¼äºŒ</strong>ï¼šç”¨ class å£°æ˜ï¼ˆ<code>ES6</code>çš„å†™æ³•ï¼‰</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Animal2</span> &#123;</span><br><span class=\"line\">    <span class=\"title function_\">constructor</span>(<span class=\"params\"></span>) &#123;  <span class=\"comment\">//å¯ä»¥åœ¨æ„é€ å‡½æ•°é‡Œå†™å±æ€§</span></span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">name</span> = name;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æ§åˆ¶å°çš„æ•ˆæœï¼š</p>\n<p><img src=\"http://img.smyhvae.com/20180307_0957.png\"></p>\n<h3 id=\"2-2-å®ä¾‹åŒ–\"><a href=\"#2-2-å®ä¾‹åŒ–\" class=\"headerlink\" title=\"2.2 å®ä¾‹åŒ–\"></a>2.2 å®ä¾‹åŒ–</h3><p>ç±»çš„å®ä¾‹åŒ–å¾ˆç®€å•ï¼Œç›´æ¥ <code>new</code> å‡ºæ¥å³å¯ã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">Animal1</span>(),<span class=\"keyword\">new</span> <span class=\"title class_\">Animal2</span>()); <span class=\"comment\">//å®ä¾‹åŒ–ã€‚å¦‚æœæ‹¬å·é‡Œæ²¡æœ‰å‚æ•°ï¼Œåˆ™æ‹¬å·å¯ä»¥çœç•¥</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"http://img.smyhvae.com/20180307_1000.png\"></p>\n<h2 id=\"3-ç»§æ‰¿çš„å‡ ç§æ–¹å¼\"><a href=\"#3-ç»§æ‰¿çš„å‡ ç§æ–¹å¼\" class=\"headerlink\" title=\"3 ç»§æ‰¿çš„å‡ ç§æ–¹å¼\"></a>3 ç»§æ‰¿çš„å‡ ç§æ–¹å¼</h2><blockquote>\n<p>ç»§æ‰¿çš„æœ¬è´¨å°±æ˜¯åŸå‹é“¾ã€‚</p>\n</blockquote>\n<p><strong>ç»§æ‰¿çš„æ–¹å¼æœ‰å‡ ç§ï¼Ÿæ¯ç§å½¢å¼çš„ä¼˜ç¼ºç‚¹æ˜¯</strong>ï¼Ÿè¿™äº›é—®é¢˜å¿…é—®çš„ã€‚å…¶å®å°±æ˜¯è€ƒå¯Ÿä½ å¯¹åŸå‹é“¾çš„æŒæ¡ç¨‹åº¦ã€‚</p>\n<h3 id=\"3-1-æ–¹å¼ä¸€ï¼šå€ŸåŠ©æ„é€ å‡½æ•°\"><a href=\"#3-1-æ–¹å¼ä¸€ï¼šå€ŸåŠ©æ„é€ å‡½æ•°\" class=\"headerlink\" title=\"3.1 æ–¹å¼ä¸€ï¼šå€ŸåŠ©æ„é€ å‡½æ•°\"></a>3.1 æ–¹å¼ä¸€ï¼šå€ŸåŠ©æ„é€ å‡½æ•°</h3><figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Parent1</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">name</span> = <span class=\"string\">&#x27;parent1 çš„å±æ€§&#x27;</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Child1</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"title class_\">Parent1</span>.<span class=\"title function_\">call</span>(<span class=\"variable language_\">this</span>);         <span class=\"comment\">//ã€é‡è¦ã€‘æ­¤å¤„ç”¨ call æˆ– apply éƒ½è¡Œï¼šæ”¹å˜ this çš„æŒ‡å‘</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">type</span> = <span class=\"string\">&#x27;child1 çš„å±æ€§&#x27;</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">Child1</span>);</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>ã€é‡è¦ã€‘ä¸Šæ–¹ä»£ç ä¸­ï¼Œæœ€é‡è¦çš„é‚£è¡Œä»£ç ï¼šåœ¨å­ç±»çš„æ„é€ å‡½æ•°é‡Œå†™äº†<code>Parent1.call(this);</code>ï¼Œæ„æ€æ˜¯ï¼š<strong>è®©Parentçš„æ„é€ å‡½æ•°åœ¨childçš„æ„é€ å‡½æ•°ä¸­æ‰§è¡Œ</strong>ã€‚å‘ç”Ÿçš„å˜åŒ–æ˜¯ï¼š<strong>æ”¹å˜thisçš„æŒ‡å‘</strong>ï¼Œparentçš„å®ä¾‹ â€“&gt; æ”¹ä¸ºæŒ‡å‘childçš„å®ä¾‹ã€‚å¯¼è‡´ parentçš„å®ä¾‹çš„å±æ€§æŒ‚åœ¨åˆ°äº†childçš„å®ä¾‹ä¸Šï¼Œè¿™å°±å®ç°äº†ç»§æ‰¿ã€‚</p>\n</blockquote>\n<p>æ‰“å°ç»“æœï¼š</p>\n<p><img src=\"http://img.smyhvae.com/20180307_1015.png\"></p>\n<blockquote>\n<p>ä¸Šæ–¹ç»“æœè¡¨æ˜ï¼š<code>child</code>å…ˆæœ‰äº† <code>parent</code> å®ä¾‹çš„å±æ€§ï¼ˆç»§æ‰¿å¾—ä»¥å®ç°ï¼‰ï¼Œå†æœ‰äº†<code>child</code> å®ä¾‹çš„å±æ€§ã€‚</p>\n</blockquote>\n<p><strong>åˆ†æ</strong>ï¼š</p>\n<blockquote>\n<p>è¿™ç§æ–¹å¼ï¼Œè™½ç„¶æ”¹å˜äº† <code>this</code> çš„æŒ‡å‘ï¼Œä½†æ˜¯ï¼Œ<strong>Child1 æ— æ³•ç»§æ‰¿ <code>Parent1</code> çš„åŸå‹</strong>ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæˆ‘ç»™ <code>Parent1</code> çš„åŸå‹å¢åŠ ä¸€ä¸ªæ–¹æ³•ï¼š</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"title class_\">Parent1</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">say</span> = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>ä¸Šé¢è¿™ä¸ªæ–¹æ³•æ˜¯æ— æ³•è¢« <code>Child1</code> ç»§æ‰¿çš„ã€‚å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<p><img src=\"http://img.smyhvae.com/20180307_1030.png\"></p>\n<h3 id=\"3-2-æ–¹æ³•äºŒï¼šé€šè¿‡åŸå‹é“¾å®ç°ç»§æ‰¿\"><a href=\"#3-2-æ–¹æ³•äºŒï¼šé€šè¿‡åŸå‹é“¾å®ç°ç»§æ‰¿\" class=\"headerlink\" title=\"3.2 æ–¹æ³•äºŒï¼šé€šè¿‡åŸå‹é“¾å®ç°ç»§æ‰¿\"></a>3.2 æ–¹æ³•äºŒï¼šé€šè¿‡åŸå‹é“¾å®ç°ç»§æ‰¿</h3><figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">é€šè¿‡åŸå‹é“¾å®ç°ç»§æ‰¿</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Parent</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">name</span> = <span class=\"string\">&#x27;Parent çš„å±æ€§&#x27;</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Child</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">type</span> = <span class=\"string\">&#x27;Child çš„å±æ€§&#x27;</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title class_\">Child</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span> = <span class=\"keyword\">new</span> <span class=\"title class_\">Parent</span>(); <span class=\"comment\">//ã€é‡è¦ã€‘</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">Child</span>());</span><br></pre></td></tr></table></figure>\n\n<p>æ‰“å°ç»“æœï¼š</p>\n<p><img src=\"http://img.smyhvae.com/20180307_1109.png\"></p>\n<blockquote>\n<p>ã€é‡è¦ã€‘ä¸Šæ–¹ä»£ç ä¸­ï¼Œæœ€é‡è¦çš„é‚£è¡Œï¼šæ¯ä¸ªå‡½æ•°éƒ½æœ‰<code>prototype</code>å±æ€§ï¼Œäºæ˜¯ï¼Œæ„é€ å‡½æ•°ä¹Ÿæœ‰è¿™ä¸ªå±æ€§ï¼Œè¿™ä¸ªå±æ€§æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚ç°åœ¨ï¼Œ<strong>æˆ‘ä»¬æŠŠ<code>Parent</code>çš„å®ä¾‹èµ‹å€¼ç»™äº†<code>Child</code>çš„<code>prototye</code><strong>ï¼Œä»è€Œå®ç°</strong>ç»§æ‰¿</strong>ã€‚æ­¤æ—¶ï¼Œ<code>Child</code>æ„é€ å‡½æ•°ã€<code>Parent</code>çš„å®ä¾‹ã€<code>Child</code>çš„å®ä¾‹æ„æˆä¸€ä¸ªä¸‰è§’å…³ç³»ã€‚äºæ˜¯ï¼š</p>\n</blockquote>\n<ul>\n<li><code>new Child.__proto__ === new Parent()</code>çš„ç»“æœä¸º<code>true</code></li>\n</ul>\n<p><strong>åˆ†æï¼š</strong></p>\n<ul>\n<li>è¿™ç§ç»§æ‰¿æ–¹å¼ï¼Œ<strong>Child å¯ä»¥ç»§æ‰¿ Parent çš„åŸå‹</strong>ï¼Œä½†æœ‰ä¸ªç¼ºç‚¹ï¼š</li>\n</ul>\n<blockquote>\n<p>ç¼ºç‚¹æ˜¯ï¼š<strong>å¦‚æœä¿®æ”¹ child1å®ä¾‹çš„nameå±æ€§ï¼Œchild2å®ä¾‹ä¸­çš„nameå±æ€§ä¹Ÿä¼šè·Ÿç€æ”¹å˜</strong>ã€‚</p>\n</blockquote>\n<p>å¦‚ä¸‹ï¼š</p>\n<p><img src=\"http://img.smyhvae.com/20180307_1123.png\"></p>\n<blockquote>\n<p>ä¸Šé¢çš„ä»£ç ä¸­ï¼Œ <code>child1</code>ä¿®æ”¹äº†<code>arr</code>å±æ€§ï¼Œå´å‘ç°ï¼Œ<code>child2</code>çš„<code>arr</code>å±æ€§ä¹Ÿè·Ÿç€æ”¹å˜äº†ã€‚è¿™æ˜¾ç„¶ä¸å¤ªå¥½ï¼Œåœ¨ä¸šåŠ¡ä¸­ï¼Œä¸¤ä¸ªå­æ¨¡å—åº”è¯¥éš”ç¦»æ‰å¯¹ã€‚å¦‚æœæ”¹äº†ä¸€ä¸ªå¯¹è±¡ï¼Œå¦ä¸€ä¸ªå¯¹è±¡å´å‘ç”Ÿäº†æ”¹å˜ï¼Œå°±ä¸å¤ªå¥½ã€‚</p>\n</blockquote>\n<blockquote>\n<p>é€ æˆè¿™ç§ç¼ºç‚¹çš„åŸå› æ˜¯ï¼š<code>child1</code>å’Œ<code>child2</code>å…±ç”¨åŸå‹ã€‚å³ï¼š<code>chi1d1.__proto__ === child2__proto__</code>æ˜¯ä¸¥æ ¼ç›¸åŒã€‚è€Œ arræ–¹æ³•æ˜¯åœ¨ Parent çš„å®ä¾‹ä¸Šï¼ˆå³ Childå®ä¾‹çš„åŸå‹ï¼‰çš„ã€‚</p>\n</blockquote>\n<h3 id=\"3-3-æ–¹å¼ä¸‰ï¼šç»„åˆçš„æ–¹å¼ï¼šæ„é€ å‡½æ•°-åŸå‹é“¾\"><a href=\"#3-3-æ–¹å¼ä¸‰ï¼šç»„åˆçš„æ–¹å¼ï¼šæ„é€ å‡½æ•°-åŸå‹é“¾\" class=\"headerlink\" title=\"3.3 æ–¹å¼ä¸‰ï¼šç»„åˆçš„æ–¹å¼ï¼šæ„é€ å‡½æ•° + åŸå‹é“¾\"></a>3.3 æ–¹å¼ä¸‰ï¼šç»„åˆçš„æ–¹å¼ï¼šæ„é€ å‡½æ•° + åŸå‹é“¾</h3><p>å°±æ˜¯æŠŠä¸Šé¢çš„ä¸¤ç§æ–¹å¼ç»„åˆèµ·æ¥ï¼š</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/*</span></span><br><span class=\"line\"><span class=\"comment\">ç»„åˆæ–¹å¼å®ç°ç»§æ‰¿ï¼šæ„é€ å‡½æ•°ã€åŸå‹é“¾</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Parent3</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">name</span> = <span class=\"string\">&#x27;Parent çš„å±æ€§&#x27;</span>;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">arr</span> = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>];</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">Child3</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"title class_\">Parent3</span>.<span class=\"title function_\">call</span>(<span class=\"variable language_\">this</span>); <span class=\"comment\">//ã€é‡è¦1ã€‘æ‰§è¡Œ parentæ–¹æ³•</span></span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">type</span> = <span class=\"string\">&#x27;Child çš„å±æ€§&#x27;</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title class_\">Child3</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span> = <span class=\"keyword\">new</span> <span class=\"title class_\">Parent3</span>(); <span class=\"comment\">//ã€é‡è¦2ã€‘ç¬¬äºŒæ¬¡æ‰§è¡Œparentæ–¹æ³•</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> child = <span class=\"keyword\">new</span> <span class=\"title class_\">Child3</span>();</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>è¿™ç§æ–¹å¼ï¼Œèƒ½è§£å†³ä¹‹å‰ä¸¤ç§æ–¹å¼çš„é—®é¢˜ï¼šæ—¢å¯ä»¥ç»§æ‰¿çˆ¶ç±»åŸå‹çš„å†…å®¹ï¼Œä¹Ÿä¸ä¼šé€ æˆåŸå‹é‡Œå±æ€§çš„ä¿®æ”¹ã€‚</li>\n<li>è¿™ç§æ–¹å¼çš„ç¼ºç‚¹æ˜¯ï¼šè®©çˆ¶äº²<code>Parent</code>çš„æ„é€ æ–¹æ³•æ‰§è¡Œäº†ä¸¤æ¬¡ã€‚</li>\n<li><code>ES6</code>ä¸­çš„ç»§æ‰¿æ–¹å¼ï¼Œä¸€å¸¦è€Œè¿‡å³å¯ï¼Œé‡ç‚¹æ˜¯è¦æŒæ¡<code>ES5</code>ä¸­çš„ç»§æ‰¿ã€‚</li>\n</ul>\n"},{"url":"/LittleWhiteRabbit/2022/04/26/%E9%A1%B5%E9%9D%A2%E5%B8%83%E5%B1%80/","content":"<hr>\n<p>title:  é¡µé¢å¸ƒå±€<br>date:   2020-10-13 15:34:10</p>\n<h2 id=\"é¡µé¢å¸ƒå±€\"><a href=\"#é¡µé¢å¸ƒå±€\" class=\"headerlink\" title=\"é¡µé¢å¸ƒå±€\"></a>é¡µé¢å¸ƒå±€</h2><blockquote>\n<p>é—®é¢˜ï¼šå‡è®¾é«˜åº¦é»˜è®¤<code>100px</code> ï¼Œè¯·å†™å‡ºä¸‰æ å¸ƒå±€ï¼Œå…¶ä¸­å·¦æ ã€å³æ å„ä¸º<code>300px</code>ï¼Œä¸­é—´è‡ªé€‚åº”ã€‚</p>\n</blockquote>\n<p><img src=\"http://img.smyhvae.com/20180305_1520.png\"></p>\n<p>åˆ†æï¼š</p>\n<span id=\"more\"></span>\n<p>åˆå­¦è€…æƒ³åˆ°çš„ç­”æ¡ˆæœ‰ä¸¤ç§ï¼š</p>\n<ul>\n<li>æ–¹æ³•1ï¼šæµ®åŠ¨</li>\n<li>æ–¹æ³•2ï¼šç»å¯¹å®šä½</li>\n</ul>\n<blockquote>\n<p>ä½†è¦æ±‚ä½ èƒ½è‡³å°‘å†™å‡ºä¸‰å››ç§æ–¹æ³•ï¼Œæ‰ç®—åŠæ ¼ã€‚å‰©ä¸‹çš„æ–¹æ³•å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<ul>\n<li>æ–¹æ³•3ï¼š<code>flexbox</code>ã€‚ç§»åŠ¨å¼€å‘é‡Œç»å¸¸ç”¨åˆ°ã€‚</li>\n<li>æ–¹æ³•4ï¼šè¡¨æ ¼å¸ƒå±€<code> table</code>ã€‚è™½ç„¶å·²ç»æ·˜æ±°äº†ï¼Œä½†ä¹Ÿåº”è¯¥äº†è§£ã€‚</li>\n<li>æ–¹æ³•5ï¼šç½‘æ ¼å¸ƒå±€ <code>grid</code></li>\n</ul>\n<p><strong>æ–¹æ³•1ã€æµ®åŠ¨ï¼š</strong></p>\n<blockquote>\n<p>å·¦ä¾§è®¾ç½®å·¦æµ®åŠ¨ï¼Œå³ä¾§è®¾ç½®å³æµ®åŠ¨å³å¯ï¼Œä¸­é—´ä¼šè‡ªåŠ¨åœ°è‡ªé€‚åº”ã€‚</p>\n</blockquote>\n<p><strong>æ–¹æ³•2ã€ç»å¯¹å®šä½ï¼š</strong></p>\n<blockquote>\n<p>å·¦ä¾§è®¾ç½®ä¸ºç»å¯¹å®šä½ï¼Œ <code> leftï¼š0px</code>ã€‚å³ä¾§è®¾ç½®ä¸ºç»å¯¹å®šä½ï¼Œ <code>rightï¼š0px</code>ã€‚ä¸­é—´è®¾ç½®ä¸ºç»å¯¹å®šä½ï¼Œ<code>left </code>å’Œ<code>right</code> éƒ½ä¸º<code>300px</code>ï¼Œå³å¯ã€‚ä¸­é—´çš„å®½åº¦ä¼šè‡ªé€‚åº”ã€‚</p>\n</blockquote>\n<blockquote>\n<p>ä½¿ç”¨<code>article</code>æ ‡ç­¾ä½œä¸ºå®¹å™¨ï¼ŒåŒ…è£¹å·¦ã€ä¸­ã€å³ä¸‰ä¸ªéƒ¨åˆ†ã€‚</p>\n</blockquote>\n<blockquote>\n<p>æ–¹æ³•1 å’Œæ–¹æ³•2 çš„ä»£ç å¦‚ä¸‹ï¼š</p>\n</blockquote>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Document<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-tag\">html</span> * &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">padding</span>: <span class=\"number\">0px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin</span>: <span class=\"number\">0px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.layout</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin-bottom</span>: <span class=\"number\">150px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.layout</span> <span class=\"selector-tag\">article</span> <span class=\"selector-tag\">div</span> &#123; <span class=\"comment\">/*æ³¨æ„ï¼Œè¿™é‡Œæ˜¯è®¾ç½®æ¯ä¸ªå°å—å„¿çš„é«˜åº¦ä¸º100pxï¼Œè€Œä¸æ˜¯è®¾ç½®å¤§å®¹å™¨çš„é«˜åº¦ã€‚å¤§å®¹å™¨çš„é«˜åº¦è¦ç¬¦åˆå“åº”å¼*/</span></span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: <span class=\"number\">100px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"comment\">/* æ–¹æ³•ä¸€ start */</span></span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.layout</span><span class=\"selector-class\">.float</span> <span class=\"selector-class\">.left</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">float</span>: left;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">300px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: red;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.layout</span><span class=\"selector-class\">.float</span> <span class=\"selector-class\">.right</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">float</span>: right;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">300px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: blue;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.layout</span><span class=\"selector-class\">.float</span> <span class=\"selector-class\">.center</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: green;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"comment\">/* æ–¹æ³•ä¸€ end */</span></span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"comment\">/* æ–¹æ³•äºŒ start */</span></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.layout</span><span class=\"selector-class\">.absolute</span> <span class=\"selector-class\">.left-center-right</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">position</span>: relative;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.layout</span><span class=\"selector-class\">.absolute</span> <span class=\"selector-class\">.left</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">position</span>: absolute;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">left</span>: <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">300px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: red;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"comment\">/* ã€é‡è¦ã€‘ä¸­é—´çš„åŒºåŸŸï¼Œå·¦ä¾§å®šä½300pxï¼Œå³ä¾§å®šä½ä¸º300pxï¼Œå³å¯å®Œæˆã€‚å®½åº¦ä¼šè‡ªä½¿ç”¨ */</span></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.layout</span><span class=\"selector-class\">.absolute</span> <span class=\"selector-class\">.center</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">position</span>: absolute;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">left</span>: <span class=\"number\">300px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">right</span>: <span class=\"number\">300px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: green;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.layout</span><span class=\"selector-class\">.absolute</span> <span class=\"selector-class\">.right</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">position</span>: absolute;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">right</span>: <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">300px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: blue;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"comment\">/* æ–¹æ³•äºŒ end */</span></span></span><br><span class=\"line\"><span class=\"language-css\">    </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- æ–¹æ³•ä¸€ï¼šæµ®åŠ¨ start --&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- è¾“å…¥ section.layout.floatï¼Œå³å¯ç”Ÿæˆ  --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">section</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;layout float&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!-- ç”¨  article æ ‡ç­¾åŒ…è£¹å·¦ã€ä¸­ã€å³ä¸‰ä¸ªéƒ¨åˆ† --&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">article</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;left-right-center&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"comment\">&lt;!-- è¾“å…¥ div.left+div.right+div.centerï¼Œå³å¯ç”Ÿæˆ --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;left&quot;</span>&gt;</span></span><br><span class=\"line\">                æˆ‘æ˜¯ left</span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;right&quot;</span>&gt;</span></span><br><span class=\"line\">                æˆ‘æ˜¯ right</span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;center&quot;</span>&gt;</span></span><br><span class=\"line\">                æµ®åŠ¨è§£å†³æ–¹æ¡ˆ</span><br><span class=\"line\">                æˆ‘æ˜¯ center</span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">article</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">section</span>&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- æ–¹æ³•ä¸€ï¼šæµ®åŠ¨ end --&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">section</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;layout absolute&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">article</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;left-center-right&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;left&quot;</span>&gt;</span></span><br><span class=\"line\">                æˆ‘æ˜¯ left</span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;right&quot;</span>&gt;</span></span><br><span class=\"line\">                æˆ‘æ˜¯ right</span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;center&quot;</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>ç»å¯¹å®šä½è§£å†³æ–¹æ¡ˆ<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">                æˆ‘æ˜¯ center</span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">article</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">section</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>æ•ˆæœå¦‚ä¸‹ï¼š</p>\n<p><img src=\"http://img.smyhvae.com/20180305_1640.gif\"></p>\n<p><strong>æ–¹æ³•3ã€flexboxå¸ƒå±€</strong></p>\n<blockquote>\n<p>å°†å·¦ä¸­å³æ‰€åœ¨çš„å®¹å™¨è®¾ç½®ä¸º<code>display: flex</code>ï¼Œè®¾ç½®ä¸¤ä¾§çš„å®½åº¦åï¼Œç„¶åè®©ä¸­é—´çš„<code>flex = 1</code>ï¼Œå³å¯ã€‚</p>\n</blockquote>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Document<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-tag\">html</span> * &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">padding</span>: <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin</span>: <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.layout</span> <span class=\"selector-tag\">article</span> <span class=\"selector-tag\">div</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: <span class=\"number\">100px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.left-center-right</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">display</span>: flex;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.layout</span><span class=\"selector-class\">.flex</span> <span class=\"selector-class\">.left</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">300px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: red;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.layout</span><span class=\"selector-class\">.flex</span> <span class=\"selector-class\">.center</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">flex</span>: <span class=\"number\">1</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: green;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.layout</span><span class=\"selector-class\">.flex</span> <span class=\"selector-class\">.right</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">300px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: blue;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">    </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">section</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;layout flex&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">article</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;left-center-right-&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;left&quot;</span>&gt;</span></span><br><span class=\"line\">                æˆ‘æ˜¯ left</span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;center&quot;</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>flexå¸ƒå±€è§£å†³æ–¹æ¡ˆ<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">                æˆ‘æ˜¯ center</span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;right&quot;</span>&gt;</span></span><br><span class=\"line\">                æˆ‘æ˜¯ right</span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">article</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">section</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n\n<p>æ•ˆæœå¦‚ä¸‹ï¼š</p>\n<p><img src=\"http://img.smyhvae.com/20180305_1700.gif\"></p>\n<p><strong>æ–¹æ³•4ã€è¡¨æ ¼å¸ƒå±€ table</strong></p>\n<blockquote>\n<p>è®¾ç½®æ•´ä¸ªå®¹å™¨çš„å®½åº¦ä¸º<code>100%</code>ï¼Œè®¾ç½®ä¸‰ä¸ªéƒ¨åˆ†å‡ä¸ºè¡¨æ ¼ï¼Œç„¶åå·¦è¾¹çš„å•å…ƒæ ¼ä¸º <code>300px</code>ï¼Œå³è¾¹çš„å•å…ƒæ ¼ä¸º <code>300px</code>ï¼Œå³å¯ã€‚ä¸­é—´çš„å•å…ƒæ ¼ä¼šè‡ªé€‚åº”ã€‚</p>\n</blockquote>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Document<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-tag\">html</span> * &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">padding</span>: <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin</span>: <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.layout</span><span class=\"selector-class\">.table</span> <span class=\"selector-tag\">div</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: <span class=\"number\">100px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"comment\">/* é‡è¦ï¼šè®¾ç½®å®¹å™¨ä¸ºè¡¨æ ¼å¸ƒå±€ï¼Œå®½åº¦ä¸º100% */</span></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.layout</span><span class=\"selector-class\">.table</span> <span class=\"selector-class\">.left-center-right</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">display</span>: table;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: <span class=\"number\">100px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.layout</span><span class=\"selector-class\">.table</span> <span class=\"selector-class\">.left-center-right</span> <span class=\"selector-tag\">div</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">display</span>: table-cell; <span class=\"comment\">/* é‡è¦ï¼šè®¾ç½®ä¸‰ä¸ªæ¨¡å—ä¸ºè¡¨æ ¼é‡Œçš„å•å…ƒ*/</span></span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.layout</span><span class=\"selector-class\">.table</span> <span class=\"selector-class\">.left</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">300px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: red;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.layout</span><span class=\"selector-class\">.table</span> <span class=\"selector-class\">.center</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: green;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.layout</span><span class=\"selector-class\">.table</span> <span class=\"selector-class\">.right</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">300px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: blue;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">    </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">section</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;layout table&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">article</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;left-center-right&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;left&quot;</span>&gt;</span></span><br><span class=\"line\">                æˆ‘æ˜¯ left</span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;center&quot;</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>è¡¨æ ¼å¸ƒå±€è§£å†³æ–¹æ¡ˆ<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">                æˆ‘æ˜¯ center</span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;right&quot;</span>&gt;</span></span><br><span class=\"line\">                æˆ‘æ˜¯ right</span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">article</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">section</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"http://img.smyhvae.com/20180305_1855.gif\"></p>\n<p><strong>æ–¹æ³•5ã€ç½‘æ ¼å¸ƒå±€ grid</strong></p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;en&quot;</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Document<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-tag\">html</span> * &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">padding</span>: <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin</span>: <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"comment\">/* é‡è¦ï¼šè®¾ç½®å®¹å™¨ä¸ºç½‘æ ¼å¸ƒå±€ï¼Œå®½åº¦ä¸º100% */</span></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.layout</span><span class=\"selector-class\">.grid</span> <span class=\"selector-class\">.left-center-right</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">display</span>: grid;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">grid-template-rows</span>: <span class=\"number\">100px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">grid-template-columns</span>: <span class=\"number\">300px</span> auto <span class=\"number\">300px</span>;  <span class=\"comment\">/* é‡è¦ï¼šè®¾ç½®ç½‘æ ¼ä¸ºä¸‰åˆ—ï¼Œå¹¶è®¾ç½®æ¯åˆ—çš„å®½åº¦ã€‚å³å¯ã€‚*/</span></span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.layout</span><span class=\"selector-class\">.grid</span> <span class=\"selector-class\">.left</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: red;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.layout</span><span class=\"selector-class\">.grid</span> <span class=\"selector-class\">.center</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: green;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.layout</span><span class=\"selector-class\">.grid</span> <span class=\"selector-class\">.right</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background</span>: blue;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">    </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">section</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;layout grid&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">article</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;left-center-right&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;left&quot;</span>&gt;</span></span><br><span class=\"line\">                æˆ‘æ˜¯ left</span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;center&quot;</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">h1</span>&gt;</span>ç½‘æ ¼å¸ƒå±€è§£å†³æ–¹æ¡ˆ<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\">                æˆ‘æ˜¯ center</span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;right&quot;</span>&gt;</span></span><br><span class=\"line\">                æˆ‘æ˜¯ right</span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">article</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">section</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n\n<p>æ•ˆæœï¼š</p>\n<p><img src=\"http://img.smyhvae.com/20180305_1920.gif\"></p>\n<p><strong>å»¶ä¼¸ï¼šäº”ç§æ–¹æ³•çš„å¯¹æ¯”</strong></p>\n<blockquote>\n<p>äº”ç§æ–¹æ³•çš„ä¼˜ç¼ºç‚¹</p>\n</blockquote>\n<ul>\n<li>è€ƒè™‘ä¸­é—´æ¨¡å—çš„é«˜åº¦é—®é¢˜</li>\n<li>å…¼å®¹æ€§é—®é¢˜ï¼šå®é™…å¼€å‘ä¸­ï¼Œå“ªä¸ªæœ€å®ç”¨ï¼Ÿ</li>\n</ul>\n<p>æ–¹æ³•1ï¼šæµ®åŠ¨ï¼š</p>\n<ul>\n<li>ä¼˜ç‚¹ï¼šå…¼å®¹æ€§å¥½ã€‚</li>\n<li>ç¼ºç‚¹ï¼šæµ®åŠ¨ä¼šè„±ç¦»æ ‡å‡†æ–‡æ¡£æµï¼Œå› æ­¤è¦æ¸…é™¤æµ®åŠ¨ã€‚æˆ‘ä»¬è§£å†³å¥½è¿™ä¸ªé—®é¢˜å³å¯ã€‚</li>\n</ul>\n<p>æ–¹æ³•:2ï¼šç»å¯¹å®šä½</p>\n<ul>\n<li>ä¼˜ç‚¹ï¼šå¿«æ·ã€‚</li>\n<li>ç¼ºç‚¹ï¼šå¯¼è‡´å­å…ƒç´ ä¹Ÿè„±ç¦»äº†æ ‡å‡†æ–‡æ¡£æµï¼Œå¯å®ç”¨æ€§å·®ã€‚</li>\n</ul>\n<p>æ–¹æ³•3ï¼šflex å¸ƒå±€ï¼ˆCSS3ä¸­å‡ºç°çš„ï¼‰</p>\n<ul>\n<li>ä¼˜ç‚¹ï¼šè§£å†³ä¸Šé¢ä¸¤ä¸ªæ–¹æ³•çš„ä¸è¶³ï¼Œflexå¸ƒå±€æ¯”è¾ƒå®Œç¾ã€‚ç§»åŠ¨ç«¯åŸºæœ¬ç”¨ flexå¸ƒå±€ã€‚</li>\n</ul>\n<p>æ–¹æ³•4ï¼šè¡¨æ ¼å¸ƒå±€</p>\n<ul>\n<li>ä¼˜ç‚¹ï¼šè¡¨æ ¼å¸ƒå±€åœ¨å¾ˆå¤šåœºæ™¯ä¸­å¾ˆå®ç”¨ï¼Œå…¼å®¹æ€§éå¸¸å¥½ã€‚å› ä¸ºIE8ä¸æ”¯æŒ flexï¼Œæ­¤æ—¶å¯ä»¥å°è¯•è¡¨æ ¼å¸ƒå±€</li>\n<li>ç¼ºç‚¹ï¼šå› ä¸ºä¸‰ä¸ªéƒ¨åˆ†éƒ½å½“æˆäº†<strong>å•å…ƒæ ¼</strong>æ¥å¯¹å¾…ï¼Œæ­¤æ—¶ï¼Œå¦‚æœä¸­é—´çš„éƒ¨åˆ†å˜é«˜äº†ï¼Œå…¶ä¼šéƒ¨åˆ†ä¹Ÿä¼šè¢«è¿«è°ƒæ•´é«˜åº¦ã€‚ä½†æ˜¯ï¼Œåœ¨å¾ˆå¤šåœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬å¹¶ä¸éœ€è¦ä¸¤ä¾§çš„é«˜åº¦å¢é«˜ã€‚</li>\n</ul>\n<blockquote>\n<p>ä»€ä¹ˆæ—¶å€™ç”¨ <code>flex </code>å¸ƒå±€ or è¡¨æ ¼å¸ƒå±€ï¼Œçœ‹å…·ä½“çš„åœºæ™¯ã€‚äºŒè€…æ²¡æœ‰ç»å¯¹çš„ä¼˜åŠ¿ï¼Œä¹Ÿæ²¡æœ‰ç»å¯¹çš„ä¸è¶³ã€‚</p>\n</blockquote>\n<p>æ–¹æ³•5ï¼šç½‘æ ¼å¸ƒå±€</p>\n<ul>\n<li>CSS3ä¸­å¼•å…¥çš„å¸ƒå±€ï¼Œå¾ˆå¥½ç”¨ã€‚ä»£ç é‡ç®€åŒ–äº†å¾ˆå¤šã€‚</li>\n</ul>\n<blockquote>\n<p>PSï¼šé¢è¯•æåˆ°ç½‘æ ¼å¸ƒå±€ï¼Œè¯´æ˜æˆ‘ä»¬å¯¹æ–°æŠ€æœ¯æ˜¯æœ‰è¿½æ±‚çš„ã€‚</p>\n</blockquote>\n<p><strong>å»¶ä¼¸ï¼šå¦‚æœé¢˜ç›®ä¸­å»æ‰é«˜åº¦å·²çŸ¥</strong></p>\n<blockquote>\n<p>é—®é¢˜ï¼šé¢˜ç›®ä¸­ï¼Œå¦‚æœå»æ‰é«˜åº¦å·²çŸ¥ï¼Œæˆ‘ä»¬å¾€ä¸­é—´çš„æ¨¡å—é‡Œå¡å¾ˆå¤šå†…å®¹ï¼Œè®©ä¸­é—´çš„æ¨¡å—æ’‘å¼€ã€‚ä¼šå‘ç”Ÿä»€ä¹ˆå˜åŒ–ï¼Ÿå“ªä¸ªå¸ƒå±€å°±ä¸èƒ½ç”¨äº†ï¼Ÿ</p>\n</blockquote>\n<p>åˆ†æï¼šå…¶å®å¯ä»¥è¿™æ ·ç†è§£ï¼Œæˆ‘ä»¬å›å»çœ‹ä¸Šé¢çš„åŠ¨ç”»æ•ˆæœï¼Œå½“ä¸­é—´çš„æ¨¡å—å˜å¾—å¾ˆæŒ¤æ—¶ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆæ•ˆæœï¼Ÿå°±æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç­”æ¡ˆã€‚</p>\n<blockquote>\n<p>ç­”æ¡ˆæ˜¯ï¼š<strong>flex å¸ƒå±€å’Œè¡¨æ ¼å¸ƒå±€å¯ä»¥é€šç”¨</strong>ï¼Œå…¶ä»–ä¸‰ä¸ªå¸ƒå±€éƒ½ä¸èƒ½ç”¨äº†ã€‚</p>\n</blockquote>\n<p><strong>æ€»ç»“</strong></p>\n<blockquote>\n<p>æ¶‰åŠåˆ°çš„çŸ¥è¯†ç‚¹ï¼š</p>\n</blockquote>\n<ul>\n<li>è¯­ä¹‰åŒ–æŒæ¡åˆ°ä½ï¼šæ¯ä¸ªåŒºåŸŸç”¨<code>section</code>ã€<code>article</code>ä»£è¡¨å®¹å™¨ã€<code>div</code>ä»£è¡¨å—å„¿ã€‚å¦‚æœé€šç¯‡éƒ½ç”¨ divï¼Œé‚£å°±æ˜¯è¯­ä¹‰åŒ–æ²¡æŒæ¡å¥½ã€‚</li>\n<li>é¡µé¢å¸ƒå±€ç†è§£æ·±åˆ»ã€‚</li>\n<li><code>CSS</code>åŸºç¡€çŸ¥è¯†æ‰å®ã€‚</li>\n<li>æ€ç»´çµæ´»ä¸”ç§¯æä¸Šè¿›ã€‚é¢˜ç›®ä¸­å¯ä»¥é€šè¿‡<code>ç½‘æ ¼å¸ƒå±€</code>æ¥ä½“ç°ã€‚</li>\n<li>ä»£ç ä¹¦å†™è§„èŒƒã€‚æ³¨æ„å‘½åã€‚ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæ²¡æœ‰ä¸€è¡Œä»£ç æ˜¯å¤šçš„ã€‚</li>\n</ul>\n"},{"title":"cssåŸºç¡€","url":"/LittleWhiteRabbit/2022/04/26/CSS/","content":"<h3 id=\"CSS\"><a href=\"#CSS\" class=\"headerlink\" title=\"CSS\"></a>CSS</h3><hr>\n<p><strong>display: none; ä¸ visibility: hidden; çš„åŒºåˆ«</strong></p>\n<ul>\n<li>è”ç³»ï¼šå®ƒä»¬éƒ½èƒ½è®©å…ƒç´ ä¸å¯è§</li>\n<li>åŒºåˆ«ï¼š<ul>\n<li><code>display:none</code>;ä¼šè®©å…ƒç´ å®Œå…¨ä»æ¸²æŸ“æ ‘ä¸­æ¶ˆå¤±ï¼Œæ¸²æŸ“çš„æ—¶å€™ä¸å æ®ä»»ä½•ç©ºé—´ï¼›<code>visibility: hidden</code>;ä¸ä¼šè®©å…ƒç´ ä»æ¸²æŸ“æ ‘æ¶ˆå¤±ï¼Œæ¸²æŸ“å¸ˆå…ƒç´ ç»§ç»­å æ®ç©ºé—´ï¼Œåªæ˜¯å†…å®¹ä¸å¯è§</li>\n<li><code>display: none</code>;æ˜¯éç»§æ‰¿å±æ€§ï¼Œå­å­™èŠ‚ç‚¹æ¶ˆå¤±ç”±äºå…ƒç´ ä»æ¸²æŸ“æ ‘æ¶ˆå¤±é€ æˆï¼Œé€šè¿‡ä¿®æ”¹å­å­™èŠ‚ç‚¹å±æ€§æ— æ³•æ˜¾ç¤ºï¼›<code>visibility:hidden</code>;æ˜¯ç»§æ‰¿å±æ€§ï¼Œå­å­™èŠ‚ç‚¹æ¶ˆå¤±ç”±äºç»§æ‰¿äº†<code>hidden</code>ï¼Œé€šè¿‡è®¾ç½®<code>visibility: visible</code>;å¯ä»¥è®©å­å­™èŠ‚ç‚¹æ˜¾å¼</li>\n<li>ä¿®æ”¹å¸¸è§„æµä¸­å…ƒç´ çš„<code>display</code>é€šå¸¸ä¼šé€ æˆæ–‡æ¡£é‡æ’ã€‚ä¿®æ”¹<code>visibility</code>å±æ€§åªä¼šé€ æˆæœ¬å…ƒç´ çš„é‡ç»˜</li>\n<li>è¯»å±å™¨ä¸ä¼šè¯»å–<code>display: none;</code>å…ƒç´ å†…å®¹ï¼›ä¼šè¯»å–<code>visibility: hidden</code>å…ƒç´ å†…å®¹</li>\n</ul>\n</li>\n</ul>\n<p><strong>css hackåŸç†åŠå¸¸ç”¨hack</strong></p>\n<span id=\"more\"></span>\n<ul>\n<li>åŸç†ï¼šåˆ©ç”¨ä¸åŒæµè§ˆå™¨å¯¹CSSçš„æ”¯æŒå’Œè§£æç»“æœä¸ä¸€æ ·ç¼–å†™é’ˆå¯¹ç‰¹å®šæµè§ˆå™¨æ ·å¼ã€‚</li>\n<li>å¸¸è§çš„hackæœ‰<ul>\n<li>å±æ€§hack</li>\n<li>é€‰æ‹©å™¨hack</li>\n<li>IEæ¡ä»¶æ³¨é‡Š</li>\n</ul>\n</li>\n</ul>\n<p><strong>link ä¸ @import çš„åŒºåˆ«</strong></p>\n<ul>\n<li><code>link</code> æ˜¯<code>HTML</code>æ–¹å¼ï¼Œ <code>@import</code> æ˜¯<code>CSS</code>æ–¹å¼</li>\n<li><code>link </code>æœ€å¤§é™åº¦æ”¯æŒå¹¶è¡Œä¸‹è½½ï¼Œ<code> @import</code> è¿‡å¤šåµŒå¥—å¯¼è‡´ä¸²è¡Œä¸‹è½½ï¼Œå‡ºç°FOUC</li>\n<li><code>link</code> å¯ä»¥é€šè¿‡ <code>rel=&quot;alternate stylesheet&quot;</code> æŒ‡å®šå€™é€‰æ ·å¼</li>\n<li>æµè§ˆå™¨å¯¹ <code>link</code> æ”¯æŒæ—©äº<code> @import</code> ï¼Œå¯ä»¥ä½¿ç”¨ <code>@import</code> å¯¹è€æµè§ˆå™¨éšè—æ ·å¼</li>\n<li><code>@import</code> å¿…é¡»åœ¨æ ·å¼è§„åˆ™ä¹‹å‰ï¼Œå¯ä»¥åœ¨<code>css</code>æ–‡ä»¶ä¸­å¼•ç”¨å…¶ä»–æ–‡ä»¶</li>\n<li>æ€»ä½“æ¥è¯´ï¼š<code>link</code>ä¼˜äº<code>@import</code></li>\n</ul>\n<p><strong>CSSæœ‰å“ªäº›ç»§æ‰¿å±æ€§</strong></p>\n<ul>\n<li>å…³äºæ–‡å­—æ’ç‰ˆçš„å±æ€§å¦‚ï¼š<ul>\n<li><code>font</code><ul>\n<li><code>word-break</code></li>\n<li><code>letter-spacing</code></li>\n<li><code>text-align</code></li>\n<li><code>text-rendering</code></li>\n<li><code>word-spacing</code></li>\n<li><code>white-space</code></li>\n<li><code>text-indent</code></li>\n<li><code>text-transform</code></li>\n<li><code>text-shadow</code></li>\n</ul>\n</li>\n<li><code>line-height</code></li>\n<li><code>color</code></li>\n<li><code>visibility</code></li>\n<li><code>cursor</code></li>\n</ul>\n</li>\n</ul>\n<p><strong>display,float,positionçš„å…³ç³»</strong></p>\n<ul>\n<li>å¦‚æœ <code>display</code> ä¸º<code>none</code>ï¼Œé‚£ä¹ˆ<code>position</code>å’Œ<code>float</code>éƒ½ä¸èµ·ä½œç”¨ï¼Œè¿™ç§æƒ…å†µä¸‹å…ƒç´ ä¸äº§ç”Ÿæ¡†</li>\n<li>å¦åˆ™ï¼Œå¦‚æœ<code>position</code>å€¼ä¸º<code>absolute</code>æˆ–è€…<code>fixed</code>ï¼Œæ¡†å°±æ˜¯ç»å¯¹å®šä½çš„ï¼Œ<code>float</code>çš„è®¡ç®—å€¼ä¸º<code>none</code>ï¼Œ<code>display</code>æ ¹æ®ä¸‹é¢çš„è¡¨æ ¼è¿›è¡Œè°ƒæ•´</li>\n<li>å¦åˆ™ï¼Œå¦‚æœ<code>float</code>ä¸æ˜¯<code>none</code>ï¼Œæ¡†æ˜¯æµ®åŠ¨çš„ï¼Œ<code>display</code>æ ¹æ®ä¸‹è¡¨è¿›è¡Œè°ƒæ•´</li>\n<li>å¦åˆ™ï¼Œå¦‚æœå…ƒç´ æ˜¯æ ¹å…ƒç´ ï¼Œ<code>display</code>æ ¹æ®ä¸‹è¡¨è¿›è¡Œè°ƒæ•´</li>\n<li>å…¶ä»–æƒ…å†µä¸‹<code>display</code>çš„å€¼ä¸ºæŒ‡å®šå€¼ æ€»ç»“èµ·æ¥ï¼šç»å¯¹å®šä½ã€æµ®åŠ¨ã€æ ¹å…ƒç´ éƒ½éœ€è¦è°ƒæ•´ <code>display</code></li>\n</ul>\n<p> <img src=\"https://images2018.cnblogs.com/blog/715962/201805/715962-20180513012245079-391725349.png\" alt=\"å›¾ç‰‡è½¬è‡ªç½‘ç»œ\"></p>\n<p><strong>å¤–è¾¹è·æŠ˜å (collapsing margins)</strong></p>\n<ul>\n<li>æ¯—é‚»çš„ä¸¤ä¸ªæˆ–å¤šä¸ª <code>margin</code> ä¼šåˆå¹¶æˆä¸€ä¸ª<code>margin</code>ï¼Œå«åšå¤–è¾¹è·æŠ˜å ã€‚è§„åˆ™å¦‚ä¸‹ï¼š<ul>\n<li>ä¸¤ä¸ªæˆ–å¤šä¸ªæ¯—é‚»çš„æ™®é€šæµä¸­çš„å—å…ƒç´ å‚ç›´æ–¹å‘ä¸Šçš„<code>margin</code>ä¼šæŠ˜å </li>\n<li>æµ®åŠ¨å…ƒç´ æˆ–<code>inline-block</code>å…ƒç´ æˆ–ç»å¯¹å®šä½å…ƒç´ çš„<code>margin</code>ä¸ä¼šå’Œå‚ç›´æ–¹å‘ä¸Šçš„å…¶ä»–å…ƒç´ çš„marginæŠ˜å </li>\n<li>åˆ›å»ºäº†å—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡çš„å…ƒç´ ï¼Œä¸ä¼šå’Œå®ƒçš„å­å…ƒç´ å‘ç”ŸmarginæŠ˜å </li>\n<li>å…ƒç´ è‡ªèº«çš„<code>margin-bottom</code>å’Œ<code>margin-top</code>ç›¸é‚»æ—¶ä¹Ÿä¼šæŠ˜</li>\n</ul>\n</li>\n</ul>\n<p><strong>ä»‹ç»ä¸€ä¸‹æ ‡å‡†çš„CSSçš„ç›’å­æ¨¡å‹ï¼Ÿä½ç‰ˆæœ¬IEçš„ç›’å­æ¨¡å‹æœ‰ä»€ä¹ˆä¸åŒçš„ï¼Ÿ</strong></p>\n<ul>\n<li>æœ‰ä¸¤ç§ï¼Œ IE ç›’å­æ¨¡å‹ã€W3C ç›’å­æ¨¡å‹ï¼›</li>\n<li>ç›’æ¨¡å‹ï¼š å†…å®¹(content)ã€å¡«å……(padding)ã€è¾¹ç•Œ(margin)ã€ è¾¹æ¡†(border)ï¼›</li>\n<li>åŒº  åˆ«ï¼š IEçš„contentéƒ¨åˆ†æŠŠ border å’Œ paddingè®¡ç®—äº†è¿›å»;</li>\n</ul>\n<p><strong>CSSé€‰æ‹©ç¬¦æœ‰å“ªäº›ï¼Ÿå“ªäº›å±æ€§å¯ä»¥ç»§æ‰¿ï¼Ÿ</strong></p>\n<ul>\n<li><p>idé€‰æ‹©å™¨ï¼ˆ # myidï¼‰</p>\n</li>\n<li><p>ç±»é€‰æ‹©å™¨ï¼ˆ.myclassnameï¼‰</p>\n</li>\n<li><p>æ ‡ç­¾é€‰æ‹©å™¨ï¼ˆdiv, h1, pï¼‰</p>\n</li>\n<li><p>ç›¸é‚»é€‰æ‹©å™¨ï¼ˆh1 + pï¼‰</p>\n</li>\n<li><p>å­é€‰æ‹©å™¨ï¼ˆul &gt; liï¼‰</p>\n</li>\n<li><p>åä»£é€‰æ‹©å™¨ï¼ˆli aï¼‰</p>\n</li>\n<li><p>é€šé…ç¬¦é€‰æ‹©å™¨ï¼ˆ * ï¼‰</p>\n</li>\n<li><p>å±æ€§é€‰æ‹©å™¨ï¼ˆa[rel &#x3D; â€œexternalâ€]ï¼‰</p>\n</li>\n<li><p>ä¼ªç±»é€‰æ‹©å™¨ï¼ˆa:hover, li:nth-childï¼‰</p>\n</li>\n<li><p>å¯ç»§æ‰¿çš„æ ·å¼ï¼š <code>font-size font-family color, UL LI DL DD DT</code></p>\n</li>\n<li><p>ä¸å¯ç»§æ‰¿çš„æ ·å¼ï¼š<code>border padding margin width height </code></p>\n</li>\n</ul>\n<p><strong>CSSä¼˜å…ˆçº§ç®—æ³•å¦‚ä½•è®¡ç®—ï¼Ÿ</strong></p>\n<ul>\n<li>ä¼˜å…ˆçº§å°±è¿‘åŸåˆ™ï¼ŒåŒæƒé‡æƒ…å†µä¸‹æ ·å¼å®šä¹‰æœ€è¿‘è€…ä¸ºå‡†</li>\n<li>è½½å…¥æ ·å¼ä»¥æœ€åè½½å…¥çš„å®šä½ä¸ºå‡†</li>\n<li>ä¼˜å…ˆçº§ä¸º: <code>!important &gt;  id &gt; class &gt; tag</code> important æ¯” å†…è”ä¼˜å…ˆçº§é«˜</li>\n</ul>\n<p><strong>CSS3æ–°å¢ä¼ªç±»æœ‰é‚£äº›ï¼Ÿ</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">p:first-of-type é€‰æ‹©å±äºå…¶çˆ¶å…ƒç´ çš„é¦–ä¸ª &lt;p&gt; å…ƒç´ çš„æ¯ä¸ª &lt;p&gt; å…ƒç´ ã€‚</span><br><span class=\"line\">p:last-of-type  é€‰æ‹©å±äºå…¶çˆ¶å…ƒç´ çš„æœ€å &lt;p&gt; å…ƒç´ çš„æ¯ä¸ª &lt;p&gt; å…ƒç´ ã€‚</span><br><span class=\"line\">p:only-of-type  é€‰æ‹©å±äºå…¶çˆ¶å…ƒç´ å”¯ä¸€çš„ &lt;p&gt; å…ƒç´ çš„æ¯ä¸ª &lt;p&gt; å…ƒç´ ã€‚</span><br><span class=\"line\">p:only-child        é€‰æ‹©å±äºå…¶çˆ¶å…ƒç´ çš„å”¯ä¸€å­å…ƒç´ çš„æ¯ä¸ª &lt;p&gt; å…ƒç´ ã€‚</span><br><span class=\"line\">p:nth-child(2)  é€‰æ‹©å±äºå…¶çˆ¶å…ƒç´ çš„ç¬¬äºŒä¸ªå­å…ƒç´ çš„æ¯ä¸ª &lt;p&gt; å…ƒç´ ã€‚</span><br><span class=\"line\"></span><br><span class=\"line\">:after          åœ¨å…ƒç´ ä¹‹å‰æ·»åŠ å†…å®¹,ä¹Ÿå¯ä»¥ç”¨æ¥åšæ¸…é™¤æµ®åŠ¨ã€‚</span><br><span class=\"line\">:before         åœ¨å…ƒç´ ä¹‹åæ·»åŠ å†…å®¹</span><br><span class=\"line\">:enabled        </span><br><span class=\"line\">:disabled       æ§åˆ¶è¡¨å•æ§ä»¶çš„ç¦ç”¨çŠ¶æ€ã€‚</span><br><span class=\"line\">:checked        å•é€‰æ¡†æˆ–å¤é€‰æ¡†è¢«é€‰ä¸­</span><br></pre></td></tr></table></figure>\n\n<p><strong>å¦‚ä½•å±…ä¸­divï¼Ÿå¦‚ä½•å±…ä¸­ä¸€ä¸ªæµ®åŠ¨å…ƒç´ ï¼Ÿå¦‚ä½•è®©ç»å¯¹å®šä½çš„divå±…ä¸­ï¼Ÿ</strong></p>\n<ul>\n<li>ç»™<code>div</code>è®¾ç½®ä¸€ä¸ªå®½åº¦ï¼Œç„¶åæ·»åŠ <code>margin:0 auto</code>å±æ€§</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">div&#123;</span><br><span class=\"line\">    width:200px;</span><br><span class=\"line\">    margin:0 auto;</span><br><span class=\"line\"> &#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>å±…ä¸­ä¸€ä¸ªæµ®åŠ¨å…ƒç´ </li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">//ç¡®å®šå®¹å™¨çš„å®½é«˜ å®½500 é«˜ 300 çš„å±‚</span><br><span class=\"line\">//è®¾ç½®å±‚çš„å¤–è¾¹è·</span><br><span class=\"line\"></span><br><span class=\"line\"> .div &#123;</span><br><span class=\"line\">      width:500px ; height:300px;//é«˜åº¦å¯ä»¥ä¸è®¾</span><br><span class=\"line\">      margin: -150px 0 0 -250px;</span><br><span class=\"line\">      position:relative;         //ç›¸å¯¹å®šä½</span><br><span class=\"line\">      background-color:pink;     //æ–¹ä¾¿çœ‹æ•ˆæœ</span><br><span class=\"line\">      left:50%;</span><br><span class=\"line\">      top:50%;</span><br><span class=\"line\"> &#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>è®©ç»å¯¹å®šä½çš„divå±…ä¸­</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">position: absolute;</span><br><span class=\"line\">width: 1200px;</span><br><span class=\"line\">background: none;</span><br><span class=\"line\">margin: 0 auto;</span><br><span class=\"line\">top: 0;</span><br><span class=\"line\">left: 0;</span><br><span class=\"line\">bottom: 0;</span><br><span class=\"line\">right: 0;</span><br></pre></td></tr></table></figure>\n<p><strong>displayæœ‰å“ªäº›å€¼ï¼Ÿè¯´æ˜ä»–ä»¬çš„ä½œç”¨</strong></p>\n<ul>\n<li>block         è±¡å—ç±»å‹å…ƒç´ ä¸€æ ·æ˜¾ç¤ºã€‚</li>\n<li>none          ç¼ºçœå€¼ã€‚è±¡è¡Œå†…å…ƒç´ ç±»å‹ä¸€æ ·æ˜¾ç¤ºã€‚</li>\n<li>inline-block  è±¡è¡Œå†…å…ƒç´ ä¸€æ ·æ˜¾ç¤ºï¼Œä½†å…¶å†…å®¹è±¡å—ç±»å‹å…ƒç´ ä¸€æ ·æ˜¾ç¤ºã€‚</li>\n<li>list-item     è±¡å—ç±»å‹å…ƒç´ ä¸€æ ·æ˜¾ç¤ºï¼Œå¹¶æ·»åŠ æ ·å¼åˆ—è¡¨æ ‡è®°ã€‚</li>\n<li>table         æ­¤å…ƒç´ ä¼šä½œä¸ºå—çº§è¡¨æ ¼æ¥æ˜¾ç¤º</li>\n<li>inherit       è§„å®šåº”è¯¥ä»çˆ¶å…ƒç´ ç»§æ‰¿ display å±æ€§çš„å€¼</li>\n</ul>\n<p><strong>positionçš„å€¼relativeå’Œabsoluteå®šä½åŸç‚¹æ˜¯ï¼Ÿ</strong></p>\n<ul>\n<li>absolute<ul>\n<li>ç”Ÿæˆç»å¯¹å®šä½çš„å…ƒç´ ï¼Œç›¸å¯¹äºå€¼ä¸ä¸º staticçš„ç¬¬ä¸€ä¸ªçˆ¶å…ƒç´ è¿›è¡Œå®šä½ã€‚</li>\n</ul>\n</li>\n<li>fixed ï¼ˆè€IEä¸æ”¯æŒï¼‰<ul>\n<li>ç”Ÿæˆç»å¯¹å®šä½çš„å…ƒç´ ï¼Œç›¸å¯¹äºæµè§ˆå™¨çª—å£è¿›è¡Œå®šä½ã€‚</li>\n</ul>\n</li>\n<li>relative<ul>\n<li>ç”Ÿæˆç›¸å¯¹å®šä½çš„å…ƒç´ ï¼Œç›¸å¯¹äºå…¶æ­£å¸¸ä½ç½®è¿›è¡Œå®šä½ã€‚</li>\n</ul>\n</li>\n<li>static<ul>\n<li>é»˜è®¤å€¼ã€‚æ²¡æœ‰å®šä½ï¼Œå…ƒç´ å‡ºç°åœ¨æ­£å¸¸çš„æµä¸­ï¼ˆå¿½ç•¥ top, bottom, left, right - z-index å£°æ˜ï¼‰ã€‚</li>\n</ul>\n</li>\n<li>inherit<ul>\n<li>è§„å®šä»çˆ¶å…ƒç´ ç»§æ‰¿ position å±æ€§çš„å€¼</li>\n</ul>\n</li>\n</ul>\n<p><strong>CSS3æœ‰å“ªäº›æ–°ç‰¹æ€§ï¼Ÿ</strong></p>\n<ul>\n<li>æ–°å¢å„ç§CSSé€‰æ‹©å™¨  ï¼ˆ: not(.input)ï¼šæ‰€æœ‰ class ä¸æ˜¯â€œinputâ€çš„èŠ‚ç‚¹ï¼‰</li>\n<li>åœ†è§’           ï¼ˆborder-radius:8pxï¼‰</li>\n<li>å¤šåˆ—å¸ƒå±€        ï¼ˆmulti-column layoutï¼‰</li>\n<li>é˜´å½±å’Œåå°„        ï¼ˆShadow\\Reflectï¼‰</li>\n<li>æ–‡å­—ç‰¹æ•ˆ      ï¼ˆtext-shadowã€ï¼‰</li>\n<li>æ–‡å­—æ¸²æŸ“      ï¼ˆText-decorationï¼‰</li>\n<li>çº¿æ€§æ¸å˜      ï¼ˆgradientï¼‰</li>\n<li>æ—‹è½¬          ï¼ˆtransformï¼‰</li>\n<li>å¢åŠ äº†æ—‹è½¬,ç¼©æ”¾,å®šä½,å€¾æ–œ,åŠ¨ç”»ï¼Œå¤šèƒŒæ™¯</li>\n<li><code>transform:\\scale(0.85,0.90)\\ translate(0px,-30px)\\ skew(-9deg,0deg)\\Animation:</code></li>\n</ul>\n<p><strong>ç”¨çº¯CSSåˆ›å»ºä¸€ä¸ªä¸‰è§’å½¢çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">// æŠŠä¸Šã€å·¦ã€å³ä¸‰æ¡è¾¹éšè—æ‰ï¼ˆé¢œè‰²è®¾ä¸º transparentï¼‰</span><br><span class=\"line\">#demo &#123;</span><br><span class=\"line\">  width: 0;</span><br><span class=\"line\">  height: 0;</span><br><span class=\"line\">  border-width: 20px;</span><br><span class=\"line\">  border-style: solid;</span><br><span class=\"line\">  border-color: transparent transparent red transparent;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>ä¸€ä¸ªæ»¡å± å“ å­—å¸ƒå±€ å¦‚ä½•è®¾è®¡?</strong></p>\n<ul>\n<li>ç®€å•çš„æ–¹å¼ï¼š<ul>\n<li>ä¸Šé¢çš„divå®½100%ï¼Œ</li>\n<li>ä¸‹é¢çš„ä¸¤ä¸ªdivåˆ†åˆ«å®½50%ï¼Œ</li>\n<li>ç„¶åç”¨floatæˆ–è€…inlineä½¿å…¶ä¸æ¢è¡Œå³å¯</li>\n</ul>\n</li>\n</ul>\n<p><strong>ç»å¸¸é‡åˆ°çš„æµè§ˆå™¨çš„å…¼å®¹æ€§æœ‰å“ªäº›ï¼ŸåŸå› ï¼Œè§£å†³æ–¹æ³•æ˜¯ä»€ä¹ˆï¼Œå¸¸ç”¨hackçš„æŠ€å·§ ï¼Ÿ</strong></p>\n<ul>\n<li><p>png24ä½çš„å›¾ç‰‡åœ¨iE6æµè§ˆå™¨ä¸Šå‡ºç°èƒŒæ™¯ï¼Œè§£å†³æ–¹æ¡ˆæ˜¯åšæˆPNG8.</p>\n</li>\n<li><p>æµè§ˆå™¨é»˜è®¤çš„marginå’Œpaddingä¸åŒã€‚è§£å†³æ–¹æ¡ˆæ˜¯åŠ ä¸€ä¸ªå…¨å±€çš„*{margin:0;padding:0;}æ¥ç»Ÿä¸€</p>\n</li>\n<li><p>IEä¸‹,å¯ä»¥ä½¿ç”¨è·å–å¸¸è§„å±æ€§çš„æ–¹æ³•æ¥è·å–è‡ªå®šä¹‰å±æ€§,ä¹Ÿå¯ä»¥ä½¿ç”¨getAttribute()è·å–è‡ªå®šä¹‰å±æ€§;</p>\n</li>\n<li><p>Firefoxä¸‹,åªèƒ½ä½¿ç”¨getAttribute()è·å–è‡ªå®šä¹‰å±æ€§ã€‚</p>\n<ul>\n<li>è§£å†³æ–¹æ³•:ç»Ÿä¸€é€šè¿‡getAttribute()è·å–è‡ªå®šä¹‰å±æ€§</li>\n</ul>\n</li>\n<li><p>IEä¸‹,evenå¯¹è±¡æœ‰x,yå±æ€§,ä½†æ˜¯æ²¡æœ‰pageX,pageYå±æ€§</p>\n</li>\n<li><p>Firefoxä¸‹,eventå¯¹è±¡æœ‰pageX,pageYå±æ€§,ä½†æ˜¯æ²¡æœ‰x,yå±æ€§</p>\n</li>\n</ul>\n<p><strong>liä¸liä¹‹é—´æœ‰çœ‹ä¸è§çš„ç©ºç™½é—´éš”æ˜¯ä»€ä¹ˆåŸå› å¼•èµ·çš„ï¼Ÿæœ‰ä»€ä¹ˆè§£å†³åŠæ³•ï¼Ÿ</strong></p>\n<ul>\n<li>è¡Œæ¡†çš„æ’åˆ—ä¼šå—åˆ°ä¸­é—´ç©ºç™½ï¼ˆå›è½¦\\ç©ºæ ¼ï¼‰ç­‰çš„å½±å“ï¼Œå› ä¸ºç©ºæ ¼ä¹Ÿå±äºå­—ç¬¦,è¿™äº›ç©ºç™½ä¹Ÿä¼šè¢«åº”ç”¨æ ·å¼ï¼Œå æ®ç©ºé—´ï¼Œæ‰€ä»¥ä¼šæœ‰é—´éš”ï¼ŒæŠŠå­—ç¬¦å¤§å°è®¾ä¸º0ï¼Œå°±æ²¡æœ‰ç©ºæ ¼äº†</li>\n</ul>\n<p><strong>ä¸ºä»€ä¹ˆè¦åˆå§‹åŒ–CSSæ ·å¼</strong></p>\n<ul>\n<li>å› ä¸ºæµè§ˆå™¨çš„å…¼å®¹é—®é¢˜ï¼Œä¸åŒæµè§ˆå™¨å¯¹æœ‰äº›æ ‡ç­¾çš„é»˜è®¤å€¼æ˜¯ä¸åŒçš„ï¼Œå¦‚æœæ²¡å¯¹CSSåˆå§‹åŒ–å¾€å¾€ä¼šå‡ºç°æµè§ˆå™¨ä¹‹é—´çš„é¡µé¢æ˜¾ç¤ºå·®å¼‚</li>\n</ul>\n<p><strong>å¯¹BFCè§„èŒƒ(å—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ï¼šblock formatting context)çš„ç†è§£ï¼Ÿ</strong></p>\n<ul>\n<li>ä¸€ä¸ªé¡µé¢æ˜¯ç”±å¾ˆå¤šä¸ª Box ç»„æˆçš„,å…ƒç´ çš„ç±»å‹å’Œ display å±æ€§,å†³å®šäº†è¿™ä¸ª Box çš„ç±»å‹</li>\n<li>ä¸åŒç±»å‹çš„ Box,ä¼šå‚ä¸ä¸åŒçš„ Formatting Contextï¼ˆå†³å®šå¦‚ä½•æ¸²æŸ“æ–‡æ¡£çš„å®¹å™¨ï¼‰,å› æ­¤Boxå†…çš„å…ƒç´ ä¼šä»¥ä¸åŒçš„æ–¹å¼æ¸²æŸ“,ä¹Ÿå°±æ˜¯è¯´BFCå†…éƒ¨çš„å…ƒç´ å’Œå¤–éƒ¨çš„å…ƒç´ ä¸ä¼šäº’ç›¸å½±å“</li>\n</ul>\n<p><strong>csså®šä¹‰çš„æƒé‡</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">// ä»¥ä¸‹æ˜¯æƒé‡çš„è§„åˆ™ï¼šæ ‡ç­¾çš„æƒé‡ä¸º1ï¼Œclassçš„æƒé‡ä¸º10ï¼Œidçš„æƒé‡ä¸º100ï¼Œä»¥ä¸‹/// ä¾‹å­æ˜¯æ¼”ç¤ºå„ç§å®šä¹‰çš„æƒé‡å€¼ï¼š</span><br><span class=\"line\"></span><br><span class=\"line\">/*æƒé‡ä¸º1*/</span><br><span class=\"line\">div&#123;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">/*æƒé‡ä¸º10*/</span><br><span class=\"line\">.class1&#123;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">/*æƒé‡ä¸º100*/</span><br><span class=\"line\">#id1&#123;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">/*æƒé‡ä¸º100+1=101*/</span><br><span class=\"line\">#id1 div&#123;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">/*æƒé‡ä¸º10+1=11*/</span><br><span class=\"line\">.class1 div&#123;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">/*æƒé‡ä¸º10+10+1=21*/</span><br><span class=\"line\">.class1 .class2 div&#123;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">// å¦‚æœæƒé‡ç›¸åŒï¼Œåˆ™æœ€åå®šä¹‰çš„æ ·å¼ä¼šèµ·ä½œç”¨ï¼Œä½†æ˜¯åº”è¯¥é¿å…è¿™ç§æƒ…å†µå‡ºç°</span><br></pre></td></tr></table></figure>\n\n<p><strong>display:inline-block ä»€ä¹ˆæ—¶å€™ä¼šæ˜¾ç¤ºé—´éš™ï¼Ÿ(æºç¨‹)</strong></p>\n<ul>\n<li>ç§»é™¤ç©ºæ ¼ã€ä½¿ç”¨marginè´Ÿå€¼ã€ä½¿ç”¨font-size:0ã€letter-spacingã€word-spacing</li>\n</ul>\n<p><strong>è°ˆè°ˆæµ®åŠ¨å’Œæ¸…é™¤æµ®åŠ¨</strong></p>\n<ul>\n<li>æµ®åŠ¨çš„æ¡†å¯ä»¥å‘å·¦æˆ–å‘å³ç§»åŠ¨ï¼Œç›´åˆ°ä»–çš„å¤–è¾¹ç¼˜ç¢°åˆ°åŒ…å«æ¡†æˆ–å¦ä¸€ä¸ªæµ®åŠ¨æ¡†çš„è¾¹æ¡†ä¸ºæ­¢ã€‚ç”±äºæµ®åŠ¨æ¡†ä¸åœ¨æ–‡æ¡£çš„æ™®é€šæµä¸­ï¼Œæ‰€ä»¥æ–‡æ¡£çš„æ™®é€šæµçš„å—æ¡†è¡¨ç°å¾—å°±åƒæµ®åŠ¨æ¡†ä¸å­˜åœ¨ä¸€æ ·ã€‚æµ®åŠ¨çš„å—æ¡†ä¼šæ¼‚æµ®åœ¨æ–‡æ¡£æ™®é€šæµçš„å—æ¡†ä¸Š</li>\n</ul>\n<p><strong>ä»‹ç»ä¸€ä¸‹æ ‡å‡†çš„CSSçš„ç›’å­æ¨¡å‹ï¼Ÿä½ç‰ˆæœ¬IEçš„ç›’å­æ¨¡å‹æœ‰ä»€ä¹ˆä¸åŒçš„ï¼Ÿ</strong></p>\n<ul>\n<li>ç›’å­æ¨¡å‹æ„æˆï¼šå†…å®¹(content)ã€å†…å¡«å……(padding)ã€ è¾¹æ¡†(border)ã€å¤–è¾¹è·(margin)</li>\n<li>IE8åŠå…¶ä»¥ä¸‹ç‰ˆæœ¬æµè§ˆå™¨ï¼Œæœªå£°æ˜ DOCTYPEï¼Œå†…å®¹å®½é«˜ä¼šåŒ…å«å†…å¡«å……å’Œè¾¹æ¡†ï¼Œç§°ä¸ºæ€ªå¼‚ç›’æ¨¡å‹(IEç›’æ¨¡å‹)</li>\n<li>æ ‡å‡†(W3C)ç›’æ¨¡å‹ï¼šå…ƒç´ å®½åº¦ &#x3D; width + padding + border + margin</li>\n<li>æ€ªå¼‚(IE)ç›’æ¨¡å‹ï¼šå…ƒç´ å®½åº¦ &#x3D; width + margin</li>\n<li>æ ‡å‡†æµè§ˆå™¨é€šè¿‡è®¾ç½® css3 çš„ box-sizing: border-box å±æ€§ï¼Œè§¦å‘â€œæ€ªå¼‚æ¨¡å¼â€è§£æè®¡ç®—å®½é«˜</li>\n</ul>\n<p><strong>box-sizing å¸¸ç”¨çš„å±æ€§æœ‰å“ªäº›ï¼Ÿåˆ†åˆ«æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ</strong></p>\n<ul>\n<li>box-sizing: content-box;  &#x2F;&#x2F; é»˜è®¤çš„æ ‡å‡†(W3C)ç›’æ¨¡å‹å…ƒç´ æ•ˆæœ</li>\n<li>box-sizing: border-box;   &#x2F;&#x2F; è§¦å‘æ€ªå¼‚(IE)ç›’æ¨¡å‹å…ƒç´ çš„æ•ˆæœ</li>\n<li>box-sizing: inherit;      &#x2F;&#x2F;  ç»§æ‰¿çˆ¶å…ƒç´  box-sizing å±æ€§çš„å€¼</li>\n</ul>\n<p><strong>CSSé€‰æ‹©å™¨æœ‰å“ªäº›ï¼Ÿ</strong></p>\n<ul>\n<li>idé€‰æ‹©å™¨        #id</li>\n<li>ç±»é€‰æ‹©å™¨        .class</li>\n<li>æ ‡ç­¾é€‰æ‹©å™¨      div, h1, p</li>\n<li>ç›¸é‚»é€‰æ‹©å™¨      h1 + p</li>\n<li>å­é€‰æ‹©å™¨        ul &gt; li</li>\n<li>åä»£é€‰æ‹©å™¨      li a</li>\n<li>é€šé…ç¬¦é€‰æ‹©å™¨    *</li>\n<li>å±æ€§é€‰æ‹©å™¨      a[rel&#x3D;â€™externalâ€™]</li>\n<li>ä¼ªç±»é€‰æ‹©å™¨      a:hover, li:nth-child</li>\n</ul>\n<p><strong>CSSå“ªäº›å±æ€§å¯ä»¥ç»§æ‰¿ï¼Ÿå“ªäº›å±æ€§ä¸å¯ä»¥ç»§æ‰¿ï¼Ÿ</strong></p>\n<ul>\n<li>å¯ä»¥ç»§æ‰¿çš„æ ·å¼ï¼šfont-sizeã€font-familyã€colorã€list-styleã€cursor</li>\n<li>ä¸å¯ç»§æ‰¿çš„æ ·å¼ï¼šwidthã€heightã€borderã€paddingã€marginã€background</li>\n</ul>\n<p><strong>CSSå¦‚ä½•è®¡ç®—é€‰æ‹©å™¨ä¼˜å…ˆï¼Ÿ</strong></p>\n<ul>\n<li>ç›¸åŒæƒé‡ï¼Œå®šä¹‰æœ€è¿‘è€…ä¸ºå‡†ï¼šè¡Œå†…æ ·å¼ &gt; å†…éƒ¨æ ·å¼ &gt; å¤–éƒ¨æ ·å¼</li>\n<li>å«å¤–éƒ¨è½½å…¥æ ·å¼æ—¶ï¼Œåè½½å…¥æ ·å¼è¦†ç›–å…¶å‰é¢çš„è½½å…¥çš„æ ·å¼å’Œå†…éƒ¨æ ·å¼</li>\n<li>é€‰æ‹©å™¨ä¼˜å…ˆçº§: è¡Œå†…æ ·å¼[1000] &gt; id[100] &gt; class[10] &gt; Tag[1]</li>\n<li>åœ¨åŒä¸€ç»„å±æ€§è®¾ç½®ä¸­ï¼Œ!important ä¼˜å…ˆçº§æœ€é«˜ï¼Œé«˜äºè¡Œå†…æ ·å¼</li>\n</ul>\n<p><strong>CSS3æ–°å¢ä¼ªç±»æœ‰å“ªäº›ï¼Ÿ</strong></p>\n<ul>\n<li><p>:root           é€‰æ‹©æ–‡æ¡£çš„æ ¹å…ƒç´ ï¼Œç­‰åŒäº html å…ƒç´ </p>\n</li>\n<li><p>:empty          é€‰æ‹©æ²¡æœ‰å­å…ƒç´ çš„å…ƒç´ </p>\n</li>\n<li><p>:target         é€‰å–å½“å‰æ´»åŠ¨çš„ç›®æ ‡å…ƒç´ </p>\n</li>\n<li><p>:not(selector)  é€‰æ‹©é™¤ selector å…ƒç´ æ„å¤–çš„å…ƒç´ </p>\n</li>\n<li><p>:enabled        é€‰æ‹©å¯ç”¨çš„è¡¨å•å…ƒç´ </p>\n</li>\n<li><p>:disabled       é€‰æ‹©ç¦ç”¨çš„è¡¨å•å…ƒç´ </p>\n</li>\n<li><p>:checked        é€‰æ‹©è¢«é€‰ä¸­çš„è¡¨å•å…ƒç´ </p>\n</li>\n<li><p>:after          åœ¨å…ƒç´ å†…éƒ¨æœ€å‰æ·»åŠ å†…å®¹</p>\n</li>\n<li><p>:before         åœ¨å…ƒç´ å†…éƒ¨æœ€åæ·»åŠ å†…å®¹</p>\n</li>\n<li><p>:nth-child(n)      åŒ¹é…çˆ¶å…ƒç´ ä¸‹æŒ‡å®šå­å…ƒç´ ï¼Œåœ¨æ‰€æœ‰å­å…ƒç´ ä¸­æ’åºç¬¬n</p>\n</li>\n<li><p>:nth-last-child(n) åŒ¹é…çˆ¶å…ƒç´ ä¸‹æŒ‡å®šå­å…ƒç´ ï¼Œåœ¨æ‰€æœ‰å­å…ƒç´ ä¸­æ’åºç¬¬nï¼Œä»åå‘å‰æ•°</p>\n</li>\n<li><p>:nth-child(odd)</p>\n</li>\n<li><p>:nth-child(even)</p>\n</li>\n<li><p>:nth-child(3n+1)</p>\n</li>\n<li><p>:first-child</p>\n</li>\n<li><p>:last-child</p>\n</li>\n<li><p>:only-child</p>\n</li>\n<li><p>:nth-of-type(n)      åŒ¹é…çˆ¶å…ƒç´ ä¸‹æŒ‡å®šå­å…ƒç´ ï¼Œåœ¨åŒç±»å­å…ƒç´ ä¸­æ’åºç¬¬n</p>\n</li>\n<li><p>:nth-last-of-type(n) åŒ¹é…çˆ¶å…ƒç´ ä¸‹æŒ‡å®šå­å…ƒç´ ï¼Œåœ¨åŒç±»å­å…ƒç´ ä¸­æ’åºç¬¬nï¼Œä»åå‘å‰æ•°</p>\n</li>\n<li><p>:nth-of-type(odd)</p>\n</li>\n<li><p>:nth-of-type(even)</p>\n</li>\n<li><p>:nth-of-type(3n+1)</p>\n</li>\n<li><p>:first-of-type</p>\n</li>\n<li><p>:last-of-type</p>\n</li>\n<li><p>:only-of-type</p>\n</li>\n<li><p>::selection     é€‰æ‹©è¢«ç”¨æˆ·é€‰å–çš„å…ƒç´ éƒ¨åˆ†</p>\n</li>\n<li><p>:first-line     é€‰æ‹©å…ƒç´ ä¸­çš„ç¬¬ä¸€è¡Œ</p>\n</li>\n<li><p>:first-letter   é€‰æ‹©å…ƒç´ ä¸­çš„ç¬¬ä¸€ä¸ªå­—ç¬¦</p>\n</li>\n</ul>\n<p><strong>è¯·åˆ—ä¸¾å‡ ç§éšè—å…ƒç´ çš„æ–¹æ³•</strong></p>\n<ul>\n<li>visibility: hidden;   è¿™ä¸ªå±æ€§åªæ˜¯ç®€å•çš„éšè—æŸä¸ªå…ƒç´ ï¼Œä½†æ˜¯å…ƒç´ å ç”¨çš„ç©ºé—´ä»»ç„¶å­˜åœ¨</li>\n<li>opacity: 0;           CSS3å±æ€§ï¼Œè®¾ç½®0å¯ä»¥ä½¿ä¸€ä¸ªå…ƒç´ å®Œå…¨é€æ˜</li>\n<li>position: absolute;   è®¾ç½®ä¸€ä¸ªå¾ˆå¤§çš„ left è´Ÿå€¼å®šä½ï¼Œä½¿å…ƒç´ å®šä½åœ¨å¯è§åŒºåŸŸä¹‹å¤–</li>\n<li>display: none;        å…ƒç´ ä¼šå˜å¾—ä¸å¯è§ï¼Œå¹¶ä¸”ä¸ä¼šå†å ç”¨æ–‡æ¡£çš„ç©ºé—´ã€‚</li>\n<li>transform: scale(0);  å°†ä¸€ä¸ªå…ƒç´ è®¾ç½®ä¸ºç¼©æ”¾æ— é™å°ï¼Œå…ƒç´ å°†ä¸å¯è§ï¼Œå…ƒç´ åŸæ¥æ‰€åœ¨çš„ä½ç½®å°†è¢«ä¿ç•™</li>\n<li><code>&lt;div hidden=&quot;hidden&quot;&gt;</code> HTML5å±æ€§,æ•ˆæœå’Œdisplay:none;ç›¸åŒï¼Œä½†è¿™ä¸ªå±æ€§ç”¨äºè®°å½•ä¸€ä¸ªå…ƒç´ çš„çŠ¶æ€</li>\n<li>height: 0;            å°†å…ƒç´ é«˜åº¦è®¾ä¸º 0 ï¼Œå¹¶æ¶ˆé™¤è¾¹æ¡†</li>\n<li>filter: blur(0);      CSS3å±æ€§ï¼Œå°†ä¸€ä¸ªå…ƒç´ çš„æ¨¡ç³Šåº¦è®¾ç½®ä¸º0ï¼Œä»è€Œä½¿è¿™ä¸ªå…ƒç´ â€œæ¶ˆå¤±â€åœ¨é¡µé¢ä¸­</li>\n</ul>\n<p><strong>rgba() å’Œ opacity çš„é€æ˜æ•ˆæœæœ‰ä»€ä¹ˆä¸åŒï¼Ÿ</strong></p>\n<ul>\n<li>opacity ä½œç”¨äºå…ƒç´ ä»¥åŠå…ƒç´ å†…çš„æ‰€æœ‰å†…å®¹ï¼ˆåŒ…æ‹¬æ–‡å­—ï¼‰çš„é€æ˜åº¦</li>\n<li>rgba() åªä½œç”¨äºå…ƒç´ è‡ªèº«çš„é¢œè‰²æˆ–å…¶èƒŒæ™¯è‰²ï¼Œå­å…ƒç´ ä¸ä¼šç»§æ‰¿é€æ˜æ•ˆæœ</li>\n</ul>\n<p><strong>css å±æ€§ content æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ</strong></p>\n<ul>\n<li>content å±æ€§ä¸“é—¨åº”ç”¨åœ¨ before&#x2F;after ä¼ªå…ƒç´ ä¸Šï¼Œç”¨äºæ’å…¥é¢å¤–å†…å®¹æˆ–æ ·å¼</li>\n</ul>\n<p><strong>CSS3æœ‰å“ªäº›æ–°ç‰¹æ€§ï¼Ÿ</strong></p>\n<ul>\n<li>æ–°å¢é€‰æ‹©å™¨     p:nth-child(n){color: rgba(255, 0, 0, 0.75)}</li>\n<li>å¼¹æ€§ç›’æ¨¡å‹     display: flex;</li>\n<li>å¤šåˆ—å¸ƒå±€       column-count: 5;</li>\n<li>åª’ä½“æŸ¥è¯¢       @media (max-width: 480px) {.box: {column-count: 1;}}</li>\n<li>ä¸ªæ€§åŒ–å­—ä½“     @font-face{font-family: BorderWeb; src:url(BORDERW0.eot);}</li>\n<li>é¢œè‰²é€æ˜åº¦     color: rgba(255, 0, 0, 0.75);</li>\n<li>åœ†è§’           border-radius: 5px;</li>\n<li>æ¸å˜           background:linear-gradient(red, green, blue);</li>\n<li>é˜´å½±           box-shadow:3px 3px 3px rgba(0, 64, 128, 0.3);</li>\n<li>å€’å½±           box-reflect: below 2px;</li>\n<li>æ–‡å­—è£…é¥°       text-stroke-color: red;</li>\n<li>æ–‡å­—æº¢å‡º       text-overflow:ellipsis;</li>\n<li>èƒŒæ™¯æ•ˆæœ       background-size: 100px 100px;</li>\n<li>è¾¹æ¡†æ•ˆæœ       border-image:url(bt_blue.png) 0 10;</li>\n<li>è½¬æ¢<ul>\n<li>æ—‹è½¬          transform: rotate(20deg);</li>\n<li>å€¾æ–œ          transform: skew(150deg, -10deg);</li>\n<li>ä½ç§»          transform: translate(20px, 20px);</li>\n<li>ç¼©æ”¾          transform: scale(.5);</li>\n</ul>\n</li>\n<li>å¹³æ»‘è¿‡æ¸¡       transition: all .3s ease-in .1s;</li>\n<li>åŠ¨ç”»           @keyframes anim-1 {50% {border-radius: 50%;}} animation: anim-1 1s;</li>\n</ul>\n<p><strong>è¯·è§£é‡Šä¸€ä¸‹ CSS3 çš„ Flexboxï¼ˆå¼¹æ€§ç›’å¸ƒå±€æ¨¡å‹ï¼‰ä»¥åŠé€‚ç”¨åœºæ™¯ï¼Ÿ</strong></p>\n<ul>\n<li>Flexbox ç”¨äºä¸åŒå°ºå¯¸å±å¹•ä¸­åˆ›å»ºå¯è‡ªåŠ¨æ‰©å±•å’Œæ”¶ç¼©å¸ƒå±€</li>\n</ul>\n<p><strong>ç»å¸¸é‡åˆ°çš„æµè§ˆå™¨çš„JSå…¼å®¹æ€§æœ‰å“ªäº›ï¼Ÿè§£å†³æ–¹æ³•æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p>\n<ul>\n<li>å½“å‰æ ·å¼ï¼šgetComputedStyle(el, null) VS el.currentStyle</li>\n<li>äº‹ä»¶å¯¹è±¡ï¼še VS window.event</li>\n<li>é¼ æ ‡åæ ‡ï¼še.pageX, e.pageY VS window.event.x, window.event.y</li>\n<li>æŒ‰é”®ç ï¼še.which VS event.keyCode</li>\n<li>æ–‡æœ¬èŠ‚ç‚¹ï¼šel.textContent VS el.innerText</li>\n</ul>\n<p><strong>liä¸liä¹‹é—´æœ‰çœ‹ä¸è§çš„ç©ºç™½é—´éš”æ˜¯ä»€ä¹ˆåŸå› å¼•èµ·çš„ï¼Ÿæœ‰ä»€ä¹ˆè§£å†³åŠæ³•ï¼Ÿ</strong></p>\n<ul>\n<li>liæ’åˆ—å—åˆ°ä¸­é—´ç©ºç™½(å›è½¦&#x2F;ç©ºæ ¼)ç­‰çš„å½±å“ï¼Œå› ä¸ºç©ºç™½ä¹Ÿå±äºå­—ç¬¦ï¼Œä¼šè¢«åº”ç”¨æ ·å¼å æ®ç©ºé—´ï¼Œäº§ç”Ÿé—´éš”</li>\n<li>è§£å†³åŠæ³•ï¼šåœ¨ulè®¾ç½®è®¾ç½®font-size&#x3D;0,åœ¨liä¸Šè®¾ç½®éœ€è¦çš„æ–‡å­—å¤§å°</li>\n</ul>\n<p><strong>ä»€ä¹ˆæ˜¯å¤–è¾¹è·é‡å ï¼Ÿ é‡å çš„ç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ</strong></p>\n<ul>\n<li><p>å¤–è¾¹è·é‡å å°±æ˜¯ margin-collapse</p>\n</li>\n<li><p>ç›¸é‚»çš„ä¸¤ä¸ªç›’å­ï¼ˆå¯èƒ½æ˜¯å…„å¼Ÿå…³ç³»ä¹Ÿå¯èƒ½æ˜¯ç¥–å…ˆå…³ç³»ï¼‰çš„å¤–è¾¹è·å¯ä»¥ç»“åˆæˆä¸€ä¸ªå•ç‹¬çš„å¤–è¾¹è·ã€‚<br>è¿™ç§åˆå¹¶å¤–è¾¹è·çš„æ–¹å¼è¢«ç§°ä¸ºæŠ˜å ï¼Œç»“åˆè€Œæˆçš„å¤–è¾¹è·ç§°ä¸ºæŠ˜å å¤–è¾¹è·</p>\n</li>\n<li><p>æŠ˜å ç»“æœéµå¾ªä¸‹åˆ—è®¡ç®—è§„åˆ™ï¼š</p>\n<ul>\n<li>ä¸¤ä¸ªç›¸é‚»çš„å¤–è¾¹è·éƒ½æ˜¯æ­£æ•°æ—¶ï¼ŒæŠ˜å ç»“æœæ˜¯å®ƒä»¬ä¸¤è€…ä¹‹é—´è¾ƒå¤§çš„å€¼</li>\n<li>ä¸¤ä¸ªç›¸é‚»çš„å¤–è¾¹è·éƒ½æ˜¯è´Ÿæ•°æ—¶ï¼ŒæŠ˜å ç»“æœæ˜¯ä¸¤è€…ç»å¯¹å€¼çš„è¾ƒå¤§å€¼</li>\n<li>ä¸¤ä¸ªå¤–è¾¹è·ä¸€æ­£ä¸€è´Ÿæ—¶ï¼ŒæŠ˜å ç»“æœæ˜¯ä¸¤è€…çš„ç›¸åŠ çš„å’Œ</li>\n</ul>\n</li>\n</ul>\n<p><strong>è¯·å†™å‡ºå¤šç§ç­‰é«˜å¸ƒå±€</strong></p>\n<ul>\n<li>åœ¨åˆ—çš„çˆ¶å…ƒç´ ä¸Šä½¿ç”¨è¿™ä¸ªèƒŒæ™¯å›¾è¿›è¡ŒYè½´çš„é“ºæ”¾ï¼Œä»è€Œå®ç°ä¸€ç§ç­‰é«˜åˆ—çš„å‡åƒ</li>\n<li>æ¨¡ä»¿è¡¨æ ¼å¸ƒå±€ç­‰é«˜åˆ—æ•ˆæœï¼šå…¼å®¹æ€§ä¸å¥½ï¼Œåœ¨ie6-7æ— æ³•æ­£å¸¸è¿è¡Œ</li>\n<li>css3 flexbox å¸ƒå±€ï¼š .container{display: flex; align-items: stretch;}</li>\n</ul>\n<p><strong>csså‚ç›´å±…ä¸­çš„æ–¹æ³•æœ‰å“ªäº›ï¼Ÿ</strong></p>\n<ul>\n<li>å¦‚æœæ˜¯å•è¡Œæ–‡æœ¬, line-height è®¾ç½®æˆå’Œ height å€¼</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">.vertical &#123;</span><br><span class=\"line\">      height: 100px;</span><br><span class=\"line\">      line-height: 100px;</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>å·²çŸ¥é«˜åº¦çš„å—çº§å­å…ƒç´ ï¼Œé‡‡ç”¨ç»å¯¹å®šä½å’Œè´Ÿè¾¹è·</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">.container &#123;</span><br><span class=\"line\">  position: relative;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">.vertical &#123;</span><br><span class=\"line\">  height: 300px;  /*å­å…ƒç´ é«˜åº¦*/</span><br><span class=\"line\">  position: absolute;</span><br><span class=\"line\">  top:50%;  /*çˆ¶å…ƒç´ é«˜åº¦50%*/</span><br><span class=\"line\">  margin-top: -150px; /*è‡ªèº«é«˜åº¦ä¸€åŠ*/</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>æœªçŸ¥é«˜åº¦çš„å—çº§çˆ¶å­å…ƒç´ å±…ä¸­ï¼Œæ¨¡æ‹Ÿè¡¨æ ¼å¸ƒå±€</li>\n<li>ç¼ºç‚¹ï¼šIE67ä¸å…¼å®¹ï¼Œçˆ¶çº§ overflowï¼šhidden å¤±æ•ˆ</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">.container &#123;</span><br><span class=\"line\">      display: table;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    .content &#123;</span><br><span class=\"line\">      display: table-cell;</span><br><span class=\"line\">      vertical-align: middle;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<ul>\n<li>æ–°å¢ inline-block å…„å¼Ÿå…ƒç´ ï¼Œè®¾ç½® vertical-align<ul>\n<li>ç¼ºç‚¹ï¼šéœ€è¦å¢åŠ é¢å¤–æ ‡ç­¾ï¼ŒIE67ä¸å…¼å®¹</li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">.container &#123;</span><br><span class=\"line\">  height: 100%;/*å®šä¹‰çˆ¶çº§é«˜åº¦ï¼Œä½œä¸ºå‚è€ƒ*/</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">.extra .vertical&#123;</span><br><span class=\"line\">  display: inline-block;  /*è¡Œå†…å—æ˜¾ç¤º*/</span><br><span class=\"line\">  vertical-align: middle; /*å‚ç›´å±…ä¸­*/</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">.extra &#123;</span><br><span class=\"line\">  height: 100%; /*è®¾ç½®æ–°å¢å…ƒç´ é«˜åº¦ä¸º100%*/</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>ç»å¯¹å®šä½é…åˆ CSS3 ä½ç§»</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">.vertical &#123;</span><br><span class=\"line\">  position: absolute;</span><br><span class=\"line\">  top:50%;  /*çˆ¶å…ƒç´ é«˜åº¦50%*/</span><br><span class=\"line\">  transform:translateY(-50%, -50%);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>CSS3å¼¹æ€§ç›’æ¨¡å‹</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">.container &#123;</span><br><span class=\"line\">  display:flex;</span><br><span class=\"line\">  justify-content: center; /*å­å…ƒç´ æ°´å¹³å±…ä¸­*/</span><br><span class=\"line\">  align-items: center; /*å­å…ƒç´ å‚ç›´å±…ä¸­*/</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>åœ£æ¯å¸ƒå±€çš„å®ç°åŸç†ï¼Ÿ</strong></p>\n<ul>\n<li>è¦æ±‚ï¼šä¸‰åˆ—å¸ƒå±€ï¼›ä¸­é—´ä¸»ä½“å†…å®¹å‰ç½®ï¼Œä¸”å®½åº¦è‡ªé€‚åº”ï¼›ä¸¤è¾¹å†…å®¹å®šå®½<ul>\n<li>å¥½å¤„ï¼šé‡è¦çš„å†…å®¹æ”¾åœ¨æ–‡æ¡£æµå‰é¢å¯ä»¥ä¼˜å…ˆæ¸²æŸ“</li>\n<li>åŸç†ï¼šåˆ©ç”¨ç›¸å¯¹å®šä½ã€æµ®åŠ¨ã€è´Ÿè¾¹è·å¸ƒå±€ï¼Œè€Œä¸æ·»åŠ é¢å¤–æ ‡ç­¾</li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.container</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">padding-left</span>: <span class=\"number\">150px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">padding-right</span>: <span class=\"number\">190px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.main</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">float</span>: left;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.left</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">float</span>: left;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">190px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">margin-left</span>: -<span class=\"number\">100%</span>;</span><br><span class=\"line\">    <span class=\"attribute\">position</span>: relative;</span><br><span class=\"line\">    <span class=\"attribute\">left</span>: -<span class=\"number\">150px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.right</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">float</span>: left;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">190px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">margin-left</span>: -<span class=\"number\">190px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">position</span>: relative;</span><br><span class=\"line\">    <span class=\"attribute\">right</span>: -<span class=\"number\">190px</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>ä»€ä¹ˆæ˜¯åŒé£ç¿¼å¸ƒå±€ï¼Ÿå®ç°åŸç†ï¼Ÿ</strong></p>\n<ul>\n<li>åŒé£ç¿¼å¸ƒå±€ï¼šå¯¹åœ£æ¯å¸ƒå±€ï¼ˆä½¿ç”¨ç›¸å¯¹å®šä½ï¼Œå¯¹ä»¥åå¸ƒå±€æœ‰å±€é™æ€§ï¼‰çš„æ”¹è¿›ï¼Œæ¶ˆé™¤ç›¸å¯¹å®šä½å¸ƒå±€</li>\n<li>åŸç†ï¼šä¸»ä½“å…ƒç´ ä¸Šè®¾ç½®å·¦å³è¾¹è·ï¼Œé¢„ç•™ä¸¤ç¿¼ä½ç½®ã€‚å·¦å³ä¸¤æ ä½¿ç”¨æµ®åŠ¨å’Œè´Ÿè¾¹è·å½’ä½ï¼Œæ¶ˆé™¤ç›¸å¯¹å®šä½ã€‚</li>\n</ul>\n<figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.container</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">/*padding-left:150px;*/</span></span><br><span class=\"line\">    <span class=\"comment\">/*padding-right:190px;*/</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.main-wrap</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">    <span class=\"attribute\">float</span>: left;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.main</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">margin-left</span>: <span class=\"number\">150px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">margin-right</span>: <span class=\"number\">190px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.left</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">float</span>: left;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">150px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">margin-left</span>: -<span class=\"number\">100%</span>;</span><br><span class=\"line\">    <span class=\"comment\">/*position: relative;*/</span></span><br><span class=\"line\">    <span class=\"comment\">/*left:-150px;*/</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.right</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">float</span>: left;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">190px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">margin-left</span>: -<span class=\"number\">190px</span>;</span><br><span class=\"line\">    <span class=\"comment\">/*position:relative;*/</span></span><br><span class=\"line\">    <span class=\"comment\">/*right:-190px;*/</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>åœ¨CSSæ ·å¼ä¸­å¸¸ä½¿ç”¨ pxã€em åœ¨è¡¨ç°ä¸Šæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</strong></p>\n<ul>\n<li>px ç›¸å¯¹äºæ˜¾ç¤ºå™¨å±å¹•åˆ†è¾¨ç‡ï¼Œæ— æ³•ç”¨æµè§ˆå™¨å­—ä½“æ”¾å¤§åŠŸèƒ½</li>\n<li>em å€¼å¹¶ä¸æ˜¯å›ºå®šçš„ï¼Œä¼šç»§æ‰¿çˆ¶çº§çš„å­—ä½“å¤§å°ï¼š em &#x3D; åƒç´ å€¼ &#x2F; çˆ¶çº§font-size</li>\n</ul>\n<p><strong>ä¸ºä»€ä¹ˆè¦åˆå§‹åŒ–CSSæ ·å¼ï¼Ÿ</strong></p>\n<ul>\n<li>ä¸åŒæµè§ˆå™¨å¯¹æœ‰äº›æ ‡ç­¾æ ·å¼çš„é»˜è®¤å€¼è§£æä¸åŒ</li>\n<li>ä¸åˆå§‹åŒ–CSSä¼šé€ æˆå„ç°æµè§ˆå™¨ä¹‹é—´çš„é¡µé¢æ˜¾ç¤ºå·®å¼‚</li>\n<li>å¯ä»¥ä½¿ç”¨ reset.css æˆ– Normalize.css åš CSS åˆå§‹åŒ–</li>\n</ul>\n<p><strong>è§£é‡Šä¸‹ä»€ä¹ˆæ˜¯æµ®åŠ¨å’Œå®ƒçš„å·¥ä½œåŸç†ï¼Ÿ</strong></p>\n<ul>\n<li>éIEæµè§ˆå™¨ä¸‹ï¼Œå®¹å™¨ä¸è®¾é«˜åº¦ä¸”å­å…ƒç´ æµ®åŠ¨æ—¶ï¼Œå®¹å™¨é«˜åº¦ä¸èƒ½è¢«å†…å®¹æ’‘å¼€ã€‚<br>æ­¤æ—¶ï¼Œå†…å®¹ä¼šæº¢å‡ºåˆ°å®¹å™¨å¤–é¢è€Œå½±å“å¸ƒå±€ã€‚è¿™ç§ç°è±¡è¢«ç§°ä¸ºæµ®åŠ¨ï¼ˆæº¢å‡ºï¼‰ã€‚</li>\n<li>å·¥ä½œåŸç†ï¼š<ul>\n<li>æµ®åŠ¨å…ƒç´ è„±ç¦»æ–‡æ¡£æµï¼Œä¸å æ®ç©ºé—´ï¼ˆå¼•èµ·â€œé«˜åº¦å¡Œé™·â€ç°è±¡ï¼‰</li>\n<li>æµ®åŠ¨å…ƒç´ ç¢°åˆ°åŒ…å«å®ƒçš„è¾¹æ¡†æˆ–è€…å…¶ä»–æµ®åŠ¨å…ƒç´ çš„è¾¹æ¡†åœç•™</li>\n</ul>\n</li>\n</ul>\n<p><strong>æµ®åŠ¨å…ƒç´ å¼•èµ·çš„é—®é¢˜ï¼Ÿ</strong></p>\n<ul>\n<li>çˆ¶å…ƒç´ çš„é«˜åº¦æ— æ³•è¢«æ’‘å¼€ï¼Œå½±å“ä¸çˆ¶å…ƒç´ åŒçº§çš„å…ƒç´ </li>\n<li>ä¸æµ®åŠ¨å…ƒç´ åŒçº§çš„éæµ®åŠ¨å…ƒç´ ä¼šè·Ÿéšå…¶å</li>\n</ul>\n<p><strong>åˆ—ä¸¾å‡ ç§æ¸…é™¤æµ®åŠ¨çš„æ–¹å¼ï¼Ÿ</strong></p>\n<ul>\n<li>æ·»åŠ é¢å¤–æ ‡ç­¾ï¼Œä¾‹å¦‚ <code>&lt;div style=&quot;clear:both&quot;&gt;&lt;/div&gt;</code></li>\n<li>ä½¿ç”¨ br æ ‡ç­¾å’Œå…¶è‡ªèº«çš„ clear å±æ€§ï¼Œä¾‹å¦‚ <code>&lt;br clear=&quot;all&quot; /&gt;</code></li>\n<li>çˆ¶å…ƒç´ è®¾ç½® overflowï¼šhidden; åœ¨IE6ä¸­è¿˜éœ€è¦è§¦å‘ hasLayoutï¼Œä¾‹å¦‚zoomï¼š1;</li>\n<li>çˆ¶å…ƒç´ ä¹Ÿè®¾ç½®æµ®åŠ¨</li>\n<li>ä½¿ç”¨ :after ä¼ªå…ƒç´ ã€‚ç”±äºIE6-7ä¸æ”¯æŒ :afterï¼Œä½¿ç”¨ zoom:1 è§¦å‘ hasLayout</li>\n</ul>\n<p><strong>æ¸…é™¤æµ®åŠ¨æœ€ä½³å®è·µï¼ˆafterä¼ªå…ƒç´ é—­åˆæµ®åŠ¨ï¼‰ï¼š</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">.clearfix:after&#123;</span><br><span class=\"line\">    content: &quot;\\200B&quot;;</span><br><span class=\"line\">    display: table; </span><br><span class=\"line\">    height: 0;</span><br><span class=\"line\">    clear: both;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  .clearfix&#123;</span><br><span class=\"line\">    *zoom: 1;</span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure>\n<p>  <strong>ä»€ä¹ˆæ˜¯ FOUC(Flash of Unstyled Content)ï¼Ÿ å¦‚ä½•æ¥é¿å… FOUCï¼Ÿ</strong></p>\n<ul>\n<li>å½“ä½¿ç”¨ @import å¯¼å…¥ CSS æ—¶ï¼Œä¼šå¯¼è‡´æŸäº›é¡µé¢åœ¨ IE å‡ºç°å¥‡æ€ªçš„ç°è±¡ï¼š<br>æ²¡æœ‰æ ·å¼çš„é¡µé¢å†…å®¹æ˜¾ç¤ºç¬é—´é—ªçƒï¼Œè¿™ç§ç°è±¡ç§°ä¸ºâ€œæ–‡æ¡£æ ·å¼çŸ­æš‚å¤±æ•ˆâ€ï¼Œç®€ç§°ä¸ºFOUC</li>\n<li>äº§ç”ŸåŸå› ï¼šå½“æ ·å¼è¡¨æ™šäºç»“æ„æ€§htmlåŠ è½½æ—¶ï¼ŒåŠ è½½åˆ°æ­¤æ ·å¼è¡¨æ—¶ï¼Œé¡µé¢å°†åœæ­¢ä¹‹å‰çš„æ¸²æŸ“ã€‚</li>\n<li>ç­‰å¾…æ­¤æ ·å¼è¡¨è¢«ä¸‹è½½å’Œè§£æåï¼Œå†é‡æ–°æ¸²æŸ“é¡µé¢ï¼ŒæœŸé—´å¯¼è‡´çŸ­æš‚çš„èŠ±å±ç°è±¡ã€‚</li>\n<li>è§£å†³æ–¹æ³•ï¼šä½¿ç”¨ link æ ‡ç­¾å°†æ ·å¼è¡¨æ”¾åœ¨æ–‡æ¡£ head</li>\n</ul>\n<p><strong>ä»‹ç»ä½¿ç”¨è¿‡çš„ CSS é¢„å¤„ç†å™¨ï¼Ÿ</strong></p>\n<ul>\n<li>CSS é¢„å¤„ç†å™¨åŸºæœ¬æ€æƒ³ï¼šä¸º CSS å¢åŠ äº†ä¸€äº›ç¼–ç¨‹çš„ç‰¹æ€§ï¼ˆå˜é‡ã€é€»è¾‘åˆ¤æ–­ã€å‡½æ•°ç­‰ï¼‰</li>\n<li>å¼€å‘è€…ä½¿ç”¨è¿™ç§è¯­è¨€è¿›è¡Œè¿›è¡Œ Web é¡µé¢æ ·å¼è®¾è®¡ï¼Œå†ç¼–è¯‘æˆæ­£å¸¸çš„ CSS æ–‡ä»¶ä½¿ç”¨</li>\n<li>ä½¿ç”¨ CSS é¢„å¤„ç†å™¨ï¼Œå¯ä»¥ä½¿ CSS æ›´åŠ ç®€æ´ã€é€‚åº”æ€§æ›´å¼ºã€å¯è¯»æ€§æ›´ä½³ï¼Œæ— éœ€è€ƒè™‘å…¼å®¹æ€§</li>\n<li>æœ€å¸¸ç”¨çš„ CSS é¢„å¤„ç†å™¨è¯­è¨€åŒ…æ‹¬ï¼šSassï¼ˆSCSSï¼‰å’Œ LESS</li>\n</ul>\n<p><strong>CSSä¼˜åŒ–ã€æé«˜æ€§èƒ½çš„æ–¹æ³•æœ‰å“ªäº›ï¼Ÿ</strong></p>\n<ul>\n<li>å¤šä¸ªcssåˆå¹¶ï¼Œå°½é‡å‡å°‘HTTPè¯·æ±‚</li>\n<li>å°†cssæ–‡ä»¶æ”¾åœ¨é¡µé¢æœ€ä¸Šé¢</li>\n<li>ç§»é™¤ç©ºçš„cssè§„åˆ™</li>\n<li>é¿å…ä½¿ç”¨CSSè¡¨è¾¾å¼</li>\n<li>é€‰æ‹©å™¨ä¼˜åŒ–åµŒå¥—ï¼Œå°½é‡é¿å…å±‚çº§è¿‡æ·±</li>\n<li>å……åˆ†åˆ©ç”¨cssç»§æ‰¿å±æ€§ï¼Œå‡å°‘ä»£ç é‡</li>\n<li>æŠ½è±¡æå–å…¬å…±æ ·å¼ï¼Œå‡å°‘ä»£ç é‡</li>\n<li>å±æ€§å€¼ä¸º0æ—¶ï¼Œä¸åŠ å•ä½</li>\n<li>å±æ€§å€¼ä¸ºå°äº1çš„å°æ•°æ—¶ï¼Œçœç•¥å°æ•°ç‚¹å‰é¢çš„0</li>\n<li>cssé›ªç¢§å›¾</li>\n</ul>\n<p><strong>æµè§ˆå™¨æ˜¯æ€æ ·è§£æCSSé€‰æ‹©å™¨çš„ï¼Ÿ</strong></p>\n<ul>\n<li>æµè§ˆå™¨è§£æ CSS é€‰æ‹©å™¨çš„æ–¹å¼æ˜¯ä»å³åˆ°å·¦</li>\n</ul>\n<p><strong>åœ¨ç½‘é¡µä¸­çš„åº”è¯¥ä½¿ç”¨å¥‡æ•°è¿˜æ˜¯å¶æ•°çš„å­—ä½“ï¼Ÿ</strong></p>\n<ul>\n<li>åœ¨ç½‘é¡µä¸­çš„åº”è¯¥ä½¿ç”¨â€œå¶æ•°â€å­—ä½“ï¼š<ul>\n<li>å¶æ•°å­—å·ç›¸å¯¹æ›´å®¹æ˜“å’Œ web è®¾è®¡çš„å…¶ä»–éƒ¨åˆ†æ„æˆæ¯”ä¾‹å…³ç³»</li>\n<li>ä½¿ç”¨å¥‡æ•°å·å­—ä½“æ—¶æ–‡æœ¬æ®µè½æ— æ³•å¯¹é½</li>\n<li>å®‹ä½“çš„ä¸­æ–‡ç½‘é¡µæ’å¸ƒä¸­ä½¿ç”¨æœ€å¤šçš„å°±æ˜¯ 12 å’Œ 14</li>\n</ul>\n</li>\n</ul>\n<p><strong>marginå’Œpaddingåˆ†åˆ«é€‚åˆä»€ä¹ˆåœºæ™¯ä½¿ç”¨ï¼Ÿ</strong></p>\n<ul>\n<li>éœ€è¦åœ¨borderå¤–ä¾§æ·»åŠ ç©ºç™½ï¼Œä¸”ç©ºç™½å¤„ä¸éœ€è¦èƒŒæ™¯ï¼ˆè‰²ï¼‰æ—¶ï¼Œä½¿ç”¨ margin</li>\n<li>éœ€è¦åœ¨borderå†…æµ‹æ·»åŠ ç©ºç™½ï¼Œä¸”ç©ºç™½å¤„éœ€è¦èƒŒæ™¯ï¼ˆè‰²ï¼‰æ—¶ï¼Œä½¿ç”¨ padding</li>\n</ul>\n<p><strong>æŠ½ç¦»æ ·å¼æ¨¡å—æ€ä¹ˆå†™ï¼Œè¯´å‡ºæ€è·¯ï¼Ÿ</strong></p>\n<ul>\n<li>CSSå¯ä»¥æ‹†åˆ†æˆ2éƒ¨åˆ†ï¼šå…¬å…±CSS å’Œ ä¸šåŠ¡CSSï¼š<ul>\n<li>ç½‘ç«™çš„é…è‰²ï¼Œå­—ä½“ï¼Œäº¤äº’æå–å‡ºä¸ºå…¬å…±CSSã€‚è¿™éƒ¨åˆ†CSSå‘½åä¸åº”æ¶‰åŠå…·ä½“çš„ä¸šåŠ¡</li>\n<li>å¯¹äºä¸šåŠ¡CSSï¼Œéœ€è¦æœ‰ç»Ÿä¸€çš„å‘½åï¼Œä½¿ç”¨å…¬ç”¨çš„å‰ç¼€ã€‚å¯ä»¥å‚è€ƒé¢å‘å¯¹è±¡çš„CSS</li>\n</ul>\n</li>\n</ul>\n<p><strong>å…ƒç´ ç«–å‘çš„ç™¾åˆ†æ¯”è®¾å®šæ˜¯ç›¸å¯¹äºå®¹å™¨çš„é«˜åº¦å—ï¼Ÿ</strong></p>\n<ul>\n<li>å…ƒç´ ç«–å‘çš„ç™¾åˆ†æ¯”è®¾å®šæ˜¯ç›¸å¯¹äºå®¹å™¨çš„å®½åº¦ï¼Œè€Œä¸æ˜¯é«˜åº¦</li>\n</ul>\n<p><strong>å…¨å±æ»šåŠ¨çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ ç”¨åˆ°äº†CSSçš„é‚£äº›å±æ€§ï¼Ÿ</strong></p>\n<ul>\n<li>åŸç†ç±»ä¼¼å›¾ç‰‡è½®æ’­åŸç†ï¼Œè¶…å‡ºéšè—éƒ¨åˆ†ï¼Œæ»šåŠ¨æ—¶æ˜¾ç¤º</li>\n<li>å¯èƒ½ç”¨åˆ°çš„CSSå±æ€§ï¼šoverflow:hidden; transform:translate(100%, 100%); display:none;</li>\n</ul>\n<p><strong>ä»€ä¹ˆæ˜¯å“åº”å¼è®¾è®¡ï¼Ÿå“åº”å¼è®¾è®¡çš„åŸºæœ¬åŸç†æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å…¼å®¹ä½ç‰ˆæœ¬çš„IEï¼Ÿ</strong></p>\n<ul>\n<li>å“åº”å¼è®¾è®¡å°±æ˜¯ç½‘ç«™èƒ½å¤Ÿå…¼å®¹å¤šä¸ªç»ˆç«¯ï¼Œè€Œä¸æ˜¯ä¸ºæ¯ä¸ªç»ˆç«¯åšä¸€ä¸ªç‰¹å®šçš„ç‰ˆæœ¬</li>\n<li>åŸºæœ¬åŸç†æ˜¯åˆ©ç”¨CSS3åª’ä½“æŸ¥è¯¢ï¼Œä¸ºä¸åŒå°ºå¯¸çš„è®¾å¤‡é€‚é…ä¸åŒæ ·å¼</li>\n<li>å¯¹äºä½ç‰ˆæœ¬çš„IEï¼Œå¯é‡‡ç”¨JSè·å–å±å¹•å®½åº¦ï¼Œç„¶åé€šè¿‡resizeæ–¹æ³•æ¥å®ç°å…¼å®¹ï¼š</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\">$(<span class=\"variable language_\">window</span>).<span class=\"title function_\">resize</span>(<span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"title function_\">screenRespond</span>();</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"title function_\">screenRespond</span>();</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">screenRespond</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\"><span class=\"keyword\">var</span> screenWidth = $(<span class=\"variable language_\">window</span>).<span class=\"title function_\">width</span>();</span><br><span class=\"line\"><span class=\"keyword\">if</span>(screenWidth &lt;= <span class=\"number\">1800</span>)&#123;</span><br><span class=\"line\">  $(<span class=\"string\">&quot;body&quot;</span>).<span class=\"title function_\">attr</span>(<span class=\"string\">&quot;class&quot;</span>, <span class=\"string\">&quot;w1800&quot;</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">if</span>(screenWidth &lt;= <span class=\"number\">1400</span>)&#123;</span><br><span class=\"line\">  $(<span class=\"string\">&quot;body&quot;</span>).<span class=\"title function_\">attr</span>(<span class=\"string\">&quot;class&quot;</span>, <span class=\"string\">&quot;w1400&quot;</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">if</span>(screenWidth &gt; <span class=\"number\">1800</span>)&#123;</span><br><span class=\"line\">  $(<span class=\"string\">&quot;body&quot;</span>).<span class=\"title function_\">attr</span>(<span class=\"string\">&quot;class&quot;</span>, <span class=\"string\">&quot;&quot;</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>ä»€ä¹ˆæ˜¯è§†å·®æ»šåŠ¨æ•ˆæœï¼Œå¦‚ä½•ç»™æ¯é¡µåšä¸åŒçš„åŠ¨ç”»ï¼Ÿ</strong></p>\n<ul>\n<li><p>è§†å·®æ»šåŠ¨æ˜¯æŒ‡å¤šå±‚èƒŒæ™¯ä»¥ä¸åŒçš„é€Ÿåº¦ç§»åŠ¨ï¼Œå½¢æˆç«‹ä½“çš„è¿åŠ¨æ•ˆæœï¼Œå…·æœ‰éå¸¸å‡ºè‰²çš„è§†è§‰ä½“éªŒ</p>\n</li>\n<li><p>ä¸€èˆ¬æŠŠç½‘é¡µè§£å‰–ä¸ºï¼šèƒŒæ™¯å±‚ã€å†…å®¹å±‚å’Œæ‚¬æµ®å±‚ã€‚å½“æ»šåŠ¨é¼ æ ‡æ»šè½®æ—¶ï¼Œå„å›¾å±‚ä»¥ä¸åŒé€Ÿåº¦ç§»åŠ¨ï¼Œå½¢æˆè§†å·®çš„</p>\n</li>\n<li><p>å®ç°åŸç†</p>\n<ul>\n<li>ä»¥ â€œé¡µé¢æ»šåŠ¨æ¡â€ ä½œä¸º â€œè§†å·®åŠ¨ç”»è¿›åº¦æ¡â€</li>\n<li>ä»¥ â€œæ»šè½®åˆ»åº¦â€ å½“ä½œ â€œåŠ¨ç”»å¸§åº¦â€ å»æ’­æ”¾åŠ¨ç”»çš„</li>\n<li>ç›‘å¬ mousewheel äº‹ä»¶ï¼Œäº‹ä»¶è¢«è§¦å‘å³æ’­æ”¾åŠ¨ç”»ï¼Œå®ç°â€œç¿»é¡µâ€æ•ˆæœ</li>\n</ul>\n</li>\n</ul>\n<p><strong>aæ ‡ç­¾ä¸Šå››ä¸ªä¼ªç±»çš„æ‰§è¡Œé¡ºåºæ˜¯æ€ä¹ˆæ ·çš„ï¼Ÿ</strong></p>\n<p><code>link &gt; visited &gt; hover &gt; active</code></p>\n<ul>\n<li>L-V-H-A love hate ç”¨å–œæ¬¢å’Œè®¨åŒä¸¤ä¸ªè¯æ¥æ–¹ä¾¿è®°å¿†</li>\n</ul>\n<p><strong>ä¼ªå…ƒç´ å’Œä¼ªç±»çš„åŒºåˆ«å’Œä½œç”¨ï¼Ÿ</strong></p>\n<ul>\n<li>ä¼ªå…ƒç´  â€“ åœ¨å†…å®¹å…ƒç´ çš„å‰åæ’å…¥é¢å¤–çš„å…ƒç´ æˆ–æ ·å¼ï¼Œä½†æ˜¯è¿™äº›å…ƒç´ å®é™…ä¸Šå¹¶ä¸åœ¨æ–‡æ¡£ä¸­ç”Ÿæˆã€‚</li>\n<li>å®ƒä»¬åªåœ¨å¤–éƒ¨æ˜¾ç¤ºå¯è§ï¼Œä½†ä¸ä¼šåœ¨æ–‡æ¡£çš„æºä»£ç ä¸­æ‰¾åˆ°å®ƒä»¬ï¼Œå› æ­¤ï¼Œç§°ä¸ºâ€œä¼ªâ€å…ƒç´ ã€‚ä¾‹å¦‚ï¼š</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">p::before &#123;content:&quot;ç¬¬ä¸€ç« ï¼š&quot;;&#125;</span><br><span class=\"line\">p::after &#123;content:&quot;Hot!&quot;;&#125;</span><br><span class=\"line\">p::first-line &#123;background:red;&#125;</span><br><span class=\"line\">p::first-letter &#123;font-size:30px;&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>ä¼ªç±» â€“ å°†ç‰¹æ®Šçš„æ•ˆæœæ·»åŠ åˆ°ç‰¹å®šé€‰æ‹©å™¨ä¸Šã€‚å®ƒæ˜¯å·²æœ‰å…ƒç´ ä¸Šæ·»åŠ ç±»åˆ«çš„ï¼Œä¸ä¼šäº§ç”Ÿæ–°çš„å…ƒç´ ã€‚ä¾‹å¦‚ï¼š</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">a:hover &#123;color: #FF00FF&#125;</span><br><span class=\"line\">p:first-child &#123;color: red&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>::before å’Œ :after ä¸­åŒå†’å·å’Œå•å†’å·æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</strong></p>\n<ul>\n<li>åœ¨ CSS ä¸­ä¼ªç±»ä¸€ç›´ç”¨ : è¡¨ç¤ºï¼Œå¦‚ :hover, :active ç­‰</li>\n<li>ä¼ªå…ƒç´ åœ¨CSS1ä¸­å·²å­˜åœ¨ï¼Œå½“æ—¶è¯­æ³•æ˜¯ç”¨ : è¡¨ç¤ºï¼Œå¦‚ :before å’Œ :after</li>\n<li>åæ¥åœ¨CSS3ä¸­ä¿®è®¢ï¼Œä¼ªå…ƒç´ ç”¨ :: è¡¨ç¤ºï¼Œå¦‚ ::before å’Œ ::afterï¼Œä»¥æ­¤åŒºåˆ†ä¼ªå…ƒç´ å’Œä¼ªç±»</li>\n<li>ç”±äºä½ç‰ˆæœ¬IEå¯¹åŒå†’å·ä¸å…¼å®¹ï¼Œå¼€å‘è€…ä¸ºäº†å…¼å®¹æ€§å„æµè§ˆå™¨ï¼Œç»§ç»­ä½¿ä½¿ç”¨ :after è¿™ç§è€è¯­æ³•è¡¨ç¤ºä¼ªå…ƒç´ </li>\n<li>ç»¼ä¸Šæ‰€è¿°ï¼š::before æ˜¯ CSS3 ä¸­å†™ä¼ªå…ƒç´ çš„æ–°è¯­æ³•ï¼› :after æ˜¯ CSS1 ä¸­å­˜åœ¨çš„ã€å…¼å®¹IEçš„è€è¯­æ³•</li>\n</ul>\n<p><strong>å¦‚ä½•ä¿®æ”¹Chromeè®°ä½å¯†ç åè‡ªåŠ¨å¡«å……è¡¨å•çš„é»„è‰²èƒŒæ™¯ï¼Ÿ</strong></p>\n<ul>\n<li>äº§ç”ŸåŸå› ï¼šç”±äºChromeé»˜è®¤ä¼šç»™è‡ªåŠ¨å¡«å……çš„inputè¡¨å•åŠ ä¸Š input:-webkit-autofill ç§æœ‰å±æ€§é€ æˆçš„</li>\n<li>è§£å†³æ–¹æ¡ˆ1ï¼šåœ¨formæ ‡ç­¾ä¸Šç›´æ¥å…³é—­äº†è¡¨å•çš„è‡ªåŠ¨å¡«å……ï¼šautocomplete&#x3D;â€offâ€</li>\n<li>è§£å†³æ–¹æ¡ˆ2ï¼šinput:-webkit-autofill { background-color: transparent; }</li>\n</ul>\n<p><strong>input [type&#x3D;search] æœç´¢æ¡†å³ä¾§å°å›¾æ ‡å¦‚ä½•ç¾åŒ–ï¼Ÿ</strong></p>\n<figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-tag\">input</span><span class=\"selector-attr\">[type=<span class=\"string\">&quot;search&quot;</span>]</span>::-webkit-search-cancel-button&#123;</span><br><span class=\"line\">  -webkit-appearance: none;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">15px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">15px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">border-radius</span>: <span class=\"number\">8px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">background</span>:<span class=\"built_in\">url</span>(<span class=\"string\">&quot;images/searchicon.png&quot;</span>) no-repeat <span class=\"number\">0</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">  <span class=\"attribute\">background-size</span>: <span class=\"number\">15px</span> <span class=\"number\">15px</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>ç½‘ç«™å›¾ç‰‡æ–‡ä»¶ï¼Œå¦‚ä½•ç‚¹å‡»ä¸‹è½½ï¼Ÿè€Œéç‚¹å‡»é¢„è§ˆï¼Ÿ</strong></p>\n<p><code>&lt;a href=&quot;logo.jpg&quot; download&gt;ä¸‹è½½&lt;/a&gt;</code><br><code>&lt;a href=&quot;logo.jpg&quot; download=&quot;ç½‘ç«™LOGO&quot; &gt;ä¸‹è½½&lt;/a&gt;</code></p>\n<p><strong>iOS safari å¦‚ä½•é˜»æ­¢â€œæ©¡çš®ç­‹æ•ˆæœâ€ï¼Ÿ</strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\">$(<span class=\"variable language_\">document</span>).<span class=\"title function_\">ready</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> stopScrolling = <span class=\"keyword\">function</span>(<span class=\"params\">event</span>) &#123;</span><br><span class=\"line\">        event.<span class=\"title function_\">preventDefault</span>();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"variable language_\">document</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;touchstart&#x27;</span>, stopScrolling, <span class=\"literal\">false</span>);</span><br><span class=\"line\">    <span class=\"variable language_\">document</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;touchmove&#x27;</span>, stopScrolling, <span class=\"literal\">false</span>);</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p><strong>ä½ å¯¹ line-height æ˜¯å¦‚ä½•ç†è§£çš„ï¼Ÿ</strong></p>\n<ul>\n<li>line-height æŒ‡ä¸€è¡Œå­—çš„é«˜åº¦ï¼ŒåŒ…å«äº†å­—é—´è·ï¼Œå®é™…ä¸Šæ˜¯ä¸‹ä¸€è¡ŒåŸºçº¿åˆ°ä¸Šä¸€è¡ŒåŸºçº¿è·ç¦»</li>\n<li>å¦‚æœä¸€ä¸ªæ ‡ç­¾æ²¡æœ‰å®šä¹‰ height å±æ€§ï¼Œé‚£ä¹ˆå…¶æœ€ç»ˆè¡¨ç°çš„é«˜åº¦æ˜¯ç”± line-height å†³å®šçš„</li>\n<li>ä¸€ä¸ªå®¹å™¨æ²¡æœ‰è®¾ç½®é«˜åº¦ï¼Œé‚£ä¹ˆæ’‘å¼€å®¹å™¨é«˜åº¦çš„æ˜¯ line-height è€Œä¸æ˜¯å®¹å™¨å†…çš„æ–‡å­—å†…å®¹</li>\n<li>æŠŠ line-height å€¼è®¾ç½®ä¸º height ä¸€æ ·å¤§å°çš„å€¼å¯ä»¥å®ç°å•è¡Œæ–‡å­—çš„å‚ç›´å±…ä¸­</li>\n<li>line-height å’Œ height éƒ½èƒ½æ’‘å¼€ä¸€ä¸ªé«˜åº¦ï¼Œheight ä¼šè§¦å‘ haslayoutï¼Œè€Œ line-height ä¸ä¼š</li>\n</ul>\n<p><strong>line-height ä¸‰ç§èµ‹å€¼æ–¹å¼æœ‰ä½•åŒºåˆ«ï¼Ÿï¼ˆå¸¦å•ä½ã€çº¯æ•°å­—ã€ç™¾åˆ†æ¯”ï¼‰</strong></p>\n<ul>\n<li>å¸¦å•ä½ï¼špx æ˜¯å›ºå®šå€¼ï¼Œè€Œ em ä¼šå‚è€ƒçˆ¶å…ƒç´  font-size å€¼è®¡ç®—è‡ªèº«çš„è¡Œé«˜</li>\n<li>çº¯æ•°å­—ï¼šä¼šæŠŠæ¯”ä¾‹ä¼ é€’ç»™åä»£ã€‚ä¾‹å¦‚ï¼Œçˆ¶çº§è¡Œé«˜ä¸º 1.5ï¼Œå­å…ƒç´ å­—ä½“ä¸º 18pxï¼Œåˆ™å­å…ƒç´ è¡Œé«˜ä¸º 1.5 * 18 &#x3D; 27px</li>\n<li>ç™¾åˆ†æ¯”ï¼šå°†è®¡ç®—åçš„å€¼ä¼ é€’ç»™åä»£</li>\n</ul>\n<p><strong>è®¾ç½®å…ƒç´ æµ®åŠ¨åï¼Œè¯¥å…ƒç´ çš„ display å€¼ä¼šå¦‚ä½•å˜åŒ–ï¼Ÿ</strong></p>\n<ul>\n<li>è®¾ç½®å…ƒç´ æµ®åŠ¨åï¼Œè¯¥å…ƒç´ çš„ display å€¼è‡ªåŠ¨å˜æˆ block</li>\n</ul>\n<p><strong>æ€ä¹ˆè®©Chromeæ”¯æŒå°äº12px çš„æ–‡å­—ï¼Ÿ</strong></p>\n<figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.shrink</span>&#123;</span><br><span class=\"line\">  -webkit-<span class=\"attribute\">transform</span>:<span class=\"built_in\">scale</span>(<span class=\"number\">0.8</span>);</span><br><span class=\"line\">  -o-<span class=\"attribute\">transform</span>:<span class=\"built_in\">scale</span>(<span class=\"number\">1</span>);</span><br><span class=\"line\">  <span class=\"attribute\">display</span>:inline-block;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>è®©é¡µé¢é‡Œçš„å­—ä½“å˜æ¸…æ™°ï¼Œå˜ç»†ç”¨CSSæ€ä¹ˆåšï¼Ÿï¼ˆIOSæ‰‹æœºæµè§ˆå™¨å­—ä½“é½¿è½®è®¾ç½®ï¼‰</strong></p>\n<figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\">-webkit-<span class=\"attribute\">font-smoothing</span>: antialiased;</span><br></pre></td></tr></table></figure>\n\n<p><strong>font-style å±æ€§ oblique æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ</strong></p>\n<ul>\n<li>font-style: oblique; ä½¿æ²¡æœ‰ italic å±æ€§çš„æ–‡å­—å®ç°å€¾æ–œ</li>\n</ul>\n<p><strong>å¦‚æœéœ€è¦æ‰‹åŠ¨å†™åŠ¨ç”»ï¼Œä½ è®¤ä¸ºæœ€å°æ—¶é—´é—´éš”æ˜¯å¤šä¹…ï¼Ÿ</strong></p>\n<ul>\n<li>16.7ms å¤šæ•°æ˜¾ç¤ºå™¨é»˜è®¤é¢‘ç‡æ˜¯60Hzï¼Œå³1ç§’åˆ·æ–°60æ¬¡ï¼Œæ‰€ä»¥ç†è®ºä¸Šæœ€å°é—´éš”: 1s &#x2F; 60 * 1000 ï¼ 16.7ms</li>\n</ul>\n<p><strong>display:inline-block ä»€ä¹ˆæ—¶å€™ä¼šæ˜¾ç¤ºé—´éš™ï¼Ÿ</strong></p>\n<ul>\n<li>ç›¸é‚»çš„ inline-block å…ƒç´ ä¹‹é—´æœ‰æ¢è¡Œæˆ–ç©ºæ ¼åˆ†éš”çš„æƒ…å†µä¸‹ä¼šäº§ç”Ÿé—´è·</li>\n<li>é inline-block æ°´å¹³å…ƒç´ è®¾ç½®ä¸º inline-block ä¹Ÿä¼šæœ‰æ°´å¹³é—´è·</li>\n<li>å¯ä»¥å€ŸåŠ© vertical-align:top; æ¶ˆé™¤å‚ç›´é—´éš™</li>\n<li>å¯ä»¥åœ¨çˆ¶çº§åŠ  font-sizeï¼š0; åœ¨å­å…ƒç´ é‡Œè®¾ç½®éœ€è¦çš„å­—ä½“å¤§å°ï¼Œæ¶ˆé™¤å‚ç›´é—´éš™</li>\n<li>æŠŠ li æ ‡ç­¾å†™åˆ°åŒä¸€è¡Œå¯ä»¥æ¶ˆé™¤å‚ç›´é—´éš™ï¼Œä½†ä»£ç å¯è¯»æ€§å·®</li>\n</ul>\n<p><strong>overflow: scroll æ—¶ä¸èƒ½å¹³æ»‘æ»šåŠ¨çš„é—®é¢˜æ€ä¹ˆå¤„ç†ï¼Ÿ</strong></p>\n<ul>\n<li>ç›‘å¬æ»šè½®äº‹ä»¶ï¼Œç„¶åæ»šåŠ¨åˆ°ä¸€å®šè·ç¦»æ—¶ç”¨ jquery çš„ animate å®ç°å¹³æ»‘æ•ˆæœã€‚</li>\n</ul>\n<p><strong>ä¸€ä¸ªé«˜åº¦è‡ªé€‚åº”çš„divï¼Œé‡Œé¢æœ‰ä¸¤ä¸ªdivï¼Œä¸€ä¸ªé«˜åº¦100pxï¼Œå¸Œæœ›å¦ä¸€ä¸ªå¡«æ»¡å‰©ä¸‹çš„é«˜åº¦</strong></p>\n<ul>\n<li>æ–¹æ¡ˆ1ï¼š<br> <code>.sub &#123; height: calc(100%-100px); &#125;</code></li>\n<li>æ–¹æ¡ˆ2ï¼š<br> <code>.container &#123; position:relative; &#125;</code><br> <code>.sub &#123; position: absolute; top: 100px; bottom: 0; &#125;</code></li>\n<li>æ–¹æ¡ˆ3ï¼š<br> <code>.container &#123; display:flex; flex-direction:column; &#125;</code><br> <code>.sub &#123; flex:1; &#125;</code></li>\n</ul>\n"},{"title":"ES6 è¯­æ³•","url":"/LittleWhiteRabbit/2022/04/26/ES6/","content":"<h2 id=\"1ã€ES5ã€ES6å’ŒES2015æœ‰ä»€ä¹ˆåŒºåˆ«\"><a href=\"#1ã€ES5ã€ES6å’ŒES2015æœ‰ä»€ä¹ˆåŒºåˆ«\" class=\"headerlink\" title=\"1ã€ES5ã€ES6å’ŒES2015æœ‰ä»€ä¹ˆåŒºåˆ«?\"></a>1ã€ES5ã€ES6å’ŒES2015æœ‰ä»€ä¹ˆåŒºåˆ«?</h2><blockquote>\n<p><code>ES2015</code>ç‰¹æŒ‡åœ¨<code>2015</code>å¹´å‘å¸ƒçš„æ–°ä¸€ä»£<code>JS</code>è¯­è¨€æ ‡å‡†ï¼Œ<code>ES6</code>æ³›æŒ‡ä¸‹ä¸€ä»£JSè¯­è¨€æ ‡å‡†ï¼ŒåŒ…å«<code>ES2015</code>ã€<code>ES2016</code>ã€<code>ES2017</code>ã€<code>ES2018</code>ç­‰ã€‚ç°é˜¶æ®µåœ¨ç»å¤§éƒ¨åˆ†åœºæ™¯ä¸‹ï¼Œ<code>ES2015</code>é»˜è®¤ç­‰åŒ<code>ES6</code>ã€‚<code>ES5</code>æ³›æŒ‡ä¸Šä¸€ä»£è¯­è¨€æ ‡å‡†ã€‚<code>ES2015</code>å¯ä»¥ç†è§£ä¸º<code>ES5</code>å’Œ<code>ES6</code>çš„æ—¶é—´åˆ†ç•Œçº¿</p>\n</blockquote>\n<h2 id=\"2ã€babelæ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨\"><a href=\"#2ã€babelæ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨\" class=\"headerlink\" title=\"2ã€babelæ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨?\"></a>2ã€babelæ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨?</h2><blockquote>\n<p><code>babel</code>æ˜¯ä¸€ä¸ª <code>ES6</code> è½¬ç å™¨ï¼Œå¯ä»¥å°† <code>ES6</code> ä»£ç è½¬ä¸º <code>ES5</code> ä»£ç ï¼Œä»¥ä¾¿å…¼å®¹é‚£äº›è¿˜æ²¡æ”¯æŒ<code>ES6</code>çš„å¹³å°</p>\n</blockquote>\n<h2 id=\"3ã€letæœ‰ä»€ä¹ˆç”¨ï¼Œæœ‰äº†varä¸ºä»€ä¹ˆè¿˜è¦ç”¨letï¼Ÿ\"><a href=\"#3ã€letæœ‰ä»€ä¹ˆç”¨ï¼Œæœ‰äº†varä¸ºä»€ä¹ˆè¿˜è¦ç”¨letï¼Ÿ\" class=\"headerlink\" title=\"3ã€letæœ‰ä»€ä¹ˆç”¨ï¼Œæœ‰äº†varä¸ºä»€ä¹ˆè¿˜è¦ç”¨letï¼Ÿ\"></a>3ã€letæœ‰ä»€ä¹ˆç”¨ï¼Œæœ‰äº†varä¸ºä»€ä¹ˆè¿˜è¦ç”¨letï¼Ÿ</h2><blockquote>\n<p>åœ¨<code>ES6</code>ä¹‹å‰ï¼Œå£°æ˜å˜é‡åªèƒ½ç”¨<code>var</code>ï¼Œ<code>var</code>æ–¹å¼å£°æ˜å˜é‡å…¶å®æ˜¯å¾ˆä¸åˆç†çš„ï¼Œå‡†ç¡®çš„è¯´ï¼Œæ˜¯å› ä¸º<code>ES5</code>é‡Œé¢æ²¡æœ‰å—çº§ä½œç”¨åŸŸæ˜¯å¾ˆä¸åˆç†çš„ã€‚æ²¡æœ‰å—çº§ä½œç”¨åŸŸå›æ¥å¸¦å¾ˆå¤šéš¾ä»¥ç†è§£çš„é—®é¢˜ï¼Œæ¯”å¦‚<code>for</code>å¾ªç¯<code>var</code>å˜é‡æ³„éœ²ï¼Œå˜é‡è¦†ç›–ç­‰é—®é¢˜ã€‚<code>let</code>å£°æ˜çš„å˜é‡æ‹¥æœ‰è‡ªå·±çš„å—çº§ä½œç”¨åŸŸï¼Œä¸”ä¿®å¤äº†<code>var</code>å£°æ˜å˜é‡å¸¦æ¥çš„å˜é‡æå‡é—®é¢˜ã€‚</p>\n</blockquote>\n<h2 id=\"4ã€ä¸¾ä¸€äº›ES6å¯¹Stringå­—ç¬¦ä¸²ç±»å‹åšçš„å¸¸ç”¨å‡çº§ä¼˜åŒ–\"><a href=\"#4ã€ä¸¾ä¸€äº›ES6å¯¹Stringå­—ç¬¦ä¸²ç±»å‹åšçš„å¸¸ç”¨å‡çº§ä¼˜åŒ–\" class=\"headerlink\" title=\"4ã€ä¸¾ä¸€äº›ES6å¯¹Stringå­—ç¬¦ä¸²ç±»å‹åšçš„å¸¸ç”¨å‡çº§ä¼˜åŒ–?\"></a>4ã€ä¸¾ä¸€äº›ES6å¯¹Stringå­—ç¬¦ä¸²ç±»å‹åšçš„å¸¸ç”¨å‡çº§ä¼˜åŒ–?</h2><span id=\"more\"></span>\n<p><strong>ä¼˜åŒ–éƒ¨åˆ†</strong></p>\n<blockquote>\n<p><code>ES6</code>æ–°å¢äº†å­—ç¬¦ä¸²æ¨¡æ¿ï¼Œåœ¨æ‹¼æ¥å¤§æ®µå­—ç¬¦ä¸²æ—¶ï¼Œç”¨åæ–œæ <code>(</code>)&#96;å–ä»£ä»¥å¾€çš„å­—ç¬¦ä¸²ç›¸åŠ çš„å½¢å¼ï¼Œèƒ½ä¿ç•™æ‰€æœ‰ç©ºæ ¼å’Œæ¢è¡Œï¼Œä½¿å¾—å­—ç¬¦ä¸²æ‹¼æ¥çœ‹èµ·æ¥æ›´åŠ ç›´è§‚ï¼Œæ›´åŠ ä¼˜é›…</p>\n</blockquote>\n<p><strong>å‡çº§éƒ¨åˆ†</strong></p>\n<blockquote>\n<p><code>ES6</code>åœ¨<code>String</code>åŸå‹ä¸Šæ–°å¢äº†<code>includes()</code>æ–¹æ³•ï¼Œç”¨äºå–ä»£ä¼ ç»Ÿçš„åªèƒ½ç”¨<code>indexOf</code>æŸ¥æ‰¾åŒ…å«å­—ç¬¦çš„æ–¹æ³•(<code>indexOf</code>è¿”å›<code>-1</code>è¡¨ç¤ºæ²¡æŸ¥åˆ°ä¸å¦‚<code>includes</code>æ–¹æ³•è¿”å›<code>false</code>æ›´æ˜ç¡®ï¼Œè¯­ä¹‰æ›´æ¸…æ™°), æ­¤å¤–è¿˜æ–°å¢äº†<code>startsWith()</code>, <code>endsWith(),</code> <code>padStart()</code>,<code>padEnd()</code>,<code>repeat()</code>ç­‰æ–¹æ³•ï¼Œå¯æ–¹ä¾¿çš„ç”¨äºæŸ¥æ‰¾ï¼Œè¡¥å…¨å­—ç¬¦ä¸²</p>\n</blockquote>\n<h2 id=\"5ã€ä¸¾ä¸€äº›ES6å¯¹Arrayæ•°ç»„ç±»å‹åšçš„å¸¸ç”¨å‡çº§ä¼˜åŒ–\"><a href=\"#5ã€ä¸¾ä¸€äº›ES6å¯¹Arrayæ•°ç»„ç±»å‹åšçš„å¸¸ç”¨å‡çº§ä¼˜åŒ–\" class=\"headerlink\" title=\"5ã€ä¸¾ä¸€äº›ES6å¯¹Arrayæ•°ç»„ç±»å‹åšçš„å¸¸ç”¨å‡çº§ä¼˜åŒ–\"></a>5ã€ä¸¾ä¸€äº›ES6å¯¹Arrayæ•°ç»„ç±»å‹åšçš„å¸¸ç”¨å‡çº§ä¼˜åŒ–</h2><p><strong>ä¼˜åŒ–éƒ¨åˆ†</strong></p>\n<ul>\n<li>æ•°ç»„è§£æ„èµ‹å€¼ã€‚<code>ES6</code>å¯ä»¥ç›´æ¥ä»¥<code>let [a,b,c] = [1,2,3]</code>å½¢å¼è¿›è¡Œå˜é‡èµ‹å€¼ï¼Œåœ¨å£°æ˜è¾ƒå¤šå˜é‡æ—¶ï¼Œä¸ç”¨å†å†™å¾ˆå¤š<code>let(var),</code>ä¸”æ˜ å°„å…³ç³»æ¸…æ™°ï¼Œä¸”æ”¯æŒèµ‹é»˜è®¤å€¼</li>\n<li>æ‰©å±•è¿ç®—ç¬¦ã€‚<code>ES6</code>æ–°å¢çš„æ‰©å±•è¿ç®—ç¬¦(<code>...</code>)(é‡è¦),å¯ä»¥è½»æ¾çš„å®ç°æ•°ç»„å’Œæ¾æ•£åºåˆ—çš„ç›¸äº’è½¬åŒ–ï¼Œå¯ä»¥å–ä»£<code>arguments</code>å¯¹è±¡å’Œ<code>apply</code>æ–¹æ³•ï¼Œè½»æ¾è·å–æœªçŸ¥å‚æ•°ä¸ªæ•°æƒ…å†µä¸‹çš„å‚æ•°é›†åˆã€‚ï¼ˆå°¤å…¶æ˜¯åœ¨<code>ES5</code>ä¸­ï¼Œ<code>arguments</code>å¹¶ä¸æ˜¯ä¸€ä¸ªçœŸæ­£çš„æ•°ç»„ï¼Œè€Œæ˜¯ä¸€ä¸ªç±»æ•°ç»„çš„å¯¹è±¡ï¼Œä½†æ˜¯æ‰©å±•è¿ç®—ç¬¦çš„é€†è¿ç®—å´å¯ä»¥è¿”å›ä¸€ä¸ªçœŸæ­£çš„æ•°ç»„ï¼‰ã€‚æ‰©å±•è¿ç®—ç¬¦è¿˜å¯ä»¥è½»æ¾æ–¹ä¾¿çš„å®ç°æ•°ç»„çš„å¤åˆ¶å’Œè§£æ„èµ‹å€¼ï¼ˆ<code>let a = [2,3,4]</code>; <code>let b = [...a]</code>ï¼‰</li>\n</ul>\n<p><strong>å‡çº§éƒ¨åˆ†</strong></p>\n<blockquote>\n<p><code>ES6</code>åœ¨<code>Array</code>åŸå‹ä¸Šæ–°å¢äº†<code>find()</code>æ–¹æ³•ï¼Œç”¨äºå–ä»£ä¼ ç»Ÿçš„åªèƒ½ç”¨<code>indexOf</code>æŸ¥æ‰¾åŒ…å«æ•°ç»„é¡¹ç›®çš„æ–¹æ³•,ä¸”ä¿®å¤äº†<code>indexOf</code>æŸ¥æ‰¾ä¸åˆ°<code>NaNçš„bug([NaN].indexOf(NaN) === -1)</code>.æ­¤å¤–è¿˜æ–°å¢äº†<code>copyWithin()</code>,<code> includes()</code>, <code>fill()</code>,<code>flat()</code>ç­‰æ–¹æ³•ï¼Œå¯æ–¹ä¾¿çš„ç”¨äºå­—ç¬¦ä¸²çš„æŸ¥æ‰¾ï¼Œè¡¥å…¨,è½¬æ¢ç­‰</p>\n</blockquote>\n<h2 id=\"6ã€ä¸¾ä¸€äº›ES6å¯¹Numberæ•°å­—ç±»å‹åšçš„å¸¸ç”¨å‡çº§ä¼˜åŒ–\"><a href=\"#6ã€ä¸¾ä¸€äº›ES6å¯¹Numberæ•°å­—ç±»å‹åšçš„å¸¸ç”¨å‡çº§ä¼˜åŒ–\" class=\"headerlink\" title=\"6ã€ä¸¾ä¸€äº›ES6å¯¹Numberæ•°å­—ç±»å‹åšçš„å¸¸ç”¨å‡çº§ä¼˜åŒ–\"></a>6ã€ä¸¾ä¸€äº›ES6å¯¹Numberæ•°å­—ç±»å‹åšçš„å¸¸ç”¨å‡çº§ä¼˜åŒ–</h2><p><strong>ä¼˜åŒ–éƒ¨åˆ†</strong></p>\n<blockquote>\n<p>ES6åœ¨<code>Number</code>åŸå‹ä¸Šæ–°å¢äº†<code>isFinite()</code>, <code>isNaN()</code>æ–¹æ³•ï¼Œç”¨æ¥å–ä»£ä¼ ç»Ÿçš„å…¨å±€<code>isFinite(),</code> <code>isNaN()</code>æ–¹æ³•æ£€æµ‹æ•°å€¼æ˜¯å¦æœ‰é™ã€æ˜¯å¦æ˜¯<code>NaN</code>ã€‚<code>ES5</code>çš„<code>isFinite()</code>, <code>isNaN()</code>æ–¹æ³•éƒ½ä¼šå…ˆå°†éæ•°å€¼ç±»å‹çš„å‚æ•°è½¬åŒ–ä¸º<code>Number</code>ç±»å‹å†åšåˆ¤æ–­ï¼Œè¿™å…¶å®æ˜¯ä¸åˆç†çš„ï¼Œæœ€é€ æˆi<code>sNaN(&#39;NaN&#39;) === true</code>çš„å¥‡æ€ªè¡Œä¸º<code>--&#39;NaN&#39;</code>æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä½†æ˜¯<code>isNaN</code>å´è¯´è¿™å°±æ˜¯<code>NaN</code>ã€‚è€Œ<code>Number.isFinite()</code>å’Œ<code>Number.isNaN()</code>åˆ™ä¸ä¼šæœ‰æ­¤ç±»é—®é¢˜(<code>Number.isNaN(&#39;NaN&#39;) === false</code>)ã€‚ï¼ˆ<code>isFinite()</code>åŒä¸Šï¼‰</p>\n</blockquote>\n<p><strong>å‡çº§éƒ¨åˆ†</strong></p>\n<blockquote>\n<p><code>ES6</code>åœ¨<code>Math</code>å¯¹è±¡ä¸Šæ–°å¢äº†<code>Math.cbrt()</code>ï¼Œ<code>trunc()</code>ï¼Œ<code>hypot()</code>ç­‰ç­‰è¾ƒå¤šçš„ç§‘å­¦è®¡æ•°æ³•è¿ç®—æ–¹æ³•ï¼Œå¯ä»¥æ›´åŠ å…¨é¢çš„è¿›è¡Œç«‹æ–¹æ ¹ã€æ±‚å’Œç«‹æ–¹æ ¹ç­‰ç­‰ç§‘å­¦è®¡ç®—</p>\n</blockquote>\n<h2 id=\"7ã€ä¸¾ä¸€äº›ES6å¯¹Objectç±»å‹åšçš„å¸¸ç”¨å‡çº§ä¼˜åŒ–-é‡è¦\"><a href=\"#7ã€ä¸¾ä¸€äº›ES6å¯¹Objectç±»å‹åšçš„å¸¸ç”¨å‡çº§ä¼˜åŒ–-é‡è¦\" class=\"headerlink\" title=\"7ã€ä¸¾ä¸€äº›ES6å¯¹Objectç±»å‹åšçš„å¸¸ç”¨å‡çº§ä¼˜åŒ–?(é‡è¦)\"></a>7ã€ä¸¾ä¸€äº›ES6å¯¹Objectç±»å‹åšçš„å¸¸ç”¨å‡çº§ä¼˜åŒ–?(é‡è¦)</h2><p><strong>ä¼˜åŒ–éƒ¨åˆ†</strong></p>\n<blockquote>\n<p>å¯¹è±¡å±æ€§å˜é‡å¼å£°æ˜ã€‚<code>ES6</code>å¯ä»¥ç›´æ¥ä»¥å˜é‡å½¢å¼å£°æ˜å¯¹è±¡å±æ€§æˆ–è€…æ–¹æ³•ï¼Œã€‚æ¯”ä¼ ç»Ÿçš„é”®å€¼å¯¹å½¢å¼å£°æ˜æ›´åŠ ç®€æ´ï¼Œæ›´åŠ æ–¹ä¾¿ï¼Œè¯­ä¹‰æ›´åŠ æ¸…æ™°</p>\n</blockquote>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> [apple, orange] = [<span class=\"string\">&#x27;red appe&#x27;</span>, <span class=\"string\">&#x27;yellow orange&#x27;</span>];</span><br><span class=\"line\"><span class=\"keyword\">let</span> myFruits = &#123;apple, orange&#125;;    <span class=\"comment\">// let myFruits = &#123;apple: &#x27;red appe&#x27;, orange: &#x27;yellow orange&#x27;&#125;;</span></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>å°¤å…¶åœ¨å¯¹è±¡è§£æ„èµ‹å€¼(è§ä¼˜åŒ–éƒ¨åˆ†b.)æˆ–è€…æ¨¡å—è¾“å‡ºå˜é‡æ—¶ï¼Œè¿™ç§å†™æ³•çš„å¥½å¤„ä½“ç°çš„æœ€ä¸ºæ˜æ˜¾</p>\n</blockquote>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> &#123;keys, values, entries&#125; = <span class=\"title class_\">Object</span>;</span><br><span class=\"line\"><span class=\"keyword\">let</span> <span class=\"title class_\">MyOwnMethods</span> = &#123;keys, values, entries&#125;; <span class=\"comment\">// let MyOwnMethods = &#123;keys: keys, values: values, entries: entries&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>å¯ä»¥çœ‹åˆ°å±æ€§å˜é‡å¼å£°æ˜å±æ€§çœ‹èµ·æ¥æ›´åŠ ç®€æ´æ˜äº†ã€‚æ–¹æ³•ä¹Ÿå¯ä»¥é‡‡ç”¨ç®€æ´å†™æ³•</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> es5Fun = &#123;</span><br><span class=\"line\">    <span class=\"attr\">method</span>: <span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;&#125;</span><br><span class=\"line\">&#125;; </span><br><span class=\"line\"><span class=\"keyword\">let</span> es6Fun = &#123;</span><br><span class=\"line\">    <span class=\"title function_\">method</span>(<span class=\"params\"></span>)&#123;&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>å¯¹è±¡çš„è§£æ„èµ‹å€¼ã€‚ <code>ES6</code>å¯¹è±¡ä¹Ÿå¯ä»¥åƒæ•°ç»„è§£æ„èµ‹å€¼é‚£æ ·ï¼Œè¿›è¡Œå˜é‡çš„è§£æ„èµ‹å€¼</p>\n</blockquote>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> &#123;apple, orange&#125; = &#123;<span class=\"attr\">apple</span>: <span class=\"string\">&#x27;red appe&#x27;</span>, <span class=\"attr\">orange</span>: <span class=\"string\">&#x27;yellow orange&#x27;</span>&#125;;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>å¯¹è±¡çš„æ‰©å±•è¿ç®—ç¬¦(<code>...</code>)ã€‚ ES6å¯¹è±¡çš„æ‰©å±•è¿ç®—ç¬¦å’Œæ•°ç»„æ‰©å±•è¿ç®—ç¬¦ç”¨æ³•æœ¬è´¨ä¸Šå·®åˆ«ä¸å¤§ï¼Œæ¯•ç«Ÿæ•°ç»„ä¹Ÿå°±æ˜¯ç‰¹æ®Šçš„å¯¹è±¡ã€‚å¯¹è±¡çš„æ‰©å±•è¿ç®—ç¬¦ä¸€ä¸ªæœ€å¸¸ç”¨ä¹Ÿæœ€å¥½ç”¨çš„ç”¨å¤„å°±åœ¨äºå¯ä»¥è½»æ¾çš„å–å‡ºä¸€ä¸ªç›®æ ‡å¯¹è±¡å†…éƒ¨å…¨éƒ¨æˆ–è€…éƒ¨åˆ†çš„å¯éå†å±æ€§ï¼Œä»è€Œè¿›è¡Œå¯¹è±¡çš„åˆå¹¶å’Œåˆ†è§£</p>\n</blockquote>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> &#123;apple, orange, ...otherFruits&#125; = &#123;<span class=\"attr\">apple</span>: <span class=\"string\">&#x27;red apple&#x27;</span>, <span class=\"attr\">orange</span>: <span class=\"string\">&#x27;yellow orange&#x27;</span>, <span class=\"attr\">grape</span>: <span class=\"string\">&#x27;purple grape&#x27;</span>, <span class=\"attr\">peach</span>: <span class=\"string\">&#x27;sweet peach&#x27;</span>&#125;; </span><br><span class=\"line\"><span class=\"comment\">// otherFruits  &#123;grape: &#x27;purple grape&#x27;, peach: &#x27;sweet peach&#x27;&#125;</span></span><br><span class=\"line\"><span class=\"comment\">// æ³¨æ„: å¯¹è±¡çš„æ‰©å±•è¿ç®—ç¬¦ç”¨åœ¨è§£æ„èµ‹å€¼æ—¶ï¼Œæ‰©å±•è¿ç®—ç¬¦åªèƒ½ç”¨åœ¨æœ€æœ‰ä¸€ä¸ªå‚æ•°(otherFruitsåé¢ä¸èƒ½å†è·Ÿå…¶ä»–å‚æ•°)</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> moreFruits = &#123;<span class=\"attr\">watermelon</span>: <span class=\"string\">&#x27;nice watermelon&#x27;</span>&#125;;</span><br><span class=\"line\"><span class=\"keyword\">let</span> allFruits = &#123;apple, orange, ...otherFruits, ...moreFruits&#125;;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p><code>super</code> å…³é”®å­—ã€‚<code>ES6</code>åœ¨<code>Class</code>ç±»é‡Œæ–°å¢äº†ç±»ä¼¼<code>this</code>çš„å…³é”®å­—<code>super</code>ã€‚åŒ<code>this</code>æ€»æ˜¯æŒ‡å‘å½“å‰å‡½æ•°æ‰€åœ¨çš„å¯¹è±¡ä¸åŒï¼Œ<code>super</code>å…³é”®å­—æ€»æ˜¯æŒ‡å‘å½“å‰å‡½æ•°æ‰€åœ¨å¯¹è±¡çš„åŸå‹å¯¹è±¡</p>\n</blockquote>\n<p><strong>å‡çº§éƒ¨åˆ†</strong></p>\n<blockquote>\n<p><code>ES6</code>åœ¨<code>Object</code>åŸå‹ä¸Šæ–°å¢äº†<code>is()</code>æ–¹æ³•ï¼Œåšä¸¤ä¸ªç›®æ ‡å¯¹è±¡çš„ç›¸ç­‰æ¯”è¾ƒï¼Œç”¨æ¥å®Œå–„<code>&#39;===&#39;</code>æ–¹æ³•ã€‚<code>&#39;===&#39;</code>æ–¹æ³•ä¸­<code>NaN === NaN //false</code>å…¶å®æ˜¯ä¸åˆç†çš„ï¼Œ<code>Object.is</code>ä¿®å¤äº†è¿™ä¸ªå°<code>bug</code>ã€‚<code>(Object.is(NaN, NaN) // true)</code></p>\n</blockquote>\n<blockquote>\n<p><code>ES6</code>åœ¨<code>Object</code>åŸå‹ä¸Šæ–°å¢äº†<code>assign()</code>æ–¹æ³•ï¼Œç”¨äºå¯¹è±¡æ–°å¢å±æ€§æˆ–è€…å¤šä¸ªå¯¹è±¡åˆå¹¶</p>\n</blockquote>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> target = &#123; <span class=\"attr\">a</span>: <span class=\"number\">1</span> &#125;;</span><br><span class=\"line\"><span class=\"keyword\">const</span> source1 = &#123; <span class=\"attr\">b</span>: <span class=\"number\">2</span> &#125;;</span><br><span class=\"line\"><span class=\"keyword\">const</span> source2 = &#123; <span class=\"attr\">c</span>: <span class=\"number\">3</span> &#125;;</span><br><span class=\"line\"><span class=\"title class_\">Object</span>.<span class=\"title function_\">assign</span>(target, source1, source2);</span><br><span class=\"line\">target <span class=\"comment\">// &#123;a:1, b:2, c:3&#125;</span></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p><strong>æ³¨æ„</strong>: <code>assign</code>åˆå¹¶çš„å¯¹è±¡<code>target</code>åªèƒ½åˆå¹¶<code>source1</code>ã€s<code>ource2</code>ä¸­çš„è‡ªèº«å±æ€§ï¼Œå¹¶ä¸ä¼šåˆå¹¶<code>source1</code>ã€<code>source2</code>ä¸­çš„ç»§æ‰¿å±æ€§ï¼Œä¹Ÿä¸ä¼šåˆå¹¶ä¸å¯æšä¸¾çš„å±æ€§ï¼Œä¸”æ— æ³•æ­£ç¡®å¤åˆ¶getå’Œsetå±æ€§ï¼ˆä¼šç›´æ¥æ‰§è¡Œ<code>get/set</code>å‡½æ•°ï¼Œå–<code>return</code>çš„å€¼ï¼‰</p>\n</blockquote>\n<ul>\n<li><code>ES6</code>åœ¨<code>Object</code>åŸå‹ä¸Šæ–°å¢äº†<code>getOwnPropertyDescriptors()</code>æ–¹æ³•ï¼Œæ­¤æ–¹æ³•å¢å¼ºäº†<code>ES5</code>ä¸­<code>getOwnPropertyDescriptor()</code>æ–¹æ³•ï¼Œå¯ä»¥è·å–æŒ‡å®šå¯¹è±¡æ‰€æœ‰è‡ªèº«å±æ€§çš„æè¿°å¯¹è±¡ã€‚ç»“åˆ<code>defineProperties()</code>æ–¹æ³•ï¼Œå¯ä»¥å®Œç¾å¤åˆ¶å¯¹è±¡ï¼ŒåŒ…æ‹¬å¤åˆ¶<code>get</code>å’Œ<code>set</code>å±æ€§</li>\n<li><code>ES6</code>åœ¨<code>Object</code>åŸå‹ä¸Šæ–°å¢äº†<code>getPrototypeOf()</code>å’Œ<code>setPrototypeOf()</code>æ–¹æ³•ï¼Œç”¨æ¥è·å–æˆ–è®¾ç½®å½“å‰å¯¹è±¡çš„<code>prototype</code>å¯¹è±¡ã€‚è¿™ä¸ªæ–¹æ³•å­˜åœ¨çš„æ„ä¹‰åœ¨äºï¼Œ<code>ES5</code>ä¸­è·å–è®¾ç½®<code>prototype</code>å¯¹åƒæ˜¯é€šè¿‡<code>__proto__</code>å±æ€§æ¥å®ç°çš„ï¼Œç„¶è€Œ<code>__proto__</code>å±æ€§å¹¶ä¸æ˜¯ESè§„èŒƒä¸­çš„æ˜æ–‡è§„å®šçš„å±æ€§ï¼Œåªæ˜¯æµè§ˆå™¨å„å¤§äº§å•†â€œç§è‡ªâ€åŠ ä¸Šå»çš„å±æ€§ï¼Œåªä¸è¿‡å› ä¸ºé€‚ç”¨èŒƒå›´å¹¿è€Œè¢«é»˜è®¤ä½¿ç”¨äº†ï¼Œå†éæµè§ˆå™¨ç¯å¢ƒä¸­å¹¶ä¸ä¸€å®šå°±å¯ä»¥ä½¿ç”¨ï¼Œæ‰€ä»¥ä¸ºäº†ç¨³å¦¥èµ·è§ï¼Œè·å–æˆ–è®¾ç½®å½“å‰å¯¹è±¡çš„<code>prototype</code>å¯¹è±¡æ—¶ï¼Œéƒ½åº”è¯¥é‡‡ç”¨ES6æ–°å¢çš„æ ‡å‡†ç”¨æ³•</li>\n<li><code>ES6</code>åœ¨<code>Object</code>åŸå‹ä¸Šè¿˜æ–°å¢äº†<code>Object.keys()</code>ï¼Œ<code>Object.values()</code>ï¼Œ<code>Object.entries()</code>æ–¹æ³•ï¼Œç”¨æ¥è·å–å¯¹è±¡çš„æ‰€æœ‰é”®ã€æ‰€æœ‰å€¼å’Œæ‰€æœ‰é”®å€¼å¯¹æ•°ç»„</li>\n</ul>\n<h2 id=\"8ã€ä¸¾ä¸€äº›ES6å¯¹Functionå‡½æ•°ç±»å‹åšçš„å¸¸ç”¨å‡çº§ä¼˜åŒ–\"><a href=\"#8ã€ä¸¾ä¸€äº›ES6å¯¹Functionå‡½æ•°ç±»å‹åšçš„å¸¸ç”¨å‡çº§ä¼˜åŒ–\" class=\"headerlink\" title=\"8ã€ä¸¾ä¸€äº›ES6å¯¹Functionå‡½æ•°ç±»å‹åšçš„å¸¸ç”¨å‡çº§ä¼˜åŒ–?\"></a>8ã€ä¸¾ä¸€äº›ES6å¯¹Functionå‡½æ•°ç±»å‹åšçš„å¸¸ç”¨å‡çº§ä¼˜åŒ–?</h2><p><strong>ä¼˜åŒ–éƒ¨åˆ†</strong></p>\n<blockquote>\n<p>ç®­å¤´å‡½æ•°(æ ¸å¿ƒ)ã€‚ç®­å¤´å‡½æ•°æ˜¯ES6æ ¸å¿ƒçš„å‡çº§é¡¹ä¹‹ä¸€ï¼Œç®­å¤´å‡½æ•°é‡Œæ²¡æœ‰è‡ªå·±çš„this,è¿™æ”¹å˜äº†ä»¥å¾€JSå‡½æ•°ä¸­æœ€è®©äººéš¾ä»¥ç†è§£çš„thisè¿è¡Œæœºåˆ¶ã€‚ä¸»è¦ä¼˜åŒ–ç‚¹</p>\n</blockquote>\n<ul>\n<li>ç®­å¤´å‡½æ•°å†…çš„thisæŒ‡å‘çš„æ˜¯å‡½æ•°å®šä¹‰æ—¶æ‰€åœ¨çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯å‡½æ•°æ‰§è¡Œæ—¶æ‰€åœ¨çš„å¯¹è±¡ã€‚ES5å‡½æ•°é‡Œçš„thisæ€»æ˜¯æŒ‡å‘å‡½æ•°æ‰§è¡Œæ—¶æ‰€åœ¨çš„å¯¹è±¡ï¼Œè¿™ä½¿å¾—åœ¨å¾ˆå¤šæƒ…å†µä¸‹<code>this</code>çš„æŒ‡å‘å˜å¾—å¾ˆéš¾ç†è§£ï¼Œå°¤å…¶æ˜¯éä¸¥æ ¼æ¨¡å¼æƒ…å†µä¸‹ï¼Œ<code>this</code>æœ‰æ—¶å€™ä¼šæŒ‡å‘å…¨å±€å¯¹è±¡ï¼Œè¿™ç”šè‡³ä¹Ÿå¯ä»¥å½’ç»“ä¸ºè¯­è¨€å±‚é¢çš„bugä¹‹ä¸€ã€‚ES6çš„ç®­å¤´å‡½æ•°ä¼˜åŒ–äº†è¿™ä¸€ç‚¹ï¼Œå®ƒçš„å†…éƒ¨æ²¡æœ‰è‡ªå·±çš„<code>this</code>,è¿™ä¹Ÿå°±å¯¼è‡´äº†<code>this</code>æ€»æ˜¯æŒ‡å‘ä¸Šä¸€å±‚çš„<code>this</code>ï¼Œå¦‚æœä¸Šä¸€å±‚è¿˜æ˜¯ç®­å¤´å‡½æ•°ï¼Œåˆ™ç»§ç»­å‘ä¸ŠæŒ‡ï¼Œç›´åˆ°æŒ‡å‘åˆ°æœ‰è‡ªå·±<code>this</code>çš„å‡½æ•°ä¸ºæ­¢ï¼Œå¹¶ä½œä¸ºè‡ªå·±çš„<code>this</code></li>\n<li>ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨ä½œæ„é€ å‡½æ•°ï¼Œå› ä¸ºå®ƒæ²¡æœ‰è‡ªå·±çš„<code>this</code>ï¼Œæ— æ³•å®ä¾‹åŒ–</li>\n<li>ä¹Ÿæ˜¯å› ä¸ºç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„this,æ‰€ä»¥ç®­å¤´å‡½æ•° å†…ä¹Ÿä¸å­˜åœ¨<code>arguments</code>å¯¹è±¡ã€‚ï¼ˆå¯ä»¥ç”¨æ‰©å±•è¿ç®—ç¬¦ä»£æ›¿ï¼‰</li>\n<li>å‡½æ•°é»˜è®¤èµ‹å€¼ã€‚<code>ES6</code>ä¹‹å‰ï¼Œå‡½æ•°çš„å½¢å‚æ˜¯æ— æ³•ç»™é»˜è®¤å€¼å¾—ï¼Œåªèƒ½åœ¨å‡½æ•°å†…éƒ¨é€šè¿‡å˜é€šæ–¹æ³•å®ç°ã€‚<code>ES6</code>ä»¥æ›´ç®€æ´æ›´æ˜ç¡®çš„æ–¹å¼è¿›è¡Œå‡½æ•°é»˜è®¤èµ‹å€¼</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">es6Fuc</span> (x, y = <span class=\"string\">&#x27;default&#x27;</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(x, y);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">es6Fuc</span>(<span class=\"number\">4</span>) <span class=\"comment\">// 4, default</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>å‡çº§éƒ¨åˆ†</strong></p>\n<blockquote>\n<p>ES6æ–°å¢äº†åŒå†’å·è¿ç®—ç¬¦ï¼Œç”¨æ¥å–ä»£ä»¥å¾€çš„<code>bind</code>ï¼Œ<code>call</code>,å’Œ<code>apply</code>ã€‚(æµè§ˆå™¨æš‚ä¸æ”¯æŒï¼Œ<code>Babel</code>å·²ç»æ”¯æŒè½¬ç )</p>\n</blockquote>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">foo</span>::bar;</span><br><span class=\"line\"><span class=\"comment\">// ç­‰åŒäº</span></span><br><span class=\"line\">bar.<span class=\"title function_\">bind</span>(foo);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">foo</span>::<span class=\"title function_\">bar</span>(...<span class=\"variable language_\">arguments</span>);</span><br><span class=\"line\"><span class=\"comment\">// ç­‰åŒäº</span></span><br><span class=\"line\">bar.<span class=\"title function_\">apply</span>(foo, <span class=\"variable language_\">arguments</span>);</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"9ã€Symbolæ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ\"><a href=\"#9ã€Symbolæ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ\" class=\"headerlink\" title=\"9ã€Symbolæ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ\"></a>9ã€Symbolæ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ</h2><blockquote>\n<p><code>Symbol</code>æ˜¯<code>ES6</code>å¼•å…¥çš„ç¬¬ä¸ƒç§åŸå§‹æ•°æ®ç±»å‹ï¼ˆè¯´æ³•ä¸å‡†ç¡®ï¼Œåº”è¯¥æ˜¯ç¬¬ä¸ƒç§æ•°æ®ç±»å‹ï¼ŒObjectä¸æ˜¯åŸå§‹æ•°æ®ç±»å‹ä¹‹ä¸€ï¼Œå·²æ›´æ­£ï¼‰ï¼Œæ‰€æœ‰Symbol()ç”Ÿæˆçš„å€¼éƒ½æ˜¯ç‹¬ä¸€æ— äºŒçš„ï¼Œå¯ä»¥ä»æ ¹æœ¬ä¸Šè§£å†³å¯¹è±¡å±æ€§å¤ªå¤šå¯¼è‡´å±æ€§åå†²çªè¦†ç›–çš„é—®é¢˜ã€‚å¯¹è±¡ä¸­<code>Symbol()</code>å±æ€§ä¸èƒ½è¢«<code>for...in</code>éå†ï¼Œä½†æ˜¯ä¹Ÿä¸æ˜¯ç§æœ‰å±æ€§</p>\n</blockquote>\n<h2 id=\"10ã€Setæ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ\"><a href=\"#10ã€Setæ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ\" class=\"headerlink\" title=\"10ã€Setæ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ\"></a>10ã€Setæ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ</h2><blockquote>\n<p><code>Set</code>æ˜¯<code>ES6</code>å¼•å…¥çš„ä¸€ç§ç±»ä¼¼<code>Array</code>çš„æ–°çš„æ•°æ®ç»“æ„ï¼Œ<code>Set</code>å®ä¾‹çš„æˆå‘˜ç±»ä¼¼äºæ•°ç»„<code>item</code>æˆå‘˜ï¼ŒåŒºåˆ«æ˜¯<code>Set</code>å®ä¾‹çš„æˆå‘˜éƒ½æ˜¯å”¯ä¸€ï¼Œä¸é‡å¤çš„ã€‚è¿™ä¸ªç‰¹æ€§å¯ä»¥è½»æ¾åœ°å®ç°æ•°ç»„å»é‡</p>\n</blockquote>\n<h2 id=\"11ã€Mapæ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ\"><a href=\"#11ã€Mapæ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ\" class=\"headerlink\" title=\"11ã€Mapæ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ\"></a>11ã€Mapæ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ</h2><blockquote>\n<p><code>Map</code>æ˜¯<code>ES6</code>å¼•å…¥çš„ä¸€ç§ç±»ä¼¼<code>Object</code>çš„æ–°çš„æ•°æ®ç»“æ„ï¼Œ<code>Map</code>å¯ä»¥ç†è§£ä¸ºæ˜¯<code>Object</code>çš„è¶…é›†ï¼Œæ‰“ç ´äº†ä»¥ä¼ ç»Ÿé”®å€¼å¯¹å½¢å¼å®šä¹‰å¯¹è±¡ï¼Œå¯¹è±¡çš„<code>key</code>ä¸å†å±€é™äºå­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯<code>Object</code>ã€‚å¯ä»¥æ›´åŠ å…¨é¢çš„æè¿°å¯¹è±¡çš„å±æ€§</p>\n</blockquote>\n<h2 id=\"12ã€Proxyæ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ\"><a href=\"#12ã€Proxyæ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ\" class=\"headerlink\" title=\"12ã€Proxyæ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ\"></a>12ã€Proxyæ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ</h2><blockquote>\n<p><code>Proxy</code>æ˜¯<code>ES6</code>æ–°å¢çš„ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œå¯ä»¥ç†è§£ä¸ºJSè¯­è¨€çš„ä¸€ä¸ªä»£ç†ï¼Œç”¨æ¥æ”¹å˜JSé»˜è®¤çš„ä¸€äº›è¯­è¨€è¡Œä¸ºï¼ŒåŒ…æ‹¬æ‹¦æˆªé»˜è®¤çš„<code>get/set</code>ç­‰åº•å±‚æ–¹æ³•ï¼Œä½¿å¾—JSçš„ä½¿ç”¨è‡ªç”±åº¦æ›´é«˜ï¼Œå¯ä»¥æœ€å¤§é™åº¦çš„æ»¡è¶³å¼€å‘è€…çš„éœ€æ±‚ã€‚æ¯”å¦‚é€šè¿‡æ‹¦æˆªå¯¹è±¡çš„<code>get/set</code>æ–¹æ³•ï¼Œå¯ä»¥è½»æ¾åœ°å®šåˆ¶è‡ªå·±æƒ³è¦çš„<code>key</code>æˆ–è€…<code>value</code>ã€‚ä¸‹é¢çš„ä¾‹å­å¯ä»¥çœ‹åˆ°ï¼Œéšä¾¿å®šä¹‰ä¸€ä¸ª<code>myOwnObj</code>çš„<code>key</code>,éƒ½å¯ä»¥å˜æˆè‡ªå·±æƒ³è¦çš„å‡½æ•°&#96;</p>\n</blockquote>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">createMyOwnObj</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t<span class=\"comment\">//æƒ³æŠŠæ‰€æœ‰çš„keyéƒ½å˜æˆå‡½æ•°ï¼Œæˆ–è€…Promise,æˆ–è€…anything</span></span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Proxy</span>(&#123;&#125;, &#123;</span><br><span class=\"line\">\t\t<span class=\"title function_\">get</span>(<span class=\"params\">target, propKey, receiver</span>) &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t\t<span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"keyword\">let</span> randomBoolean = <span class=\"title class_\">Math</span>.<span class=\"title function_\">random</span>() &gt; <span class=\"number\">0.5</span>;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"keyword\">let</span> <span class=\"title class_\">Message</span>;</span><br><span class=\"line\">\t\t\t\t\t<span class=\"keyword\">if</span> (randomBoolean) &#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"title class_\">Message</span> = <span class=\"string\">`ä½ çš„<span class=\"subst\">$&#123;propKey&#125;</span>è¿æ°”ä¸é”™ï¼ŒæˆåŠŸäº†`</span>;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"title function_\">resolve</span>(<span class=\"title class_\">Message</span>);</span><br><span class=\"line\">\t\t\t\t\t&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"title class_\">Message</span> = <span class=\"string\">`ä½ çš„<span class=\"subst\">$&#123;propKey&#125;</span>è¿æ°”ä¸è¡Œï¼Œå¤±è´¥äº†`</span>;</span><br><span class=\"line\">\t\t\t\t\t\t<span class=\"title function_\">reject</span>(<span class=\"title class_\">Message</span>);</span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t&#125;, <span class=\"number\">1000</span>);</span><br><span class=\"line\">\t\t\t&#125;);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> myOwnObj = <span class=\"title function_\">createMyOwnObj</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">myOwnObj.<span class=\"property\">hahaha</span>.<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">result</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(result) <span class=\"comment\">//ä½ çš„hahahaè¿æ°”ä¸é”™ï¼ŒæˆåŠŸäº†</span></span><br><span class=\"line\">&#125;).<span class=\"title function_\">catch</span>(<span class=\"function\"><span class=\"params\">error</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(error) <span class=\"comment\">//ä½ çš„hahahaè¿æ°”ä¸è¡Œï¼Œå¤±è´¥äº†</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">myOwnObj.<span class=\"property\">wuwuwu</span>.<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">result</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(result) <span class=\"comment\">//ä½ çš„wuwuwuè¿æ°”ä¸é”™ï¼ŒæˆåŠŸäº†</span></span><br><span class=\"line\">&#125;).<span class=\"title function_\">catch</span>(<span class=\"function\"><span class=\"params\">error</span> =&gt;</span> &#123;</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(error) <span class=\"comment\">//ä½ çš„wuwuwuè¿æ°”ä¸è¡Œï¼Œå¤±è´¥äº†</span></span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"13ã€Reflectæ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ\"><a href=\"#13ã€Reflectæ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ\" class=\"headerlink\" title=\"13ã€Reflectæ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ\"></a>13ã€Reflectæ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ</h2><blockquote>\n<p><code>Reflect</code>æ˜¯<code>ES6</code>å¼•å…¥çš„ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œä»–çš„ä¸»è¦ä½œç”¨æœ‰ä¸¤ç‚¹ï¼Œä¸€æ˜¯å°†åŸç”Ÿçš„ä¸€äº›é›¶æ•£åˆ†å¸ƒåœ¨<code>Object</code>ã€<code>Function</code>æˆ–è€…å…¨å±€å‡½æ•°é‡Œçš„æ–¹æ³•(å¦‚<code>apply</code>ã€<code>delete</code>ã€<code>get</code>ã€<code>set</code>ç­‰ç­‰)ï¼Œç»Ÿä¸€æ•´åˆåˆ°<code>Reflect</code>ä¸Šï¼Œè¿™æ ·å¯ä»¥æ›´åŠ æ–¹ä¾¿æ›´åŠ ç»Ÿä¸€çš„ç®¡ç†ä¸€äº›åŸç”Ÿ<code>API</code>ã€‚å…¶æ¬¡å°±æ˜¯å› ä¸º<code>Proxy</code>å¯ä»¥æ”¹å†™é»˜è®¤çš„åŸç”ŸAPIï¼Œå¦‚æœä¸€æ—¦åŸç”Ÿ<code>API</code>åˆ«æ”¹å†™å¯èƒ½å°±æ‰¾ä¸åˆ°äº†ï¼Œæ‰€ä»¥<code>Reflect</code>ä¹Ÿå¯ä»¥èµ·åˆ°å¤‡ä»½åŸç”ŸAPIçš„ä½œç”¨ï¼Œä½¿å¾—å³ä½¿åŸç”Ÿ<code>API</code>è¢«æ”¹å†™äº†ä¹‹åï¼Œä¹Ÿå¯ä»¥åœ¨è¢«æ”¹å†™ä¹‹åçš„<code>API</code>ç”¨ä¸Šé»˜è®¤çš„<code>API</code></p>\n</blockquote>\n<h2 id=\"14ã€Promiseæ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ\"><a href=\"#14ã€Promiseæ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ\" class=\"headerlink\" title=\"14ã€Promiseæ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ\"></a>14ã€Promiseæ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ</h2><blockquote>\n<p><code>Promise</code>æ˜¯<code>ES6</code>å¼•å…¥çš„ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œä»–çš„ä¸»è¦ä½œç”¨æ˜¯ç”¨æ¥è§£å†³JSå¼‚æ­¥æœºåˆ¶é‡Œï¼Œå›è°ƒæœºåˆ¶äº§ç”Ÿçš„â€œå›è°ƒåœ°ç‹±â€ã€‚å®ƒå¹¶ä¸æ˜¯ä»€ä¹ˆçªç ´æ€§çš„<code>API</code>ï¼Œåªæ˜¯å°è£…äº†å¼‚æ­¥å›è°ƒå½¢å¼ï¼Œä½¿å¾—å¼‚æ­¥å›è°ƒå¯ä»¥å†™çš„æ›´åŠ ä¼˜é›…ï¼Œå¯è¯»æ€§æ›´é«˜ï¼Œè€Œä¸”å¯ä»¥é“¾å¼è°ƒç”¨</p>\n</blockquote>\n<h2 id=\"15ã€Iteratoræ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ-é‡è¦\"><a href=\"#15ã€Iteratoræ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ-é‡è¦\" class=\"headerlink\" title=\"15ã€Iteratoræ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ(é‡è¦)\"></a>15ã€Iteratoræ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ(é‡è¦)</h2><ul>\n<li><code>Iterator</code>æ˜¯<code>ES6</code>ä¸­ä¸€ä¸ªå¾ˆé‡è¦æ¦‚å¿µï¼Œå®ƒå¹¶ä¸æ˜¯å¯¹è±¡ï¼Œä¹Ÿä¸æ˜¯ä»»ä½•ä¸€ç§æ•°æ®ç±»å‹ã€‚å› ä¸º<code>ES6</code>æ–°å¢äº†<code>Set</code>ã€<code>Map</code>ç±»å‹ï¼Œä»–ä»¬å’Œ<code>Array</code>ã€<code>Object</code>ç±»å‹å¾ˆåƒï¼Œ<code>Array</code>ã€<code>Object</code>éƒ½æ˜¯å¯ä»¥éå†çš„ï¼Œä½†æ˜¯<code>Set</code>ã€<code>Map</code>éƒ½ä¸èƒ½ç”¨forå¾ªç¯éå†ï¼Œè§£å†³è¿™ä¸ªé—®é¢˜æœ‰ä¸¤ç§æ–¹æ¡ˆï¼Œä¸€ç§æ˜¯ä¸º<code>Set</code>ã€<code>Map</code>å•ç‹¬æ–°å¢ä¸€ä¸ªç”¨æ¥éå†çš„<code>API</code>ï¼Œå¦ä¸€ç§æ˜¯ä¸º<code>Set</code>ã€<code>Map</code>ã€<code>Array</code>ã€<code>Object</code>æ–°å¢ä¸€ä¸ªç»Ÿä¸€çš„éå†<code>API</code>ï¼Œæ˜¾ç„¶ï¼Œç¬¬äºŒç§æ›´å¥½ï¼Œ<code>ES6</code>ä¹Ÿå°±é¡ºå…¶è‡ªç„¶çš„éœ€è¦ä¸€ç§è®¾è®¡æ ‡å‡†ï¼Œæ¥ç»Ÿä¸€æ‰€æœ‰å¯éå†ç±»å‹çš„éå†æ–¹å¼ã€‚<code>Iterator</code>æ­£æ˜¯è¿™æ ·ä¸€ç§æ ‡å‡†ã€‚æˆ–è€…è¯´æ˜¯ä¸€ç§è§„èŒƒç†å¿µ</li>\n<li>å°±å¥½åƒ<code>JavaScript</code>æ˜¯<code>ECMAScript</code>æ ‡å‡†çš„ä¸€ç§å…·ä½“å®ç°ä¸€æ ·ï¼Œ<code>Iterator</code>æ ‡å‡†çš„å…·ä½“å®ç°æ˜¯<code>Iterator</code>éå†å™¨ã€‚<code>Iterator</code>æ ‡å‡†è§„å®šï¼Œæ‰€æœ‰éƒ¨ç½²äº†<code>key</code>å€¼ä¸º<code>[Symbol.iterator]</code>ï¼Œä¸”<code>[Symbol.iterator]</code>çš„<code>value</code>æ˜¯æ ‡å‡†çš„<code>Iterator</code>æ¥å£å‡½æ•°(æ ‡å‡†çš„<code>Iterator</code>æ¥å£å‡½æ•°: è¯¥å‡½æ•°å¿…é¡»è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œä¸”å¯¹è±¡ä¸­åŒ…å«<code>next</code>æ–¹æ³•ï¼Œä¸”æ‰§è¡Œ<code>next()</code>èƒ½è¿”å›åŒ…å«<code>value/done</code>å±æ€§çš„<code>Iterator</code>å¯¹è±¡)çš„å¯¹è±¡ï¼Œéƒ½ç§°ä¹‹ä¸ºå¯éå†å¯¹è±¡ï¼Œ<code>next()</code>åè¿”å›çš„<code>Iterator</code>å¯¹è±¡ä¹Ÿå°±æ˜¯<code>Iterator</code>éå†å™¨</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//objå°±æ˜¯å¯éå†çš„ï¼Œå› ä¸ºå®ƒéµå¾ªäº†Iteratoræ ‡å‡†ï¼Œä¸”åŒ…å«[Symbol.iterator]æ–¹æ³•ï¼Œæ–¹æ³•å‡½æ•°ä¹Ÿç¬¦åˆæ ‡å‡†çš„Iteratoræ¥å£è§„èŒƒã€‚</span></span><br><span class=\"line\"><span class=\"comment\">//obj.[Symbol.iterator]() å°±æ˜¯Iteratoréå†å™¨</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> obj = &#123;</span><br><span class=\"line\">  <span class=\"attr\">data</span>: [ <span class=\"string\">&#x27;hello&#x27;</span>, <span class=\"string\">&#x27;world&#x27;</span> ],</span><br><span class=\"line\">  [<span class=\"title class_\">Symbol</span>.<span class=\"property\">iterator</span>]() &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> self = <span class=\"variable language_\">this</span>;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> index = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">      <span class=\"title function_\">next</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (index &lt; self.<span class=\"property\">data</span>.<span class=\"property\">length</span>) &#123;</span><br><span class=\"line\">          <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">            <span class=\"attr\">value</span>: self.<span class=\"property\">data</span>[index++],</span><br><span class=\"line\">            <span class=\"attr\">done</span>: <span class=\"literal\">false</span></span><br><span class=\"line\">          &#125;;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">          <span class=\"keyword\">return</span> &#123; <span class=\"attr\">value</span>: <span class=\"literal\">undefined</span>, <span class=\"attr\">done</span>: <span class=\"literal\">true</span> &#125;;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p><code>ES6</code>ç»™<code>Set</code>ã€<code>Map</code>ã€<code>Array</code>ã€<code>String</code>éƒ½åŠ ä¸Šäº†<code>[Symbol.iterator]</code>æ–¹æ³•ï¼Œä¸”<code>[Symbol.iterator]</code>æ–¹æ³•å‡½æ•°ä¹Ÿç¬¦åˆæ ‡å‡†çš„<code>Iterator</code>æ¥å£è§„èŒƒï¼Œæ‰€ä»¥<code>Set</code>ã€<code>Map</code>ã€<code>Array</code>ã€<code>String</code>é»˜è®¤éƒ½æ˜¯å¯ä»¥éå†çš„</p>\n</blockquote>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//Array</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> array = [<span class=\"string\">&#x27;red&#x27;</span>, <span class=\"string\">&#x27;green&#x27;</span>, <span class=\"string\">&#x27;blue&#x27;</span>];</span><br><span class=\"line\">array[<span class=\"title class_\">Symbol</span>.<span class=\"property\">iterator</span>]() <span class=\"comment\">//Iteratoréå†å™¨</span></span><br><span class=\"line\">array[<span class=\"title class_\">Symbol</span>.<span class=\"property\">iterator</span>]().<span class=\"title function_\">next</span>() <span class=\"comment\">//&#123;value: &quot;red&quot;, done: false&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//String</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> string = <span class=\"string\">&#x27;1122334455&#x27;</span>;</span><br><span class=\"line\">string[<span class=\"title class_\">Symbol</span>.<span class=\"property\">iterator</span>]() <span class=\"comment\">//Iteratoréå†å™¨</span></span><br><span class=\"line\">string[<span class=\"title class_\">Symbol</span>.<span class=\"property\">iterator</span>]().<span class=\"title function_\">next</span>() <span class=\"comment\">//&#123;value: &quot;1&quot;, done: false&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//set</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> set = <span class=\"keyword\">new</span> <span class=\"title class_\">Set</span>([<span class=\"string\">&#x27;red&#x27;</span>, <span class=\"string\">&#x27;green&#x27;</span>, <span class=\"string\">&#x27;blue&#x27;</span>]);</span><br><span class=\"line\">set[<span class=\"title class_\">Symbol</span>.<span class=\"property\">iterator</span>]() <span class=\"comment\">//Iteratoréå†å™¨</span></span><br><span class=\"line\">set[<span class=\"title class_\">Symbol</span>.<span class=\"property\">iterator</span>]().<span class=\"title function_\">next</span>() <span class=\"comment\">//&#123;value: &quot;red&quot;, done: false&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//Map</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> map = <span class=\"keyword\">new</span> <span class=\"title class_\">Map</span>();</span><br><span class=\"line\"><span class=\"keyword\">let</span> obj= &#123;<span class=\"attr\">map</span>: <span class=\"string\">&#x27;map&#x27;</span>&#125;;</span><br><span class=\"line\">map.<span class=\"title function_\">set</span>(obj, <span class=\"string\">&#x27;mapValue&#x27;</span>);</span><br><span class=\"line\">map[<span class=\"title class_\">Symbol</span>.<span class=\"property\">iterator</span>]().<span class=\"title function_\">next</span>(<span class=\"params\"></span>)  &#123;<span class=\"attr\">value</span>: <span class=\"title class_\">Array</span>(<span class=\"number\">2</span>), <span class=\"attr\">done</span>: <span class=\"literal\">false</span>&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"16ã€forâ€¦in-å’Œforâ€¦ofæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ\"><a href=\"#16ã€forâ€¦in-å’Œforâ€¦ofæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ\" class=\"headerlink\" title=\"16ã€forâ€¦in å’Œforâ€¦ofæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ\"></a>16ã€forâ€¦in å’Œforâ€¦ofæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h2><blockquote>\n<p>å¦‚æœçœ‹åˆ°é—®é¢˜åå…­ï¼Œé‚£ä¹ˆå°±å¾ˆå¥½å›ç­”ã€‚é—®é¢˜åå…­æåˆ°äº†ES6ç»Ÿä¸€äº†éå†æ ‡å‡†ï¼Œåˆ¶å®šäº†å¯éå†å¯¹è±¡ï¼Œé‚£ä¹ˆç”¨ä»€ä¹ˆæ–¹æ³•å»éå†å‘¢ï¼Ÿç­”æ¡ˆå°±æ˜¯ç”¨<code>for...of</code>ã€‚ES6è§„å®šï¼Œæœ‰æ‰€éƒ¨ç½²äº†è½½äº†<code>Iterator</code>æ¥å£çš„å¯¹è±¡(å¯éå†å¯¹è±¡)éƒ½å¯ä»¥é€šè¿‡<code>for...of</code>å»éå†ï¼Œè€Œ<code>for..in</code>ä»…ä»…å¯ä»¥éå†å¯¹è±¡</p>\n</blockquote>\n<ul>\n<li>è¿™ä¹Ÿå°±æ„å‘³ç€ï¼Œæ•°ç»„ä¹Ÿå¯ä»¥ç”¨<code>for...of</code>éå†ï¼Œè¿™æå¤§åœ°æ–¹ä¾¿äº†æ•°ç»„çš„å–å€¼ï¼Œä¸”é¿å…äº†å¾ˆå¤šç¨‹åºç”¨<code>for..in</code>å»éå†æ•°ç»„çš„æ¶ä¹ </li>\n</ul>\n<h2 id=\"17ã€Generatorå‡½æ•°æ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ\"><a href=\"#17ã€Generatorå‡½æ•°æ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ\" class=\"headerlink\" title=\"17ã€Generatorå‡½æ•°æ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ\"></a>17ã€Generatorå‡½æ•°æ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ</h2><ul>\n<li>å¦‚æœè¯´<code>JavaScript</code>æ˜¯<code>ECMAScript</code>æ ‡å‡†çš„ä¸€ç§å…·ä½“å®ç°ã€<code>Iterator</code>éå†å™¨æ˜¯<code>Iterator</code>çš„å…·ä½“å®ç°ï¼Œé‚£ä¹ˆ<code>Generator</code>å‡½æ•°å¯ä»¥è¯´æ˜¯<code>Iterator</code>æ¥å£çš„å…·ä½“å®ç°æ–¹å¼ã€‚</li>\n<li>æ‰§è¡Œ<code>Generator</code>å‡½æ•°ä¼šè¿”å›ä¸€ä¸ªéå†å™¨å¯¹è±¡ï¼Œæ¯ä¸€æ¬¡<code>Generator</code>å‡½æ•°é‡Œé¢çš„<code>yield</code>éƒ½ç›¸å½“ä¸€æ¬¡éå†å™¨å¯¹è±¡çš„<code>next()</code>æ–¹æ³•ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡<code>next(value)</code>æ–¹æ³•ä¼ å…¥è‡ªå®šä¹‰çš„value,æ¥æ”¹å˜<code>Generator</code>å‡½æ•°çš„è¡Œä¸ºã€‚</li>\n<li><code>Generator</code>å‡½æ•°å¯ä»¥é€šè¿‡é…åˆ<code>Thunk</code> å‡½æ•°æ›´è½»æ¾æ›´ä¼˜é›…çš„å®ç°å¼‚æ­¥ç¼–ç¨‹å’Œæ§åˆ¶æµç®¡ç†ã€‚</li>\n</ul>\n<h2 id=\"18ã€asyncå‡½æ•°æ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ\"><a href=\"#18ã€asyncå‡½æ•°æ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ\" class=\"headerlink\" title=\"18ã€asyncå‡½æ•°æ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ\"></a>18ã€asyncå‡½æ•°æ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ</h2><blockquote>\n<p><code>async</code>å‡½æ•°å¯ä»¥ç†è§£ä¸ºå†…ç½®è‡ªåŠ¨æ‰§è¡Œå™¨çš„<code>Generator</code>å‡½æ•°è¯­æ³•ç³–ï¼Œå®ƒé…åˆ<code>ES6</code>çš„<code>Promise</code>è¿‘ä¹å®Œç¾çš„å®ç°äº†å¼‚æ­¥ç¼–ç¨‹è§£å†³æ–¹æ¡ˆ</p>\n</blockquote>\n<h2 id=\"19ã€Classã€extendsæ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ\"><a href=\"#19ã€Classã€extendsæ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ\" class=\"headerlink\" title=\"19ã€Classã€extendsæ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ\"></a>19ã€Classã€extendsæ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ</h2><blockquote>\n<p><code>ES6</code> çš„<code>class</code>å¯ä»¥çœ‹ä½œåªæ˜¯ä¸€ä¸ª<code>ES5</code>ç”Ÿæˆå®ä¾‹å¯¹è±¡çš„æ„é€ å‡½æ•°çš„è¯­æ³•ç³–ã€‚å®ƒå‚è€ƒäº†<code>java</code>è¯­è¨€ï¼Œå®šä¹‰äº†ä¸€ä¸ªç±»çš„æ¦‚å¿µï¼Œè®©å¯¹è±¡åŸå‹å†™æ³•æ›´åŠ æ¸…æ™°ï¼Œå¯¹è±¡å®ä¾‹åŒ–æ›´åƒæ˜¯ä¸€ç§é¢å‘å¯¹è±¡ç¼–ç¨‹ã€‚<code>Class</code>ç±»å¯ä»¥é€šè¿‡<code>extends</code>å®ç°ç»§æ‰¿ã€‚å®ƒå’ŒES5æ„é€ å‡½æ•°çš„ä¸åŒç‚¹</p>\n</blockquote>\n<p>ç±»çš„å†…éƒ¨å®šä¹‰çš„æ‰€æœ‰æ–¹æ³•ï¼Œéƒ½æ˜¯ä¸å¯æšä¸¾çš„</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">///ES5</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">ES5Fun</span> (x, y) &#123;</span><br><span class=\"line\">\t<span class=\"variable language_\">this</span>.<span class=\"property\">x</span> = x;</span><br><span class=\"line\">\t<span class=\"variable language_\">this</span>.<span class=\"property\">y</span> = y;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title class_\">ES5Fun</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">toString</span> = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t <span class=\"keyword\">return</span> <span class=\"string\">&#x27;(&#x27;</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">x</span> + <span class=\"string\">&#x27;, &#x27;</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">y</span> + <span class=\"string\">&#x27;)&#x27;</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">var</span> p = <span class=\"keyword\">new</span> <span class=\"title class_\">ES5Fun</span>(<span class=\"number\">1</span>, <span class=\"number\">3</span>);</span><br><span class=\"line\">p.<span class=\"title function_\">toString</span>();</span><br><span class=\"line\"><span class=\"title class_\">Object</span>.<span class=\"title function_\">keys</span>(<span class=\"title class_\">ES5Fun</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>); <span class=\"comment\">//[&#x27;toString&#x27;]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//ES6</span></span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">ES6Fun</span> &#123;</span><br><span class=\"line\">\t<span class=\"title function_\">constructor</span> (x, y) &#123;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">this</span>.<span class=\"property\">x</span> = x;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">this</span>.<span class=\"property\">y</span> = y;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\ttoString () &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> <span class=\"string\">&#x27;(&#x27;</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">x</span> + <span class=\"string\">&#x27;, &#x27;</span> + <span class=\"variable language_\">this</span>.<span class=\"property\">y</span> + <span class=\"string\">&#x27;)&#x27;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title class_\">Object</span>.<span class=\"title function_\">keys</span>(<span class=\"title class_\">ES6Fun</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>); <span class=\"comment\">//[]</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><code>ES6</code>çš„<code>class</code>ç±»å¿…é¡»ç”¨<code>new</code>å‘½ä»¤æ“ä½œï¼Œè€Œ<code>ES5</code>çš„æ„é€ å‡½æ•°ä¸ç”¨<code>new</code>ä¹Ÿå¯ä»¥æ‰§è¡Œã€‚</li>\n<li><code>ES6</code>çš„<code>class</code>ç±»ä¸å­˜åœ¨å˜é‡æå‡ï¼Œå¿…é¡»å…ˆå®šä¹‰<code>class</code>ä¹‹åæ‰èƒ½å®ä¾‹åŒ–ï¼Œä¸åƒ<code>ES5</code>ä¸­å¯ä»¥å°†æ„é€ å‡½æ•°å†™åœ¨å®ä¾‹åŒ–ä¹‹åã€‚</li>\n<li><code>ES5</code> çš„ç»§æ‰¿ï¼Œå®è´¨æ˜¯å…ˆåˆ›é€ å­ç±»çš„å®ä¾‹å¯¹è±¡<code>this</code>ï¼Œç„¶åå†å°†çˆ¶ç±»çš„æ–¹æ³•æ·»åŠ åˆ°<code>this</code>ä¸Šé¢ã€‚<code>ES6</code> çš„ç»§æ‰¿æœºåˆ¶å®Œå…¨ä¸åŒï¼Œå®è´¨æ˜¯å…ˆå°†çˆ¶ç±»å®ä¾‹å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ï¼ŒåŠ åˆ°<code>this</code>ä¸Šé¢ï¼ˆæ‰€ä»¥å¿…é¡»å…ˆè°ƒç”¨<code>super</code>æ–¹æ³•ï¼‰ï¼Œç„¶åå†ç”¨å­ç±»çš„æ„é€ å‡½æ•°ä¿®æ”¹<code>this</code>ã€‚</li>\n</ul>\n<h2 id=\"20ã€moduleã€exportã€importæ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ\"><a href=\"#20ã€moduleã€exportã€importæ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ\" class=\"headerlink\" title=\"20ã€moduleã€exportã€importæ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ\"></a>20ã€moduleã€exportã€importæ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ</h2><ul>\n<li><code>module</code>ã€<code>export</code>ã€<code>import</code>æ˜¯<code>ES6</code>ç”¨æ¥ç»Ÿä¸€å‰ç«¯æ¨¡å—åŒ–æ–¹æ¡ˆçš„è®¾è®¡æ€è·¯å’Œå®ç°æ–¹æ¡ˆã€‚<code>export</code>ã€<code>import</code>çš„å‡ºç°ç»Ÿä¸€äº†å‰ç«¯æ¨¡å—åŒ–çš„å®ç°æ–¹æ¡ˆï¼Œæ•´åˆè§„èŒƒäº†æµè§ˆå™¨&#x2F;æœåŠ¡ç«¯çš„æ¨¡å—åŒ–æ–¹æ³•ï¼Œç”¨æ¥å–ä»£ä¼ ç»Ÿçš„<code>AMD/CMD</code>ã€<code>requireJS</code>ã€<code>seaJS</code>ã€<code>commondJS</code>ç­‰ç­‰ä¸€ç³»åˆ—å‰ç«¯æ¨¡å—ä¸åŒçš„å®ç°æ–¹æ¡ˆï¼Œä½¿å‰ç«¯æ¨¡å—åŒ–æ›´åŠ ç»Ÿä¸€è§„èŒƒï¼Œ<code>JS</code>ä¹Ÿèƒ½æ›´åŠ èƒ½å®ç°å¤§å‹çš„åº”ç”¨ç¨‹åºå¼€å‘ã€‚</li>\n<li><code>import</code>å¼•å…¥çš„æ¨¡å—æ˜¯é™æ€åŠ è½½ï¼ˆç¼–è¯‘é˜¶æ®µåŠ è½½ï¼‰è€Œä¸æ˜¯åŠ¨æ€åŠ è½½ï¼ˆè¿è¡Œæ—¶åŠ è½½ï¼‰ã€‚</li>\n<li><code>import</code>å¼•å…¥<code>export</code>å¯¼å‡ºçš„æ¥å£å€¼æ˜¯åŠ¨æ€ç»‘å®šå…³ç³»ï¼Œå³é€šè¿‡è¯¥æ¥å£ï¼Œå¯ä»¥å–åˆ°æ¨¡å—å†…éƒ¨å®æ—¶çš„å€¼</li>\n</ul>\n<h2 id=\"21ã€æ—¥å¸¸å‰ç«¯ä»£ç å¼€å‘ä¸­ï¼Œæœ‰å“ªäº›å€¼å¾—ç”¨ES6å»æ”¹è¿›çš„ç¼–ç¨‹ä¼˜åŒ–æˆ–è€…è§„èŒƒï¼Ÿ\"><a href=\"#21ã€æ—¥å¸¸å‰ç«¯ä»£ç å¼€å‘ä¸­ï¼Œæœ‰å“ªäº›å€¼å¾—ç”¨ES6å»æ”¹è¿›çš„ç¼–ç¨‹ä¼˜åŒ–æˆ–è€…è§„èŒƒï¼Ÿ\" class=\"headerlink\" title=\"21ã€æ—¥å¸¸å‰ç«¯ä»£ç å¼€å‘ä¸­ï¼Œæœ‰å“ªäº›å€¼å¾—ç”¨ES6å»æ”¹è¿›çš„ç¼–ç¨‹ä¼˜åŒ–æˆ–è€…è§„èŒƒï¼Ÿ\"></a>21ã€æ—¥å¸¸å‰ç«¯ä»£ç å¼€å‘ä¸­ï¼Œæœ‰å“ªäº›å€¼å¾—ç”¨ES6å»æ”¹è¿›çš„ç¼–ç¨‹ä¼˜åŒ–æˆ–è€…è§„èŒƒï¼Ÿ</h2><ul>\n<li>å¸¸ç”¨ç®­å¤´å‡½æ•°æ¥å–ä»£<code>var self = this</code>;çš„åšæ³•ã€‚</li>\n<li>å¸¸ç”¨<code>let</code>å–ä»£<code>var</code>å‘½ä»¤ã€‚</li>\n<li>å¸¸ç”¨æ•°ç»„&#x2F;å¯¹è±¡çš„ç»“æ„èµ‹å€¼æ¥å‘½åå˜é‡ï¼Œç»“æ„æ›´æ¸…æ™°ï¼Œè¯­ä¹‰æ›´æ˜ç¡®ï¼Œå¯è¯»æ€§æ›´å¥½ã€‚</li>\n<li>åœ¨é•¿å­—ç¬¦ä¸²å¤šå˜é‡ç»„åˆåœºåˆï¼Œç”¨æ¨¡æ¿å­—ç¬¦ä¸²æ¥å–ä»£å­—ç¬¦ä¸²ç´¯åŠ ï¼Œèƒ½å–å¾—æ›´å¥½åœ°æ•ˆæœå’Œé˜…è¯»ä½“éªŒã€‚</li>\n<li>ç”¨<code>Class</code>ç±»å–ä»£ä¼ ç»Ÿçš„æ„é€ å‡½æ•°ï¼Œæ¥ç”Ÿæˆå®ä¾‹åŒ–å¯¹è±¡ã€‚</li>\n<li>åœ¨å¤§å‹åº”ç”¨å¼€å‘ä¸­ï¼Œè¦ä¿æŒ<code>module</code>æ¨¡å—åŒ–å¼€å‘æ€ç»´ï¼Œåˆ†æ¸…æ¨¡å—ä¹‹é—´çš„å…³ç³»ï¼Œå¸¸ç”¨<code>import</code>ã€<code>export</code>æ–¹æ³•ã€‚</li>\n</ul>\n<h2 id=\"22ã€ES6çš„äº†è§£\"><a href=\"#22ã€ES6çš„äº†è§£\" class=\"headerlink\" title=\"22ã€ES6çš„äº†è§£\"></a>22ã€ES6çš„äº†è§£</h2><blockquote>\n<p>æ–°å¢æ¨¡æ¿å­—ç¬¦ä¸²ï¼ˆä¸ºJavaScriptæä¾›äº†ç®€å•çš„å­—ç¬¦ä¸²æ’å€¼åŠŸèƒ½ï¼‰ã€ç®­å¤´å‡½æ•°ï¼ˆæ“ä½œç¬¦å·¦è¾¹ä¸ºè¾“å…¥çš„å‚æ•°ï¼Œè€Œå³è¾¹åˆ™æ˜¯è¿›è¡Œçš„æ“ä½œä»¥åŠè¿”å›çš„å€¼Inputs&#x3D;&gt;outputsã€‚ï¼‰ã€for-ofï¼ˆç”¨æ¥éå†æ•°æ®â€”ä¾‹å¦‚æ•°ç»„ä¸­çš„å€¼ã€‚ï¼‰argumentså¯¹è±¡å¯è¢«ä¸å®šå‚æ•°å’Œé»˜è®¤å‚æ•°å®Œç¾ä»£æ›¿ã€‚ES6å°†promiseå¯¹è±¡çº³å…¥è§„èŒƒï¼Œæä¾›äº†åŸç”Ÿçš„Promiseå¯¹è±¡ã€‚å¢åŠ äº†letå’Œconstå‘½ä»¤ï¼Œç”¨æ¥å£°æ˜å˜é‡ã€‚å¢åŠ äº†å—çº§ä½œç”¨åŸŸã€‚letå‘½ä»¤å®é™…ä¸Šå°±å¢åŠ äº†å—çº§ä½œç”¨åŸŸã€‚ES6è§„å®šï¼Œvarå‘½ä»¤å’Œfunctionå‘½ä»¤å£°æ˜çš„å…¨å±€å˜é‡ï¼Œå±äºå…¨å±€å¯¹è±¡çš„å±æ€§ï¼›letå‘½ä»¤ã€constå‘½ä»¤ã€classå‘½ä»¤å£°æ˜çš„å…¨å±€å˜é‡ï¼Œä¸å±äºå…¨å±€å¯¹è±¡çš„å±æ€§ã€‚ã€‚è¿˜æœ‰å°±æ˜¯å¼•å…¥moduleæ¨¡å—çš„æ¦‚å¿µ</p>\n</blockquote>\n<h2 id=\"23ã€è¯´è¯´ä½ å¯¹Promiseçš„ç†è§£\"><a href=\"#23ã€è¯´è¯´ä½ å¯¹Promiseçš„ç†è§£\" class=\"headerlink\" title=\"23ã€è¯´è¯´ä½ å¯¹Promiseçš„ç†è§£\"></a>23ã€è¯´è¯´ä½ å¯¹Promiseçš„ç†è§£</h2><ul>\n<li><p>ä¾ç…§ Promise&#x2F;A+ çš„å®šä¹‰ï¼ŒPromise æœ‰å››ç§çŠ¶æ€ï¼š</p>\n<ul>\n<li><p>pending: åˆå§‹çŠ¶æ€, é fulfilled æˆ– rejected.</p>\n</li>\n<li><p>fulfilled: æˆåŠŸçš„æ“ä½œ.</p>\n</li>\n<li><p>rejected: å¤±è´¥çš„æ“ä½œ.</p>\n</li>\n<li><p>settled: Promiseå·²è¢«fulfilledæˆ–rejectedï¼Œä¸”ä¸æ˜¯pending</p>\n</li>\n</ul>\n</li>\n<li><p>å¦å¤–ï¼Œ fulfilled ä¸ rejected ä¸€èµ·åˆç§° settled</p>\n</li>\n<li><p>Promise å¯¹è±¡ç”¨æ¥è¿›è¡Œå»¶è¿Ÿ(deferred) å’Œå¼‚æ­¥(asynchronous ) è®¡ç®—</p>\n</li>\n</ul>\n<h2 id=\"24ã€Promise-çš„æ„é€ å‡½æ•°\"><a href=\"#24ã€Promise-çš„æ„é€ å‡½æ•°\" class=\"headerlink\" title=\"24ã€Promise çš„æ„é€ å‡½æ•°\"></a>24ã€Promise çš„æ„é€ å‡½æ•°</h2><ul>\n<li>æ„é€ ä¸€ä¸ª Promiseï¼Œæœ€åŸºæœ¬çš„ç”¨æ³•å¦‚ä¸‹ï¼š</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> promise = <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"keyword\">function</span>(<span class=\"params\">resolve, reject</span>) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (...) &#123;  <span class=\"comment\">// succeed</span></span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"title function_\">resolve</span>(result);</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;   <span class=\"comment\">// fails</span></span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"title function_\">reject</span>(<span class=\"title class_\">Error</span>(errMessage));</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;);</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><p>Promise å®ä¾‹æ‹¥æœ‰ then æ–¹æ³•ï¼ˆå…·æœ‰ then æ–¹æ³•çš„å¯¹è±¡ï¼Œé€šå¸¸è¢«ç§°ä¸ºthenableï¼‰ã€‚å®ƒçš„ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">promise.then(onFulfilled, onRejected)</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>æ¥æ”¶ä¸¤ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œä¸€ä¸ªåœ¨ fulfilled çš„æ—¶å€™è¢«è°ƒç”¨ï¼Œä¸€ä¸ªåœ¨rejectedçš„æ—¶å€™è¢«è°ƒç”¨ï¼Œæ¥æ”¶å‚æ•°å°±æ˜¯ futureï¼ŒonFulfilled å¯¹åº” resolve, onRejected å¯¹åº” reject</p>\n</li>\n</ul>\n<p><strong>ä»€ä¹ˆæ˜¯ Promise ï¼Ÿ</strong></p>\n<ul>\n<li>Promise å°±æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œç”¨æ¥è¡¨ç¤ºå¹¶ä¼ é€’å¼‚æ­¥æ“ä½œçš„æœ€ç»ˆç»“æœ</li>\n<li>Promise æœ€ä¸»è¦çš„äº¤äº’æ–¹å¼ï¼šå°†å›è°ƒå‡½æ•°ä¼ å…¥ then æ–¹æ³•æ¥è·å¾—æœ€ç»ˆç»“æœæˆ–å‡ºé”™åŸå› </li>\n<li>Promise ä»£ç ä¹¦å†™ä¸Šçš„è¡¨ç°ï¼šä»¥â€œé“¾å¼è°ƒç”¨â€ä»£æ›¿å›è°ƒå‡½æ•°å±‚å±‚åµŒå¥—ï¼ˆå›è°ƒåœ°ç‹±ï¼‰</li>\n</ul>\n<h2 id=\"25ã€è°ˆä¸€è°ˆä½ äº†è§£ECMAScript6çš„æ–°ç‰¹æ€§ï¼Ÿ\"><a href=\"#25ã€è°ˆä¸€è°ˆä½ äº†è§£ECMAScript6çš„æ–°ç‰¹æ€§ï¼Ÿ\" class=\"headerlink\" title=\"25ã€è°ˆä¸€è°ˆä½ äº†è§£ECMAScript6çš„æ–°ç‰¹æ€§ï¼Ÿ\"></a>25ã€è°ˆä¸€è°ˆä½ äº†è§£ECMAScript6çš„æ–°ç‰¹æ€§ï¼Ÿ</h2><ul>\n<li>å—çº§ä½œç”¨åŒºåŸŸ              <code>let a = 1;</code></li>\n<li>å¯å®šä¹‰å¸¸é‡                <code>const PI = 3.141592654;</code></li>\n<li>å˜é‡è§£æ„èµ‹å€¼              <code>var [a, b, c] = [1, 2, 3];</code></li>\n<li>å­—ç¬¦ä¸²çš„æ‰©å±•(æ¨¡æ¿å­—ç¬¦ä¸²)  <code>var sum =</code>${a + b}<code>;</code></li>\n<li>æ•°ç»„çš„æ‰©å±•(è½¬æ¢æ•°ç»„ç±»å‹)   <code>Array.from($(&#39;li&#39;));</code></li>\n<li>å‡½æ•°çš„æ‰©å±•(æ‰©å±•è¿ç®—ç¬¦)     <code>[1, 2].push(...[3, 4, 5]);</code></li>\n<li>å¯¹è±¡çš„æ‰©å±•(åŒå€¼ç›¸ç­‰ç®—æ³•)   <code> Object.is(NaN, NaN);</code></li>\n<li>æ–°å¢æ•°æ®ç±»å‹(Symbol)      <code>let uid = Symbol(&#39;uid&#39;);</code></li>\n<li>æ–°å¢æ•°æ®ç»“æ„(Map)        <code> let set = new Set([1, 2, 2, 3]);</code></li>\n<li>forâ€¦ofå¾ªç¯            <code>for(let val of arr)&#123;&#125;;</code></li>\n<li>Promiseå¯¹è±¡            <code> var promise = new Promise(func);</code></li>\n<li>Generatorå‡½æ•°          <code> function* foo(x)&#123;yield x; return x*x;&#125;</code></li>\n<li>å¼•å…¥Class(ç±»)          <code> class Foo &#123;&#125;</code></li>\n<li>å¼•å…¥æ¨¡å—ä½“ç³»            <code> export default func;</code></li>\n<li>å¼•å…¥asyncå‡½æ•°[ES7]</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">asyncPrint</span>(<span class=\"params\">value, ms</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">await</span> <span class=\"title function_\">timeout</span>(ms);</span><br><span class=\"line\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(value)</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">     </span><br></pre></td></tr></table></figure>\n\n<h2 id=\"26ã€Object-is-ä¸åŸæ¥çš„æ¯”è¾ƒæ“ä½œç¬¦-x3D-x3D-x3D-ã€-x3D-x3D-çš„åŒºåˆ«ï¼Ÿ\"><a href=\"#26ã€Object-is-ä¸åŸæ¥çš„æ¯”è¾ƒæ“ä½œç¬¦-x3D-x3D-x3D-ã€-x3D-x3D-çš„åŒºåˆ«ï¼Ÿ\" class=\"headerlink\" title=\"26ã€Object.is() ä¸åŸæ¥çš„æ¯”è¾ƒæ“ä½œç¬¦ &#x3D;&#x3D;&#x3D;ã€&#x3D;&#x3D; çš„åŒºåˆ«ï¼Ÿ\"></a>26ã€Object.is() ä¸åŸæ¥çš„æ¯”è¾ƒæ“ä½œç¬¦ &#x3D;&#x3D;&#x3D;ã€&#x3D;&#x3D; çš„åŒºåˆ«ï¼Ÿ</h2><ul>\n<li>&#x3D;&#x3D; ç›¸ç­‰è¿ç®—ç¬¦ï¼Œæ¯”è¾ƒæ—¶ä¼šè‡ªåŠ¨è¿›è¡Œæ•°æ®ç±»å‹è½¬æ¢</li>\n<li>&#x3D;&#x3D;&#x3D; ä¸¥æ ¼ç›¸ç­‰è¿ç®—ç¬¦ï¼Œæ¯”è¾ƒæ—¶ä¸è¿›è¡Œéšå¼ç±»å‹è½¬æ¢</li>\n<li>Object.is åŒå€¼ç›¸ç­‰ç®—æ³•ï¼Œåœ¨ &#x3D;&#x3D;&#x3D; åŸºç¡€ä¸Šå¯¹ 0 å’Œ NaN ç‰¹åˆ«å¤„ç†</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">+0 === -0 //true</span><br><span class=\"line\">NaN === NaN // false</span><br><span class=\"line\"></span><br><span class=\"line\">Object.is(+0, -0) // false</span><br><span class=\"line\">Object.is(NaN, NaN) // true</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"27ã€ä»€ä¹ˆæ˜¯-Babel\"><a href=\"#27ã€ä»€ä¹ˆæ˜¯-Babel\" class=\"headerlink\" title=\"27ã€ä»€ä¹ˆæ˜¯ Babel\"></a>27ã€ä»€ä¹ˆæ˜¯ Babel</h2><ul>\n<li>Babel æ˜¯ä¸€ä¸ª JS ç¼–è¯‘å™¨ï¼Œè‡ªå¸¦ä¸€ç»„ ES6 è¯­æ³•è½¬åŒ–å™¨ï¼Œç”¨äºè½¬åŒ– JS ä»£ç ã€‚<br>è¿™äº›è½¬åŒ–å™¨è®©å¼€å‘è€…æå‰ä½¿ç”¨æœ€æ–°çš„ JSè¯­æ³•(ES6&#x2F;ES7)ï¼Œè€Œä¸ç”¨ç­‰æµè§ˆå™¨å…¨éƒ¨å…¼å®¹ã€‚</li>\n<li>Babel é»˜è®¤åªè½¬æ¢æ–°çš„ JS å¥æ³•(syntax)ï¼Œè€Œä¸è½¬æ¢æ–°çš„APIã€‚</li>\n</ul>\n"},{"title":"webpack ä¼˜åŒ–æ‰“åŒ…å¤§å…¨","url":"/LittleWhiteRabbit/2022/04/26/webpack%E4%BC%98%E5%8C%96%E6%89%93%E5%8C%85%E5%A4%A7%E5%85%A8/","content":"<h1 id=\"webpack-ä¼˜åŒ–æ‰“åŒ…å¤§å…¨\"><a href=\"#webpack-ä¼˜åŒ–æ‰“åŒ…å¤§å…¨\" class=\"headerlink\" title=\"webpack ä¼˜åŒ–æ‰“åŒ…å¤§å…¨\"></a>webpack ä¼˜åŒ–æ‰“åŒ…å¤§å…¨</h1><p>éšç€æˆ‘ä»¬çš„é¡¹ç›®é¡¹ç›®è¶Šåšè¶Šå¤§ï¼Œå¼•å…¥çš„ç¬¬ä¸‰æ–¹åº“ä¼šè¶Šæ¥è¶Šå¤šï¼Œæ‰“åŒ…çš„ä¾èµ–ä¹Ÿè¶Šæ¥è¶Šå¤šï¼Œæ¯æ¬¡ build çš„æ—¶é—´è¶Šæ¥è¶Šé•¿ï¼Œæ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶ä¼šè¶Šæ¥è¶Šå¤§ã€‚æœ€ç³Ÿç³•çš„æ˜¯å•é¡µé¢åº”ç”¨é¦–é¡µç™½å±æ—¶é—´é•¿ï¼Œç”¨æˆ·ä½“éªŒå·®ã€‚</p>\n<p>æ­¤æ—¶ä¼˜åŒ– webpack æ‰“åŒ…æ–¹æ³•ä¸å¯å›é¿ã€‚ä¸‹é¢æˆ‘ä»¬æ¥æ•´ç†ä¸€ä¸‹å¸¸ç”¨çš„ webpack æ‰“åŒ…ä¼˜åŒ–æ–¹æ³•ã€‚</p>\n<p><strong>æˆ‘ä»¬çš„ç›®çš„</strong></p>\n<ul>\n<li>å‡å°æ‰“åŒ…åçš„æ–‡ä»¶å¤§å°</li>\n<li>é¦–é¡µæŒ‰éœ€å¼•å…¥æ–‡ä»¶ï¼Œå‡å°‘ç™½å±æ—¶é—´</li>\n<li>ä¼˜åŒ– webpack æ‰“åŒ…æ—¶é—´<span id=\"more\"></span>\n<h2 id=\"åˆ†æ-webpack-æ‰“åŒ…æ€§èƒ½ç“¶é¢ˆ\"><a href=\"#åˆ†æ-webpack-æ‰“åŒ…æ€§èƒ½ç“¶é¢ˆ\" class=\"headerlink\" title=\"åˆ†æ webpack æ‰“åŒ…æ€§èƒ½ç“¶é¢ˆ\"></a>åˆ†æ webpack æ‰“åŒ…æ€§èƒ½ç“¶é¢ˆ</h2></li>\n</ul>\n<p>é¦–å…ˆæˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹ webpack æ‰“åŒ…æ€§èƒ½ç“¶é¢ˆï¼Œæ‰¾å‡ºé—®é¢˜æ‰€åœ¨ï¼Œç„¶åæ‰èƒ½å¯¹ç—‡ä¸‹è¯ã€‚</p>\n<h4 id=\"1ã€webpack-bundle-analyzer-åˆ†æä½“ç§¯\"><a href=\"#1ã€webpack-bundle-analyzer-åˆ†æä½“ç§¯\" class=\"headerlink\" title=\"1ã€webpack-bundle-analyzer åˆ†æä½“ç§¯\"></a>1ã€webpack-bundle-analyzer åˆ†æä½“ç§¯</h4><ul>\n<li>vue-cli3 éœ€è¦å®‰è£…ä¾èµ– <code>webpack-bundle-analyzer</code></li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm install webpack-bundle-analyzer -D</span><br><span class=\"line\"><span class=\"keyword\">const</span> &#123; <span class=\"title class_\">BundleAnalyzerPlugin</span> &#125; = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;webpack-bundle-analyzer&#x27;</span>);</span><br><span class=\"line\"><span class=\"attr\">plugins</span>:[</span><br><span class=\"line\">  <span class=\"keyword\">new</span> <span class=\"title class_\">BundleAnalyzerPlugin</span>(),</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>vue-cli2 ç›´æ¥åœ¨å‘½ä»¤è¡Œè¾“å…¥ <code>npm run build --report</code>, æ„å»ºå®Œæˆåä¼šåœ¨ 8888 ç«¯å£å±•ç¤ºå¤§å°</li>\n</ul>\n<img src=\"../img/webpack2.png\">\n\n<h4 id=\"2ã€æµ‹é‡æ„å»ºæ—¶é—´\"><a href=\"#2ã€æµ‹é‡æ„å»ºæ—¶é—´\" class=\"headerlink\" title=\"2ã€æµ‹é‡æ„å»ºæ—¶é—´\"></a>2ã€æµ‹é‡æ„å»ºæ—¶é—´</h4><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>speed-measure-webpack-plugin</code> æµ‹é‡ä½ çš„ webpack æ„å»ºæœŸé—´å„ä¸ªé˜¶æ®µèŠ±è´¹çš„æ—¶é—´ã€‚</p>\n<ol>\n<li>æ­¥éª¤ä¸€ï¼šå®‰è£…ä¾èµ–åŒ…</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm install speed-measure-webpack-plugin --save-dev</span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li>é…ç½® vue.config.js</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// åˆ†ææ‰“åŒ…æ—¶é—´</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">SpeedMeasurePlugin</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;speed-measure-webpack-plugin&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">const</span> smp = <span class=\"keyword\">new</span> <span class=\"title class_\">SpeedMeasurePlugin</span>()</span><br><span class=\"line\"><span class=\"comment\">// ...</span></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">configureWebpack</span>: smp.<span class=\"title function_\">wrap</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">plugins</span>: [<span class=\"keyword\">new</span> <span class=\"title class_\">BundleAnalyzerPlugin</span>()],</span><br><span class=\"line\">  &#125;),</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æ‰“åŒ…æ„å»ºåä¼šçœ‹åˆ°ä»¥ä¸‹è¾“å‡º<br><img src=\"../img/webpack1.png\"></p>\n<p><strong>æ‰¾å‡ºé—®é¢˜æ‰€åœ¨åæˆ‘ä»¬å¼€å§‹æ¥æ€»ç»“ä¸€ä¸‹ä¼˜åŒ–æ–¹æ³•ã€‚</strong></p>\n<h2 id=\"1ã€-æŒ‰éœ€åŠ è½½\"><a href=\"#1ã€-æŒ‰éœ€åŠ è½½\" class=\"headerlink\" title=\"1ã€ æŒ‰éœ€åŠ è½½\"></a>1ã€ æŒ‰éœ€åŠ è½½</h2><p>1.1 è·¯ç”±ç»„ä»¶æŒ‰éœ€åŠ è½½</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> router = [</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"attr\">path</span>: <span class=\"string\">&#x27;/index&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">component</span>: <span class=\"function\">(<span class=\"params\">resolve</span>) =&gt;</span> <span class=\"built_in\">require</span>.<span class=\"title function_\">ensure</span>([], <span class=\"function\">() =&gt;</span> <span class=\"title function_\">resolve</span>(<span class=\"built_in\">require</span>(<span class=\"string\">&#x27;@/components/index&#x27;</span>))),</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"attr\">path</span>: <span class=\"string\">&#x27;/about&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">component</span>: <span class=\"function\">(<span class=\"params\">resolve</span>) =&gt;</span> <span class=\"built_in\">require</span>.<span class=\"title function_\">ensure</span>([], <span class=\"function\">() =&gt;</span> <span class=\"title function_\">resolve</span>(<span class=\"built_in\">require</span>(<span class=\"string\">&#x27;@/components/about&#x27;</span>))),</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n\n<p>1.2 ç¬¬ä¸‰æ–¹ç»„ä»¶å’Œæ’ä»¶ã€‚æŒ‰éœ€åŠ è½½éœ€å¼•å…¥ç¬¬ä¸‰æ–¹ç»„ä»¶</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// å¼•å…¥å…¨éƒ¨ç»„ä»¶</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">ElementUI</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;element-ui&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"string\">&#x27;element-ui/lib/theme-chalk/index.css&#x27;</span></span><br><span class=\"line\"><span class=\"title class_\">Vue</span>.<span class=\"title function_\">use</span>(<span class=\"title class_\">ElementUI</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æŒ‰éœ€å¼•å…¥ç»„ä»¶</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Button</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;element-ui&#x27;</span></span><br><span class=\"line\"><span class=\"title class_\">Vue</span>.<span class=\"title function_\">component</span>(<span class=\"title class_\">Button</span>.<span class=\"property\">name</span>, <span class=\"title class_\">Button</span>)</span><br></pre></td></tr></table></figure>\n\n<p>1.3 å¯¹äºä¸€äº›æ’ä»¶ï¼Œå¦‚æœåªæ˜¯åœ¨ä¸ªåˆ«ç»„ä»¶ä¸­ç”¨çš„åˆ°ï¼Œä¹Ÿå¯ä»¥ä¸è¦åœ¨ main.js é‡Œé¢å¼•å…¥ï¼Œè€Œæ˜¯åœ¨ç»„ä»¶ä¸­æŒ‰éœ€å¼•å…¥</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// åœ¨main.jså¼•å…¥</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Vue</span> <span class=\"keyword\">from</span> vue</span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Vuelidate</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vuelidate&#x27;</span></span><br><span class=\"line\"><span class=\"title class_\">Vue</span>.<span class=\"title function_\">use</span>(<span class=\"title class_\">Vuelidate</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æŒ‰ç»„ä»¶æŒ‰éœ€å¼•å…¥</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Vuelidate</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vuelidate&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<p>1.4 å»é™¤æ‰“åŒ…åæ–‡ä»¶çš„é¢„åŠ è½½ prefetch&#x2F;preload</p>\n<p>vuecli 3 é»˜è®¤å¼€å¯ prefetch(é¢„å…ˆåŠ è½½æ¨¡å—)ï¼Œæå‰è·å–ç”¨æˆ·æœªæ¥å¯èƒ½ä¼šè®¿é—®çš„å†…å®¹ï¼Œåœ¨é¦–å±ä¼šæŠŠè¿™åå‡ ä¸ªè·¯ç”±æ–‡ä»¶ï¼Œéƒ½ä¸€å£æ°”ä¸‹è½½äº†ã€‚æ‰€ä»¥æˆ‘ä»¬è¦å…³é—­è¿™ä¸ªåŠŸèƒ½</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//ç»†èŠ‚é…ç½®ä¿®æ”¹</span></span><br><span class=\"line\"><span class=\"attr\">chainWebpack</span>: <span class=\"function\">(<span class=\"params\">config</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">// ç§»é™¤ prefetch æ’ä»¶</span></span><br><span class=\"line\">  config.<span class=\"property\">plugins</span>.<span class=\"title function_\">delete</span>(<span class=\"string\">&#x27;prefetch-index&#x27;</span>)</span><br><span class=\"line\">  <span class=\"comment\">// ç§»é™¤ preload æ’ä»¶</span></span><br><span class=\"line\">  config.<span class=\"property\">plugins</span>.<span class=\"title function_\">delete</span>(<span class=\"string\">&#x27;preload-index&#x27;</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>preload æ˜¯å‘Šè¯‰æµè§ˆå™¨é¡µé¢å¿…å®šéœ€è¦çš„èµ„æºï¼Œæµè§ˆå™¨ä¸€å®šä¼šåŠ è½½è¿™äº›èµ„æº</li>\n<li>prefetch æ˜¯å‘Šè¯‰æµè§ˆå™¨é¡µé¢å¯èƒ½éœ€è¦çš„èµ„æºï¼Œæµè§ˆå™¨ä¸ä¸€å®šä¼šåŠ è½½è¿™äº›èµ„æº</li>\n</ul>\n<p>å½“ prefetch æ’ä»¶è¢«ç¦ç”¨æ—¶ï¼Œä½ å¯ä»¥é€šè¿‡ webpack çš„å†…è”æ³¨é‡Šæ‰‹åŠ¨é€‰å®šè¦æå‰è·å–çš„ä»£ç åŒºå—ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">import</span>(<span class=\"comment\">/* webpackPrefetch: true */</span> <span class=\"string\">&#x27;./someAsyncComponent.vue&#x27;</span>)</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"2ã€ç¼©å°æ„å»ºç›®æ ‡\"><a href=\"#2ã€ç¼©å°æ„å»ºç›®æ ‡\" class=\"headerlink\" title=\"2ã€ç¼©å°æ„å»ºç›®æ ‡\"></a>2ã€ç¼©å°æ„å»ºç›®æ ‡</h2><h4 id=\"ä¼˜åŒ–-loader-é…ç½®\"><a href=\"#ä¼˜åŒ–-loader-é…ç½®\" class=\"headerlink\" title=\"ä¼˜åŒ– loader é…ç½®\"></a>ä¼˜åŒ– loader é…ç½®</h4><p>æ’é™¤ Webpack ä¸éœ€è¦è§£æçš„æ¨¡å—ï¼Œå³ä½¿ç”¨ loader çš„æ—¶å€™ï¼Œåœ¨å°½é‡å°‘çš„æ¨¡å—ä¸­å»ä½¿ç”¨ã€‚</p>\n<ul>\n<li>ä¼˜åŒ–æ­£åˆ™åŒ¹é…</li>\n<li>é€šè¿‡ <code>cacheDirectory</code> é€‰é¡¹å¼€å¯ç¼“å­˜</li>\n<li>é€šè¿‡ <code>includeã€exclude</code> æ¥å‡å°‘è¢«å¤„ç†çš„æ–‡ä»¶ã€‚</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">module</span>: &#123;</span><br><span class=\"line\">  <span class=\"attr\">rules</span>: [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.js$/</span>,</span><br><span class=\"line\">      <span class=\"attr\">loader</span>: <span class=\"string\">&#x27;babel-loader?cacheDirectory&#x27;</span>,</span><br><span class=\"line\">      <span class=\"attr\">include</span>: [<span class=\"title function_\">resolve</span>(<span class=\"string\">&#x27;src&#x27;</span>)],</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æ³¨æ„ï¼šä¿å­˜å’Œè¯»å–è¿™äº›ç¼“å­˜æ–‡ä»¶ä¼šæœ‰ä¸€äº›æ—¶é—´å¼€é”€ï¼Œæ‰€ä»¥è¯·åªå¯¹æ€§èƒ½å¼€é”€è¾ƒå¤§çš„ loader ä½¿ç”¨æ­¤ loaderã€‚</p>\n<h4 id=\"åˆç†ä½¿ç”¨-resolve-extensions\"><a href=\"#åˆç†ä½¿ç”¨-resolve-extensions\" class=\"headerlink\" title=\"åˆç†ä½¿ç”¨ resolve.extensions\"></a>åˆç†ä½¿ç”¨ resolve.extensions</h4><p>åœ¨å¯¼å…¥è¯­å¥æ²¡å¸¦æ–‡ä»¶åç¼€æ—¶ï¼ŒWebpack ä¼šè‡ªåŠ¨å¸¦ä¸Šåç¼€åå»å°è¯•è¯¢é—®æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼ŒæŸ¥è¯¢çš„é¡ºåºæ˜¯æŒ‰ç…§æˆ‘ä»¬é…ç½® çš„ resolve.extensions é¡ºåºä»å‰åˆ°åæŸ¥æ‰¾ï¼ŒWebpack é»˜è®¤æ”¯æŒçš„åç¼€æ˜¯ js ä¸ jsonã€‚</p>\n<h4 id=\"é…ç½®åˆ«å-alias\"><a href=\"#é…ç½®åˆ«å-alias\" class=\"headerlink\" title=\"é…ç½®åˆ«å alias\"></a>é…ç½®åˆ«å alias</h4><p>alias çš„æ„æ€ä¸º åˆ«åï¼Œèƒ½æŠŠåŸå¯¼å…¥è·¯å¾„æ˜ å°„æˆä¸€ä¸ªæ–°çš„å¯¼å…¥è·¯å¾„ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ alias é…ç½®æ¥å‡å°‘æŸ¥æ‰¾è¿‡ç¨‹ã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">resolve</span>: &#123;</span><br><span class=\"line\">  <span class=\"attr\">extensions</span>: [<span class=\"string\">&#x27;.js&#x27;</span>, <span class=\"string\">&#x27;.vue&#x27;</span>, <span class=\"string\">&#x27;.json&#x27;</span>],</span><br><span class=\"line\">  <span class=\"attr\">alias</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">&#x27;vue$&#x27;</span>: <span class=\"string\">&#x27;vue/dist/vue.esm.js&#x27;</span>,</span><br><span class=\"line\">    <span class=\"string\">&#x27;@&#x27;</span>: <span class=\"title function_\">resolve</span>(<span class=\"string\">&#x27;src&#x27;</span>),</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"ä½¿ç”¨-module-noParse\"><a href=\"#ä½¿ç”¨-module-noParse\" class=\"headerlink\" title=\"ä½¿ç”¨ module.noParse:\"></a>ä½¿ç”¨ module.noParse:</h4><p>è®© webpack å¿½ç•¥å¯¹éƒ¨åˆ†æ²¡é‡‡ç”¨æ¨¡å—åŒ–çš„æ–‡ä»¶çš„é€’å½’è§£æå¤„ç†ï¼Œè¿™æ ·åšçš„å¥½å¤„æ˜¯èƒ½æé«˜æ„å»ºæ€§èƒ½ã€‚ å› ä¸ºå¦‚ <code>jQuery</code> ã€<code>echart</code> ç­‰åº“åºå¤§åˆæ²¡æœ‰é‡‡ç”¨æ¨¡å—åŒ–æ ‡å‡†ï¼Œè®© webpack å»è§£æè¿™äº›æ–‡ä»¶è€—æ—¶åˆæ²¡æœ‰æ„ä¹‰ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">module</span>:&#123;</span><br><span class=\"line\">\t<span class=\"attr\">noParse</span>:<span class=\"regexp\">/jquery/</span>,<span class=\"comment\">//ä¸å»è§£æjqueryä¸­çš„ä¾èµ–åº“</span></span><br><span class=\"line\">  ...</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"4ã€ç”Ÿäº§ç¯å¢ƒå…³é—­-sourceMap\"><a href=\"#4ã€ç”Ÿäº§ç¯å¢ƒå…³é—­-sourceMap\" class=\"headerlink\" title=\"4ã€ç”Ÿäº§ç¯å¢ƒå…³é—­ sourceMap\"></a>4ã€ç”Ÿäº§ç¯å¢ƒå…³é—­ sourceMap</h2><p><code>sourceMap</code> æœ¬è´¨ä¸Šæ˜¯ä¸€ç§æ˜ å°„å…³ç³»ï¼Œæ‰“åŒ…å‡ºæ¥çš„ js æ–‡ä»¶ä¸­çš„ä»£ç å¯ä»¥æ˜ å°„åˆ°ä»£ç æ–‡ä»¶çš„å…·ä½“ä½ç½®,è¿™ç§æ˜ å°„å…³ç³»ä¼šå¸®åŠ©æˆ‘ä»¬ç›´æ¥æ‰¾åˆ°åœ¨æºä»£ç ä¸­çš„é”™è¯¯ã€‚<br>åœ¨ç”Ÿäº§ç¯å¢ƒï¼Œæ‰“åŒ…é€Ÿåº¦å‡æ…¢ï¼Œç”Ÿäº§æ–‡ä»¶å˜å¤§ï¼Œæ‰€ä»¥å¼€å‘ç¯å¢ƒä½¿ç”¨ <code>sourceMap</code>ï¼Œç”Ÿäº§ç¯å¢ƒåˆ™å…³é—­ã€‚</p>\n<p>sourceMap çš„ç§ç±»</p>\n<ul>\n<li>source-map: ä¼šç”Ÿæˆ map æ ¼å¼çš„æ–‡ä»¶ï¼Œé‡Œé¢åŒ…å«æ˜ å°„å…³ç³»çš„ä»£ç </li>\n<li>inline-source-map: ä¸ä¼šç”Ÿæˆ map æ ¼å¼çš„æ–‡ä»¶ï¼ŒåŒ…å«æ˜ å°„å…³ç³»çš„ä»£ç ä¼šæ”¾åœ¨æ‰“åŒ…åç”Ÿæˆçš„ä»£ç ä¸­</li>\n<li>inline-cheap-source-map: ä¸€æ˜¯å°†é”™è¯¯åªå®šä½åˆ°è¡Œï¼Œä¸å®šä½åˆ°åˆ—ã€‚äºŒæ˜¯æ˜ å°„ä¸šåŠ¡ä»£ç ï¼Œä¸æ˜ å°„ loader å’Œç¬¬ä¸‰æ–¹åº“ç­‰ã€‚ä¼šæå‡æ‰“åŒ…æ„å»ºçš„é€Ÿåº¦ã€‚</li>\n<li>inline-cheap-module-source-map: module ä¼šæ˜ å°„ loader å’Œç¬¬ä¸‰æ–¹åº“</li>\n<li>eval: ç”¨ eval çš„æ–¹å¼ç”Ÿæˆæ˜ å°„å…³ç³»ä»£ç ï¼Œæ•ˆç‡å’Œæ€§èƒ½æœ€ä½³ã€‚ä½†æ˜¯å½“ä»£ç å¤æ‚æ—¶ï¼Œæç¤ºä¿¡æ¯å¯èƒ½ä¸ç²¾ç¡®ã€‚</li>\n</ul>\n<h2 id=\"5ã€ä»£ç å‹ç¼©\"><a href=\"#5ã€ä»£ç å‹ç¼©\" class=\"headerlink\" title=\"5ã€ä»£ç å‹ç¼©\"></a>5ã€ä»£ç å‹ç¼©</h2><h4 id=\"UglifyJS\"><a href=\"#UglifyJS\" class=\"headerlink\" title=\"UglifyJS\"></a>UglifyJS</h4><p><code>UglifyJS</code> æ˜¯ vue-cli é»˜è®¤ä½¿ç”¨çš„å‹ç¼©ä»£ç æ–¹å¼ï¼Œå®ƒä½¿ç”¨çš„æ˜¯å•çº¿ç¨‹å‹ç¼©ä»£ç ï¼Œæ‰“åŒ…æ—¶é—´è¾ƒæ…¢ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">  <span class=\"keyword\">new</span> <span class=\"title class_\">UglifyJsPlugin</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">uglifyOptions</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">compress</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">warnings</span>: <span class=\"literal\">false</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">sourceMap</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"attr\">parallel</span>: <span class=\"literal\">true</span></span><br><span class=\"line\">  &#125;)</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"ParallelUglifyPlugin\"><a href=\"#ParallelUglifyPlugin\" class=\"headerlink\" title=\"ParallelUglifyPlugin\"></a>ParallelUglifyPlugin</h4><p><code>ParallelUglifyPlugin</code> å¼€å¯å¤šä¸ªå­è¿›ç¨‹ï¼ŒæŠŠå¯¹å¤šä¸ªæ–‡ä»¶å‹ç¼©çš„å·¥ä½œåˆ†åˆ«ç»™å¤šä¸ªå­è¿›ç¨‹å»å®Œæˆï¼Œæ¯ä¸ªå­è¿›ç¨‹å…¶å®è¿˜æ˜¯é€šè¿‡ <code>UglifyJS</code> å»å‹ç¼©ä»£ç ï¼Œä½†æ˜¯å˜æˆäº†å¹¶è¡Œæ‰§è¡Œã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">  <span class=\"keyword\">new</span> <span class=\"title class_\">ParallelUglifyPlugin</span>(&#123;</span><br><span class=\"line\">    <span class=\"comment\">//ç¼“å­˜å‹ç¼©åçš„ç»“æœï¼Œä¸‹æ¬¡é‡åˆ°ä¸€æ ·çš„è¾“å…¥æ—¶ç›´æ¥ä»ç¼“å­˜ä¸­è·å–å‹ç¼©åçš„ç»“æœå¹¶è¿”å›ï¼Œ</span></span><br><span class=\"line\">    <span class=\"comment\">//cacheDir ç”¨äºé…ç½®ç¼“å­˜å­˜æ”¾çš„ç›®å½•è·¯å¾„ã€‚</span></span><br><span class=\"line\">    <span class=\"attr\">cacheDir</span>: <span class=\"string\">&#x27;.cache/&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">sourceMap</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"attr\">uglifyJS</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">output</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">comments</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"attr\">compress</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">warnings</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  &#125;),</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n\n<p>æ‰“åŒ…é€Ÿåº¦å’Œæ‰“åŒ…åçš„æ–‡ä»¶å¤§å°å•Šå¯¹æ¯”</p>\n<table>\n<thead>\n<tr>\n<th>æ–¹æ³•</th>\n<th align=\"left\">æ–‡ä»¶å¤§å°</th>\n<th align=\"left\">æ‰“åŒ…é€Ÿåº¦</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>ä¸ç”¨æ’ä»¶</td>\n<td align=\"left\">14.6M</td>\n<td align=\"left\">32s</td>\n</tr>\n<tr>\n<td>UglifyJsPlugin</td>\n<td align=\"left\">12.9M</td>\n<td align=\"left\">33s</td>\n</tr>\n<tr>\n<td>ParallelUglifyPlugi</td>\n<td align=\"left\">7.98M</td>\n<td align=\"left\">17s</td>\n</tr>\n</tbody></table>\n<h4 id=\"terser-webpack-plugin\"><a href=\"#terser-webpack-plugin\" class=\"headerlink\" title=\"terser-webpack-plugin\"></a>terser-webpack-plugin</h4><p>Webpack4.0 é»˜è®¤æ˜¯ä½¿ç”¨ <code>terser-webpack-plugin</code> è¿™ä¸ªå‹ç¼©æ’ä»¶ï¼Œåœ¨æ­¤ä¹‹å‰æ˜¯ä½¿ç”¨ <code>uglifyjs-webpack-plugin</code>ï¼Œä¸¤è€…çš„åŒºåˆ«æ˜¯åè€…å¯¹ ES6 çš„å‹ç¼©ä¸æ˜¯å¾ˆå¥½ï¼ŒåŒæ—¶æˆ‘ä»¬å¯ä»¥å¼€å¯ <code>parallel</code> å‚æ•°ï¼Œä½¿ç”¨å¤šè¿›ç¨‹å‹ç¼©ï¼ŒåŠ å¿«å‹ç¼©ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">TerserPlugin</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;terser-webpack-plugin&#x27;</span>) <span class=\"comment\">// å‹ç¼©jsä»£ç </span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">OptimizeCSSAssetsPlugin</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;optimize-css-assets-webpack-plugin&#x27;</span>) <span class=\"comment\">// å‹ç¼©cssä»£ç </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">optimization</span>: &#123;</span><br><span class=\"line\">  <span class=\"attr\">minimizer</span>: [</span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">TerserPlugin</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">parallel</span>: <span class=\"number\">4</span>, <span class=\"comment\">// å¼€å¯å‡ ä¸ªè¿›ç¨‹æ¥å¤„ç†å‹ç¼©ï¼Œé»˜è®¤æ˜¯ os.cpus().length - 1</span></span><br><span class=\"line\">      <span class=\"attr\">cache</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// æ˜¯å¦ç¼“å­˜</span></span><br><span class=\"line\">      <span class=\"attr\">sourceMap</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"CSS-å‹ç¼©\"><a href=\"#CSS-å‹ç¼©\" class=\"headerlink\" title=\"CSS å‹ç¼©\"></a>CSS å‹ç¼©</h4><p>æˆ‘ä»¬å¯ä»¥å€ŸåŠ© optimize-css-assets-webpack-plugin æ’ä»¶æ¥å‹ç¼© cssï¼Œå…¶é»˜è®¤ä½¿ç”¨çš„å‹ç¼©å¼•æ“æ˜¯ cssnano</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">OptimizeCSSAssetsPlugin</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;optimize-css-assets-webpack-plugin&#x27;</span>) <span class=\"comment\">// å‹ç¼©cssä»£ç </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">optimization</span>: &#123;</span><br><span class=\"line\">  <span class=\"attr\">minimizer</span>: [</span><br><span class=\"line\">    <span class=\"comment\">// å‹ç¼©css</span></span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">OptimizeCSSAssetsPlugin</span>(&#123;&#125;),</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"6ã€æå–å…¬å…±ä»£ç \"><a href=\"#6ã€æå–å…¬å…±ä»£ç \" class=\"headerlink\" title=\"6ã€æå–å…¬å…±ä»£ç \"></a>6ã€æå–å…¬å…±ä»£ç </h2><p>åœ¨ç”¨ webpack æ‰“åŒ…çš„æ—¶å€™ï¼Œå¯¹äºä¸€äº›ä¸ç»å¸¸æ›´æ–°çš„ç¬¬ä¸‰æ–¹åº“ï¼Œæ¯”å¦‚ <code>reactï¼Œlodashï¼Œvue</code> æˆ‘ä»¬å¸Œæœ›èƒ½å’Œè‡ªå·±çš„ä»£ç åˆ†ç¦»å¼€ï¼Œwebpack ç¤¾åŒºæœ‰ä»¥ä¸‹ä¸¤ç§æ–¹æ¡ˆï¼š</p>\n<h4 id=\"CommonsChunkPlugin-åŠ-splitChunks\"><a href=\"#CommonsChunkPlugin-åŠ-splitChunks\" class=\"headerlink\" title=\"CommonsChunkPlugin åŠ splitChunks\"></a>CommonsChunkPlugin åŠ splitChunks</h4><p>é€šè¿‡å°†å…¬å…±æ¨¡å—æ‹†å‡ºæ¥ï¼Œæœ€ç»ˆåˆæˆçš„æ–‡ä»¶èƒ½å¤Ÿåœ¨æœ€å¼€å§‹çš„æ—¶å€™åŠ è½½ä¸€æ¬¡ï¼Œä¾¿å­˜åˆ°ç¼“å­˜ä¸­ä¾›åç»­ä½¿ç”¨ã€‚è¿™ä¸ªå¸¦æ¥é€Ÿåº¦ä¸Šçš„æå‡ï¼Œå› ä¸ºæµè§ˆå™¨ä¼šè¿…é€Ÿå°†å…¬å…±çš„ä»£ç ä»ç¼“å­˜ä¸­å–å‡ºæ¥ï¼Œè€Œä¸æ˜¯æ¯æ¬¡è®¿é—®ä¸€ä¸ªæ–°é¡µé¢æ—¶ï¼Œå†å»åŠ è½½ä¸€ä¸ªæ›´å¤§çš„æ–‡ä»¶ã€‚</p>\n<p>webpack3 ä½¿ç”¨ <code>CommonsChunkPlugin</code> çš„å®ç°ï¼š</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">  <span class=\"keyword\">new</span> webpack.<span class=\"property\">optimize</span>.<span class=\"title class_\">CommonsChunkPlugin</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">name</span>: <span class=\"string\">&#x27;vendor&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">minChunks</span>: <span class=\"keyword\">function</span> (<span class=\"params\"><span class=\"variable language_\">module</span>, count</span>) &#123;</span><br><span class=\"line\">      <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">module</span>.<span class=\"property\">resource</span>, <span class=\"string\">`å¼•ç”¨æ¬¡æ•°<span class=\"subst\">$&#123;count&#125;</span>`</span>)</span><br><span class=\"line\">      <span class=\"comment\">//&quot;æœ‰æ­£åœ¨å¤„ç†æ–‡ä»¶&quot; + &quot;è¿™ä¸ªæ–‡ä»¶æ˜¯ .js åç¼€&quot; + &quot;è¿™ä¸ªæ–‡ä»¶æ˜¯åœ¨ node_modules ä¸­&quot;</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> (</span><br><span class=\"line\">        <span class=\"variable language_\">module</span>.<span class=\"property\">resource</span> &amp;&amp;</span><br><span class=\"line\">        <span class=\"regexp\">/\\.js$/</span>.<span class=\"title function_\">test</span>(<span class=\"variable language_\">module</span>.<span class=\"property\">resource</span>) &amp;&amp;</span><br><span class=\"line\">        <span class=\"variable language_\">module</span>.<span class=\"property\">resource</span>.<span class=\"title function_\">indexOf</span>(path.<span class=\"title function_\">join</span>(__dirname, <span class=\"string\">&#x27;./node_modules&#x27;</span>)) === <span class=\"number\">0</span></span><br><span class=\"line\">      )</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  &#125;),</span><br><span class=\"line\">  <span class=\"keyword\">new</span> webpack.<span class=\"property\">optimize</span>.<span class=\"title class_\">CommonsChunkPlugin</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">name</span>: <span class=\"string\">&#x27;common&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">chunks</span>: <span class=\"string\">&#x27;initial&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">minChunks</span>: <span class=\"number\">2</span>,</span><br><span class=\"line\">  &#125;),</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n\n<p>webpack4 ä½¿ç”¨ <code>splitChunks</code> çš„å®ç°ï¼š</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">optimization</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">splitChunks</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">cacheGroups</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">vendor</span>: &#123;</span><br><span class=\"line\">          <span class=\"attr\">priority</span>: <span class=\"number\">1</span>, <span class=\"comment\">//æ·»åŠ æƒé‡</span></span><br><span class=\"line\">          <span class=\"attr\">test</span>: <span class=\"regexp\">/node_modules/</span>, <span class=\"comment\">//æŠŠè¿™ä¸ªç›®å½•ä¸‹ç¬¦åˆä¸‹é¢å‡ ä¸ªæ¡ä»¶çš„åº“æŠ½ç¦»å‡ºæ¥</span></span><br><span class=\"line\">          <span class=\"attr\">chunks</span>: <span class=\"string\">&#x27;initial&#x27;</span>, <span class=\"comment\">//åˆšå¼€å§‹å°±è¦æŠ½ç¦»</span></span><br><span class=\"line\">          <span class=\"attr\">minChunks</span>: <span class=\"number\">2</span>, <span class=\"comment\">//é‡å¤2æ¬¡ä½¿ç”¨çš„æ—¶å€™éœ€è¦æŠ½ç¦»å‡ºæ¥</span></span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"attr\">common</span>: &#123;</span><br><span class=\"line\">          <span class=\"comment\">//å…¬å…±çš„æ¨¡å—</span></span><br><span class=\"line\">          <span class=\"attr\">chunks</span>: <span class=\"string\">&#x27;initial&#x27;</span>,</span><br><span class=\"line\">          <span class=\"attr\">minChunks</span>: <span class=\"number\">2</span>,</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"DLLPlugin\"><a href=\"#DLLPlugin\" class=\"headerlink\" title=\"DLLPlugin\"></a>DLLPlugin</h4><p>webpack.DllPlugin å°±æ˜¯æ¥è§£å†³è¿™ä¸ªé—®é¢˜çš„æ’ä»¶ï¼Œä½¿ç”¨å®ƒå¯ä»¥åœ¨ç¬¬ä¸€æ¬¡ç¼–è¯‘æ‰“åŒ…åå°±ç”Ÿæˆä¸€ä»½ä¸å˜çš„ä»£ç ä¾›å…¶ä»–æ¨¡å—å¼•ç”¨ï¼Œè¿™æ ·ä¸‹ä¸€æ¬¡æ„å»ºçš„æ—¶å€™å°±å¯ä»¥èŠ‚çœå¼€å‘æ—¶ç¼–è¯‘æ‰“åŒ…çš„æ—¶é—´ã€‚</p>\n<p>1ã€åœ¨ build ä¸‹åˆ›å»º <code>webpack.dll.config.js</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> path = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;path&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">const</span> webpack = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;webpack&#x27;</span>)</span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">entry</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">vendor</span>: [</span><br><span class=\"line\">      <span class=\"string\">&#x27;vue-router&#x27;</span>,</span><br><span class=\"line\">      <span class=\"string\">&#x27;vuex&#x27;</span>,</span><br><span class=\"line\">      <span class=\"string\">&#x27;vue/dist/vue.common.js&#x27;</span>,</span><br><span class=\"line\">      <span class=\"string\">&#x27;vue/dist/vue.js&#x27;</span>,</span><br><span class=\"line\">      <span class=\"string\">&#x27;vue-loader/lib/component-normalizer.js&#x27;</span>,</span><br><span class=\"line\">      <span class=\"string\">&#x27;vue&#x27;</span>,</span><br><span class=\"line\">      <span class=\"string\">&#x27;axios&#x27;</span>,</span><br><span class=\"line\">      <span class=\"string\">&#x27;echarts&#x27;</span>,</span><br><span class=\"line\">    ],</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">output</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">path</span>: path.<span class=\"title function_\">resolve</span>(<span class=\"string\">&#x27;./dist&#x27;</span>),</span><br><span class=\"line\">    <span class=\"attr\">filename</span>: <span class=\"string\">&#x27;[name].dll.js&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">library</span>: <span class=\"string\">&#x27;[name]_library&#x27;</span>,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">    <span class=\"keyword\">new</span> webpack.<span class=\"title class_\">DllPlugin</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">path</span>: path.<span class=\"title function_\">resolve</span>(<span class=\"string\">&#x27;./dist&#x27;</span>, <span class=\"string\">&#x27;[name]-manifest.json&#x27;</span>),</span><br><span class=\"line\">      <span class=\"attr\">name</span>: <span class=\"string\">&#x27;[name]_library&#x27;</span>,</span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">    <span class=\"comment\">// å»ºè®®åŠ ä¸Šä»£ç å‹ç¼©æ’ä»¶ï¼Œå¦åˆ™dllåŒ…ä¼šæ¯”è¾ƒå¤§ã€‚</span></span><br><span class=\"line\">    <span class=\"keyword\">new</span> webpack.<span class=\"property\">optimize</span>.<span class=\"title class_\">UglifyJsPlugin</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">compress</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">warnings</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">  ],</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><code>library</code> çš„æ„æ€å…¶å®å°±æ˜¯å°† dll æ–‡ä»¶ä»¥ä¸€ä¸ªå…¨å±€å˜é‡çš„å½¢å¼å¯¼å‡ºå‡ºå»ï¼Œä¾¿äºæ¥ä¸‹æ¥å¼•ç”¨ã€‚</li>\n<li><code>mainfest.json</code> æ–‡ä»¶æ˜¯ä¸€ä¸ªæ˜ å°„å…³ç³»ï¼Œå®ƒçš„ä½œç”¨å°±æ˜¯å¸®åŠ© webpack ä½¿ç”¨æˆ‘ä»¬ä¹‹å‰æ‰“åŒ…å¥½çš„ <code>***.dll.js</code> æ–‡ä»¶ï¼Œè€Œä¸æ˜¯é‡æ–°å†å» <code>node_modules</code> ä¸­å»å¯»æ‰¾ã€‚</li>\n</ul>\n<p>2ã€åœ¨ <code>webpack.prod.conf.js</code> çš„ plugin åé¢åŠ å…¥é…ç½®</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">new</span> webpack.<span class=\"title class_\">DllReferencePlugin</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">manifest</span>: <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;../dist/vendor-manifest.json&#x27;</span>),</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<p>3ã€<code>package.json</code>æ–‡ä»¶ä¸­æ·»åŠ å¿«æ·å‘½ä»¤<code>(build:dll)</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&quot;scripts&quot;</span>: &#123;</span><br><span class=\"line\">  <span class=\"string\">&quot;dev&quot;</span>: <span class=\"string\">&quot;webpack-dev-server --inline --progress --config build/webpack.dev.conf.js&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;start&quot;</span>: <span class=\"string\">&quot;npm run dev&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;lint&quot;</span>: <span class=\"string\">&quot;eslint --ext .js,.vue src&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;build&quot;</span>: <span class=\"string\">&quot;node build/build.js&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;build:dll&quot;</span>: <span class=\"string\">&quot;webpack --config build/webpack.dll.conf.js&quot;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ç”Ÿäº§ç¯å¢ƒæ‰“åŒ…çš„æ—¶å€™å…ˆ<code>npm run build:dll</code>å‘½ä»¤ä¼šåœ¨æ‰“åŒ…ç›®å½•ä¸‹ç”Ÿæˆ <code>vendor-manifest.json</code> æ–‡ä»¶ä¸ vendor.dll.js æ–‡ä»¶ã€‚ç„¶å<code>npm run build</code>ç”Ÿäº§å…¶ä»–æ–‡ä»¶ã€‚</p>\n<p>4ã€æ ¹ç›®å½•ä¸‹çš„å…¥å£ <code>index.html</code> åŠ å…¥å¼•ç”¨</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;./vendor.dll.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"7ã€CDN-ä¼˜åŒ–\"><a href=\"#7ã€CDN-ä¼˜åŒ–\" class=\"headerlink\" title=\"7ã€CDN ä¼˜åŒ–\"></a>7ã€CDN ä¼˜åŒ–</h2><ul>\n<li>éšç€é¡¹ç›®è¶Šåšè¶Šå¤§ï¼Œä¾èµ–çš„ç¬¬ä¸‰æ–¹ npm åŒ…è¶Šæ¥è¶Šå¤šï¼Œæ„å»ºä¹‹åçš„æ–‡ä»¶ä¹Ÿä¼šè¶Šæ¥è¶Šå¤§ã€‚</li>\n<li>å†åŠ ä¸Šåˆæ˜¯å•é¡µåº”ç”¨ï¼Œè¿™å°±ä¼šå¯¼è‡´åœ¨ç½‘é€Ÿè¾ƒæ…¢æˆ–è€…æœåŠ¡å™¨å¸¦å®½æœ‰é™çš„æƒ…å†µå‡ºç°é•¿æ—¶é—´çš„ç™½å±ã€‚</li>\n</ul>\n<p>1ã€å°† <code>vueã€vue-routerã€vuexã€element-ui å’Œ axios</code> è¿™äº”ä¸ªåº“ï¼Œå…¨éƒ¨æ”¹ä¸ºé€šè¿‡ CDN é“¾æ¥è·å–ï¼Œåœ¨ <code>index.html</code> é‡Œæ’å…¥ ç›¸åº”é“¾æ¥ã€‚</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">&quot;stylesheet&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;https://cdn.bootcss.com/element-ui/2.0.7/theme-chalk/index.css&quot;</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://cdn.bootcss.com/vue/2.6.10/vue.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://cdn.bootcss.com/axios/0.19.0-beta.1/axios.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://cdn.bootcss.com/vuex/3.1.0/vuex.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://cdn.bootcss.com/vue-router/3.0.2/vue-router.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://cdn.bootcss.com/element-ui/2.6.1/index.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- built files will be auto injected --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>2ã€åœ¨ <code>webpack.config.js</code> é…ç½®æ–‡ä»¶</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\"> Â·Â·Â·</span><br><span class=\"line\">    <span class=\"attr\">externals</span>: &#123;</span><br><span class=\"line\">      <span class=\"string\">&#x27;vue&#x27;</span>: <span class=\"string\">&#x27;Vue&#x27;</span>,</span><br><span class=\"line\">      <span class=\"string\">&#x27;vuex&#x27;</span>: <span class=\"string\">&#x27;Vuex&#x27;</span>,</span><br><span class=\"line\">      <span class=\"string\">&#x27;vue-router&#x27;</span>: <span class=\"string\">&#x27;VueRouter&#x27;</span>,</span><br><span class=\"line\">      <span class=\"string\">&#x27;element-ui&#x27;</span>: <span class=\"string\">&#x27;ELEMENT&#x27;</span>,</span><br><span class=\"line\">      <span class=\"string\">&#x27;Axios&#x27;</span>:<span class=\"string\">&#x27;axios&#x27;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br></pre></td></tr></table></figure>\n\n<p>3ã€å¸è½½ä¾èµ–çš„ npm åŒ…</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm uninstall axios element-ui vue vue-router vuex</span><br></pre></td></tr></table></figure>\n\n<p>4ã€ä¿®æ”¹ <code>main.js</code> æ–‡ä»¶é‡Œä¹‹å‰çš„å¼•åŒ…æ–¹å¼</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// import Vue from &#x27;vue&#x27;</span></span><br><span class=\"line\"><span class=\"comment\">// import ElementUI from &#x27;element-ui&#x27;</span></span><br><span class=\"line\"><span class=\"comment\">// import &#x27;element-ui/lib/theme-chalk/index.css&#x27;</span></span><br><span class=\"line\"><span class=\"comment\">// import VueRouter from &#x27;vue-router&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">App</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./App.vue&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> routes <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./router&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> utils <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./utils/Utils&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title class_\">Vue</span>.<span class=\"title function_\">use</span>(<span class=\"variable constant_\">ELEMENT</span>)</span><br><span class=\"line\"><span class=\"title class_\">Vue</span>.<span class=\"title function_\">use</span>(<span class=\"title class_\">VueRouter</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> router = <span class=\"keyword\">new</span> <span class=\"title class_\">VueRouter</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">mode</span>: <span class=\"string\">&#x27;hash&#x27;</span>, <span class=\"comment\">//è·¯ç”±çš„æ¨¡å¼</span></span><br><span class=\"line\">  routes,</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">new</span> <span class=\"title class_\">Vue</span>(&#123;</span><br><span class=\"line\">  router,</span><br><span class=\"line\">  <span class=\"attr\">el</span>: <span class=\"string\">&#x27;#app&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">render</span>: <span class=\"function\">(<span class=\"params\">h</span>) =&gt;</span> <span class=\"title function_\">h</span>(<span class=\"title class_\">App</span>),</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"html-webpack-externals-plugin\"><a href=\"#html-webpack-externals-plugin\" class=\"headerlink\" title=\"html-webpack-externals-plugin\"></a>html-webpack-externals-plugin</h4><p>è¿™ç§æ–¹æ³•æ¯æ¬¡éƒ½éœ€è¦åœ¨ index.html æ¨¡æ¿ä¸­æ‰‹åŠ¨å¼•å…¥éœ€è¦çš„ cdn æ–‡ä»¶ï¼Œç„¶åè¿˜è¦åœ¨ webpack é‡Œé…ç½®ï¼Œæœ‰ç‚¹ç¹çäº†<br><code>html-webpack-externals-plugin</code>è¿™æ ·çš„æ’ä»¶å°±åº”è¿è€Œç”Ÿäº†ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// webpack.config.jsæ–‡ä»¶</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">HtmlWebpackExternalsPlugin</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;html-webpack-externals-plugin&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">HtmlWebpackExternalsPlugin</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">externals</span>: [</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          <span class=\"comment\">// å¼•å…¥çš„æ¨¡å—</span></span><br><span class=\"line\">          <span class=\"attr\">module</span>: <span class=\"string\">&#x27;jquery&#x27;</span>,</span><br><span class=\"line\">          <span class=\"comment\">// cdnçš„åœ°å€</span></span><br><span class=\"line\">          <span class=\"attr\">entry</span>: <span class=\"string\">&#x27;https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js&#x27;</span>,</span><br><span class=\"line\">          <span class=\"comment\">// æŒ‚è½½åˆ°äº†windowä¸Šçš„åç§°</span></span><br><span class=\"line\">          <span class=\"attr\">global</span>: <span class=\"string\">&#x27;jQuery&#x27;</span>,</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          <span class=\"attr\">module</span>: <span class=\"string\">&#x27;vue&#x27;</span>,</span><br><span class=\"line\">          <span class=\"attr\">entry</span>: <span class=\"string\">&#x27;https://cdn.bootcss.com/vue/2.6.10/vue.min.js&#x27;</span>,</span><br><span class=\"line\">          <span class=\"attr\">global</span>: <span class=\"string\">&#x27;Vue&#x27;</span>,</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">      ],</span><br><span class=\"line\">    &#125;),</span><br><span class=\"line\">  ],</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"8ã€å¤šè¿›ç¨‹è§£æå’Œå¤„ç†æ–‡ä»¶\"><a href=\"#8ã€å¤šè¿›ç¨‹è§£æå’Œå¤„ç†æ–‡ä»¶\" class=\"headerlink\" title=\"8ã€å¤šè¿›ç¨‹è§£æå’Œå¤„ç†æ–‡ä»¶\"></a>8ã€å¤šè¿›ç¨‹è§£æå’Œå¤„ç†æ–‡ä»¶</h2><p>ç”±äºè¿è¡Œåœ¨ Node.js ä¹‹ä¸Šçš„ webpack æ˜¯å•çº¿ç¨‹æ¨¡å‹çš„ï¼Œæ‰€ä»¥ webpack éœ€è¦å¤„ç†çš„äº‹æƒ…éœ€è¦ä¸€ä»¶ä¸€ä»¶çš„åšï¼Œä¸èƒ½å¤šä»¶äº‹ä¸€èµ·åšã€‚å½“ webpack éœ€è¦æ‰“åŒ…å¤§é‡æ–‡ä»¶æ—¶ï¼Œæ‰“åŒ…æ—¶é—´å°±ä¼šæ¯”è¾ƒæ¼«é•¿ã€‚</p>\n<p>ä»¥ä¸‹ä¸¤ä¸ªæ–¹æ³•èƒ½è®© webpack åœ¨åŒä¸€æ—¶åˆ»å¤„ç†å¤šä¸ªä»»åŠ¡å‘æŒ¥å¤šæ ¸ CPU ç”µè„‘çš„åŠŸèƒ½ï¼Œæå‡æ„å»ºé€Ÿåº¦ã€‚</p>\n<h4 id=\"thread-loader\"><a href=\"#thread-loader\" class=\"headerlink\" title=\"thread loader\"></a>thread loader</h4><p>æŠŠè¿™ä¸ª <code>thread loader</code> æ”¾ç½®åœ¨å…¶ä»– loader ä¹‹å‰ï¼Œ æ”¾ç½®åœ¨è¿™ä¸ª loader ä¹‹åçš„ loader å°±ä¼šåœ¨ä¸€ä¸ªå•ç‹¬çš„ worker æ± (worker pool)ä¸­è¿è¡Œã€‚</p>\n<p>åœ¨ worker æ± (worker pool)ä¸­è¿è¡Œçš„ loader æ˜¯å—åˆ°é™åˆ¶çš„ã€‚ä¾‹å¦‚ï¼š</p>\n<ul>\n<li>è¿™äº› loader ä¸èƒ½äº§ç”Ÿæ–°çš„æ–‡ä»¶ã€‚</li>\n<li>è¿™äº› loader ä¸èƒ½ä½¿ç”¨å®šåˆ¶çš„ loader APIï¼ˆä¹Ÿå°±æ˜¯è¯´ï¼Œé€šè¿‡æ’ä»¶ï¼‰ã€‚</li>\n<li>è¿™äº› loader æ— æ³•è·å– webpack çš„é€‰é¡¹è®¾ç½®ã€‚</li>\n</ul>\n<p>æ¯ä¸ª worker éƒ½æ˜¯ä¸€ä¸ªå•ç‹¬çš„æœ‰ 600ms é™åˆ¶çš„ node.js è¿›ç¨‹ã€‚åŒæ—¶è·¨è¿›ç¨‹çš„æ•°æ®äº¤æ¢ä¹Ÿä¼šè¢«é™åˆ¶ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">module</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">rules</span>: [</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.js$/</span>,</span><br><span class=\"line\">        <span class=\"attr\">include</span>: path.<span class=\"title function_\">resolve</span>(<span class=\"string\">&#x27;src&#x27;</span>),</span><br><span class=\"line\">        <span class=\"attr\">use</span>: [<span class=\"string\">&#x27;thread-loader&#x27;</span>, <span class=\"string\">&#x27;expensive-loader&#x27;</span>],</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">    ],</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"HappyPack\"><a href=\"#HappyPack\" class=\"headerlink\" title=\"HappyPack\"></a>HappyPack</h4><p><code>HappyPack</code> èƒ½è®© webpack æŠŠä»»åŠ¡åˆ†è§£ç»™å¤šä¸ªå­è¿›ç¨‹å»å¹¶å‘çš„æ‰§è¡Œï¼Œå­è¿›ç¨‹å¤„ç†å®Œåå†æŠŠç»“æœå‘é€ç»™ä¸»è¿›ç¨‹ã€‚è¦æ³¨æ„çš„æ˜¯ HappyPack å¯¹ file-loaderã€url-loader æ”¯æŒçš„ä¸å‹å¥½ï¼Œæ‰€ä»¥ä¸å»ºè®®å¯¹è¯¥ loader ä½¿ç”¨ã€‚</p>\n<p>ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p>\n<p>1ã€ HappyPack æ’ä»¶å®‰è£…</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm i -D happypack</span><br></pre></td></tr></table></figure>\n\n<p>2ã€ <code>webpack.base.conf.js</code> æ–‡ä»¶å¯¹ module.rules è¿›è¡Œé…ç½®</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">module</span>: &#123;</span><br><span class=\"line\">  <span class=\"attr\">rules</span>: [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.js$/</span>,</span><br><span class=\"line\">      <span class=\"attr\">use</span>: [<span class=\"string\">&#x27;happypack/loader?id=babel&#x27;</span>],</span><br><span class=\"line\">      <span class=\"attr\">include</span>: [<span class=\"title function_\">resolve</span>(<span class=\"string\">&#x27;src&#x27;</span>), <span class=\"title function_\">resolve</span>(<span class=\"string\">&#x27;test&#x27;</span>)],</span><br><span class=\"line\">      <span class=\"attr\">exclude</span>: path.<span class=\"title function_\">resolve</span>(__dirname, <span class=\"string\">&#x27;node_modules&#x27;</span>),</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.vue$/</span>,</span><br><span class=\"line\">      <span class=\"attr\">use</span>: [<span class=\"string\">&#x27;happypack/loader?id=vue&#x27;</span>],</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>3ã€åœ¨ç”Ÿäº§ç¯å¢ƒ <code>webpack.prod.conf.js</code> æ–‡ä»¶è¿›è¡Œé…ç½®</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">HappyPack</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;happypack&#x27;</span>)</span><br><span class=\"line\"><span class=\"comment\">// æ„é€ å‡ºå…±äº«è¿›ç¨‹æ± ï¼Œåœ¨è¿›ç¨‹æ± ä¸­åŒ…å«5ä¸ªå­è¿›ç¨‹</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">HappyPackThreadPool</span> = <span class=\"title class_\">HappyPack</span>.<span class=\"title class_\">ThreadPool</span>(&#123; <span class=\"attr\">size</span>: <span class=\"number\">5</span> &#125;)</span><br><span class=\"line\"><span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">  <span class=\"keyword\">new</span> <span class=\"title class_\">HappyPack</span>(&#123;</span><br><span class=\"line\">    <span class=\"comment\">// ç”¨å”¯ä¸€çš„æ ‡è¯†ç¬¦idï¼Œæ¥ä»£è¡¨å½“å‰çš„HappyPackæ˜¯ç”¨æ¥å¤„ç†ä¸€ç±»ç‰¹å®šçš„æ–‡ä»¶</span></span><br><span class=\"line\">    <span class=\"attr\">id</span>: <span class=\"string\">&#x27;babel&#x27;</span>,</span><br><span class=\"line\">    <span class=\"comment\">// å¦‚ä½•å¤„ç†.jsæ–‡ä»¶ï¼Œç”¨æ³•å’ŒLoaderé…ç½®ä¸­ä¸€æ ·</span></span><br><span class=\"line\">    <span class=\"attr\">loaders</span>: [<span class=\"string\">&#x27;babel-loader?cacheDirectory&#x27;</span>],</span><br><span class=\"line\">    <span class=\"attr\">threadPool</span>: <span class=\"title class_\">HappyPackThreadPool</span>,</span><br><span class=\"line\">  &#125;),</span><br><span class=\"line\">  <span class=\"keyword\">new</span> <span class=\"title class_\">HappyPack</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">id</span>: <span class=\"string\">&#x27;vue&#x27;</span>, <span class=\"comment\">// ç”¨å”¯ä¸€çš„æ ‡è¯†ç¬¦idï¼Œæ¥ä»£è¡¨å½“å‰çš„HappyPackæ˜¯ç”¨æ¥å¤„ç†ä¸€ç±»ç‰¹å®šçš„æ–‡ä»¶</span></span><br><span class=\"line\">    <span class=\"attr\">loaders</span>: [</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        <span class=\"attr\">loader</span>: <span class=\"string\">&#x27;vue-loader&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">options</span>: vueLoaderConfig,</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">    ],</span><br><span class=\"line\">    <span class=\"attr\">threadPool</span>: <span class=\"title class_\">HappyPackThreadPool</span>,</span><br><span class=\"line\">  &#125;),</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n\n<p><strong>æ³¨æ„ï¼Œå½“é¡¹ç›®è¾ƒå°æ—¶ï¼Œå¤šçº¿ç¨‹æ‰“åŒ…åè€Œä¼šä½¿æ‰“åŒ…é€Ÿåº¦å˜æ…¢ã€‚</strong></p>\n<h2 id=\"å¯ç”¨-gzip-å‹ç¼©\"><a href=\"#å¯ç”¨-gzip-å‹ç¼©\" class=\"headerlink\" title=\"å¯ç”¨ gzip å‹ç¼©\"></a>å¯ç”¨ gzip å‹ç¼©</h2><p>ä½¿ç”¨ Gzip ä¸¤ä¸ªæ˜æ˜¾çš„å¥½å¤„ï¼Œä¸€æ˜¯å¯ä»¥å‡å°‘å­˜å‚¨ç©ºé—´ï¼ŒäºŒæ˜¯é€šè¿‡ç½‘ç»œä¼ è¾“æ–‡ä»¶æ—¶ï¼Œå¯ä»¥å‡å°‘ä¼ è¾“çš„æ—¶é—´ã€‚</p>\n<p>1ã€å®‰è£…ä¾èµ–</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm i compression-webpack-plugin --save</span><br></pre></td></tr></table></figure>\n\n<p>2ã€åœ¨ vue.congig.js ä¸­å¼•å…¥å¹¶ä¿®æ”¹ webpack é…ç½®</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">CompressionPlugin</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;compression-webpack-plugin&#x27;</span>)</span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">configureWebpack</span>: <span class=\"function\">(<span class=\"params\">config</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (progress.<span class=\"property\">env</span>.<span class=\"property\">NODE_ENV</span> === <span class=\"string\">&#x27;production&#x27;</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">        <span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">          <span class=\"keyword\">new</span> <span class=\"title class_\">CompressionPlugin</span>(&#123;</span><br><span class=\"line\">            <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.js$|\\.html$|.\\css/</span>, <span class=\"comment\">//åŒ¹é…æ–‡ä»¶å</span></span><br><span class=\"line\">            <span class=\"attr\">threshold</span>: <span class=\"number\">10240</span>, <span class=\"comment\">//å¯¹è¶…è¿‡10kçš„æ•°æ®å‹ç¼©</span></span><br><span class=\"line\">            <span class=\"attr\">deleteOriginalAssets</span>: <span class=\"literal\">false</span>, <span class=\"comment\">//ä¸åˆ é™¤æºæ–‡ä»¶</span></span><br><span class=\"line\">          &#125;),</span><br><span class=\"line\">        ],</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ€»ç»“\"><a href=\"#æ€»ç»“\" class=\"headerlink\" title=\"æ€»ç»“\"></a>æ€»ç»“</h3><ol>\n<li>æ¯”è¾ƒå®ç”¨çš„æ–¹æ³•: æŒ‰éœ€åŠ è½½ï¼Œä¼˜åŒ– loader é…ç½®ï¼Œå…³é—­ç”Ÿäº§ç¯å¢ƒçš„ sourceMapï¼ŒCDN ä¼˜åŒ–ã€‚</li>\n<li>vue-cli å·²åšçš„ä¼˜åŒ–ï¼š ä»£ç å‹ç¼©ï¼Œæå–å…¬å…±ä»£ç ï¼Œå†ä¼˜åŒ–ç©ºé—´ä¸å¤§ã€‚</li>\n<li>æ ¹æ®é¡¹ç›®å®é™…éœ€è¦å’Œè‡ªèº«å¼€å‘æ°´å¹³é€‰æ‹©ä¼˜åŒ–æ–¹æ³•ï¼Œå¿…é¡»é¿å…å› ä¸ºä¼˜åŒ–äº§ç”Ÿ bugã€‚</li>\n</ol>\n"},{"title":"å¼€å‘è§„èŒƒåŠä»£ç ä¼˜åŒ–","url":"/LittleWhiteRabbit/2022/04/26/%E5%89%8D%E7%AB%AF%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83/","content":"<h1 id=\"vue-å¼€å‘è§„èŒƒåŠä»£ç ä¼˜åŒ–\"><a href=\"#vue-å¼€å‘è§„èŒƒåŠä»£ç ä¼˜åŒ–\" class=\"headerlink\" title=\"vue å¼€å‘è§„èŒƒåŠä»£ç ä¼˜åŒ–\"></a>vue å¼€å‘è§„èŒƒåŠä»£ç ä¼˜åŒ–</h1><p>æ‰€è°“æ— è§„çŸ©ä¸æˆæ–¹åœ†ï¼Œå‰ç«¯æ—¶é—´åœ¨å›¢é˜Ÿ <code>code-review</code> ä¸­å‘ç°ï¼Œä¸åŒæ—¶æœŸä¸åŒå¼€å‘äººå‘˜å†™çš„ä»£ç å¯è°“äº”èŠ±å…«é—¨ã€‚å› æ­¤æˆ‘ä»¬æå‡ºäº†ä¸€äº›ç›¸å…³ä»£ç æ–¹é¢çš„è§„èŒƒï¼Œå¸Œæœ›æ—¥åèƒ½å½¢æˆå›¢é˜Ÿçš„ç¼–ç è§„èŒƒã€‚</p>\n<p>åˆ¶å®šå¼€å‘è§„èŒƒçš„ç›®çš„</p>\n<ul>\n<li>ç»Ÿä¸€ç¼–ç é£æ ¼ï¼Œè§„èŒƒï¼Œæé«˜å›¢é˜Ÿåä½œæ•ˆç‡</li>\n<li>åœ¨å›¢é˜Ÿåä½œä¸­è¾“å‡ºå¯è¯»æ€§å¼ºï¼Œæ˜“ç»´æŠ¤ï¼Œé£æ ¼ä¸€è‡´çš„ä»£ç </li>\n</ul>\n<p>æœ¬æ–‡åœ¨gitthubåšäº†æ”¶å½•ï¼š<a href=\"https://github.com/Michael-lzg/my--article/blob/master/other/%E5%89%8D%E7%AB%AF%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83%E5%8F%8A%E4%BC%98%E5%8C%96.md\">https://github.com/Michael-lzg/my--article/blob/master/other/å‰ç«¯ä»£ç è§„èŒƒåŠä¼˜åŒ–.md</a></p>\n<span id=\"more\"></span>\n<h2 id=\"HTML-ç¯‡\"><a href=\"#HTML-ç¯‡\" class=\"headerlink\" title=\"HTML ç¯‡\"></a>HTML ç¯‡</h2><h4 id=\"å¯ç”¨æ ‡å‡†æ¨¡å¼\"><a href=\"#å¯ç”¨æ ‡å‡†æ¨¡å¼\" class=\"headerlink\" title=\"å¯ç”¨æ ‡å‡†æ¨¡å¼\"></a>å¯ç”¨æ ‡å‡†æ¨¡å¼</h4><p>ä½¿ç”¨ HTML5 çš„ <code>doctype</code> æ¥å¯ç”¨æ ‡å‡†æ¨¡å¼</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"ç»Ÿä¸€ä½¿ç”¨-UTF-8-ç¼–ç \"><a href=\"#ç»Ÿä¸€ä½¿ç”¨-UTF-8-ç¼–ç \" class=\"headerlink\" title=\"ç»Ÿä¸€ä½¿ç”¨ UTF-8 ç¼–ç \"></a>ç»Ÿä¸€ä½¿ç”¨ UTF-8 ç¼–ç </h4><figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;utf-8&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"ä¼˜å…ˆä½¿ç”¨-IE-æœ€æ–°ç‰ˆæœ¬å’Œ-Chrome\"><a href=\"#ä¼˜å…ˆä½¿ç”¨-IE-æœ€æ–°ç‰ˆæœ¬å’Œ-Chrome\" class=\"headerlink\" title=\"ä¼˜å…ˆä½¿ç”¨ IE æœ€æ–°ç‰ˆæœ¬å’Œ Chrome\"></a>ä¼˜å…ˆä½¿ç”¨ IE æœ€æ–°ç‰ˆæœ¬å’Œ Chrome</h4><figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">&quot;X-UA-Compatible&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;IE=edge,chrome=1&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"ç§»åŠ¨è®¾å¤‡æ·»åŠ -viewport\"><a href=\"#ç§»åŠ¨è®¾å¤‡æ·»åŠ -viewport\" class=\"headerlink\" title=\"ç§»åŠ¨è®¾å¤‡æ·»åŠ  viewport\"></a>ç§»åŠ¨è®¾å¤‡æ·»åŠ  viewport</h4><figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;viewport&quot;</span> <span class=\"attr\">content</span>=<span class=\"string\">&quot;initial-scale=1, maximum-scale=3, minimum-scale=1, user-scalable=no&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"è‡ªé—­åˆæ ‡ç­¾æ— éœ€é—­åˆ\"><a href=\"#è‡ªé—­åˆæ ‡ç­¾æ— éœ€é—­åˆ\" class=\"headerlink\" title=\"è‡ªé—­åˆæ ‡ç­¾æ— éœ€é—­åˆ\"></a>è‡ªé—­åˆæ ‡ç­¾æ— éœ€é—­åˆ</h4><p>ä¾‹å¦‚ï¼š <code>img</code>ï¼Œ <code>input</code>ï¼Œ <code>br</code>ï¼Œ <code>hr</code> ç­‰</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://xxx.png&quot;</span> <span class=\"attr\">alt</span>=<span class=\"string\">&quot;Google&quot;</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">br</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;title&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"ä½¿ç”¨è¯­ä¹‰åŒ–æ ‡ç­¾\"><a href=\"#ä½¿ç”¨è¯­ä¹‰åŒ–æ ‡ç­¾\" class=\"headerlink\" title=\"ä½¿ç”¨è¯­ä¹‰åŒ–æ ‡ç­¾\"></a>ä½¿ç”¨è¯­ä¹‰åŒ–æ ‡ç­¾</h4><p>html çš„æ ‡ç­¾èƒ½ä½¿ç”¨è¯­ä¹‰åŒ–çš„ï¼Œå°½é‡ä½¿ç”¨è¯­ä¹‰åŒ–æ ‡ç­¾ï¼Œé¿å…ä¸€ä¸ªé¡µé¢éƒ½æ˜¯ div æˆ–è€… p æ ‡ç­¾</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- bad --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- good --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">header</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">header</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">footer</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">footer</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"å±æ€§é¡ºåºè¦æ±‚\"><a href=\"#å±æ€§é¡ºåºè¦æ±‚\" class=\"headerlink\" title=\"å±æ€§é¡ºåºè¦æ±‚\"></a>å±æ€§é¡ºåºè¦æ±‚</h4><p>HTML å±æ€§åº”è¯¥æŒ‰ç…§ç‰¹å®šçš„é¡ºåºå‡ºç°ä»¥ä¿è¯æ˜“è¯»æ€§ã€‚</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">id</span><br><span class=\"line\">class</span><br><span class=\"line\">name</span><br><span class=\"line\">data-xxx</span><br><span class=\"line\">src, for, type, href</span><br><span class=\"line\">title, alt</span><br><span class=\"line\">aria-xxx, role</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"CSS-ç¯‡\"><a href=\"#CSS-ç¯‡\" class=\"headerlink\" title=\"CSS ç¯‡\"></a>CSS ç¯‡</h2><h4 id=\"BEM-å‘½ååŸåˆ™\"><a href=\"#BEM-å‘½ååŸåˆ™\" class=\"headerlink\" title=\"BEM å‘½ååŸåˆ™\"></a>BEM å‘½ååŸåˆ™</h4><ul>\n<li>blockï¼šæ¨¡å—ï¼Œåå­—å•è¯é—´ç”¨ - è¿æ¥</li>\n<li>elementï¼šå…ƒç´ ï¼Œæ¨¡å—çš„å­å…ƒç´ ï¼Œä»¥ __ ä¸ block è¿æ¥</li>\n<li>modifierï¼šä¿®é¥°ï¼Œæ¨¡å—çš„å˜ä½“ï¼Œå®šä¹‰ç‰¹æ®Šæ¨¡å—ï¼Œä»¥ â€“ ä¸ block è¿æ¥</li>\n</ul>\n<figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* ä¸¾ä¸ªä¾‹å­ */</span></span><br><span class=\"line\"><span class=\"selector-class\">.block__element</span> &#123;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.block--modifier</span> &#123;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"æœ‰æ•ˆä½¿ç”¨-css-é€‰æ‹©å™¨\"><a href=\"#æœ‰æ•ˆä½¿ç”¨-css-é€‰æ‹©å™¨\" class=\"headerlink\" title=\"æœ‰æ•ˆä½¿ç”¨ css é€‰æ‹©å™¨\"></a>æœ‰æ•ˆä½¿ç”¨ css é€‰æ‹©å™¨</h4><p>é€‰æ‹©å™¨åµŒå¥—åº”å°‘äº 3 çº§</p>\n<figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* bad */</span></span><br><span class=\"line\"><span class=\"selector-class\">.page</span> <span class=\"selector-class\">.header</span> <span class=\"selector-class\">.login</span> <span class=\"selector-id\">#username</span> <span class=\"selector-tag\">input</span> &#123;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* good */</span></span><br><span class=\"line\"><span class=\"selector-id\">#username</span> <span class=\"selector-tag\">input</span> &#123;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æœ‰æ•ˆä½¿ç”¨ css é€‰æ‹©å™¨ï¼Œå› éµå¾ªä»¥ä¸‹åŸåˆ™</p>\n<ul>\n<li>ä¿æŒç®€å•ï¼Œä¸è¦ä½¿ç”¨åµŒå¥—è¿‡å¤šè¿‡äºå¤æ‚çš„é€‰æ‹©å™¨ã€‚</li>\n<li>é€šé…ç¬¦å’Œå±æ€§é€‰æ‹©å™¨æ•ˆç‡æœ€ä½ï¼Œéœ€è¦åŒ¹é…çš„å…ƒç´ æœ€å¤šï¼Œå°½é‡é¿å…ä½¿ç”¨ã€‚</li>\n<li>ä¸è¦ä½¿ç”¨ç±»é€‰æ‹©å™¨å’Œ ID é€‰æ‹©å™¨ä¿®é¥°å…ƒç´ æ ‡ç­¾ã€‚</li>\n<li>ä¸è¦ä¸ºäº†è¿½æ±‚é€Ÿåº¦è€Œæ”¾å¼ƒå¯è¯»æ€§ä¸å¯ç»´æŠ¤æ€§</li>\n<li>é¿å…ä½¿ç”¨ CSS è¡¨è¾¾å¼</li>\n</ul>\n<h4 id=\"æ…é‡é€‰æ‹©é«˜æ¶ˆè€—çš„æ ·å¼\"><a href=\"#æ…é‡é€‰æ‹©é«˜æ¶ˆè€—çš„æ ·å¼\" class=\"headerlink\" title=\"æ…é‡é€‰æ‹©é«˜æ¶ˆè€—çš„æ ·å¼\"></a>æ…é‡é€‰æ‹©é«˜æ¶ˆè€—çš„æ ·å¼</h4><p>é«˜æ¶ˆè€—å±æ€§åœ¨ç»˜åˆ¶å‰éœ€è¦æµè§ˆå™¨è¿›è¡Œå¤§é‡è®¡ç®—ï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">box-shadows</span><br><span class=\"line\">border-radius</span><br><span class=\"line\">transparency</span><br><span class=\"line\">transforms</span><br><span class=\"line\">CSS filtersï¼ˆæ€§èƒ½æ€æ‰‹ï¼‰</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"é¿å…é‡ç»˜é‡æ’\"><a href=\"#é¿å…é‡ç»˜é‡æ’\" class=\"headerlink\" title=\"é¿å…é‡ç»˜é‡æ’\"></a>é¿å…é‡ç»˜é‡æ’</h4><p>å½“å‘ç”Ÿé‡æ’çš„æ—¶å€™ï¼Œæµè§ˆå™¨éœ€è¦é‡æ–°è®¡ç®—å¸ƒå±€ä½ç½®ä¸å¤§å°ï¼Œä¸åˆ©äºæ€§èƒ½ä¼˜åŒ–ã€‚</p>\n<p>å¸¸è§å¼•èµ·é‡ç»˜é‡æ’å±æ€§å’Œæ–¹æ³•</p>\n<ul>\n<li>æ·»åŠ æˆ–è€…åˆ é™¤å¯è§çš„ <code>DOM</code> å…ƒç´ ï¼›</li>\n<li>å…ƒç´ å°ºå¯¸æ”¹å˜â€”â€”è¾¹è·ã€å¡«å……ã€è¾¹æ¡†ã€å®½åº¦å’Œé«˜åº¦</li>\n<li>å†…å®¹å˜åŒ–ï¼Œæ¯”å¦‚ç”¨æˆ·åœ¨ <code>input</code> æ¡†ä¸­è¾“å…¥æ–‡å­—</li>\n<li>æµè§ˆå™¨çª—å£å°ºå¯¸æ”¹å˜â€”â€”<code>resize</code> äº‹ä»¶å‘ç”Ÿæ—¶</li>\n<li>è®¡ç®— <code>offsetWidth</code> å’Œ <code>offsetHeight</code> å±æ€§</li>\n<li>è®¾ç½® <code>style</code> å±æ€§çš„å€¼</li>\n</ul>\n<p>å‡å°‘é‡ç»˜é‡æ’çš„æ–¹æ³•</p>\n<ul>\n<li>ä½¿ç”¨ <code>transform</code> æ›¿ä»£ <code>top</code></li>\n<li>ä½¿ç”¨ <code>visibility</code> æ›¿æ¢ <code>display: none</code> ï¼Œå› ä¸ºå‰è€…åªä¼šå¼•èµ·é‡ç»˜ï¼Œåè€…ä¼šå¼•å‘å›æµï¼ˆæ”¹å˜äº†å¸ƒå±€ï¼‰</li>\n<li>ä¸è¦æŠŠèŠ‚ç‚¹çš„å±æ€§å€¼æ”¾åœ¨ä¸€ä¸ªå¾ªç¯é‡Œå½“æˆå¾ªç¯é‡Œçš„å˜é‡ã€‚</li>\n<li>ä¸è¦ä½¿ç”¨ <code>table</code> å¸ƒå±€ï¼Œå¯èƒ½å¾ˆå°çš„ä¸€ä¸ªå°æ”¹åŠ¨ä¼šé€ æˆæ•´ä¸ª <code>table</code> çš„é‡æ–°å¸ƒå±€</li>\n<li>åŠ¨ç”»å®ç°çš„é€Ÿåº¦çš„é€‰æ‹©ï¼ŒåŠ¨ç”»é€Ÿåº¦è¶Šå¿«ï¼Œå›æµæ¬¡æ•°è¶Šå¤šï¼Œä¹Ÿå¯ä»¥é€‰æ‹©ä½¿ç”¨ <code>requestAnimationFrame</code></li>\n<li>CSS é€‰æ‹©ç¬¦ä»å³å¾€å·¦åŒ¹é…æŸ¥æ‰¾ï¼Œé¿å…èŠ‚ç‚¹å±‚çº§è¿‡å¤š</li>\n</ul>\n<h2 id=\"Javascript-ç¯‡\"><a href=\"#Javascript-ç¯‡\" class=\"headerlink\" title=\"Javascript ç¯‡\"></a>Javascript ç¯‡</h2><h4 id=\"å…³äºå‘½å\"><a href=\"#å…³äºå‘½å\" class=\"headerlink\" title=\"å…³äºå‘½å\"></a>å…³äºå‘½å</h4><p>æ™®é€šå‘½åé‡‡ç”¨å°é©¼å³°å¼å‘½å</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> userName = <span class=\"string\">&#x27;jack&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<p>å‘½åæ˜¯å¤æ•°çš„æ—¶å€™éœ€è¦åŠ  sï¼Œæ¯”å¦‚è¯´æˆ‘æƒ³å£°æ˜ä¸€ä¸ªæ•°ç»„ï¼Œè¡¨ç¤ºå¾ˆå¤šäººçš„åå­—</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> names = <span class=\"keyword\">new</span> <span class=\"title class_\">Array</span>()</span><br></pre></td></tr></table></figure>\n\n<p>æ¯ä¸ªå¸¸é‡éƒ½éœ€å‘½åï¼Œè¿™æ ·æ›´åˆ©äºåˆ«äººè¯»æ‡‚å«ä¹‰</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// good</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"variable constant_\">COL_NUM</span> = <span class=\"number\">10</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> row = <span class=\"title class_\">Math</span>.<span class=\"title function_\">ceil</span>(num / <span class=\"variable constant_\">COL_NUM</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// bad</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> row = <span class=\"title class_\">Math</span>.<span class=\"title function_\">ceil</span>(num / <span class=\"number\">10</span>)</span><br></pre></td></tr></table></figure>\n\n<p>å‘½åéœ€è¦ç¬¦åˆè¯­ä¹‰åŒ–ï¼Œå¦‚æœå‡½æ•°å‘½åï¼Œå¯ä»¥é‡‡ç”¨åŠ ä¸ŠåŠ¨è¯å‰ç¼€ï¼š</p>\n<ul>\n<li>can åˆ¤æ–­æ˜¯å¦å¯æ‰§è¡ŒæŸä¸ªåŠ¨ä½œ</li>\n<li>has åˆ¤æ–­æ˜¯å¦å«æœ‰æŸä¸ªå€¼</li>\n<li>is åˆ¤æ–­æ˜¯å¦ä¸ºæŸä¸ªå€¼</li>\n<li>get è·å–æŸä¸ªå€¼</li>\n<li>set è®¾ç½®æŸä¸ªå€¼</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//æ˜¯å¦å¯é˜…è¯»</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">canRead</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">   <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//è·å–å§“å</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> getName&#123;</span><br><span class=\"line\">   <span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"property\">name</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"å…³äºå­—ç¬¦ä¸²\"><a href=\"#å…³äºå­—ç¬¦ä¸²\" class=\"headerlink\" title=\"å…³äºå­—ç¬¦ä¸²\"></a>å…³äºå­—ç¬¦ä¸²</h4><p>ç»Ÿä¸€ä½¿ç”¨å•å¼•å·è€Œä¸æ˜¯åŒå¼•å·</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// bad</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> name = <span class=\"string\">&#x27;jack&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// good</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> name = <span class=\"string\">&#x27;jack&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<p>ç”¨å­—ç¬¦ä¸²æ¨¡æ¿è€Œä¸æ˜¯ â€˜+â€™ æ¥æ‹¼æ¥å­—ç¬¦ä¸²</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">sayHi</span>(<span class=\"params\">name</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"string\">&#x27;How are you, &#x27;</span> + name + <span class=\"string\">&#x27;?&#x27;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// good</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">sayHi</span>(<span class=\"params\">name</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"string\">`How are you, <span class=\"subst\">$&#123;name&#125;</span>?`</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"å…³äºæ•°ç»„\"><a href=\"#å…³äºæ•°ç»„\" class=\"headerlink\" title=\"å…³äºæ•°ç»„\"></a>å…³äºæ•°ç»„</h4><p>ç”¨å­—é¢é‡èµ‹å€¼</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// bad</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> items = <span class=\"keyword\">new</span> <span class=\"title class_\">Array</span>()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// good</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> items = []</span><br></pre></td></tr></table></figure>\n\n<p>ç”¨æ‰©å±•è¿ç®—ç¬¦åšæ•°ç»„æµ…æ‹·è´</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// bad</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> arr = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>]</span><br><span class=\"line\"><span class=\"keyword\">const</span> len = arr.<span class=\"property\">length</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> copyArr = []</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; len; i += <span class=\"number\">1</span>) &#123;</span><br><span class=\"line\">  copyArr[i] = arr[i]</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// good</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> copyArr = [...arr]</span><br></pre></td></tr></table></figure>\n\n<p>ç”¨ Array.from å»å°†ä¸€ä¸ªç±»æ•°ç»„å¯¹è±¡è½¬æˆä¸€ä¸ªæ•°ç»„ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> arrLike = &#123; <span class=\"number\">0</span>: <span class=\"string\">&#x27;foo&#x27;</span>, <span class=\"number\">1</span>: <span class=\"string\">&#x27;bar&#x27;</span>, <span class=\"number\">2</span>: <span class=\"string\">&#x27;baz&#x27;</span>, <span class=\"attr\">length</span>: <span class=\"number\">3</span> &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// bad</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> arr = <span class=\"title class_\">Array</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">slice</span>.<span class=\"title function_\">call</span>(arrLike)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// good</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> arr = <span class=\"title class_\">Array</span>.<span class=\"title function_\">from</span>(arrLike)</span><br></pre></td></tr></table></figure>\n\n<p>ä½¿ç”¨æ•°ç»„è§£æ„</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> arr = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// bad</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> first = arr[<span class=\"number\">0</span>]</span><br><span class=\"line\"><span class=\"keyword\">const</span> second = arr[<span class=\"number\">1</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// good</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> [first, second] = arr</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"å…³äºå¯¹è±¡\"><a href=\"#å…³äºå¯¹è±¡\" class=\"headerlink\" title=\"å…³äºå¯¹è±¡\"></a>å…³äºå¯¹è±¡</h4><p>åˆ›å»ºå¯¹è±¡å’Œæ•°ç»„æ¨èä½¿ç”¨å­—é¢é‡ï¼Œå› ä¸ºè¿™ä¸ä»…æ˜¯æ€§èƒ½æœ€ä¼˜ä¹Ÿæœ‰åŠ©äºèŠ‚çœä»£ç é‡ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// good</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> obj = &#123;</span><br><span class=\"line\">  <span class=\"attr\">name</span>: <span class=\"string\">&#x27;Tom&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">age</span>: <span class=\"number\">15</span>,</span><br><span class=\"line\">  <span class=\"attr\">sex</span>: <span class=\"string\">&#x27;ç”·&#x27;</span>,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// bad</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> obj = &#123;&#125;</span><br><span class=\"line\">obj.<span class=\"property\">name</span> = <span class=\"string\">&#x27;Tom&#x27;</span></span><br><span class=\"line\">obj.<span class=\"property\">age</span> = <span class=\"number\">15</span></span><br><span class=\"line\">obj.<span class=\"property\">sex</span> = <span class=\"string\">&#x27;ç”·&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<p>ES6 ä½¿ç”¨å±æ€§å€¼ç¼©å†™</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> lukeSkywalker = <span class=\"string\">&#x27;Luke Skywalker&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// bad</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> obj = &#123;</span><br><span class=\"line\">  <span class=\"attr\">lukeSkywalker</span>: lukeSkywalker,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// good</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> obj = &#123;</span><br><span class=\"line\">  lukeSkywalker,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>å°†å±æ€§çš„ç¼©å†™æ”¾åœ¨å¯¹è±¡å£°æ˜çš„å¼€å¤´</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> anakinSkywalker = <span class=\"string\">&#x27;Anakin Skywalker&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> lukeSkywalker = <span class=\"string\">&#x27;Luke Skywalker&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// bad</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> obj = &#123;</span><br><span class=\"line\">  <span class=\"attr\">episodeOne</span>: <span class=\"number\">1</span>,</span><br><span class=\"line\">  <span class=\"attr\">twoJediWalkIntoACantina</span>: <span class=\"number\">2</span>,</span><br><span class=\"line\">  lukeSkywalker,</span><br><span class=\"line\">  <span class=\"attr\">episodeThree</span>: <span class=\"number\">3</span>,</span><br><span class=\"line\">  <span class=\"attr\">mayTheFourth</span>: <span class=\"number\">4</span>,</span><br><span class=\"line\">  anakinSkywalker,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// good</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> obj = &#123;</span><br><span class=\"line\">  lukeSkywalker,</span><br><span class=\"line\">  anakinSkywalker,</span><br><span class=\"line\">  <span class=\"attr\">episodeOne</span>: <span class=\"number\">1</span>,</span><br><span class=\"line\">  <span class=\"attr\">twoJediWalkIntoACantina</span>: <span class=\"number\">2</span>,</span><br><span class=\"line\">  <span class=\"attr\">episodeThree</span>: <span class=\"number\">3</span>,</span><br><span class=\"line\">  <span class=\"attr\">mayTheFourth</span>: <span class=\"number\">4</span>,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>å¯¹è±¡æµ…æ‹·è´æ—¶ï¼Œæ›´æ¨èä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦ â€¦ï¼Œè€Œä¸æ˜¯ Object.assignã€‚è§£æ„èµ‹å€¼è·å–å¯¹è±¡æŒ‡å®šçš„å‡ ä¸ªå±æ€§æ—¶ï¼Œæ¨èç”¨ rest è¿ç®—ç¬¦ï¼Œä¹Ÿæ˜¯ â€¦ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// very bad</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> original = &#123; <span class=\"attr\">a</span>: <span class=\"number\">1</span>, <span class=\"attr\">b</span>: <span class=\"number\">2</span> &#125;</span><br><span class=\"line\"><span class=\"keyword\">const</span> copy = <span class=\"title class_\">Object</span>.<span class=\"title function_\">assign</span>(original, &#123; <span class=\"attr\">c</span>: <span class=\"number\">3</span> &#125;)</span><br><span class=\"line\"><span class=\"keyword\">delete</span> copy.<span class=\"property\">a</span> <span class=\"comment\">//  æ”¹å˜äº† original</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// bad</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> original = &#123; <span class=\"attr\">a</span>: <span class=\"number\">1</span>, <span class=\"attr\">b</span>: <span class=\"number\">2</span> &#125;</span><br><span class=\"line\"><span class=\"keyword\">const</span> copy = <span class=\"title class_\">Object</span>.<span class=\"title function_\">assign</span>(&#123;&#125;, original, &#123; <span class=\"attr\">c</span>: <span class=\"number\">3</span> &#125;) <span class=\"comment\">// copy =&gt; &#123; a: 1, b: 2, c: 3 &#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// good</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> original = &#123; <span class=\"attr\">a</span>: <span class=\"number\">1</span>, <span class=\"attr\">b</span>: <span class=\"number\">2</span> &#125;</span><br><span class=\"line\"><span class=\"keyword\">const</span> copy = &#123; ...original, <span class=\"attr\">c</span>: <span class=\"number\">3</span> &#125; <span class=\"comment\">// copy =&gt; &#123; a: 1, b: 2, c: 3 &#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> &#123; a, ...noA &#125; = copy <span class=\"comment\">// noA =&gt; &#123; b: 2, c: 3 &#125;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"å…³äºå‡½æ•°\"><a href=\"#å…³äºå‡½æ•°\" class=\"headerlink\" title=\"å…³äºå‡½æ•°\"></a>å…³äºå‡½æ•°</h4><p>å‡½æ•°å‚æ•°ä½¿ç”¨é»˜è®¤å€¼æ›¿ä»£ä½¿ç”¨æ¡ä»¶è¯­å¥è¿›è¡Œèµ‹å€¼ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// good</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">createMicrobrewery</span>(<span class=\"params\">name = <span class=\"string\">&#x27;Jack&#x27;</span></span>) &#123;</span><br><span class=\"line\">   ...</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// bad</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">createMicrobrewery</span>(<span class=\"params\">name</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> userNameName = name || <span class=\"string\">&#x27;Jack&#x27;</span></span><br><span class=\"line\">   ...</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>å‡½æ•°å‚æ•°ä½¿ç”¨ç»“æ„è¯­æ³•ï¼Œå‡½æ•°å‚æ•°è¶Šå°‘è¶Šå¥½ï¼Œå¦‚æœå‚æ•°è¶…è¿‡ä¸¤ä¸ªï¼Œè¦ä½¿ç”¨ ES6 çš„è§£æ„è¯­æ³•ï¼Œä¸ç”¨è€ƒè™‘å‚æ•°çš„é¡ºåºã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// good</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">createMenu</span>(<span class=\"params\">&#123; title, body, buttonText, cancellable &#125;</span>) &#123;</span><br><span class=\"line\">   ...</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">createMenu</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">title</span>:  <span class=\"string\">&#x27;Foo&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">body</span>: <span class=\"string\">&#x27;Bar&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">buttonText</span>: <span class=\"string\">&#x27;Baz&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">cancellable</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// bad</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">createMenu</span>(<span class=\"params\">title, body, buttonText, cancellable</span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ä¼˜å…ˆä½¿ç”¨ rest è¯­æ³•â€¦ï¼Œè€Œä¸æ˜¯ arguments</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// bad</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">concatenateAll</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> args = <span class=\"title class_\">Array</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">slice</span>.<span class=\"title function_\">call</span>(<span class=\"variable language_\">arguments</span>)</span><br><span class=\"line\">  <span class=\"keyword\">return</span> args.<span class=\"title function_\">join</span>(<span class=\"string\">&#x27;&#x27;</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// good</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">concatenateAll</span>(<span class=\"params\">...args</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> args.<span class=\"title function_\">join</span>(<span class=\"string\">&#x27;&#x27;</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æŠŠé»˜è®¤å‚æ•°èµ‹å€¼æ”¾åœ¨æœ€å</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// bad</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">handleThings</span>(<span class=\"params\">opts = &#123;&#125;, name</span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// good</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">handleThings</span>(<span class=\"params\">name, opts = &#123;&#125;</span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>å°½é‡ä½¿ç”¨ç®­å¤´å‡½æ•°</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// bad</span></span><br><span class=\"line\">;[<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>]</span><br><span class=\"line\">  .<span class=\"title function_\">map</span>(<span class=\"keyword\">function</span> (<span class=\"params\">x</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> y = x + <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> x * y</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">  [</span><br><span class=\"line\">    <span class=\"comment\">// good</span></span><br><span class=\"line\">    (<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>)</span><br><span class=\"line\">  ].<span class=\"title function_\">map</span>(<span class=\"function\">(<span class=\"params\">x</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> y = x + <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> x * y</span><br><span class=\"line\">  &#125;)</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"å…³äºæ¨¡å—\"><a href=\"#å…³äºæ¨¡å—\" class=\"headerlink\" title=\"å…³äºæ¨¡å—\"></a>å…³äºæ¨¡å—</h4><p>åœ¨éæ ‡å‡†æ¨¡å—ç³»ç»Ÿä¸Šä½¿ç”¨(import&#x2F;export)</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// bad</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">AirbnbStyleGuide</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;./AirbnbStyleGuide&#x27;</span>)</span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = <span class=\"title class_\">AirbnbStyleGuide</span>.<span class=\"property\">es6</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ok</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">AirbnbStyleGuide</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./AirbnbStyleGuide&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"title class_\">AirbnbStyleGuide</span>.<span class=\"property\">es6</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// best</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; es6 &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./AirbnbStyleGuide&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> es6</span><br></pre></td></tr></table></figure>\n\n<p>ä¸€ä¸ªå…¥å£åª import ä¸€æ¬¡</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// bad</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> foo <span class=\"keyword\">from</span> <span class=\"string\">&#x27;foo&#x27;</span></span><br><span class=\"line\"><span class=\"comment\">// â€¦ some other imports â€¦ //</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; named1, named2 &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;foo&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// good</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> foo, &#123; named1, named2 &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;foo&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<p>åœ¨åªæœ‰ä¸€ä¸ªå¯¼å‡ºçš„æ¨¡å—é‡Œï¼Œç”¨ export default æ›´å¥½</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// bad</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">function</span> <span class=\"title function_\">foo</span>(<span class=\"params\"></span>) &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// good</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"keyword\">function</span> <span class=\"title function_\">foo</span>(<span class=\"params\"></span>) &#123;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"for-å¾ªç¯\"><a href=\"#for-å¾ªç¯\" class=\"headerlink\" title=\"for å¾ªç¯\"></a>for å¾ªç¯</h4><p>ä½¿ç”¨ for å¾ªç¯è¿‡ç¨‹ä¸­ï¼Œæ•°ç»„çš„é•¿åº¦ï¼Œä½¿ç”¨ä¸€ä¸ªå˜é‡æ¥æ¥æ”¶ï¼Œè¿™æ ·æœ‰åˆ©äºä»£ç æ‰§è¡Œæ•ˆç‡å¾—åˆ°æé«˜ï¼Œè€Œä¸æ˜¯æ¯èµ°ä¸€æ¬¡å¾ªç¯ï¼Œéƒ½å¾—é‡æ–°è®¡ç®—æ•°ç»„é•¿åº¦</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// bad</span></span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i=<span class=\"number\">0</span>;i&lt;arr.<span class=\"property\">length</span>,i++)&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// good</span></span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i=<span class=\"number\">0</span>;i&lt;arr.<span class=\"property\">length</span>,i++)&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Vue-ç¯‡\"><a href=\"#Vue-ç¯‡\" class=\"headerlink\" title=\"Vue ç¯‡\"></a>Vue ç¯‡</h2><h4 id=\"Prop-å®šä¹‰å°½é‡è¯¦ç»†ã€‚\"><a href=\"#Prop-å®šä¹‰å°½é‡è¯¦ç»†ã€‚\" class=\"headerlink\" title=\"Prop å®šä¹‰å°½é‡è¯¦ç»†ã€‚\"></a>Prop å®šä¹‰å°½é‡è¯¦ç»†ã€‚</h4><p><code>prop</code> çš„å®šä¹‰åº”è¯¥å°½é‡è¯¦ç»†ï¼Œè‡³å°‘éœ€è¦æŒ‡å®šå…¶ç±»å‹ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// bad</span></span><br><span class=\"line\"><span class=\"attr\">props</span>: [<span class=\"string\">&#x27;status&#x27;</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// good</span></span><br><span class=\"line\"><span class=\"attr\">props</span>: &#123;</span><br><span class=\"line\">  <span class=\"attr\">status</span>: <span class=\"title class_\">String</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// better</span></span><br><span class=\"line\"><span class=\"attr\">props</span>: &#123;</span><br><span class=\"line\">  <span class=\"attr\">status</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">type</span>: <span class=\"title class_\">String</span>,</span><br><span class=\"line\">    <span class=\"attr\">required</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"attr\">validator</span>: <span class=\"keyword\">function</span> (<span class=\"params\">value</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> [<span class=\"string\">&#x27;syncing&#x27;</span>,<span class=\"string\">&#x27;synced&#x27;</span>,<span class=\"string\">&#x27;version-conflict&#x27;</span>,<span class=\"string\">&#x27;error&#x27;</span>].<span class=\"title function_\">indexOf</span>(value) !== -<span class=\"number\">1</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"v-for-éå†å¿…é¡»æ·»åŠ -key\"><a href=\"#v-for-éå†å¿…é¡»æ·»åŠ -key\" class=\"headerlink\" title=\"v-for éå†å¿…é¡»æ·»åŠ  key\"></a>v-for éå†å¿…é¡»æ·»åŠ  key</h4><p>åœ¨åˆ—è¡¨æ•°æ®è¿›è¡Œéå†æ¸²æŸ“æ—¶ï¼Œéœ€è¦ä¸ºæ¯ä¸€é¡¹ <code>item</code> è®¾ç½®å”¯ä¸€ <code>key</code> å€¼ï¼Œæ–¹ä¾¿ Vue.js å†…éƒ¨æœºåˆ¶ç²¾å‡†æ‰¾åˆ°è¯¥æ¡åˆ—è¡¨æ•°æ®ã€‚å½“ <code>state</code> æ›´æ–°æ—¶ï¼Œæ–°çš„çŠ¶æ€å€¼å’Œæ—§çš„çŠ¶æ€å€¼å¯¹æ¯”ï¼Œè¾ƒå¿«åœ°å®šä½åˆ° <code>diff</code> ã€‚</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- bad --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;todo in todos&quot;</span>&gt;</span>&#123;&#123; todo.text &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- good --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;todo in todos&quot;</span> <span class=\"attr\">:key</span>=<span class=\"string\">&quot;todo.id&quot;</span>&gt;</span>&#123;&#123; todo.text &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"v-if-å’Œ-v-for-ä¸è¦ç”¨åœ¨åŒä¸€ä¸ªå…ƒç´ ä¸Šã€‚\"><a href=\"#v-if-å’Œ-v-for-ä¸è¦ç”¨åœ¨åŒä¸€ä¸ªå…ƒç´ ä¸Šã€‚\" class=\"headerlink\" title=\"v-if å’Œ v-for ä¸è¦ç”¨åœ¨åŒä¸€ä¸ªå…ƒç´ ä¸Šã€‚\"></a>v-if å’Œ v-for ä¸è¦ç”¨åœ¨åŒä¸€ä¸ªå…ƒç´ ä¸Šã€‚</h4><p><code>v-for</code> æ¯” <code>v-if</code> ä¼˜å…ˆçº§é«˜ï¼Œå¦‚æœæ¯ä¸€æ¬¡éƒ½éœ€è¦éå†æ•´ä¸ªæ•°ç»„ï¼Œå°†ä¼šå½±å“é€Ÿåº¦ï¼Œå°¤å…¶æ˜¯å½“ä¹‹éœ€è¦æ¸²æŸ“å¾ˆå°ä¸€éƒ¨åˆ†çš„æ—¶å€™ã€‚</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- bad --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;user in users&quot;</span> <span class=\"attr\">v-if</span>=<span class=\"string\">&quot;shouldShowUsers&quot;</span> <span class=\"attr\">:key</span>=<span class=\"string\">&quot;user.id&quot;</span>&gt;</span>&#123;&#123; user.name &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- good --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">ul</span> <span class=\"attr\">v-if</span>=<span class=\"string\">&quot;shouldShowUsers&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;user in users&quot;</span> <span class=\"attr\">:key</span>=<span class=\"string\">&quot;user.id&quot;</span>&gt;</span>&#123;&#123; user.name &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"ç»„ä»¶çš„-data-å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°\"><a href=\"#ç»„ä»¶çš„-data-å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°\" class=\"headerlink\" title=\"ç»„ä»¶çš„ data å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°\"></a>ç»„ä»¶çš„ data å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°</h4><p>JS ä¸­çš„å®ä¾‹æ˜¯é€šè¿‡æ„é€ å‡½æ•°æ¥åˆ›å»ºçš„ï¼Œæ¯ä¸ªæ„é€ å‡½æ•°å¯ä»¥ new å‡ºå¾ˆå¤šä¸ªå®ä¾‹ï¼Œé‚£ä¹ˆæ¯ä¸ªå®ä¾‹éƒ½ä¼šç»§æ‰¿åŸå‹ä¸Šçš„æ–¹æ³•æˆ–å±æ€§ã€‚Vue çš„ data æ•°æ®å…¶å®æ˜¯ Vue åŸå‹ä¸Šçš„å±æ€§ï¼Œæ•°æ®å­˜åœ¨äºå†…å­˜å½“ä¸­ã€‚</p>\n<p>åŒä¸€ä¸ªç»„ä»¶è¢«å¤ç”¨å¤šæ¬¡ï¼Œä¼šåˆ›å»ºå¤šä¸ªå®ä¾‹ã€‚è¿™äº›å®ä¾‹ç”¨çš„æ˜¯åŒä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œå¦‚æœ data æ˜¯ä¸€ä¸ªå¯¹è±¡çš„è¯ã€‚é‚£ä¹ˆæ‰€æœ‰ç»„ä»¶éƒ½å…±äº«äº†åŒä¸€ä¸ªå¯¹è±¡ã€‚ä¸ºäº†ä¿è¯ç»„ä»¶çš„æ•°æ®ç‹¬ç«‹æ€§ï¼Œè¦æ±‚æ¯ä¸ªç»„ä»¶å¿…é¡»é€šè¿‡ data å‡½æ•°è¿”å›ä¸€ä¸ªå¯¹è±¡ä½œä¸ºç»„ä»¶çš„çŠ¶æ€ï¼Œè¿™æ ·æ¯å¤ç”¨ä¸€æ¬¡ç»„ä»¶ï¼Œå°±ä¼šè¿”å›ä¸€ä»½æ–°çš„ dataã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// bad</span></span><br><span class=\"line\"><span class=\"title class_\">Vue</span>.<span class=\"title function_\">component</span>(<span class=\"string\">&#x27;some-comp&#x27;</span>, &#123;</span><br><span class=\"line\">  <span class=\"attr\">data</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">foo</span>: <span class=\"string\">&#x27;bar&#x27;</span>,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// good</span></span><br><span class=\"line\"><span class=\"title class_\">Vue</span>.<span class=\"title function_\">component</span>(<span class=\"string\">&#x27;some-comp&#x27;</span>, &#123;</span><br><span class=\"line\">  <span class=\"attr\">data</span>: <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">      <span class=\"attr\">foo</span>: <span class=\"string\">&#x27;bar&#x27;</span>,</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"ç»„ä»¶æ¨¡æ¿åº”è¯¥ä¹¦å†™ç®€æ´\"><a href=\"#ç»„ä»¶æ¨¡æ¿åº”è¯¥ä¹¦å†™ç®€æ´\" class=\"headerlink\" title=\"ç»„ä»¶æ¨¡æ¿åº”è¯¥ä¹¦å†™ç®€æ´\"></a>ç»„ä»¶æ¨¡æ¿åº”è¯¥ä¹¦å†™ç®€æ´</h4><p>ç»„ä»¶æ¨¡æ¿åº”è¯¥åªåŒ…å«ç®€å•çš„è¡¨è¾¾å¼ï¼Œå¤æ‚çš„è¡¨è¾¾å¼åˆ™åº”è¯¥é‡æ„ä¸ºè®¡ç®—å±æ€§æˆ–æ–¹æ³•ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// bad</span></span><br><span class=\"line\">&#123;&#123;</span><br><span class=\"line\">  fullName.<span class=\"title function_\">split</span>(<span class=\"string\">&#x27; &#x27;</span>).<span class=\"title function_\">map</span>(<span class=\"keyword\">function</span> (<span class=\"params\">word</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> word[<span class=\"number\">0</span>].<span class=\"title function_\">toUpperCase</span>() + word.<span class=\"title function_\">slice</span>(<span class=\"number\">1</span>)</span><br><span class=\"line\">  &#125;).<span class=\"title function_\">join</span>(<span class=\"string\">&#x27; &#x27;</span>)</span><br><span class=\"line\">&#125;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//  good</span></span><br><span class=\"line\"><span class=\"comment\">//  åœ¨æ¨¡æ¿ä¸­</span></span><br><span class=\"line\">&#123;&#123; normalizedFullName &#125;&#125;</span><br><span class=\"line\"><span class=\"comment\">// å¤æ‚è¡¨è¾¾å¼å·²ç»ç§»å…¥ä¸€ä¸ªè®¡ç®—å±æ€§</span></span><br><span class=\"line\"><span class=\"attr\">computed</span>: &#123;</span><br><span class=\"line\">  <span class=\"attr\">normalizedFullName</span>: <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"variable language_\">this</span>.<span class=\"property\">fullName</span>.<span class=\"title function_\">split</span>(<span class=\"string\">&#x27; &#x27;</span>).<span class=\"title function_\">map</span>(<span class=\"keyword\">function</span> (<span class=\"params\">word</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> word[<span class=\"number\">0</span>].<span class=\"title function_\">toUpperCase</span>() + word.<span class=\"title function_\">slice</span>(<span class=\"number\">1</span>)</span><br><span class=\"line\">    &#125;).<span class=\"title function_\">join</span>(<span class=\"string\">&#x27; &#x27;</span>)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"æŒ‡ä»¤ç¼©å†™\"><a href=\"#æŒ‡ä»¤ç¼©å†™\" class=\"headerlink\" title=\"æŒ‡ä»¤ç¼©å†™\"></a>æŒ‡ä»¤ç¼©å†™</h4><figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- bad --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">v-bind:value</span>=<span class=\"string\">&quot;newTodoText&quot;</span> <span class=\"attr\">:placeholder</span>=<span class=\"string\">&quot;newTodoInstructions&quot;</span> <span class=\"attr\">v-on:input</span>=<span class=\"string\">&quot;onInput&quot;</span> /&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- good --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">:value</span>=<span class=\"string\">&quot;newTodoText&quot;</span> <span class=\"attr\">:placeholder</span>=<span class=\"string\">&quot;newTodoInstructions&quot;</span> @<span class=\"attr\">input</span>=<span class=\"string\">&quot;onInput&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"ç»„ä»¶åä¸ºå¤šä¸ªå•è¯\"><a href=\"#ç»„ä»¶åä¸ºå¤šä¸ªå•è¯\" class=\"headerlink\" title=\"ç»„ä»¶åä¸ºå¤šä¸ªå•è¯\"></a>ç»„ä»¶åä¸ºå¤šä¸ªå•è¯</h4><p>æˆ‘ä»¬å¼€å‘è¿‡ç¨‹ä¸­è‡ªå®šä¹‰çš„ç»„ä»¶çš„åç§°éœ€è¦ä¸ºå¤šä¸ªå•è¯ï¼Œè¿™æ ·åšå¯ä»¥é¿å…è·Ÿç°æœ‰çš„ä»¥åŠæœªæ¥çš„ HTML å…ƒç´ ç›¸å†²çªï¼Œå› ä¸ºæ‰€æœ‰çš„ HTML å…ƒç´ åç§°éƒ½æ˜¯å•ä¸ªå•è¯çš„ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// good</span></span><br><span class=\"line\"><span class=\"title class_\">Vue</span>.<span class=\"title function_\">component</span>(<span class=\"string\">&#x27;todo-item&#x27;</span>, &#123;</span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span><br><span class=\"line\">  <span class=\"attr\">name</span>: <span class=\"string\">&#x27;TodoItem&#x27;</span>,</span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// bad</span></span><br><span class=\"line\"><span class=\"title class_\">Vue</span>.<span class=\"title function_\">component</span>(<span class=\"string\">&#x27;todo&#x27;</span>, &#123;</span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span><br><span class=\"line\">  <span class=\"attr\">name</span>: <span class=\"string\">&#x27;Todo&#x27;</span>,</span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"å¤šä¸ªå±æ€§è¿›è¡Œåˆ†è¡Œ\"><a href=\"#å¤šä¸ªå±æ€§è¿›è¡Œåˆ†è¡Œ\" class=\"headerlink\" title=\"å¤šä¸ªå±æ€§è¿›è¡Œåˆ†è¡Œ\"></a>å¤šä¸ªå±æ€§è¿›è¡Œåˆ†è¡Œ</h4><p>åœ¨ JavaScript ä¸­ï¼Œç”¨å¤šè¡Œåˆ†éš”å¯¹è±¡çš„å¤šä¸ªå±æ€§æ˜¯å¾ˆå¸¸è§çš„æœ€ä½³å®è·µï¼Œå› ä¸ºè¿™æ ·æ›´æ˜“è¯»ã€‚</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- good --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">MyComponent</span> <span class=\"attr\">foo</span>=<span class=\"string\">&quot;a&quot;</span> <span class=\"attr\">bar</span>=<span class=\"string\">&quot;b&quot;</span> <span class=\"attr\">baz</span>=<span class=\"string\">&quot;c&quot;</span> /&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- bad --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">MyComponent</span> <span class=\"attr\">foo</span>=<span class=\"string\">&quot;a&quot;</span> <span class=\"attr\">bar</span>=<span class=\"string\">&quot;b&quot;</span> <span class=\"attr\">baz</span>=<span class=\"string\">&quot;c&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"å…ƒç´ ç‰¹æ€§çš„é¡ºåº\"><a href=\"#å…ƒç´ ç‰¹æ€§çš„é¡ºåº\" class=\"headerlink\" title=\"å…ƒç´ ç‰¹æ€§çš„é¡ºåº\"></a>å…ƒç´ ç‰¹æ€§çš„é¡ºåº</h4><p>åŸç”Ÿå±æ€§æ”¾å‰é¢ï¼ŒæŒ‡ä»¤å…¶æ¬¡ï¼Œä¼ å‚å’Œæ–¹æ³•æ”¾æœ€å</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">- class, id, ref</span><br><span class=\"line\">- name, data-*, src, alt, for, type, href, value, max, min</span><br><span class=\"line\">- title, placeholder, aria-*, role</span><br><span class=\"line\">- required, readonly, disabled</span><br><span class=\"line\">- v-model, v-for, key, v-if, v-show, v-bind,:</span><br><span class=\"line\">- foo=&quot;a&quot; bar=&quot;b&quot; baz=&quot;c&quot;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"å…³äºç»„ä»¶å†…æ ·å¼\"><a href=\"#å…³äºç»„ä»¶å†…æ ·å¼\" class=\"headerlink\" title=\"å…³äºç»„ä»¶å†…æ ·å¼\"></a>å…³äºç»„ä»¶å†…æ ·å¼</h4><p>ä¸ºç»„ä»¶æ ·å¼è®¾ç½®ä½œç”¨åŸŸ</p>\n<figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* bad  */</span></span><br><span class=\"line\">&lt;style&gt;</span><br><span class=\"line\"><span class=\"selector-class\">.btn-close</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">background-color</span>: red;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&lt;/style&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* good  */</span></span><br><span class=\"line\">&lt;style scoped&gt;</span><br><span class=\"line\"><span class=\"selector-class\">.button-close</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">background-color</span>: red;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&lt;/style&gt;</span><br></pre></td></tr></table></figure>\n\n<p>è‹¥è¦æ”¹å˜ç¬¬ä¸‰æ–¹ç»„ä»¶åº“çš„æ ·å¼ï¼Œéœ€è¦åŠ ä¸Šé¡¶çº§ä½œç”¨åŸŸã€‚</p>\n<figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* bad */</span></span><br><span class=\"line\"><span class=\"selector-class\">.ivu-input</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">254px</span> <span class=\"meta\">!important</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* good */</span></span><br><span class=\"line\"><span class=\"selector-class\">.customerForm</span> <span class=\"selector-class\">.ivu-input</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">254px</span> <span class=\"meta\">!important</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/* .customerFormä¸ºå½“å‰ç»„ä»¶çš„é¡¶çº§dom  */</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"å…³äºç»„ä»¶ç»“æ„\"><a href=\"#å…³äºç»„ä»¶ç»“æ„\" class=\"headerlink\" title=\"å…³äºç»„ä»¶ç»“æ„\"></a>å…³äºç»„ä»¶ç»“æ„</h4><p>ç»„ä»¶ç»“æ„éµå¾ªä»ä¸Šå¾€ä¸‹ templateï¼Œscriptï¼Œstyle çš„ç»“æ„ã€‚</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">  <span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;&#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;scss&quot;</span> <span class=\"attr\">scoped</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>script éƒ¨åˆ†å„æ–¹æ³•æˆå‘˜éµå¾ªä»¥ä¸‹é¡ºåºæ”¾ç½®ã€‚</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">- name</span><br><span class=\"line\">- components</span><br><span class=\"line\">- props</span><br><span class=\"line\">- data</span><br><span class=\"line\">- methods</span><br><span class=\"line\">- computed</span><br><span class=\"line\">- watch</span><br><span class=\"line\">- created</span><br><span class=\"line\">- mounted</span><br><span class=\"line\">- update</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"æ¸…é™¤å®šæ—¶å™¨æˆ–è€…äº‹ä»¶ç›‘å¬\"><a href=\"#æ¸…é™¤å®šæ—¶å™¨æˆ–è€…äº‹ä»¶ç›‘å¬\" class=\"headerlink\" title=\"æ¸…é™¤å®šæ—¶å™¨æˆ–è€…äº‹ä»¶ç›‘å¬\"></a>æ¸…é™¤å®šæ—¶å™¨æˆ–è€…äº‹ä»¶ç›‘å¬</h4><p>ç”±äºé¡¹ç›®ä¸­æœ‰äº›é¡µé¢éš¾å…ä¼šç¢°åˆ°éœ€è¦å®šæ—¶å™¨æˆ–è€…äº‹ä»¶ç›‘å¬ã€‚ä½†æ˜¯åœ¨ç¦»å¼€å½“å‰é¡µé¢çš„æ—¶å€™ï¼Œå®šæ—¶å™¨å¦‚æœä¸åŠæ—¶åˆç†åœ°æ¸…é™¤ï¼Œä¼šé€ æˆä¸šåŠ¡é€»è¾‘æ··ä¹±ç”šè‡³åº”ç”¨å¡æ­»çš„æƒ…å†µï¼Œè¿™ä¸ªæ—¶å°±éœ€è¦æ¸…é™¤å®šæ—¶å™¨äº‹ä»¶ç›‘å¬ï¼Œå³åœ¨é¡µé¢å¸è½½ï¼ˆå…³é—­ï¼‰çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°é‡Œï¼Œæ¸…é™¤å®šæ—¶å™¨ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">methods</span>:&#123;</span><br><span class=\"line\">  resizeFun () &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">tableHeight</span> = <span class=\"variable language_\">window</span>.<span class=\"property\">innerHeight</span> - <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;table&#x27;</span>).<span class=\"property\">offsetTop</span> - <span class=\"number\">128</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"title function_\">setTimer</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">timer</span> = <span class=\"built_in\">setInterval</span>(<span class=\"function\">() =&gt;</span> &#123; &#125;)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"title function_\">clearTimer</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">clearInterval</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">timer</span>)</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"property\">timer</span> = <span class=\"literal\">null</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"><span class=\"title function_\">mounted</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"title function_\">setTimer</span>()</span><br><span class=\"line\">  <span class=\"variable language_\">window</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;resize&#x27;</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">resizeFun</span>)</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"><span class=\"title function_\">beforeDestroy</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">window</span>.<span class=\"title function_\">removeEventListener</span>(<span class=\"string\">&#x27;resize&#x27;</span>, <span class=\"variable language_\">this</span>.<span class=\"property\">resizeFun</span>)</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"title function_\">clearTimer</span>()</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"è·¯ç”±æ‡’åŠ è½½\"><a href=\"#è·¯ç”±æ‡’åŠ è½½\" class=\"headerlink\" title=\"è·¯ç”±æ‡’åŠ è½½\"></a>è·¯ç”±æ‡’åŠ è½½</h4><p>Vue æ˜¯å•é¡µé¢åº”ç”¨ï¼Œå¯èƒ½ä¼šæœ‰å¾ˆå¤šçš„è·¯ç”±å¼•å…¥ ï¼Œè¿™æ ·ä½¿ç”¨ webpcak æ‰“åŒ…åçš„æ–‡ä»¶å¾ˆå¤§ï¼Œå½“è¿›å…¥é¦–é¡µæ—¶ï¼ŒåŠ è½½çš„èµ„æºè¿‡å¤šï¼Œé¡µé¢ä¼šå‡ºç°ç™½å±çš„æƒ…å†µï¼Œä¸åˆ©äºç”¨æˆ·ä½“éªŒã€‚å¦‚æœæˆ‘ä»¬èƒ½æŠŠä¸åŒè·¯ç”±å¯¹åº”çš„ç»„ä»¶åˆ†å‰²æˆä¸åŒçš„ä»£ç å—ï¼Œç„¶åå½“è·¯ç”±è¢«è®¿é—®çš„æ—¶å€™æ‰åŠ è½½å¯¹åº”çš„ç»„ä»¶ï¼Œè¿™æ ·å°±æ›´åŠ é«˜æ•ˆäº†ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">path</span>: <span class=\"string\">&#x27;/Home&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">component</span>: <span class=\"function\">() =&gt;</span> <span class=\"title function_\">import</span>(<span class=\"string\">&#x27;@/views/Home.vue&#x27;</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"èŒè´£å•ä¸€\"><a href=\"#èŒè´£å•ä¸€\" class=\"headerlink\" title=\"èŒè´£å•ä¸€\"></a>èŒè´£å•ä¸€</h4><p>ä»»ä½•æ—¶å€™å°½é‡æ˜¯çš„ä¸€ä¸ªå‡½æ•°å°±åšä¸€ä»¶äº‹æƒ…ï¼Œè€Œä¸æ˜¯å°†å„ç§é€»è¾‘å…¨éƒ¨è€¦åˆåœ¨ä¸€èµ·ï¼Œæé«˜å•ä¸ªå‡½æ•°çš„å¤ç”¨æ€§å’Œå¯è¯»æ€§ã€‚æ¯”å¦‚ï¼šæ¯ä¸ªé¡µé¢éƒ½ä¼šåœ¨åŠ è½½å®Œæˆæ—¶è¿›è¡Œæ•°æ®çš„è¯·æ±‚å¹¶å±•ç¤ºåˆ°é¡µé¢ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// bad</span></span><br><span class=\"line\"><span class=\"attr\">methods</span>: &#123;</span><br><span class=\"line\">  <span class=\"title function_\">getList1</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// to do ...</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"title function_\">getList2</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// to do ...</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"><span class=\"title function_\">created</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"title function_\">getList1</span>()</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"title function_\">getList2</span>()</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// good</span></span><br><span class=\"line\"><span class=\"attr\">methods</span>: &#123;</span><br><span class=\"line\">  <span class=\"comment\">// å°†å…¨éƒ¨çš„è¯·æ±‚è¡Œä¸ºèšåˆåœ¨initå‡½æ•°ä¸­</span></span><br><span class=\"line\">  <span class=\"title function_\">init</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"title function_\">getList1</span>()</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"title function_\">getList2</span>()</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"title function_\">getList1</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// to do ...</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"title function_\">getList2</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// to do ...</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"><span class=\"title function_\">created</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">this</span>.<span class=\"title function_\">init</span>();</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"ç¬¬ä¸‰æ–¹-UI-ç»„ä»¶æŒ‰éœ€å¼•å…¥\"><a href=\"#ç¬¬ä¸‰æ–¹-UI-ç»„ä»¶æŒ‰éœ€å¼•å…¥\" class=\"headerlink\" title=\"ç¬¬ä¸‰æ–¹ UI ç»„ä»¶æŒ‰éœ€å¼•å…¥\"></a>ç¬¬ä¸‰æ–¹ UI ç»„ä»¶æŒ‰éœ€å¼•å…¥</h4><p>æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­ä½¿ç”¨çš„ç¬¬ä¸‰æ–¹ UI ç»„ä»¶ï¼Œå¦‚æœæˆ‘ä»¬ç›´æ¥å¼•å…¥æ•´ä¸ªç»„ä»¶åº“ï¼Œä¼šå¯¼è‡´é¡¹ç›®çš„ä½“ç§¯å¤ªå¤§ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ© babel-plugin-component ï¼Œç„¶åå¯ä»¥åªå¼•å…¥éœ€è¦çš„ç»„ä»¶ï¼Œä»¥è¾¾åˆ°å‡å°é¡¹ç›®ä½“ç§¯çš„ç›®çš„ã€‚ä»¥ä¸‹ä¸ºé¡¹ç›®ä¸­å¼•å…¥ vant ä¸ºä¾‹ï¼š</p>\n<p>1ã€é¦–å…ˆï¼Œå®‰è£… babel-plugin-component</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm install babel-plugin-component -D</span><br></pre></td></tr></table></figure>\n\n<p>2ã€ä¿®æ”¹ .babelrc</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"string\">&quot;plugins&quot;</span>: [</span><br><span class=\"line\">    [<span class=\"string\">&quot;import&quot;</span>, &#123;</span><br><span class=\"line\">      <span class=\"string\">&quot;libraryName&quot;</span>: <span class=\"string\">&quot;vant&quot;</span>,</span><br><span class=\"line\">      <span class=\"string\">&quot;libraryDirectory&quot;</span>: <span class=\"string\">&quot;es&quot;</span>,</span><br><span class=\"line\">      <span class=\"string\">&quot;style&quot;</span>: <span class=\"literal\">true</span></span><br><span class=\"line\">    &#125;]</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>3ã€å¼•å…¥éƒ¨åˆ†ç»„ä»¶ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Vue</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vue&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Button</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vant&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title class_\">Vue</span>.<span class=\"title function_\">use</span>(<span class=\"title class_\">Button</span>)</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"å›¾ç‰‡ç¯‡ï¼š\"><a href=\"#å›¾ç‰‡ç¯‡ï¼š\" class=\"headerlink\" title=\"å›¾ç‰‡ç¯‡ï¼š\"></a>å›¾ç‰‡ç¯‡ï¼š</h2><h4 id=\"ä½¿ç”¨æ°å½“çš„å›¾ç‰‡æ ¼å¼ã€‚\"><a href=\"#ä½¿ç”¨æ°å½“çš„å›¾ç‰‡æ ¼å¼ã€‚\" class=\"headerlink\" title=\"ä½¿ç”¨æ°å½“çš„å›¾ç‰‡æ ¼å¼ã€‚\"></a>ä½¿ç”¨æ°å½“çš„å›¾ç‰‡æ ¼å¼ã€‚</h4><ul>\n<li>jpgï¼šé€‚ç”¨äºå†…å®¹å›¾ç‰‡å¤šä¸ºç…§ç‰‡ä¹‹ç±»çš„ã€‚</li>\n<li>pngï¼šé€‚ç”¨äºè€Œé¥°å›¾ç‰‡ï¼Œé€šå¸¸æ›´é€‚åˆç”¨æ— æŸå‹ç¼©ã€‚</li>\n<li>gifï¼š åŸºæœ¬ä¸Šé™¤äº† gif åŠ¨ç”»å¤–ä¸è¦ä½¿ç”¨ã€‚</li>\n<li>webPï¼šå¤§å¤§å‡å°å›¾ç‰‡çš„ä½“ç§¯ï¼Œä½†æ˜¯ç§»åŠ¨ç«¯æœ‰å…¼å®¹æ€§é—®é¢˜ã€‚</li>\n</ul>\n<h4 id=\"ä½¿ç”¨é›ªç¢§å›¾\"><a href=\"#ä½¿ç”¨é›ªç¢§å›¾\" class=\"headerlink\" title=\"ä½¿ç”¨é›ªç¢§å›¾\"></a>ä½¿ç”¨é›ªç¢§å›¾</h4><p>é›ªç¢§å›¾ï¼Œ<code>CSS Sprites</code>ï¼Œå›½å†…ä¹Ÿå« CSS ç²¾çµï¼Œæ˜¯ä¸€ç§ CSS å›¾åƒåˆæˆæŠ€æœ¯ï¼Œä¸»è¦ç”¨äºå°å›¾ç‰‡æ˜¾ç¤ºã€‚</p>\n<p>é›ªç¢§å›¾çš„ä¼˜ç‚¹æ˜¯æŠŠè¯¸å¤šå°å›¾ç‰‡åˆæˆä¸€å¼ å¤§å›¾ï¼Œåˆ©ç”¨<code>backround-position</code>å±æ€§å€¼æ¥ç¡®å®šå›¾ç‰‡å‘ˆç°çš„ä½ç½®ï¼Œè¿™æ ·å°±èƒ½å‡å°‘ http è¯·æ±‚ï¼Œåˆ°è¾¾æ€§èƒ½ä¼˜åŒ–çš„æ•ˆæœã€‚</p>\n<h4 id=\"ä½¿ç”¨-iconfont\"><a href=\"#ä½¿ç”¨-iconfont\" class=\"headerlink\" title=\"ä½¿ç”¨ iconfont\"></a>ä½¿ç”¨ iconfont</h4><p><code>iconfont</code>(å­—ä½“å›¾æ ‡)ï¼Œå³é€šè¿‡å­—ä½“çš„æ–¹å¼å±•ç¤ºå›¾æ ‡ï¼Œå¤šç”¨äºæ¸²æŸ“å›¾æ ‡ã€ç®€å•å›¾å½¢ã€ç‰¹æ®Šå­—ä½“ç­‰ã€‚</p>\n<p>ä½¿ç”¨ <code>iconfont</code> æ—¶ï¼Œç”±äºåªéœ€è¦å¼•å…¥å¯¹åº”çš„å­—ä½“æ–‡ä»¶å³å¯ï¼Œè¿™ç§æ–¹æ³•å¯æœ‰æ•ˆå‡å°‘ HTTP è¯·æ±‚æ¬¡æ•°ï¼Œè€Œä¸”ä¸€èˆ¬å­—ä½“ä½“ç§¯è¾ƒå°ï¼Œæ‰€ä»¥è¯·æ±‚ä¼ è¾“æ•°æ®é‡è¾ƒå°‘ã€‚ä¸ç›´æ¥å¼•å…¥å›¾ç‰‡ä¸åŒï¼Œ<code>iconfont</code> å¯ä»¥åƒä½¿ç”¨å­—ä½“ä¸€æ ·ï¼Œè®¾ç½®å¤§å°ã€é¢œè‰²åŠå…¶ä»–æ ·å¼ï¼Œä¸”ä¸å­˜åœ¨å¤±çœŸçš„æƒ…å†µã€‚</p>\n<h4 id=\"å›¾ç‰‡æ‡’åŠ è½½\"><a href=\"#å›¾ç‰‡æ‡’åŠ è½½\" class=\"headerlink\" title=\"å›¾ç‰‡æ‡’åŠ è½½\"></a>å›¾ç‰‡æ‡’åŠ è½½</h4><p>å›¾ç‰‡æ‡’åŠ è½½çš„åŸç†å°±æ˜¯æš‚æ—¶ä¸è®¾ç½®å›¾ç‰‡çš„ <code>src</code> å±æ€§ï¼Œè€Œæ˜¯å°†å›¾ç‰‡çš„ <code>url</code> éšè—èµ·æ¥ï¼Œæ¯”å¦‚å…ˆå†™åœ¨ <code>data-src</code> é‡Œé¢ï¼Œç­‰æŸäº›äº‹ä»¶è§¦å‘çš„æ—¶å€™(æ¯”å¦‚æ»šåŠ¨åˆ°åº•éƒ¨ï¼Œç‚¹å‡»åŠ è½½å›¾ç‰‡)å†å°†å›¾ç‰‡çœŸå®çš„ <code>url</code> æ”¾è¿› <code>src</code> å±æ€§é‡Œé¢ï¼Œä»è€Œå®ç°å›¾ç‰‡çš„å»¶è¿ŸåŠ è½½ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">lazyload</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> images = <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementsByTagName</span>(<span class=\"string\">&#x27;img&#x27;</span>)</span><br><span class=\"line\">  <span class=\"keyword\">var</span> len = images.<span class=\"property\">length</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> n = <span class=\"number\">0</span> <span class=\"comment\">//å­˜å‚¨å›¾ç‰‡åŠ è½½åˆ°çš„ä½ç½®ï¼Œé¿å…æ¯æ¬¡éƒ½ä»ç¬¬ä¸€å¼ å›¾ç‰‡å¼€å§‹éå†</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> seeHeight = <span class=\"variable language_\">document</span>.<span class=\"property\">documentElement</span>.<span class=\"property\">clientHeight</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = n; i &lt; len; i++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (images[i].<span class=\"title function_\">getBoundingClientRect</span>().<span class=\"property\">top</span> &lt; seeHeight) &#123;</span><br><span class=\"line\">        <span class=\"comment\">//æ–¹æ³•äºŒ: å½“å›¾ç‰‡çš„è§†å£topå‡ºç°åœ¨è§†å£ä¸­</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (images[i].<span class=\"title function_\">getAttribute</span>(<span class=\"string\">&#x27;src&#x27;</span>) === <span class=\"string\">&#x27;images/default.jpg&#x27;</span>) &#123;</span><br><span class=\"line\">          images[i].<span class=\"property\">src</span> = images[i].<span class=\"title function_\">getAttribute</span>(<span class=\"string\">&#x27;data-src&#x27;</span>)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        n = n + <span class=\"number\">1</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>vue é¡¹ç›®å¯ä»¥ <code>vue-lazyload</code> æ’ä»¶å®ç°å›¾ç‰‡æ‡’åŠ è½½</p>\n<p><code>main.js</code> ä¸­å…¨å±€å¼•å…¥ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">VueLazyLoad</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vue-lazyload&#x27;</span></span><br><span class=\"line\"><span class=\"title class_\">Vue</span>.<span class=\"title function_\">use</span>(<span class=\"title class_\">VueLazyLoad</span>, &#123;</span><br><span class=\"line\">  <span class=\"attr\">preLoad</span>: <span class=\"number\">1</span>,</span><br><span class=\"line\">  <span class=\"attr\">error</span>: <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;./assets/img/error.jpg&#x27;</span>),</span><br><span class=\"line\">  <span class=\"attr\">loading</span>: <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;./assets/img/homePage_top.jpg&#x27;</span>),</span><br><span class=\"line\">  <span class=\"attr\">attempt</span>: <span class=\"number\">2</span>,</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<p>é¡µé¢ä¸­ä½¿ç”¨</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;(item,index) in imgList&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">v-lazy</span>=<span class=\"string\">&quot;item&quot;</span> <span class=\"attr\">alt</span>=<span class=\"string\">&quot;&quot;</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n"},{"title":"æ­å»ºä¸€ä¸ªvue-cli4+webpackç§»åŠ¨ç«¯æ¡†æ¶","url":"/LittleWhiteRabbit/2022/04/26/%E6%90%AD%E5%BB%BA%E4%B8%80%E4%B8%AAvue-cli4+webpack%E7%A7%BB%E5%8A%A8%E7%AB%AF%E6%A1%86%E6%9E%B6/","content":"<h2 id=\"ç®€ä»‹\"><a href=\"#ç®€ä»‹\" class=\"headerlink\" title=\"ç®€ä»‹\"></a>ç®€ä»‹</h2><p>è¿™æ˜¯åŸºäº vue-cli4 å®ç°çš„ç§»åŠ¨ç«¯æ¡†æ¶ï¼Œå…¶ä¸­åŒ…å«é¡¹ç›®å¸¸ç”¨çš„é…ç½®ï¼Œç»„ä»¶å°è£…åŠwebpackä¼˜åŒ–æ–¹æ³•ï¼Œå¯ä¾›å¿«é€Ÿå¼€å‘ä½¿ç”¨ã€‚</p>\n<p>æŠ€æœ¯æ ˆï¼švue-cli4 + webpack4 + vant + axios + less + postcss-px2rem</p>\n<p>æºç  <a href=\"https://github.com/Michael-lzg/vue-cli4-vant\">https://github.com/Michael-lzg/vue-cli4-vant</a></p>\n<span id=\"more\"></span>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// å®‰è£…ä¾èµ–</span></span><br><span class=\"line\">npm install</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æœ¬åœ°å¯åŠ¨</span></span><br><span class=\"line\">npm run dev</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ç”Ÿäº§æ‰“åŒ…</span></span><br><span class=\"line\">npm run build</span><br></pre></td></tr></table></figure>\n\n<p>åœ¨ä¸€ä¸¤å¹´å‰ï¼Œvue-cli3å·²ç»å£°é©¾åˆ°3.0+ç‰ˆæœ¬ï¼Œä½†æ˜¯ç”±äºæ—§é¡¹ç›®ä¸€è‡´ä¹ æƒ¯äºvue-cli2çš„è„šæ‰‹æ¶çš„ä½¿ç”¨ï¼Œä¹‹å‰ä¹Ÿå†™è¿‡ä¸€ç¯‡ <a href=\"https://juejin.im/post/5db806b1f265da4d5133485a\">æ­å»ºä¸€ä¸ªvue-cliçš„ç§»åŠ¨ç«¯H5å¼€å‘æ¨¡æ¿</a> ç®€å•æ€»ç»“äº†ä¸€ç‚¹ç§»åŠ¨ç«¯çš„å¼€å‘æŠ€å·§ã€‚  </p>\n<p>è¿‘æ—¥å‡çº§vue-cliè„šæ‰‹æ¶æ‰å‘ç°ï¼Œè¿™å·²ç»å‡çº§åˆ°4.0+ç‰ˆæœ¬äº†ï¼Œè§‰å¾—å¾ˆå¤šå¿…è¦åœ¨æ–°çš„é¡¹ç›®ä¸­ä½¿ç”¨vue-cli4è¿›è¡Œå¼€å‘ï¼ŒåŠ ä¸Šè¿‘æ¥å¯¹webpackæœ‰äº†è¿›ä¸€æ­¥ç†è§£ï¼Œæ‰€ä»¥ç»“åˆäº†vue-cli4å’Œwebpackæ­å»ºäº†ä¸€ä¸ªç§»åŠ¨ç«¯æ¡†æ¶ï¼Œä»¥ä¾¿å¼€ç®±å³ç”¨ã€‚ ä¸»è¦åŒ…æ‹¬å¦‚ä¸‹æŠ€æœ¯ç‚¹ï¼š</p>\n<ul>\n<li>vue-cli4è„šæ‰‹æ¶</li>\n<li>vantæŒ‰éœ€å¼•å…¥</li>\n<li>ç§»åŠ¨ç«¯remé€‚é…</li>\n<li>axiosæ‹¦æˆªå°è£…</li>\n<li>utilå·¥å…·ç±»å‡½æ•°å°è£…</li>\n<li>vue-routeré…ç½®</li>\n<li>ç™»å½•æƒé™æ ¡éªŒ</li>\n<li>å¤šç¯å¢ƒå˜é‡é…ç½®</li>\n<li>vue.config.jsé…ç½®</li>\n<li>toastç»„ä»¶å°è£…</li>\n<li>dialogç»„ä»¶å°è£…</li>\n<li>è·¨åŸŸä»£ç†è®¾ç½®</li>\n<li>webpackæ‰“åŒ…å¯è§†åŒ–åˆ†æ</li>\n<li>CDNèµ„æºä¼˜åŒ–</li>\n<li>gzipæ‰“åŒ…ä¼˜åŒ–</li>\n<li>é¦–é¡µæ·»åŠ éª¨æ¶å±</li>\n</ul>\n<p>å…³äºæ›´å¤šçš„webpackä¼˜åŒ–æ–¹æ³•ï¼Œå¯å‚è€ƒ <a href=\"https://github.com/Michael-lzg/webpack-vue-cli\">https://github.com/Michael-lzg/webpack-vue-cli</a></p>\n<h2 id=\"é…ç½®-vant\"><a href=\"#é…ç½®-vant\" class=\"headerlink\" title=\"é…ç½® vant\"></a>é…ç½® vant</h2><p>vant æ˜¯ä¸€å¥—è½»é‡ã€å¯é çš„ç§»åŠ¨ç«¯ Vue ç»„ä»¶åº“ï¼Œéå¸¸é€‚åˆåŸºäº vue æŠ€æœ¯æ ˆçš„ç§»åŠ¨ç«¯å¼€å‘ã€‚åœ¨è¿‡å»å¾ˆé•¿çš„ä¸€æ®µæ—¶é—´å†…ï¼Œæœ¬äººç”¨çš„ç§»åŠ¨ç«¯ UI æ¡†æ¶éƒ½æ˜¯ vuxã€‚åæ¥ç”±äº vux ä¸æ”¯æŒ vue-cli3ï¼Œå°±è½¬ç”¨äº† vantï¼Œä¸å¾—ä¸è¯´ï¼Œæ— è®ºæ˜¯åœ¨äº¤äº’ä½“éªŒä¸Šï¼Œè¿˜æ˜¯ä»£ç é€»è¾‘ä¸Šï¼Œvant éƒ½æ¯” vux å¥½å¾ˆå¤šï¼Œè€Œä¸” vant çš„å‘æ¯”è¾ƒå°‘ã€‚</p>\n<p>å¯¹äºç¬¬ä¸‰æ–¹ UI ç»„ä»¶ï¼Œå¦‚æœæ˜¯å…¨éƒ¨å¼•å…¥çš„è¯ï¼Œæ¯”å¦‚ä¼šé€ æˆæ‰“åŒ…ä½“ç§¯è¿‡å¤§ï¼ŒåŠ è½½é¦–é¡µç™½å±æ—¶é—´è¿‡é•¿çš„é—®é¢˜ï¼Œæ‰€ä»¥æŒ‰éœ€åŠ è½½éå¸¸å¿…è¦ã€‚vant ä¹Ÿæä¾›äº†æŒ‰éœ€åŠ è½½çš„æ–¹æ³•ã€‚<code>babel-plugin-import</code> æ˜¯ä¸€æ¬¾ babel æ’ä»¶ï¼Œå®ƒä¼šåœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­å°† import çš„å†™æ³•è‡ªåŠ¨è½¬æ¢ä¸ºæŒ‰éœ€å¼•å…¥çš„æ–¹å¼ã€‚</p>\n<p>1ã€å®‰è£…ä¾èµ–</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm i babel-plugin-import -D</span><br></pre></td></tr></table></figure>\n\n<p>2ã€é…ç½® .babelrc æˆ–è€… babel.config.js æ–‡ä»¶</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// åœ¨.babelrc ä¸­æ·»åŠ é…ç½®</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"string\">&quot;plugins&quot;</span>: [</span><br><span class=\"line\">    [<span class=\"string\">&quot;import&quot;</span>, &#123;</span><br><span class=\"line\">      <span class=\"string\">&quot;libraryName&quot;</span>: <span class=\"string\">&quot;vant&quot;</span>,</span><br><span class=\"line\">      <span class=\"string\">&quot;libraryDirectory&quot;</span>: <span class=\"string\">&quot;es&quot;</span>,</span><br><span class=\"line\">      <span class=\"string\">&quot;style&quot;</span>: <span class=\"literal\">true</span></span><br><span class=\"line\">    &#125;]</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// å¯¹äºä½¿ç”¨ babel7 çš„ç”¨æˆ·ï¼Œå¯ä»¥åœ¨ babel.config.js ä¸­é…ç½®</span></span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">    [<span class=\"string\">&#x27;import&#x27;</span>, &#123;</span><br><span class=\"line\">      <span class=\"attr\">libraryName</span>: <span class=\"string\">&#x27;vant&#x27;</span>,</span><br><span class=\"line\">      <span class=\"attr\">libraryDirectory</span>: <span class=\"string\">&#x27;es&#x27;</span>,</span><br><span class=\"line\">      <span class=\"attr\">style</span>: <span class=\"literal\">true</span></span><br><span class=\"line\">    &#125;, <span class=\"string\">&#x27;vant&#x27;</span>]</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p>3ã€æŒ‰éœ€å¼•å…¥</p>\n<p>ä½ å¯ä»¥åœ¨ä»£ç ä¸­ç›´æ¥å¼•å…¥ Vant ç»„ä»¶ï¼Œæ’ä»¶ä¼šè‡ªåŠ¨å°†ä»£ç è½¬åŒ–ä¸ºæ–¹å¼äºŒä¸­çš„æŒ‰éœ€å¼•å…¥å½¢å¼</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Vue</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vue&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; <span class=\"title class_\">Button</span> &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vant&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title class_\">Vue</span>.<span class=\"title function_\">use</span>(<span class=\"title class_\">Button</span>)</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"rem-é€‚é…\"><a href=\"#rem-é€‚é…\" class=\"headerlink\" title=\"rem é€‚é…\"></a>rem é€‚é…</h2><p>ç§»åŠ¨ç«¯é€‚é…æ˜¯å¼€å‘è¿‡ç¨‹ä¸­ä¸å¾—ä¸é¢å¯¹çš„äº‹æƒ…ã€‚åœ¨æ­¤ï¼Œæˆ‘ä»¬ä½¿ç”¨ postcss ä¸­çš„ px2rem-loaderï¼Œå°†æˆ‘ä»¬é¡¹ç›®ä¸­çš„ px æŒ‰ä¸€å®šæ¯”ä¾‹è½¬åŒ– remï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å¯¹ç€è“æ¹–ä¸Šçš„æ ‡æ³¨å†™ px äº†ã€‚</p>\n<p>æˆ‘ä»¬å°† html å­—è·Ÿå­—ä½“è®¾ç½®ä¸º 100pxï¼Œå¾ˆå¤šäººé€‰æ‹©è®¾ç½®ä¸º 375pxï¼Œä½†æ˜¯æˆ‘è§‰å¾—è¿™æ ·æ¢ç®—å‡ºæ¥çš„ rem ä¸å¤Ÿç²¾ç¡®ï¼Œè€Œä¸”æˆ‘ä»¬åœ¨æ§åˆ¶å°ä¸Šè°ƒè¯•ä»£ç çš„æ—¶å€™æ— æ³•å¾ˆå¿«åœ°å£ç®—å¾—å‡ºå®ƒæœ¬æ¥çš„ px å€¼ã€‚å¦‚æœè®¾ç½® 1rem&#x3D;100pxï¼Œè¿™æ ·æˆ‘ä»¬çœ‹åˆ°çš„ 0.16remï¼Œ0.3rem å°±å¾ˆå¿«å¾—ç®—å‡ºåŸæ¥æ˜¯ 16pxï¼Œ30px äº†ã€‚</p>\n<p>å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼›</p>\n<p>1ã€å®‰è£…ä¾èµ–</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm install px2rem-loader --save-dev</span><br></pre></td></tr></table></figure>\n\n<p>2ã€åœ¨ vue.config.js è¿›è¡Œå¦‚ä¸‹é…ç½®</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">css</span>: &#123;</span><br><span class=\"line\">  <span class=\"comment\">// cssé¢„è®¾å™¨é…ç½®é¡¹</span></span><br><span class=\"line\">  <span class=\"attr\">loaderOptions</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">postcss</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">        <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;postcss-px2rem&#x27;</span>)(&#123;</span><br><span class=\"line\">          <span class=\"attr\">remUnit</span>: <span class=\"number\">100</span></span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">      ]</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<p>3ã€åœ¨ main.js è®¾ç½® html è·Ÿå­—ä½“å¤§å°</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">initRem</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> cale = <span class=\"variable language_\">window</span>.<span class=\"property\">screen</span>.<span class=\"property\">availWidth</span> &gt; <span class=\"number\">750</span> ? <span class=\"number\">2</span> : <span class=\"variable language_\">window</span>.<span class=\"property\">screen</span>.<span class=\"property\">availWidth</span> / <span class=\"number\">375</span></span><br><span class=\"line\">  <span class=\"variable language_\">window</span>.<span class=\"property\">document</span>.<span class=\"property\">documentElement</span>.<span class=\"property\">style</span>.<span class=\"property\">fontSize</span> = <span class=\"string\">`<span class=\"subst\">$&#123;<span class=\"number\">100</span> * cale&#125;</span>px`</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">window</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;resize&#x27;</span>, <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"title function_\">initRem</span>()</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"axios-è¯·æ±‚å°è£…\"><a href=\"#axios-è¯·æ±‚å°è£…\" class=\"headerlink\" title=\"axios è¯·æ±‚å°è£…\"></a>axios è¯·æ±‚å°è£…</h2><p>1ã€è®¾ç½®è¯·æ±‚æ‹¦æˆªå’Œå“åº”æ‹¦æˆª</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"variable constant_\">PRODUCT_URL</span> = <span class=\"string\">&#x27;https://xxxx.com&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"variable constant_\">MOCK_URL</span> = <span class=\"string\">&#x27;http://xxxx.com&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> http = axios.<span class=\"title function_\">create</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">baseURL</span>: process.<span class=\"property\">env</span>.<span class=\"property\">NODE_ENV</span> === <span class=\"string\">&#x27;production&#x27;</span> ? <span class=\"variable constant_\">PRODUCT_URL</span> : <span class=\"variable constant_\">MOCK_URL</span>,</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"comment\">// è¯·æ±‚æ‹¦æˆªå™¨</span></span><br><span class=\"line\">http.<span class=\"property\">interceptors</span>.<span class=\"property\">request</span>.<span class=\"title function_\">use</span>(</span><br><span class=\"line\">  <span class=\"function\">(<span class=\"params\">config</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// è®¾ç½®tokenï¼ŒContent-Type</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> token = sessionStorage.<span class=\"title function_\">getItem</span>(<span class=\"string\">&#x27;token&#x27;</span>)</span><br><span class=\"line\">    config.<span class=\"property\">headers</span>[<span class=\"string\">&#x27;token&#x27;</span>] = token</span><br><span class=\"line\">    config.<span class=\"property\">headers</span>[<span class=\"string\">&#x27;Content-Type&#x27;</span>] = <span class=\"string\">&#x27;application/json;charset=UTF-8&#x27;</span></span><br><span class=\"line\">    <span class=\"comment\">// è¯·æ±‚æ˜¾ç¤ºloadingæ•ˆæœ</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (config.<span class=\"property\">loading</span> === <span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">      vm.<span class=\"property\">$loading</span>.<span class=\"title function_\">show</span>()</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> config</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"function\">(<span class=\"params\">error</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    vm.<span class=\"property\">$loading</span>.<span class=\"title function_\">hide</span>()</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"title class_\">Promise</span>.<span class=\"title function_\">reject</span>(error)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">)</span><br><span class=\"line\"><span class=\"comment\">// å“åº”æ‹¦æˆªå™¨</span></span><br><span class=\"line\">http.<span class=\"property\">interceptors</span>.<span class=\"property\">response</span>.<span class=\"title function_\">use</span>(</span><br><span class=\"line\">  <span class=\"function\">(<span class=\"params\">res</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    vm.<span class=\"property\">$loading</span>.<span class=\"title function_\">hide</span>()</span><br><span class=\"line\">    <span class=\"comment\">// tokenå¤±æ•ˆï¼Œé‡æ–°ç™»å½•</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (res.<span class=\"property\">data</span>.<span class=\"property\">code</span> === <span class=\"number\">401</span>) &#123;</span><br><span class=\"line\">      <span class=\"comment\">//  é‡æ–°ç™»å½•</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> res</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"function\">(<span class=\"params\">error</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    vm.<span class=\"property\">$loading</span>.<span class=\"title function_\">hide</span>()</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"title class_\">Promise</span>.<span class=\"title function_\">reject</span>(error)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">)</span><br></pre></td></tr></table></figure>\n\n<p>2ã€å°è£… get å’Œ post è¯·æ±‚æ–¹æ³•</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">get</span>(<span class=\"params\">url, data, lodaing</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    http</span><br><span class=\"line\">      .<span class=\"title function_\">get</span>(url)</span><br><span class=\"line\">      .<span class=\"title function_\">then</span>(</span><br><span class=\"line\">        <span class=\"function\">(<span class=\"params\">response</span>) =&gt;</span> &#123;</span><br><span class=\"line\">          <span class=\"title function_\">resolve</span>(response)</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"function\">(<span class=\"params\">err</span>) =&gt;</span> &#123;</span><br><span class=\"line\">          <span class=\"title function_\">reject</span>(err)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      )</span><br><span class=\"line\">      .<span class=\"title function_\">catch</span>(<span class=\"function\">(<span class=\"params\">error</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"title function_\">reject</span>(error)</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">post</span>(<span class=\"params\">url, data, loading</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    http</span><br><span class=\"line\">      .<span class=\"title function_\">post</span>(url, data, &#123; <span class=\"attr\">loading</span>: loading &#125;)</span><br><span class=\"line\">      .<span class=\"title function_\">then</span>(</span><br><span class=\"line\">        <span class=\"function\">(<span class=\"params\">response</span>) =&gt;</span> &#123;</span><br><span class=\"line\">          <span class=\"title function_\">resolve</span>(response)</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        <span class=\"function\">(<span class=\"params\">err</span>) =&gt;</span> &#123;</span><br><span class=\"line\">          <span class=\"title function_\">reject</span>(err)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      )</span><br><span class=\"line\">      .<span class=\"title function_\">catch</span>(<span class=\"function\">(<span class=\"params\">error</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"title function_\">reject</span>(error)</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> &#123; get, post &#125;</span><br></pre></td></tr></table></figure>\n\n<p>3ã€æŠŠ getï¼Œpost æ–¹æ³•æŒ‚è½½åˆ° vue å®ä¾‹ä¸Šã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// main.js</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; get, post &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./js/ajax&#x27;</span></span><br><span class=\"line\"><span class=\"title class_\">Vue</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">$http</span> = &#123; get, post &#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"å·¥å…·ç±»å‡½æ•°å°è£…\"><a href=\"#å·¥å…·ç±»å‡½æ•°å°è£…\" class=\"headerlink\" title=\"å·¥å…·ç±»å‡½æ•°å°è£…\"></a>å·¥å…·ç±»å‡½æ•°å°è£…</h2><p>1ã€æ·»åŠ æ–¹æ³•åˆ° vue å®ä¾‹çš„åŸå‹é“¾ä¸Š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span><br><span class=\"line\">  install (<span class=\"title class_\">Vue</span>, options) &#123;</span><br><span class=\"line\">    <span class=\"title class_\">Vue</span>.<span class=\"property\"><span class=\"keyword\">prototype</span></span>.<span class=\"property\">util</span> = &#123;</span><br><span class=\"line\">      <span class=\"title function_\">method1</span>(<span class=\"params\">val</span>) &#123;</span><br><span class=\"line\">        ...</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      method2 (val) &#123;</span><br><span class=\"line\">       ...</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>2ã€åœ¨ main.js é€šè¿‡ vue.use()æ³¨å†Œ</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> utils <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./js/utils&#x27;</span></span><br><span class=\"line\"><span class=\"title class_\">Vue</span>.<span class=\"title function_\">use</span>(utils)</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"vue-router-é…ç½®\"><a href=\"#vue-router-é…ç½®\" class=\"headerlink\" title=\"vue-router é…ç½®\"></a>vue-router é…ç½®</h2><p>å¹³æ—¶å¾ˆå¤šäººå¯¹ vue-router çš„é…ç½®å¯é…ç½®äº† path å’Œ componentï¼Œå®ç°äº†è·¯ç”±è·³è½¬å³å¯ã€‚å…¶å® vue-router å¯åšçš„äº‹æƒ…è¿˜æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚</p>\n<ul>\n<li>è·¯ç”±æ‡’åŠ è½½é…ç½®</li>\n<li>æ”¹å˜å•é¡µé¢åº”ç”¨çš„ title</li>\n<li>ç™»å½•æƒé™æ ¡éªŒ</li>\n<li>é¡µé¢ç¼“å­˜é…ç½®</li>\n</ul>\n<h4 id=\"è·¯ç”±æ‡’åŠ è½½é…ç½®\"><a href=\"#è·¯ç”±æ‡’åŠ è½½é…ç½®\" class=\"headerlink\" title=\"è·¯ç”±æ‡’åŠ è½½é…ç½®\"></a>è·¯ç”±æ‡’åŠ è½½é…ç½®</h4><p>Vue é¡¹ç›®ä¸­å®ç°è·¯ç”±æŒ‰éœ€åŠ è½½ï¼ˆè·¯ç”±æ‡’åŠ è½½ï¼‰çš„ 3 ä¸­æ–¹å¼ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 1ã€Vueå¼‚æ­¥ç»„ä»¶æŠ€æœ¯ï¼š</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">path</span>: <span class=\"string\">&#x27;/home&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">name</span>: <span class=\"string\">&#x27;Home&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">component</span>: <span class=\"function\"><span class=\"params\">resolve</span> =&gt;</span> <span class=\"title function_\">reqire</span>([<span class=\"string\">&#x27;../views/Home.vue&#x27;</span>], resolve)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 2ã€es6ææ¡ˆçš„import()</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">path</span>: <span class=\"string\">&#x27;/&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">name</span>: <span class=\"string\">&#x27;home&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">component</span>: <span class=\"function\">() =&gt;</span> <span class=\"title function_\">import</span>(<span class=\"string\">&#x27;../views/Home.vue&#x27;</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 3ã€webpackæä¾›çš„require.ensure()</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">path</span>: <span class=\"string\">&#x27;/home&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">name</span>: <span class=\"string\">&#x27;Home&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">component</span>: <span class=\"function\"><span class=\"params\">r</span> =&gt;</span> <span class=\"built_in\">require</span>.<span class=\"title function_\">ensure</span>([],<span class=\"function\">() =&gt;</span>  <span class=\"title function_\">r</span>(<span class=\"built_in\">require</span>(<span class=\"string\">&#x27;../views/Home.vue&#x27;</span>)), <span class=\"string\">&#x27;home&#x27;</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æœ¬é¡¹ç›®é‡‡ç”¨çš„æ˜¯ç¬¬äºŒç§æ–¹å¼ï¼Œä¸ºäº†åç»­ webpack æ‰“åŒ…ä¼˜åŒ–ã€‚</p>\n<h4 id=\"æ”¹å˜å•é¡µé¢åº”ç”¨çš„-title\"><a href=\"#æ”¹å˜å•é¡µé¢åº”ç”¨çš„-title\" class=\"headerlink\" title=\"æ”¹å˜å•é¡µé¢åº”ç”¨çš„ title\"></a>æ”¹å˜å•é¡µé¢åº”ç”¨çš„ title</h4><p>ç”±äºå•é¡µé¢åº”ç”¨åªæœ‰ä¸€ä¸ª htmlï¼Œæ‰€æœ‰é¡µé¢çš„ title é»˜è®¤æ˜¯ä¸ä¼šæ”¹å˜çš„ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥æ‰è·¯ç”±é…ç½®ä¸­åŠ å…¥ç›¸å…³å±æ€§ï¼Œå†åœ¨è·¯ç”±å®ˆå«ä¸­é€šè¿‡ js æ”¹å˜é¡µé¢çš„ title</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">router.<span class=\"title function_\">beforeEach</span>(<span class=\"function\">(<span class=\"params\">to, <span class=\"keyword\">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">document</span>.<span class=\"property\">title</span> = to.<span class=\"property\">meta</span>.<span class=\"property\">title</span></span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"ç™»å½•æƒé™æ ¡éªŒ\"><a href=\"#ç™»å½•æƒé™æ ¡éªŒ\" class=\"headerlink\" title=\"ç™»å½•æƒé™æ ¡éªŒ\"></a>ç™»å½•æƒé™æ ¡éªŒ</h4><p>åœ¨åº”ç”¨ä¸­ï¼Œé€šå¸¸ä¼šæœ‰ä»¥ä¸‹çš„åœºæ™¯ï¼Œæ¯”å¦‚å•†åŸï¼šæœ‰äº›é¡µé¢æ˜¯ä¸éœ€è¦ç™»å½•å³å¯è®¿é—®çš„ï¼Œå¦‚é¦–é¡µï¼Œå•†å“è¯¦æƒ…é¡µç­‰ï¼Œéƒ½æ˜¯ç”¨æˆ·åœ¨ä»»ä½•æƒ…å†µéƒ½èƒ½çœ‹åˆ°çš„ï¼›ä½†æ˜¯ä¹Ÿæœ‰æ˜¯éœ€è¦ç™»å½•åæ‰èƒ½è®¿é—®çš„ï¼Œå¦‚ä¸ªäººä¸­å¿ƒï¼Œè´­ç‰©è½¦ç­‰ã€‚æ­¤æ—¶å°±éœ€è¦å¯¹é¡µé¢è®¿é—®è¿›è¡Œæ§åˆ¶äº†ã€‚</p>\n<p>æ­¤å¤–ï¼Œåƒä¸€äº›éœ€è¦è®°å½•ç”¨æˆ·ä¿¡æ¯å’Œç™»å½•çŠ¶æ€çš„é¡¹ç›®ï¼Œä¹Ÿæ˜¯éœ€è¦åšç™»å½•æƒé™æ ¡éªŒçš„ï¼Œä»¥é˜²åˆ«æœ‰ç”¨å¿ƒçš„äººé€šè¿‡ç›´æ¥è®¿é—®é¡µé¢çš„ url æ‰“å¼€é¡µé¢ã€‚</p>\n<p>æ­¤æ—¶ã€‚è·¯ç”±å®ˆå«å¯ä»¥å¸®åŠ©æˆ‘ä»¬åšç™»å½•æ ¡éªŒã€‚å…·ä½“å¦‚ä¸‹ï¼š</p>\n<p>1ã€é…ç½®è·¯ç”±çš„ meta å¯¹è±¡çš„ auth å±æ€§</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> routes = [</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"attr\">path</span>: <span class=\"string\">&#x27;/&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">name</span>: <span class=\"string\">&#x27;home&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">component</span>: <span class=\"function\">() =&gt;</span> <span class=\"title function_\">import</span>(<span class=\"string\">&#x27;../views/Home.vue&#x27;</span>),</span><br><span class=\"line\">    <span class=\"attr\">meta</span>: &#123; <span class=\"attr\">title</span>:  <span class=\"string\">&#x27;é¦–é¡µ&#x27;</span>, <span class=\"attr\">keepAlive</span>: <span class=\"literal\">false</span>, <span class=\"attr\">auth</span>: <span class=\"literal\">false</span> &#125;,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"attr\">path</span>: <span class=\"string\">&#x27;/mine&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">name</span>: <span class=\"string\">&#x27;mine&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">component</span>: <span class=\"function\">() =&gt;</span> <span class=\"title function_\">import</span>(<span class=\"string\">&#x27;../views/mine.vue&#x27;</span>),</span><br><span class=\"line\">    <span class=\"attr\">meta</span>: &#123; <span class=\"attr\">title</span>:  <span class=\"string\">&#x27;æˆ‘çš„&#x27;</span>, <span class=\"attr\">keepAlive</span>: <span class=\"literal\">false</span>, <span class=\"attr\">auth</span>: <span class=\"literal\">true</span> &#125;,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n\n<p>2ã€åœ¨è·¯ç”±é¦–é¡µè¿›è¡Œåˆ¤æ–­ã€‚å½“<code>to.meta.auth</code>ä¸º<code>true</code>(éœ€è¦ç™»å½•)ï¼Œä¸”ä¸å­˜åœ¨ç™»å½•ä¿¡æ¯ç¼“å­˜æ—¶ï¼Œéœ€è¦é‡å®šå‘å»ç™»å½•é¡µé¢</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">router.<span class=\"title function_\">beforeEach</span>(<span class=\"function\">(<span class=\"params\">to, <span class=\"keyword\">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">document</span>.<span class=\"property\">title</span> = to.<span class=\"property\">meta</span>.<span class=\"property\">title</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> userInfo = sessionStorage.<span class=\"title function_\">getItem</span>(<span class=\"string\">&#x27;userInfo&#x27;</span>) || <span class=\"literal\">null</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (!userInfo &amp;&amp; to.<span class=\"property\">meta</span>.<span class=\"property\">auth</span>) &#123;</span><br><span class=\"line\">    <span class=\"title function_\">next</span>(<span class=\"string\">&#x27;/login&#x27;</span>)</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"title function_\">next</span>()</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"é¡µé¢ç¼“å­˜é…ç½®\"><a href=\"#é¡µé¢ç¼“å­˜é…ç½®\" class=\"headerlink\" title=\"é¡µé¢ç¼“å­˜é…ç½®\"></a>é¡µé¢ç¼“å­˜é…ç½®</h4><p>é¡¹ç›®ä¸­ï¼Œæ€»æœ‰ä¸€äº›é¡µé¢æˆ‘ä»¬æ˜¯å¸Œæœ›åŠ è½½ä¸€æ¬¡å°±ç¼“å­˜ä¸‹æ¥çš„ï¼Œæ­¤æ—¶å°±ç”¨åˆ° keep-alive äº†ã€‚keep-alive æ˜¯ Vue æä¾›çš„ä¸€ä¸ªæŠ½è±¡ç»„ä»¶ï¼Œç”¨æ¥å¯¹ç»„ä»¶è¿›è¡Œç¼“å­˜ï¼Œä»è€ŒèŠ‚çœæ€§èƒ½ï¼Œç”±äºæ˜¯ä¸€ä¸ªæŠ½è±¡ç»„ä»¶ï¼Œæ‰€ä»¥åœ¨ v é¡µé¢æ¸²æŸ“å®Œæ¯•åä¸ä¼šè¢«æ¸²æŸ“æˆä¸€ä¸ª DOM å…ƒç´ ã€‚</p>\n<p>1ã€é€šè¿‡é…ç½®è·¯ç”±çš„ meta å¯¹è±¡çš„ keepAlive å±æ€§å€¼æ¥åŒºåˆ†é¡µé¢æ˜¯å¦éœ€è¦ç¼“å­˜</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> routes = [</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"attr\">path</span>: <span class=\"string\">&#x27;/&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">name</span>: <span class=\"string\">&#x27;home&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">component</span>: <span class=\"function\">() =&gt;</span> <span class=\"title function_\">import</span>(<span class=\"string\">&#x27;../views/Home.vue&#x27;</span>),</span><br><span class=\"line\">    <span class=\"attr\">meta</span>: &#123; <span class=\"attr\">title</span>:  <span class=\"string\">&#x27;é¦–é¡µ&#x27;</span>, <span class=\"attr\">keepAlive</span>: <span class=\"literal\">false</span>, <span class=\"attr\">auth</span>: <span class=\"literal\">false</span> &#125;,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"attr\">path</span>: <span class=\"string\">&#x27;/list&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">name</span>: <span class=\"string\">&#x27;list&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">component</span>: <span class=\"function\">() =&gt;</span> <span class=\"title function_\">import</span>(<span class=\"string\">&#x27;../views/list.vue&#x27;</span>),</span><br><span class=\"line\">    <span class=\"attr\">meta</span>: &#123; <span class=\"attr\">title</span>:  <span class=\"string\">&#x27;åˆ—è¡¨é¡µ&#x27;</span>, <span class=\"attr\">keepAlive</span>: <span class=\"literal\">true</span>, <span class=\"attr\">auth</span>: <span class=\"literal\">false</span> &#125;,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n\n<p>2ã€åœ¨ app.vue åšç¼“å­˜åˆ¤æ–­</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">router-view</span> <span class=\"attr\">v-if</span>=<span class=\"string\">&quot;!$route.meta.keepAlive&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">router-view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">keep-alive</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">router-view</span> <span class=\"attr\">v-if</span>=<span class=\"string\">&quot;$route.meta.keepAlive&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">router-view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">keep-alive</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"å¤šç¯å¢ƒå˜é‡é…ç½®\"><a href=\"#å¤šç¯å¢ƒå˜é‡é…ç½®\" class=\"headerlink\" title=\"å¤šç¯å¢ƒå˜é‡é…ç½®\"></a>å¤šç¯å¢ƒå˜é‡é…ç½®</h2><p>é¦–å…ˆæˆ‘ä»¬å…ˆæ¥äº†è§£ä¸€ä¸‹ç¯å¢ƒå˜é‡ï¼Œä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬çš„é¡¹ç›®ä¼šæœ‰ä¸‰ä¸ªç¯å¢ƒï¼Œæœ¬åœ°ç¯å¢ƒ(development)ï¼Œæµ‹è¯•ç¯å¢ƒ(test)ï¼Œç”Ÿäº§ç¯å¢ƒ(production)ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹å»ºä¸‰ä¸ªé…ç½®ç¯å¢ƒå˜é‡çš„æ–‡ä»¶<code>.env.development</code>ï¼Œ<code>.env.test</code>ï¼Œ<code>.env.production</code></p>\n<p>ç¯å¢ƒå˜é‡æ–‡ä»¶ä¸­åªåŒ…å«ç¯å¢ƒå˜é‡çš„â€œé”®&#x3D;å€¼â€å¯¹ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable constant_\">NODE_ENV</span> = <span class=\"string\">&#x27;production&#x27;</span></span><br><span class=\"line\"><span class=\"variable constant_\">VUE_APP_ENV</span> = <span class=\"string\">&#x27;production&#x27;</span> <span class=\"comment\">// åªæœ‰VUE_APPå¼€å¤´çš„ç¯å¢ƒå˜é‡å¯ä»¥åœ¨é¡¹ç›®ä»£ç ä¸­ç›´æ¥ä½¿ç”¨</span></span><br></pre></td></tr></table></figure>\n\n<p>é™¤äº†è‡ªå®šä¹‰çš„ VUE<em>APP</em>*å˜é‡ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸¤ä¸ªå¯ç”¨çš„å˜é‡ï¼š</p>\n<ul>\n<li>NODE_ENV : â€œdevelopmentâ€ã€â€productionâ€ æˆ– â€œtestâ€ä¸­çš„ä¸€ä¸ªã€‚å…·ä½“çš„å€¼å–å†³äºåº”ç”¨è¿è¡Œçš„æ¨¡å¼ã€‚</li>\n<li>BASE_URL : å’Œ vue.config.js ä¸­çš„ publicPath é€‰é¡¹ç›¸ç¬¦ï¼Œå³ä½ çš„åº”ç”¨ä¼šéƒ¨ç½²åˆ°çš„åŸºç¡€è·¯å¾„ã€‚</li>\n</ul>\n<p>ä¸‹é¢å¼€å§‹é…ç½®æˆ‘ä»¬çš„ç¯å¢ƒå˜é‡</p>\n<p>1ã€åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­æ–°å»º.env.*</p>\n<ul>\n<li>.env.development æœ¬åœ°å¼€å‘ç¯å¢ƒé…ç½®</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">NODE_ENV=&#x27;development&#x27;</span><br><span class=\"line\">VUE_APP_ENV = &#x27;development&#x27;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>env.staging æµ‹è¯•ç¯å¢ƒé…ç½®</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">NODE_ENV=&#x27;production&#x27;</span><br><span class=\"line\">VUE_APP_ENV = &#x27;staging&#x27;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>env.production æ­£å¼ç¯å¢ƒé…ç½®</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">NODE_ENV=&#x27;production&#x27;</span><br><span class=\"line\">VUE_APP_ENV = &#x27;production&#x27;</span><br></pre></td></tr></table></figure>\n\n<p>ä¸ºäº†åœ¨ä¸åŒç¯å¢ƒé…ç½®æ›´å¤šçš„å˜é‡ï¼Œæˆ‘ä»¬åœ¨ src æ–‡ä»¶ä¸‹æ–°å»ºä¸€ä¸ª config&#x2F;index</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// æ ¹æ®ç¯å¢ƒå¼•å…¥ä¸åŒé…ç½® process.env.NODE_ENV</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> config = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;./env.&#x27;</span> + process.<span class=\"property\">env</span>.<span class=\"property\">VUE_APP_ENV</span>)</span><br><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = config</span><br></pre></td></tr></table></figure>\n\n<p>åœ¨åŒçº§ç›®å½•ä¸‹æ–°å»º <code>env.development.js</code>ï¼Œ<code>env.test.js</code>ï¼Œ<code>env.production.js</code>ï¼Œåœ¨é‡Œé¢é…ç½®éœ€è¦çš„å˜é‡ã€‚<br>ä»¥ env.development.js ä¸ºä¾‹</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">baseUrl</span>: <span class=\"string\">&#x27;http://localhost:8089&#x27;</span>, <span class=\"comment\">// é¡¹ç›®åœ°å€</span></span><br><span class=\"line\">  <span class=\"attr\">baseApi</span>: <span class=\"string\">&#x27;https://www.mock.com/api&#x27;</span>, <span class=\"comment\">// æœ¬åœ°apiè¯·æ±‚åœ°å€</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>2ã€é…ç½®æ‰“åŒ…å‘½ä»¤</p>\n<p>package.json é‡Œçš„ scripts ä¸åŒç¯å¢ƒçš„æ‰“åŒ…å‘½ä»¤</p>\n<ul>\n<li>é€šè¿‡ npm run serve å¯åŠ¨æœ¬åœ°</li>\n<li>é€šè¿‡ npm run test æ‰“åŒ…æµ‹è¯•</li>\n<li>é€šè¿‡ npm run build æ‰“åŒ…æ­£å¼</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&quot;scripts&quot;</span>: &#123;</span><br><span class=\"line\">  <span class=\"string\">&quot;dev&quot;</span>: <span class=\"string\">&quot;vue-cli-service serve&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;build&quot;</span>: <span class=\"string\">&quot;vue-cli-service build&quot;</span>,</span><br><span class=\"line\">  <span class=\"string\">&quot;test&quot;</span>: <span class=\"string\">&quot;vue-cli-service build --mode test&quot;</span>,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"vue-config-js-é…ç½®\"><a href=\"#vue-config-js-é…ç½®\" class=\"headerlink\" title=\"vue.config.js é…ç½®\"></a>vue.config.js é…ç½®</h2><p>vue-cli3 å¼€å§‹ï¼Œæ–°å»ºçš„è„šæ‰‹æ¶éƒ½éœ€è¦æˆ‘ä»¬åœ¨ vue.config.js é…ç½®æˆ‘ä»¬é¡¹ç›®çš„ä¸œè¥¿ã€‚ä¸»è¦åŒ…æ‹¬</p>\n<ul>\n<li>æ‰“åŒ…åæ–‡ä»¶è¾“å‡ºä½ç½®</li>\n<li>å…³é—­ç”Ÿäº§ç¯å¢ƒ sourcemap</li>\n<li>é…ç½® rem è½¬åŒ– px</li>\n<li>é…ç½® alias åˆ«å</li>\n<li>å»é™¤ç”Ÿäº§ç¯å¢ƒ console</li>\n<li>è·¨åŸŸä»£ç†è®¾ç½®</li>\n</ul>\n<p>æ­¤å¤–ï¼Œè¿˜æœ‰å¾ˆå¤šå±äºä¼˜åŒ–æ‰“åŒ…çš„é…ç½®ï¼Œåé¢ä¼šä¸€ä¸€é“æ¥ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\">  <span class=\"attr\">publicPath</span>: <span class=\"string\">&#x27;./&#x27;</span>, <span class=\"comment\">// é»˜è®¤ä¸º&#x27;/&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// å°†æ„å»ºå¥½çš„æ–‡ä»¶è¾“å‡ºåˆ°å“ªé‡Œï¼Œæœ¬å¸è¦æ±‚</span></span><br><span class=\"line\">  <span class=\"attr\">outputDir</span>: <span class=\"string\">&#x27;dist/static&#x27;</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// æ”¾ç½®ç”Ÿæˆçš„é™æ€èµ„æº(jsã€cssã€imgã€fonts)çš„ç›®å½•ã€‚</span></span><br><span class=\"line\">  <span class=\"attr\">assetsDir</span>: <span class=\"string\">&#x27;static&#x27;</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// æŒ‡å®šç”Ÿæˆçš„ index.html çš„è¾“å‡ºè·¯å¾„</span></span><br><span class=\"line\">  <span class=\"attr\">indexPath</span>: <span class=\"string\">&#x27;index.html&#x27;</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// æ˜¯å¦ä½¿ç”¨åŒ…å«è¿è¡Œæ—¶ç¼–è¯‘å™¨çš„ Vue æ„å»ºç‰ˆæœ¬ã€‚</span></span><br><span class=\"line\">  <span class=\"attr\">runtimeCompiler</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">transpileDependencies</span>: [],</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// å¦‚æœä½ ä¸éœ€è¦ç”Ÿäº§ç¯å¢ƒçš„ source map</span></span><br><span class=\"line\">  <span class=\"attr\">productionSourceMap</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// é…ç½®css</span></span><br><span class=\"line\">  <span class=\"attr\">css</span>: &#123;</span><br><span class=\"line\">    <span class=\"comment\">// æ˜¯å¦ä½¿ç”¨cssåˆ†ç¦»æ’ä»¶ ExtractTextPlugin</span></span><br><span class=\"line\">    <span class=\"attr\">extract</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"attr\">sourceMap</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    <span class=\"comment\">// cssé¢„è®¾å™¨é…ç½®é¡¹</span></span><br><span class=\"line\">    <span class=\"attr\">loaderOptions</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">postcss</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">          <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;postcss-px2rem&#x27;</span>)(&#123;</span><br><span class=\"line\">            <span class=\"attr\">remUnit</span>: <span class=\"number\">100</span>,</span><br><span class=\"line\">          &#125;),</span><br><span class=\"line\">        ],</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"comment\">// å¯ç”¨ CSS modules for all css / pre-processor files.</span></span><br><span class=\"line\">    <span class=\"attr\">modules</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå…è®¸å¯¹å†…éƒ¨çš„ webpack é…ç½®è¿›è¡Œæ›´ç»†ç²’åº¦çš„ä¿®æ”¹ã€‚</span></span><br><span class=\"line\">  <span class=\"attr\">chainWebpack</span>: <span class=\"function\">(<span class=\"params\">config</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">// é…ç½®åˆ«å</span></span><br><span class=\"line\">    config.<span class=\"property\">resolve</span>.<span class=\"property\">alias</span></span><br><span class=\"line\">      .<span class=\"title function_\">set</span>(<span class=\"string\">&#x27;@&#x27;</span>, <span class=\"title function_\">resolve</span>(<span class=\"string\">&#x27;src&#x27;</span>))</span><br><span class=\"line\">      .<span class=\"title function_\">set</span>(<span class=\"string\">&#x27;assets&#x27;</span>, <span class=\"title function_\">resolve</span>(<span class=\"string\">&#x27;src/assets&#x27;</span>))</span><br><span class=\"line\">      .<span class=\"title function_\">set</span>(<span class=\"string\">&#x27;components&#x27;</span>, <span class=\"title function_\">resolve</span>(<span class=\"string\">&#x27;src/components&#x27;</span>))</span><br><span class=\"line\">      .<span class=\"title function_\">set</span>(<span class=\"string\">&#x27;views&#x27;</span>, <span class=\"title function_\">resolve</span>(<span class=\"string\">&#x27;src/views&#x27;</span>))</span><br><span class=\"line\"></span><br><span class=\"line\">    config.<span class=\"property\">optimization</span>.<span class=\"title function_\">minimizer</span>(<span class=\"string\">&#x27;terser&#x27;</span>).<span class=\"title function_\">tap</span>(<span class=\"function\">(<span class=\"params\">args</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">// å»é™¤ç”Ÿäº§ç¯å¢ƒconsole</span></span><br><span class=\"line\">      args[<span class=\"number\">0</span>].<span class=\"property\">terserOptions</span>.<span class=\"property\">compress</span>.<span class=\"property\">drop_console</span> = <span class=\"literal\">true</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> args</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// æ˜¯å¦ä¸º Babel æˆ– TypeScript ä½¿ç”¨ thread-loaderã€‚è¯¥é€‰é¡¹åœ¨ç³»ç»Ÿçš„ CPU æœ‰å¤šäºä¸€ä¸ªå†…æ ¸æ—¶è‡ªåŠ¨å¯ç”¨ï¼Œä»…ä½œç”¨äºç”Ÿäº§æ„å»ºã€‚</span></span><br><span class=\"line\">  <span class=\"attr\">parallel</span>: <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;os&#x27;</span>).<span class=\"title function_\">cpus</span>().<span class=\"property\">length</span> &gt; <span class=\"number\">1</span>,</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"attr\">devServer</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">host</span>: <span class=\"string\">&#x27;0.0.0.0&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">port</span>: <span class=\"number\">8088</span>, <span class=\"comment\">// ç«¯å£å·</span></span><br><span class=\"line\">    <span class=\"attr\">https</span>: <span class=\"literal\">false</span>, <span class=\"comment\">// https:&#123;type:Boolean&#125;</span></span><br><span class=\"line\">    <span class=\"attr\">open</span>: <span class=\"literal\">false</span>, <span class=\"comment\">// é…ç½®è‡ªåŠ¨å¯åŠ¨æµè§ˆå™¨  open: &#x27;Google Chrome&#x27;-é»˜è®¤å¯åŠ¨è°·æ­Œ</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// é…ç½®å¤šä¸ªä»£ç†</span></span><br><span class=\"line\">    <span class=\"attr\">proxy</span>: &#123;</span><br><span class=\"line\">      <span class=\"string\">&#x27;/api&#x27;</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">target</span>: <span class=\"string\">&#x27;https://www.mock.com&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">ws</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// ä»£ç†çš„WebSockets</span></span><br><span class=\"line\">        <span class=\"attr\">changeOrigin</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// å…è®¸websocketsè·¨åŸŸ</span></span><br><span class=\"line\">        <span class=\"attr\">pathRewrite</span>: &#123;</span><br><span class=\"line\">          <span class=\"string\">&#x27;^/api&#x27;</span>: <span class=\"string\">&#x27;&#x27;</span>,</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"åŸºç¡€ç»„ä»¶å°è£…\"><a href=\"#åŸºç¡€ç»„ä»¶å°è£…\" class=\"headerlink\" title=\"åŸºç¡€ç»„ä»¶å°è£…\"></a>åŸºç¡€ç»„ä»¶å°è£…</h2><p>åœ¨å¼€å‘é¡¹ç›®è¿‡ç¨‹ä¸­ï¼Œé€šå¸¸ä¼šç”¨åˆ°å¾ˆå¤šåŠŸèƒ½å’Œè®¾è®¡ç›¸ç±»ä¼¼çš„ç»„ä»¶ï¼Œtoast å’Œ dialog ç»„ä»¶åŸºæœ¬æ˜¯æ¯ä¸€ä¸ªç§»åŠ¨ç«¯é¡¹ç›®éƒ½ä¼šç”¨åˆ°çš„ã€‚ä¸ºäº†æ›´å¥½åŒ¹é…è‡ªå·±å…¬å¸çš„ UI è®¾è®¡é£æ ¼ï¼Œæˆ‘ä»¬æ²¡æœ‰ç›´æ¥ç”¨ vant çš„ toast å’Œ dialog ç»„ä»¶ï¼Œè€Œæ˜¯è‡ªå·±å°è£…äº†ç±»ä¼¼çš„ç»„ä»¶ï¼Œå¯ä¾›ç›´æ¥è°ƒç”¨ï¼Œå¦‚ï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">this</span>.$toast(&#123; <span class=\"attr\">msg</span>: <span class=\"string\">&#x27;æ‰‹æœºå·ç ä¸èƒ½ä¸ºç©º&#x27;</span> &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">this</span>.$toast(&#123;</span><br><span class=\"line\">  <span class=\"attr\">msg</span>: <span class=\"string\">&#x27;æˆåŠŸæç¤º&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">type</span>: <span class=\"string\">&#x27;success&#x27;</span>,</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">this</span>.$dialog(&#123;</span><br><span class=\"line\">  <span class=\"attr\">title</span>:  <span class=\"string\">&#x27;åˆ é™¤æç¤º&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">text</span>: <span class=\"string\">&#x27;æ˜¯å¦ç¡®å®šåˆ é™¤æ­¤æ ‡ç­¾ï¼Ÿ&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">showCancelBtn</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">  <span class=\"attr\">confirmText</span>: <span class=\"string\">&#x27;ç¡®è®¤&#x27;</span>,</span><br><span class=\"line\">  <span class=\"title function_\">confirm</span>(<span class=\"params\">content</span>) &#123;</span><br><span class=\"line\">    <span class=\"title function_\">alert</span>(<span class=\"string\">&#x27;åˆ é™¤æˆåŠŸ&#x27;</span>)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<p>æ•ˆæœå›¾å¦‚ä¸‹</p>\n<p><img src=\"https://user-gold-cdn.xitu.io/2020/5/10/171fc7862c4a065f?w=1032&h=523&f=png&s=70452\"></p>\n<h4 id=\"toast-ä¼ å…¥å‚æ•°\"><a href=\"#toast-ä¼ å…¥å‚æ•°\" class=\"headerlink\" title=\"toast ä¼ å…¥å‚æ•°\"></a>toast ä¼ å…¥å‚æ•°</h4><p><strong>Props</strong></p>\n<table>\n<thead>\n<tr>\n<th>name</th>\n<th>type</th>\n<th>default</th>\n<th>description</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>msg</td>\n<td>String</td>\n<td>â€˜â€™</td>\n<td>å¼¹çª—æç¤ºè¯­</td>\n</tr>\n<tr>\n<td>type</td>\n<td>String</td>\n<td>â€˜â€™</td>\n<td>å¼¹çª—ç±»å‹ï¼šsuccess(æˆåŠŸæç¤º),fail(å¤±è´¥æç¤º),warning(è­¦å‘Š),loading(åŠ è½½)</td>\n</tr>\n</tbody></table>\n<h4 id=\"dialog-ä¼ å…¥å‚æ•°\"><a href=\"#dialog-ä¼ å…¥å‚æ•°\" class=\"headerlink\" title=\"dialog ä¼ å…¥å‚æ•°\"></a>dialog ä¼ å…¥å‚æ•°</h4><p><strong>Props</strong></p>\n<table>\n<thead>\n<tr>\n<th>name</th>\n<th>type</th>\n<th>default</th>\n<th>description</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>title</td>\n<td>String</td>\n<td>â€˜â€™</td>\n<td>æ ‡é¢˜</td>\n</tr>\n<tr>\n<td>text</td>\n<td>String</td>\n<td>â€˜â€™</td>\n<td>æ–‡æœ¬å†…å®¹</td>\n</tr>\n<tr>\n<td>type</td>\n<td>String</td>\n<td>â€˜â€™</td>\n<td>é»˜è®¤çº¯æ–‡æœ¬ï¼Œinput(è¾“å…¥æ¡†)</td>\n</tr>\n<tr>\n<td>maxlength</td>\n<td>Number</td>\n<td>20</td>\n<td>è¾“å…¥çš„æœ€å¤šå­—æ•°</td>\n</tr>\n<tr>\n<td>confirmText</td>\n<td>String</td>\n<td>ç¡®å®š</td>\n<td>å³è¾¹æŒ‰é’®</td>\n</tr>\n<tr>\n<td>cancelText</td>\n<td>String</td>\n<td>å–æ¶ˆ</td>\n<td>å·¦è¾¹æŒ‰é’®</td>\n</tr>\n</tbody></table>\n<p><strong>Events</strong></p>\n<table>\n<thead>\n<tr>\n<th>name</th>\n<th>params</th>\n<th>description</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>confirm</td>\n<td>null</td>\n<td>é€‰æ‹©åçš„å›è°ƒ</td>\n</tr>\n<tr>\n<td>cancel</td>\n<td>ull</td>\n<td>å–æ¶ˆåçš„å›è°ƒ</td>\n</tr>\n</tbody></table>\n<h2 id=\"webpack-å¯è§†åŒ–åˆ†æ\"><a href=\"#webpack-å¯è§†åŒ–åˆ†æ\" class=\"headerlink\" title=\"webpack å¯è§†åŒ–åˆ†æ\"></a>webpack å¯è§†åŒ–åˆ†æ</h2><p>ä»è¿™é‡Œå¼€å§‹ï¼Œæˆ‘ä»¬å¼€å§‹è¿›è¡Œ webpack ä¼˜åŒ–æ‰“åŒ…ã€‚é¦–å…ˆæˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹ webpack æ‰“åŒ…æ€§èƒ½ç“¶é¢ˆï¼Œæ‰¾å‡ºé—®é¢˜æ‰€åœ¨ï¼Œç„¶åæ‰èƒ½å¯¹ç—‡ä¸‹è¯ã€‚æ­¤æ—¶å°±ç”¨åˆ° webpack-bundle-analyzer äº†ã€‚<br>1ã€å®‰è£…ä¾èµ–</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm install webpack-bundle-analyzer -D</span><br></pre></td></tr></table></figure>\n\n<p>2ã€åœ¨ vue.config.js é…ç½®</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> &#123; <span class=\"title class_\">BundleAnalyzerPlugin</span> &#125; = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;webpack-bundle-analyzer&#x27;</span>)</span><br><span class=\"line\"><span class=\"attr\">configureWebpack</span>: <span class=\"function\">(<span class=\"params\">config</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (process.<span class=\"property\">env</span>.<span class=\"property\">NODE_ENV</span> === <span class=\"string\">&#x27;production&#x27;</span>) &#123;</span><br><span class=\"line\">    config.<span class=\"property\">plugins</span>.<span class=\"title function_\">push</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">BundleAnalyzerPlugin</span>())</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æ‰“åŒ…åï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¿™æ ·ä¸€ä»½ä¾èµ–å›¾</p>\n<p><img src=\"https://user-gold-cdn.xitu.io/2020/5/10/171fc78ad5a37759?w=1909&h=931&f=png&s=235323\"></p>\n<p>ä»ä»¥ä¸Šçš„ç•Œé¢ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ä»¥ä¸‹ä¿¡æ¯ï¼š</p>\n<ul>\n<li>æ‰“åŒ…å‡ºçš„æ–‡ä»¶ä¸­éƒ½åŒ…å«äº†ä»€ä¹ˆï¼Œä»¥åŠæ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»</li>\n<li>æ¯ä¸ªæ–‡ä»¶çš„å¤§å°åœ¨æ€»ä½“ä¸­çš„å æ¯”ï¼Œæ‰¾å‡ºè¾ƒå¤§çš„æ–‡ä»¶ï¼Œæ€è€ƒæ˜¯å¦æœ‰æ›¿æ¢æ–¹æ¡ˆï¼Œæ˜¯å¦ä½¿ç”¨äº†å®ƒåŒ…å«äº†ä¸å¿…è¦çš„ä¾èµ–ï¼Ÿ</li>\n<li>æ˜¯å¦æœ‰é‡å¤çš„ä¾èµ–é¡¹ï¼Œå¯¹æ­¤å¯ä»¥å¦‚ä½•ä¼˜åŒ–ï¼Ÿ</li>\n<li>æ¯ä¸ªæ–‡ä»¶çš„å‹ç¼©åçš„å¤§å°ã€‚</li>\n</ul>\n<h2 id=\"CDN-èµ„æºä¼˜åŒ–\"><a href=\"#CDN-èµ„æºä¼˜åŒ–\" class=\"headerlink\" title=\"CDN èµ„æºä¼˜åŒ–\"></a>CDN èµ„æºä¼˜åŒ–</h2><p>CDN çš„å…¨ç§°æ˜¯ <code>Content Delivery Network</code>ï¼Œå³å†…å®¹åˆ†å‘ç½‘ç»œã€‚CDN æ˜¯æ„å»ºåœ¨ç½‘ç»œä¹‹ä¸Šçš„å†…å®¹åˆ†å‘ç½‘ç»œï¼Œä¾é éƒ¨ç½²åœ¨å„åœ°çš„è¾¹ç¼˜æœåŠ¡å™¨ï¼Œé€šè¿‡ä¸­å¿ƒå¹³å°çš„è´Ÿè½½å‡è¡¡ã€å†…å®¹åˆ†å‘ã€è°ƒåº¦ç­‰åŠŸèƒ½æ¨¡å—ï¼Œä½¿ç”¨æˆ·å°±è¿‘è·å–æ‰€éœ€å†…å®¹ï¼Œé™ä½ç½‘ç»œæ‹¥å¡ï¼Œæé«˜ç”¨æˆ·è®¿é—®å“åº”é€Ÿåº¦å’Œå‘½ä¸­ç‡ã€‚CDN çš„å…³é”®æŠ€æœ¯ä¸»è¦æœ‰å†…å®¹å­˜å‚¨å’Œåˆ†å‘æŠ€æœ¯ã€‚</p>\n<p>éšç€é¡¹ç›®è¶Šåšè¶Šå¤§ï¼Œä¾èµ–çš„ç¬¬ä¸‰æ–¹ npm åŒ…è¶Šæ¥è¶Šå¤šï¼Œæ„å»ºä¹‹åçš„æ–‡ä»¶ä¹Ÿä¼šè¶Šæ¥è¶Šå¤§ã€‚å†åŠ ä¸Šåˆæ˜¯å•é¡µåº”ç”¨ï¼Œè¿™å°±ä¼šå¯¼è‡´åœ¨ç½‘é€Ÿè¾ƒæ…¢æˆ–è€…æœåŠ¡å™¨å¸¦å®½æœ‰é™çš„æƒ…å†µå‡ºç°é•¿æ—¶é—´çš„ç™½å±ã€‚æ­¤æ—¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ CDN çš„æ–¹æ³•ï¼Œä¼˜åŒ–ç½‘ç»œåŠ è½½é€Ÿåº¦ã€‚</p>\n<p>1ã€å°† <code>vueã€vue-routerã€vuexã€axios</code> è¿™äº› vue å…¨å®¶æ¡¶çš„èµ„æºï¼Œå…¨éƒ¨æ”¹ä¸ºé€šè¿‡ CDN é“¾æ¥è·å–ï¼Œåœ¨ <code>index.html</code> é‡Œæ’å…¥ ç›¸åº”é“¾æ¥ã€‚</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://cdn.bootcss.com/vue/2.6.10/vue.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://cdn.bootcss.com/axios/0.19.0-beta.1/axios.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://cdn.bootcss.com/vuex/3.1.0/vuex.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://cdn.bootcss.com/vue-router/3.0.2/vue-router.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://cdn.bootcss.com/element-ui/2.6.1/index.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>2ã€åœ¨ <code>vue.config.js</code> é…ç½® externals å±æ€§</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span> = &#123;</span><br><span class=\"line\"> Â·Â·Â·</span><br><span class=\"line\">    <span class=\"attr\">externals</span>: &#123;</span><br><span class=\"line\">      <span class=\"string\">&#x27;vue&#x27;</span>: <span class=\"string\">&#x27;Vue&#x27;</span>,</span><br><span class=\"line\">      <span class=\"string\">&#x27;vuex&#x27;</span>: <span class=\"string\">&#x27;Vuex&#x27;</span>,</span><br><span class=\"line\">      <span class=\"string\">&#x27;vue-router&#x27;</span>: <span class=\"string\">&#x27;VueRouter&#x27;</span>,</span><br><span class=\"line\">      <span class=\"string\">&#x27;axios&#x27;</span>:<span class=\"string\">&#x27;axios&#x27;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure>\n\n<p>3ã€å¸è½½ç›¸å…³ä¾èµ–çš„ npm åŒ…</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm uninstall  vue vue-router vuex axios</span><br></pre></td></tr></table></figure>\n\n<p>æ­¤æ—¶å¯åŠ¨é¡¹ç›®è¿è¡Œå°±å¯ä»¥äº†ã€‚æˆ‘ä»¬åœ¨æ§åˆ¶å°å°±èƒ½å‘ç°é¡¹ç›®åŠ è½½äº†ä»¥ä¸Šå››ä¸ª CDN èµ„æºã€‚</p>\n<p>ä¸è¿‡ç°åœ¨æœ‰ä¸å°‘å£°éŸ³è¯´ï¼Œvue å…¨å®¶æ¡¶åŠ è½½ CDN èµ„æºå…¶å®ä½œç”¨å¹¶ä¸å¤§ï¼Œè€Œä¸”å…¬å…±çš„ CDN èµ„æºä¹Ÿæ²¡æœ‰ npm åŒ…é‚£ä¹ˆç¨³å®šï¼Œè¿™ä¸ªå°±è§ä»è§æ™ºäº†ã€‚æ‰€ä»¥æˆ‘åœ¨æºç æ—¶æ–°å»ºçš„åˆ†æ”¯åšè¿™ä¸ªä¼˜åŒ–ã€‚å½“é¡¹ç›®è¾ƒå°çš„å°±ä¸è€ƒè™‘ CDN ä¼˜åŒ–äº†ã€‚</p>\n<p>å½“ç„¶ï¼Œå½“å¼•å…¥å…¶ä»–è¾ƒå¤§ç¬¬ä¸‰æ–¹èµ„æºï¼Œæ¯”å¦‚ echartsï¼ŒAMAP(é«˜å¾·åœ°å›¾)ï¼Œé‡‡ç”¨ CDN èµ„æºè¿˜æ˜¯å¾ˆæœ‰å¿…è¦çš„ã€‚</p>\n<h2 id=\"gZip-åŠ é€Ÿä¼˜åŒ–\"><a href=\"#gZip-åŠ é€Ÿä¼˜åŒ–\" class=\"headerlink\" title=\"gZip åŠ é€Ÿä¼˜åŒ–\"></a>gZip åŠ é€Ÿä¼˜åŒ–</h2><p>æ‰€æœ‰ç°ä»£æµè§ˆå™¨éƒ½æ”¯æŒ gzip å‹ç¼©ï¼Œå¯ç”¨ gzip å‹ç¼©å¯å¤§å¹…ç¼©å‡ä¼ è¾“èµ„æºå¤§å°ï¼Œä»è€Œç¼©çŸ­èµ„æºä¸‹è½½æ—¶é—´ï¼Œå‡å°‘é¦–æ¬¡ç™½å±æ—¶é—´ï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚</p>\n<p>gzip å¯¹åŸºäºæ–‡æœ¬æ ¼å¼æ–‡ä»¶çš„å‹ç¼©æ•ˆæœæœ€å¥½ï¼ˆå¦‚ï¼šCSSã€JavaScript å’Œ HTMLï¼‰ï¼Œåœ¨å‹ç¼©è¾ƒå¤§æ–‡ä»¶æ—¶å¾€å¾€å¯å®ç°é«˜è¾¾ 70-90% çš„å‹ç¼©ç‡ï¼Œå¯¹å·²ç»å‹ç¼©è¿‡çš„èµ„æºï¼ˆå¦‚ï¼šå›¾ç‰‡ï¼‰è¿›è¡Œ gzip å‹ç¼©å¤„ç†ï¼Œæ•ˆæœå¾ˆä¸å¥½ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">CompressionPlugin</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;compression-webpack-plugin&#x27;</span>)</span><br><span class=\"line\"><span class=\"attr\">configureWebpack</span>: <span class=\"function\">(<span class=\"params\">config</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (process.<span class=\"property\">env</span>.<span class=\"property\">NODE_ENV</span> === <span class=\"string\">&#x27;production&#x27;</span>) &#123;</span><br><span class=\"line\">    config.<span class=\"property\">plugins</span>.<span class=\"title function_\">push</span>(</span><br><span class=\"line\">      <span class=\"keyword\">new</span> <span class=\"title class_\">CompressionPlugin</span>(&#123;</span><br><span class=\"line\">        <span class=\"comment\">// gzipå‹ç¼©é…ç½®</span></span><br><span class=\"line\">        <span class=\"attr\">test</span>: <span class=\"regexp\">/\\.js$|\\.html$|\\.css/</span>, <span class=\"comment\">// åŒ¹é…æ–‡ä»¶å</span></span><br><span class=\"line\">        <span class=\"attr\">threshold</span>: <span class=\"number\">10240</span>, <span class=\"comment\">// å¯¹è¶…è¿‡10kbçš„æ•°æ®è¿›è¡Œå‹ç¼©</span></span><br><span class=\"line\">        <span class=\"attr\">deleteOriginalAssets</span>: <span class=\"literal\">false</span>, <span class=\"comment\">// æ˜¯å¦åˆ é™¤åŸæ–‡ä»¶</span></span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    )</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"é¦–é¡µæ·»åŠ éª¨æ¶å±\"><a href=\"#é¦–é¡µæ·»åŠ éª¨æ¶å±\" class=\"headerlink\" title=\"é¦–é¡µæ·»åŠ éª¨æ¶å±\"></a>é¦–é¡µæ·»åŠ éª¨æ¶å±</h2><p>éšç€ SPA åœ¨å‰ç«¯ç•Œçš„é€æ¸æµè¡Œï¼Œå•é¡µé¢åº”ç”¨ä¸å¯é¿å…åœ°ç»™é¦–é¡µåŠ è½½å¸¦æ¥å‹åŠ›ï¼Œæ­¤æ—¶è‰¯å¥½çš„é¦–é¡µç”¨æˆ·ä½“éªŒè‡³å…³é‡è¦ã€‚å¾ˆå¤š APP é‡‡ç”¨äº†â€œéª¨æ¶å±â€çš„æ–¹å¼å»å±•ç¤ºæœªåŠ è½½å†…å®¹ï¼Œç»™äºˆäº†ç”¨æˆ·ç„•ç„¶ä¸€æ–°çš„ä½“éªŒã€‚</p>\n<p>æ‰€è°“çš„éª¨æ¶å±ï¼Œå°±æ˜¯åœ¨é¡µé¢å†…å®¹æœªåŠ è½½å®Œæˆçš„æ—¶å€™ï¼Œå…ˆä½¿ç”¨ä¸€äº›å›¾å½¢è¿›è¡Œå ä½ï¼Œå¾…å†…å®¹åŠ è½½å®Œæˆä¹‹åå†æŠŠå®ƒæ›¿æ¢æ‰ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ç”¨æˆ·ä¼šæ„ŸçŸ¥åˆ°å†…å®¹æ­£åœ¨é€æ¸åŠ è½½å¹¶å³å°†å‘ˆç°ï¼Œé™ä½äº†â€œç™½å±â€çš„ä¸è‰¯ä½“éªŒã€‚</p>\n<p>æœ¬æ–‡é‡‡ç”¨vue-skeleton-webpack-pluginæ’ä»¶ä¸ºå•é¡µé¢åº”ç”¨æ³¨å…¥éª¨æ¶å±ã€‚  </p>\n<p>1ã€åœ¨srcçš„commonæ–‡ä»¶å¤¹ä¸‹é¢åˆ›å»ºäº†Skeleton1.vueï¼ŒSkeleton2.vueï¼Œå…·ä½“çš„ç»“æ„å’Œæ ·å¼è‡ªè¡Œè®¾è®¡ï¼Œæ­¤å¤„çœç•¥ä¸€ä¸‡å­—ã€‚ã€‚ã€‚ã€‚</p>\n<p>2ã€åœ¨åŒçº§ç›®å½•ä¸‹æ–°å»ºentry-skeleton.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Vue</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vue&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Skeleton1</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./Skeleton1&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Skeleton2</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./Skeleton2&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Vue</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">components</span>: &#123;</span><br><span class=\"line\">    <span class=\"title class_\">Skeleton1</span>,</span><br><span class=\"line\">    <span class=\"title class_\">Skeleton2</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">template</span>: <span class=\"string\">`</span></span><br><span class=\"line\"><span class=\"string\">    &lt;div&gt;</span></span><br><span class=\"line\"><span class=\"string\">      &lt;skeleton1 id=&quot;skeleton1&quot; style=&quot;display:none&quot;/&gt;</span></span><br><span class=\"line\"><span class=\"string\">      &lt;skeleton2 id=&quot;skeleton2&quot; style=&quot;display:none&quot;/&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;/div&gt;</span></span><br><span class=\"line\"><span class=\"string\">  `</span></span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<p>åœ¨vue.config.jsä¸‹é…ç½®æ’ä»¶</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title class_\">SkeletonWebpackPlugin</span> = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;vue-skeleton-webpack-plugin&#x27;</span>)</span><br><span class=\"line\"><span class=\"attr\">configureWebpack</span>: <span class=\"function\">(<span class=\"params\">config</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  config.<span class=\"property\">plugins</span>.<span class=\"title function_\">push</span>(</span><br><span class=\"line\">    <span class=\"keyword\">new</span> <span class=\"title class_\">SkeletonWebpackPlugin</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">webpackConfig</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">entry</span>: &#123;</span><br><span class=\"line\">          <span class=\"attr\">app</span>: path.<span class=\"title function_\">join</span>(__dirname, <span class=\"string\">&#x27;./src/common/entry-skeleton.js&#x27;</span>),</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"attr\">minimize</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">      <span class=\"attr\">quiet</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">      <span class=\"attr\">router</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">mode</span>: <span class=\"string\">&#x27;hash&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">routes</span>: [</span><br><span class=\"line\">          &#123; <span class=\"attr\">path</span>: <span class=\"string\">&#x27;/&#x27;</span>, <span class=\"attr\">skeletonId</span>: <span class=\"string\">&#x27;skeleton1&#x27;</span> &#125;,</span><br><span class=\"line\">          &#123; <span class=\"attr\">path</span>: <span class=\"string\">&#x27;/about&#x27;</span>, <span class=\"attr\">skeletonId</span>: <span class=\"string\">&#x27;skeleton2&#x27;</span> &#125;,</span><br><span class=\"line\">        ],</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  )</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>æ­¤æ—¶é‡æ–°åŠ è½½é¡µé¢å°±å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„éª¨æ¶å±äº†ã€‚<strong>æ³¨æ„ï¼šä¸€å®šè¦é…ç½®æ ·å¼åˆ†ç¦»extract: true</strong></p>\n"},{"url":"/LittleWhiteRabbit/2022/04/26/%E9%9D%A2%E8%AF%95%E9%A2%98%E7%B2%BE%E7%AE%80%E7%89%88%E6%9C%AC/","content":"<hr>\n<p>title:  é¢è¯•é¢˜<br>date:   2020-10-13 15:34:10</p>\n<h2 id=\"ä¸€ã€CSSç›¸å…³\"><a href=\"#ä¸€ã€CSSç›¸å…³\" class=\"headerlink\" title=\"ä¸€ã€CSSç›¸å…³\"></a>ä¸€ã€CSSç›¸å…³</h2><h3 id=\"1-1-å·¦è¾¹å®šå®½ï¼Œå³è¾¹è‡ªé€‚åº”æ–¹æ¡ˆï¼šfloat-marginï¼Œfloat-calc\"><a href=\"#1-1-å·¦è¾¹å®šå®½ï¼Œå³è¾¹è‡ªé€‚åº”æ–¹æ¡ˆï¼šfloat-marginï¼Œfloat-calc\" class=\"headerlink\" title=\"1.1 å·¦è¾¹å®šå®½ï¼Œå³è¾¹è‡ªé€‚åº”æ–¹æ¡ˆï¼šfloat + marginï¼Œfloat + calc\"></a>1.1 å·¦è¾¹å®šå®½ï¼Œå³è¾¹è‡ªé€‚åº”æ–¹æ¡ˆï¼šfloat + marginï¼Œfloat + calc</h3><span id=\"more\"></span>\n<figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* æ–¹æ¡ˆ1 */</span> </span><br><span class=\"line\"><span class=\"selector-class\">.left</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">120px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">float</span>: left;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.right</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">margin-left</span>: <span class=\"number\">120px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/* æ–¹æ¡ˆ2 */</span> </span><br><span class=\"line\"><span class=\"selector-class\">.left</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">120px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">float</span>: left;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.right</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"built_in\">calc</span>(<span class=\"number\">100%</span> - <span class=\"number\">120px</span>);</span><br><span class=\"line\">  <span class=\"attribute\">float</span>: left;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"1-2-å·¦å³ä¸¤è¾¹å®šå®½ï¼Œä¸­é—´è‡ªé€‚åº”ï¼šfloatï¼Œfloat-calc-åœ£æ¯å¸ƒå±€ï¼ˆè®¾ç½®BFCï¼Œmarginè´Ÿå€¼æ³•ï¼‰ï¼Œflex\"><a href=\"#1-2-å·¦å³ä¸¤è¾¹å®šå®½ï¼Œä¸­é—´è‡ªé€‚åº”ï¼šfloatï¼Œfloat-calc-åœ£æ¯å¸ƒå±€ï¼ˆè®¾ç½®BFCï¼Œmarginè´Ÿå€¼æ³•ï¼‰ï¼Œflex\" class=\"headerlink\" title=\"1.2 å·¦å³ä¸¤è¾¹å®šå®½ï¼Œä¸­é—´è‡ªé€‚åº”ï¼šfloatï¼Œfloat + calc, åœ£æ¯å¸ƒå±€ï¼ˆè®¾ç½®BFCï¼Œmarginè´Ÿå€¼æ³•ï¼‰ï¼Œflex\"></a>1.2 å·¦å³ä¸¤è¾¹å®šå®½ï¼Œä¸­é—´è‡ªé€‚åº”ï¼šfloatï¼Œfloat + calc, åœ£æ¯å¸ƒå±€ï¼ˆè®¾ç½®BFCï¼Œmarginè´Ÿå€¼æ³•ï¼‰ï¼Œflex</h3><figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.wrap</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">200px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.wrap</span> &gt; <span class=\"selector-tag\">div</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/* æ–¹æ¡ˆ1 */</span></span><br><span class=\"line\"><span class=\"selector-class\">.left</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">120px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">float</span>: left;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.right</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">float</span>: right;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">120px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.center</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">margin</span>: <span class=\"number\">0</span> <span class=\"number\">120px</span>; </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/* æ–¹æ¡ˆ2 */</span></span><br><span class=\"line\"><span class=\"selector-class\">.left</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">120px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">float</span>: left;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.right</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">float</span>: right;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">120px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.center</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"built_in\">calc</span>(<span class=\"number\">100%</span> - <span class=\"number\">240px</span>);</span><br><span class=\"line\">  <span class=\"attribute\">margin-left</span>: <span class=\"number\">120px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/* æ–¹æ¡ˆ3 */</span></span><br><span class=\"line\"><span class=\"selector-class\">.wrap</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">display</span>: flex;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.left</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">120px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.right</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">120px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.center</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">flex</span>: <span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"1-3-å·¦å³å±…ä¸­\"><a href=\"#1-3-å·¦å³å±…ä¸­\" class=\"headerlink\" title=\"1.3 å·¦å³å±…ä¸­\"></a>1.3 å·¦å³å±…ä¸­</h3><ul>\n<li>è¡Œå†…å…ƒç´ : <code>text-align: center</code></li>\n<li>å®šå®½å—çŠ¶å…ƒç´ : å·¦å³ <code>margin</code> å€¼ä¸º <code>auto</code></li>\n<li>ä¸å®šå®½å—çŠ¶å…ƒç´ : <code>table</code>å¸ƒå±€ï¼Œ<code>position + transform</code></li>\n</ul>\n<figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* æ–¹æ¡ˆ1 */</span></span><br><span class=\"line\"><span class=\"selector-class\">.wrap</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">text-align</span>: center</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.center</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">display</span>: inline;</span><br><span class=\"line\">  <span class=\"comment\">/* or */</span></span><br><span class=\"line\">  <span class=\"comment\">/* display: inline-block; */</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/* æ–¹æ¡ˆ2 */</span></span><br><span class=\"line\"><span class=\"selector-class\">.center</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">margin</span>: <span class=\"number\">0</span> auto;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/* æ–¹æ¡ˆ2 */</span></span><br><span class=\"line\"><span class=\"selector-class\">.wrap</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: relative;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.center</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: absulote;</span><br><span class=\"line\">  <span class=\"attribute\">left</span>: <span class=\"number\">50%</span>;</span><br><span class=\"line\">  <span class=\"attribute\">transform</span>: <span class=\"built_in\">translateX</span>(-<span class=\"number\">50%</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"1-4-ä¸Šä¸‹å‚ç›´å±…ä¸­\"><a href=\"#1-4-ä¸Šä¸‹å‚ç›´å±…ä¸­\" class=\"headerlink\" title=\"1.4 ä¸Šä¸‹å‚ç›´å±…ä¸­\"></a>1.4 ä¸Šä¸‹å‚ç›´å±…ä¸­</h3><ul>\n<li>å®šé«˜ï¼š<code>margin</code>ï¼Œ<code>position + margin</code>(è´Ÿå€¼)</li>\n<li>ä¸å®šé«˜ï¼š<code>position</code> + <code>transform</code>ï¼Œ<code>flex</code>ï¼Œ<code>IFC + vertical-align:middle</code></li>\n</ul>\n<figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* å®šé«˜æ–¹æ¡ˆ1 */</span></span><br><span class=\"line\"><span class=\"selector-class\">.center</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">margin</span>: <span class=\"number\">50px</span> <span class=\"number\">0</span>;   </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/* å®šé«˜æ–¹æ¡ˆ2 */</span></span><br><span class=\"line\"><span class=\"selector-class\">.center</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">100px</span>;</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">  <span class=\"attribute\">top</span>: <span class=\"number\">50%</span>;</span><br><span class=\"line\">  <span class=\"attribute\">margin-top</span>: -<span class=\"number\">25px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/* ä¸å®šé«˜æ–¹æ¡ˆ1 */</span></span><br><span class=\"line\"><span class=\"selector-class\">.center</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">  <span class=\"attribute\">top</span>: <span class=\"number\">50%</span>;</span><br><span class=\"line\">  <span class=\"attribute\">transform</span>: <span class=\"built_in\">translateY</span>(-<span class=\"number\">50%</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/* ä¸å®šé«˜æ–¹æ¡ˆ2 */</span></span><br><span class=\"line\"><span class=\"selector-class\">.wrap</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">display</span>: flex;</span><br><span class=\"line\">  <span class=\"attribute\">align-items</span>: center;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.center</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">/* ä¸å®šé«˜æ–¹æ¡ˆ3 */</span></span><br><span class=\"line\"><span class=\"comment\">/* è®¾ç½® inline-block åˆ™ä¼šåœ¨å¤–å±‚äº§ç”Ÿ IFCï¼Œé«˜åº¦è®¾ä¸º 100% æ’‘å¼€ wrap çš„é«˜åº¦ */</span></span><br><span class=\"line\"><span class=\"selector-class\">.wrap</span><span class=\"selector-pseudo\">::before</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">content</span>: <span class=\"string\">&#x27;&#x27;</span>;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">  <span class=\"attribute\">display</span>: inline-block;</span><br><span class=\"line\">  <span class=\"attribute\">vertical-align</span>: middle;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.wrap</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">text-align</span>: center;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.center</span> &#123;</span><br><span class=\"line\">  <span class=\"attribute\">display</span>: inline-block;  </span><br><span class=\"line\">  <span class=\"attribute\">vertical-align</span>: middle;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"1-5-ç›’æ¨¡å‹ï¼šcontentï¼ˆå…ƒç´ å†…å®¹ï¼‰-paddingï¼ˆå†…è¾¹è·ï¼‰-borderï¼ˆè¾¹æ¡†ï¼‰-marginï¼ˆå¤–è¾¹è·ï¼‰\"><a href=\"#1-5-ç›’æ¨¡å‹ï¼šcontentï¼ˆå…ƒç´ å†…å®¹ï¼‰-paddingï¼ˆå†…è¾¹è·ï¼‰-borderï¼ˆè¾¹æ¡†ï¼‰-marginï¼ˆå¤–è¾¹è·ï¼‰\" class=\"headerlink\" title=\"1.5 ç›’æ¨¡å‹ï¼šcontentï¼ˆå…ƒç´ å†…å®¹ï¼‰ + paddingï¼ˆå†…è¾¹è·ï¼‰ + borderï¼ˆè¾¹æ¡†ï¼‰ + marginï¼ˆå¤–è¾¹è·ï¼‰\"></a>1.5 ç›’æ¨¡å‹ï¼šcontentï¼ˆå…ƒç´ å†…å®¹ï¼‰ + paddingï¼ˆå†…è¾¹è·ï¼‰ + borderï¼ˆè¾¹æ¡†ï¼‰ + marginï¼ˆå¤–è¾¹è·ï¼‰</h3><blockquote>\n<p>å»¶ä¼¸ï¼š <code>box-sizing</code></p>\n</blockquote>\n<ul>\n<li><code>content-box</code>ï¼šé»˜è®¤å€¼ï¼Œæ€»å®½åº¦ &#x3D; <code>margin</code> + <code>border</code> + <code>padding</code> + <code>width</code></li>\n<li><code>border-box</code>ï¼šç›’å­å®½åº¦åŒ…å« <code>padding</code> å’Œ <code>border</code>ï¼Œ<code>æ€»å®½åº¦ = margin + width</code></li>\n<li><code>inherit</code>ï¼šä»çˆ¶å…ƒç´ ç»§æ‰¿ <code>box-sizing</code> å±æ€§</li>\n</ul>\n<h3 id=\"1-6-BFCã€IFCã€GFCã€FFCï¼šFCï¼ˆFormatting-Contextsï¼‰ï¼Œæ ¼å¼åŒ–ä¸Šä¸‹æ–‡\"><a href=\"#1-6-BFCã€IFCã€GFCã€FFCï¼šFCï¼ˆFormatting-Contextsï¼‰ï¼Œæ ¼å¼åŒ–ä¸Šä¸‹æ–‡\" class=\"headerlink\" title=\"1.6 BFCã€IFCã€GFCã€FFCï¼šFCï¼ˆFormatting Contextsï¼‰ï¼Œæ ¼å¼åŒ–ä¸Šä¸‹æ–‡\"></a>1.6 BFCã€IFCã€GFCã€FFCï¼šFCï¼ˆFormatting Contextsï¼‰ï¼Œæ ¼å¼åŒ–ä¸Šä¸‹æ–‡</h3><blockquote>\n<p><code>BFC</code>ï¼šå—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ï¼Œå®¹å™¨é‡Œé¢çš„å­å…ƒç´ ä¸ä¼šåœ¨å¸ƒå±€ä¸Šå½±å“åˆ°å¤–é¢çš„å…ƒç´ ï¼Œåä¹‹ä¹Ÿæ˜¯å¦‚æ­¤(æŒ‰ç…§è¿™ä¸ªç†å¿µæ¥æƒ³ï¼Œåªè¦è„±ç¦»æ–‡æ¡£æµï¼Œè‚¯å®šå°±èƒ½äº§ç”Ÿ <code>BFC</code>)ã€‚äº§ç”Ÿ <code>BFC</code> æ–¹å¼å¦‚ä¸‹</p>\n</blockquote>\n<ul>\n<li><code>float</code> çš„å€¼ä¸ä¸º <code>none</code>ã€‚</li>\n<li><code>overflow</code> çš„å€¼ä¸ä¸º <code>visible</code>ã€‚</li>\n<li><code>position</code> çš„å€¼ä¸ä¸º <code>relative</code> å’Œ <code>static</code>ã€‚</li>\n<li><code>display</code> çš„å€¼ä¸º <code>table-cell</code>, <code>table-caption</code>, <code>inline-block</code>ä¸­çš„ä»»ä½•ä¸€ä¸ª</li>\n</ul>\n<blockquote>\n<p>ç”¨å¤„ï¼Ÿå¸¸è§çš„å¤šæ å¸ƒå±€ï¼Œç»“åˆå—çº§åˆ«å…ƒç´ æµ®åŠ¨ï¼Œé‡Œé¢çš„å…ƒç´ åˆ™æ˜¯åœ¨ä¸€ä¸ªç›¸å¯¹éš”ç¦»çš„ç¯å¢ƒé‡Œè¿è¡Œ</p>\n</blockquote>\n<blockquote>\n<p><code>IFC</code>ï¼šå†…è”æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ï¼Œ<code>IFC</code> çš„ <code>line</code> <code>box</code>ï¼ˆçº¿æ¡†ï¼‰é«˜åº¦ç”±å…¶åŒ…å«è¡Œå†…å…ƒç´ ä¸­æœ€é«˜çš„å®é™…é«˜åº¦è®¡ç®—è€Œæ¥ï¼ˆä¸å—åˆ°ç«–ç›´æ–¹å‘çš„ <code>padding/margin</code> å½±å“)ã€‚</p>\n</blockquote>\n<blockquote>\n<p><code>IFC</code>ä¸­çš„<code>line box</code>ä¸€èˆ¬å·¦å³éƒ½è´´ç´§æ•´ä¸ª <code>IFC</code>ï¼Œä½†æ˜¯ä¼šå› ä¸º <code>float</code> å…ƒç´ è€Œæ‰°ä¹±ã€‚<code>float</code> å…ƒç´ ä¼šä½äº IFC ä¸ <code>line box</code> ä¹‹é—´ï¼Œä½¿å¾— <code>line box</code> å®½åº¦ç¼©çŸ­ã€‚ åŒä¸ª <code>ifc</code> ä¸‹çš„å¤šä¸ª <code>line box</code> é«˜åº¦ä¼šä¸åŒã€‚ <code>IFC</code>ä¸­æ—¶ä¸å¯èƒ½æœ‰å—çº§å…ƒç´ çš„ï¼Œå½“æ’å…¥å—çº§å…ƒç´ æ—¶ï¼ˆå¦‚ <code>p</code> ä¸­æ’å…¥ <code>div </code>ï¼‰ä¼šäº§ç”Ÿä¸¤ä¸ªåŒ¿åå—ä¸ <code>div</code> åˆ†éš”å¼€ï¼Œå³äº§ç”Ÿä¸¤ä¸ª <code>IFC</code> ï¼Œæ¯ä¸ª <code>IFC</code> å¯¹å¤–è¡¨ç°ä¸ºå—çº§å…ƒç´ ï¼Œä¸ <code>div</code> å‚ç›´æ’åˆ—ã€‚</p>\n</blockquote>\n<p>ç”¨å¤„ï¼Ÿ</p>\n<ul>\n<li>æ°´å¹³å±…ä¸­ï¼šå½“ä¸€ä¸ªå—è¦åœ¨ç¯å¢ƒä¸­æ°´å¹³å±…ä¸­æ—¶ï¼Œè®¾ç½®å…¶ä¸º <code>inline-block</code> åˆ™ä¼šåœ¨å¤–å±‚äº§ç”Ÿ<code>IFC</code>ï¼Œé€šè¿‡ <code>text-align</code> åˆ™å¯ä»¥ä½¿å…¶æ°´å¹³å±…ä¸­ã€‚</li>\n<li>å‚ç›´å±…ä¸­ï¼šåˆ›å»ºä¸€ä¸ª <code>IFC</code>ï¼Œç”¨å…¶ä¸­ä¸€ä¸ªå…ƒç´ æ’‘å¼€çˆ¶å…ƒç´ çš„é«˜åº¦ï¼Œç„¶åè®¾ç½®å…¶ <code>vertical-align</code>: <code>middle</code>ï¼Œå…¶ä»–è¡Œå†…å…ƒç´ åˆ™å¯ä»¥åœ¨æ­¤çˆ¶å…ƒç´ ä¸‹å‚ç›´å±…ä¸­</li>\n</ul>\n<blockquote>\n<ul>\n<li><strong>GFC</strong>ï¼šç½‘æ ¼å¸ƒå±€æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ï¼ˆ<code>display: grid</code>ï¼‰</li>\n<li><strong>FFC</strong>ï¼šè‡ªé€‚åº”æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ï¼ˆ<code>display: flex</code>ï¼‰</li>\n</ul>\n</blockquote>\n<h2 id=\"äºŒã€JS-åŸºç¡€ï¼ˆES5ï¼‰\"><a href=\"#äºŒã€JS-åŸºç¡€ï¼ˆES5ï¼‰\" class=\"headerlink\" title=\"äºŒã€JS åŸºç¡€ï¼ˆES5ï¼‰\"></a>äºŒã€JS åŸºç¡€ï¼ˆES5ï¼‰</h2><h3 id=\"2-1-åŸå‹\"><a href=\"#2-1-åŸå‹\" class=\"headerlink\" title=\"2.1 åŸå‹\"></a>2.1 åŸå‹</h3><blockquote>\n<p>è¿™é‡Œå¯ä»¥è°ˆå¾ˆå¤šï¼Œåªè¦å›´ç»• <code>[[ prototype ]]</code> è°ˆï¼Œéƒ½æ²¡å•¥é—®é¢˜</p>\n</blockquote>\n<h3 id=\"2-2-é—­åŒ…\"><a href=\"#2-2-é—­åŒ…\" class=\"headerlink\" title=\"2.2 é—­åŒ…\"></a>2.2 é—­åŒ…</h3><blockquote>\n<p>ç‰µæ‰¯ä½œç”¨åŸŸï¼Œå¯ä»¥ä¸¤è€…è”ç³»èµ·æ¥ä¸€èµ·è°ˆ</p>\n</blockquote>\n<h3 id=\"2-3-ä½œç”¨åŸŸ\"><a href=\"#2-3-ä½œç”¨åŸŸ\" class=\"headerlink\" title=\"2.3 ä½œç”¨åŸŸ\"></a>2.3 ä½œç”¨åŸŸ</h3><blockquote>\n<p>è¯æ³•ä½œç”¨åŸŸï¼ŒåŠ¨æ€ä½œç”¨åŸŸ</p>\n</blockquote>\n<h3 id=\"2-4-this\"><a href=\"#2-4-this\" class=\"headerlink\" title=\"2.4 this\"></a>2.4 this</h3><blockquote>\n<p>ä¸åŒæƒ…å†µçš„è°ƒç”¨ï¼Œ<code>this</code>æŒ‡å‘åˆ†åˆ«å¦‚ä½•ã€‚é¡ºå¸¦å¯ä»¥æä¸€ä¸‹ <code>es6</code> ä¸­ç®­å¤´å‡½æ•°æ²¡æœ‰ <code>this</code>, <code>arguments</code>, <code>super</code> ç­‰ï¼Œè¿™äº›åªä¾èµ–åŒ…å«ç®­å¤´å‡½æ•°æœ€æ¥è¿‘çš„å‡½æ•°</p>\n</blockquote>\n<h3 id=\"2-5-callï¼Œapplyï¼Œbind-ä¸‰è€…ç”¨æ³•å’ŒåŒºåˆ«\"><a href=\"#2-5-callï¼Œapplyï¼Œbind-ä¸‰è€…ç”¨æ³•å’ŒåŒºåˆ«\" class=\"headerlink\" title=\"2.5 callï¼Œapplyï¼Œbind ä¸‰è€…ç”¨æ³•å’ŒåŒºåˆ«\"></a>2.5 callï¼Œapplyï¼Œbind ä¸‰è€…ç”¨æ³•å’ŒåŒºåˆ«</h3><blockquote>\n<p>å‚æ•°ã€ç»‘å®šè§„åˆ™ï¼ˆæ˜¾ç¤ºç»‘å®šå’Œå¼ºç»‘å®šï¼‰ï¼Œè¿è¡Œæ•ˆç‡ï¼ˆæœ€ç»ˆéƒ½ä¼šè½¬æ¢æˆä¸€ä¸ªä¸€ä¸ªçš„å‚æ•°å»è¿è¡Œï¼‰ã€è¿è¡Œæƒ…å†µï¼ˆ<code>call</code>ï¼Œ<code>apply</code> ç«‹å³æ‰§è¡Œï¼Œ<code>bind</code> æ˜¯<code>return</code> å‡ºä¸€ä¸ª <code>this</code> â€œå›ºå®šâ€çš„å‡½æ•°ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆ <code>bind</code> æ˜¯å¼ºç»‘å®šçš„ä¸€ä¸ªåŸå› ï¼‰</p>\n</blockquote>\n<blockquote>\n<p>æ³¨ï¼šâ€œå›ºå®šâ€è¿™ä¸ªè¯çš„å«ä¹‰ï¼Œå®ƒæŒ‡çš„å›ºå®šæ˜¯æŒ‡åªè¦ä¼ è¿›å»äº† <code>context</code>ï¼Œåˆ™ <code>bind</code> ä¸­ <code>return</code> å‡ºæ¥çš„å‡½æ•° <code>this</code> ä¾¿ä¸€ç›´æŒ‡å‘ <code>context</code>ï¼Œé™¤é <code>context</code> æ˜¯ä¸ªå˜é‡</p>\n</blockquote>\n<h3 id=\"2-6-å˜é‡å£°æ˜æå‡\"><a href=\"#2-6-å˜é‡å£°æ˜æå‡\" class=\"headerlink\" title=\"2.6 å˜é‡å£°æ˜æå‡\"></a>2.6 å˜é‡å£°æ˜æå‡</h3><blockquote>\n<p><code>js</code> ä»£ç åœ¨è¿è¡Œå‰éƒ½ä¼šè¿›è¡Œ <code>AST</code> è§£æï¼Œå‡½æ•°ç”³æ˜é»˜è®¤ä¼šæåˆ°å½“å‰ä½œç”¨åŸŸæœ€å‰é¢ï¼Œå˜é‡ç”³æ˜ä¹Ÿä¼šè¿›è¡Œæå‡ã€‚ä½†èµ‹å€¼ä¸ä¼šå¾—åˆ°æå‡ã€‚å…³äº <code>AST</code> è§£æï¼Œè¿™é‡Œä¹Ÿå¯ä»¥è¯´æ˜¯å½¢æˆè¯æ³•ä½œç”¨åŸŸçš„ä¸»è¦åŸå› </p>\n</blockquote>\n<h2 id=\"ä¸‰ã€JS-åŸºç¡€ï¼ˆES6ï¼‰\"><a href=\"#ä¸‰ã€JS-åŸºç¡€ï¼ˆES6ï¼‰\" class=\"headerlink\" title=\"ä¸‰ã€JS åŸºç¡€ï¼ˆES6ï¼‰\"></a>ä¸‰ã€JS åŸºç¡€ï¼ˆES6ï¼‰</h2><h3 id=\"3-1-letï¼Œconst\"><a href=\"#3-1-letï¼Œconst\" class=\"headerlink\" title=\"3.1 letï¼Œconst\"></a>3.1 letï¼Œconst</h3><blockquote>\n<p><code>let</code> äº§ç”Ÿå—çº§ä½œç”¨åŸŸï¼ˆé€šå¸¸é…åˆ <code>for</code> å¾ªç¯æˆ–è€… <code>&#123;&#125;</code> è¿›è¡Œä½¿ç”¨äº§ç”Ÿå—çº§ä½œç”¨åŸŸï¼‰ï¼Œ<code>const</code> ç”³æ˜çš„å˜é‡æ˜¯å¸¸é‡ï¼ˆå†…å­˜åœ°å€ä¸å˜ï¼‰</p>\n</blockquote>\n<h3 id=\"3-2-Promise\"><a href=\"#3-2-Promise\" class=\"headerlink\" title=\"3.2 Promise\"></a>3.2 Promise</h3><blockquote>\n<p>è¿™é‡Œä½ è°ˆ <code>promise</code>çš„æ—¶å€™ï¼Œé™¤äº†å°†ä»–è§£å†³çš„ç—›ç‚¹ä»¥åŠå¸¸ç”¨çš„ <code>API</code> ä¹‹å¤–ï¼Œæœ€å¥½è¿›è¡Œæ‹“å±•æŠŠ <code>eventloop</code> å¸¦è¿›æ¥å¥½å¥½è®²ä¸€ä¸‹ï¼Œ<code>microtask</code>(å¾®ä»»åŠ¡)ã€<code>macrotask</code>(ä»»åŠ¡) çš„æ‰§è¡Œé¡ºåºï¼Œå¦‚æœçœ‹è¿‡ <code>promise</code> æºç ï¼Œæœ€å¥½å¯ä»¥è°ˆä¸€è°ˆ åŸç”Ÿ <code>Promise</code> æ˜¯å¦‚ä½•å®ç°çš„ã€‚<code>Promise</code> çš„å…³é”®ç‚¹åœ¨äº<code>callback</code> çš„ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯ <code>resovle</code>ï¼Œä¸€ä¸ªæ˜¯ <code>reject</code>ã€‚è¿˜æœ‰å°±æ˜¯ <code>Promise</code> çš„é“¾å¼è°ƒç”¨ï¼ˆ<code>Promise.then()</code>ï¼Œæ¯ä¸€ä¸ª <code>then</code> éƒ½æ˜¯ä¸€ä¸ªè´£ä»»äººï¼‰</p>\n</blockquote>\n<h3 id=\"3-3-Generator\"><a href=\"#3-3-Generator\" class=\"headerlink\" title=\"3.3 Generator\"></a>3.3 Generator</h3><blockquote>\n<p>éå†å™¨å¯¹è±¡ç”Ÿæˆå‡½æ•°ï¼Œæœ€å¤§çš„ç‰¹ç‚¹æ˜¯å¯ä»¥äº¤å‡ºå‡½æ•°çš„æ‰§è¡Œæƒ</p>\n</blockquote>\n<ul>\n<li><code>function</code> å…³é”®å­—ä¸å‡½æ•°åä¹‹é—´æœ‰ä¸€ä¸ªæ˜Ÿå·ï¼›</li>\n<li>å‡½æ•°ä½“å†…éƒ¨ä½¿ç”¨ <code>yield</code>è¡¨è¾¾å¼ï¼Œå®šä¹‰ä¸åŒçš„å†…éƒ¨çŠ¶æ€ï¼›</li>\n<li><code>next </code>æŒ‡é’ˆç§»å‘ä¸‹ä¸€ä¸ªçŠ¶æ€</li>\n</ul>\n<blockquote>\n<p>è¿™é‡Œä½ å¯ä»¥è¯´è¯´ <code>Generator</code>çš„å¼‚æ­¥ç¼–ç¨‹ï¼Œä»¥åŠå®ƒçš„è¯­æ³•ç³– <code>async</code> å’Œ <code>awiat</code>ï¼Œä¼ ç»Ÿçš„å¼‚æ­¥ç¼–ç¨‹ã€‚<code>ES6</code> ä¹‹å‰ï¼Œå¼‚æ­¥ç¼–ç¨‹å¤§è‡´å¦‚ä¸‹</p>\n</blockquote>\n<ul>\n<li>å›è°ƒå‡½æ•°</li>\n<li>äº‹ä»¶ç›‘å¬</li>\n<li>å‘å¸ƒ&#x2F;è®¢é˜…</li>\n</ul>\n<blockquote>\n<p>ä¼ ç»Ÿå¼‚æ­¥ç¼–ç¨‹æ–¹æ¡ˆä¹‹ä¸€ï¼šåç¨‹ï¼Œå¤šä¸ªçº¿ç¨‹äº’ç›¸åä½œï¼Œå®Œæˆå¼‚æ­¥ä»»åŠ¡ã€‚</p>\n</blockquote>\n<h3 id=\"3-4-asyncã€await\"><a href=\"#3-4-asyncã€await\" class=\"headerlink\" title=\"3.4 asyncã€await\"></a>3.4 asyncã€await</h3><blockquote>\n<p><code>Generator</code> å‡½æ•°çš„è¯­æ³•ç³–ã€‚æœ‰æ›´å¥½çš„è¯­ä¹‰ã€æ›´å¥½çš„é€‚ç”¨æ€§ã€è¿”å›å€¼æ˜¯ <code>Promise</code>ã€‚</p>\n</blockquote>\n<ul>\n<li><code>async =&gt; *</code></li>\n<li><code>await =&gt; yield</code></li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// åŸºæœ¬ç”¨æ³•</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">timeout</span> (ms) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">await</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"built_in\">setTimeout</span>(resolve, ms)    </span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"keyword\">function</span> <span class=\"title function_\">asyncConsole</span> (value, ms) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">await</span> <span class=\"title function_\">timeout</span>(ms)</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(value)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">asyncConsole</span>(<span class=\"string\">&#x27;hello async and await&#x27;</span>, <span class=\"number\">1000</span>)</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>æ³¨ï¼šæœ€å¥½æŠŠ2ï¼Œ3ï¼Œ4 è¿åˆ°ä¸€èµ·è®²</p>\n</blockquote>\n<h3 id=\"3-5-AMDï¼ŒCMDï¼ŒCommonJsï¼ŒES6-Moduleï¼šè§£å†³åŸå§‹æ— æ¨¡å—åŒ–çš„ç—›ç‚¹\"><a href=\"#3-5-AMDï¼ŒCMDï¼ŒCommonJsï¼ŒES6-Moduleï¼šè§£å†³åŸå§‹æ— æ¨¡å—åŒ–çš„ç—›ç‚¹\" class=\"headerlink\" title=\"3.5 AMDï¼ŒCMDï¼ŒCommonJsï¼ŒES6 Moduleï¼šè§£å†³åŸå§‹æ— æ¨¡å—åŒ–çš„ç—›ç‚¹\"></a>3.5 AMDï¼ŒCMDï¼ŒCommonJsï¼ŒES6 Moduleï¼šè§£å†³åŸå§‹æ— æ¨¡å—åŒ–çš„ç—›ç‚¹</h3><ul>\n<li><strong>AMD</strong>ï¼š<code>requirejs</code> åœ¨æ¨å¹¿è¿‡ç¨‹ä¸­å¯¹æ¨¡å—å®šä¹‰çš„è§„èŒƒåŒ–äº§å‡ºï¼Œæå‰æ‰§è¡Œï¼Œæ¨å´‡ä¾èµ–å‰ç½®</li>\n<li><strong>CMD</strong>ï¼š<code>seajs</code> åœ¨æ¨å¹¿è¿‡ç¨‹ä¸­å¯¹æ¨¡å—å®šä¹‰çš„è§„èŒƒåŒ–äº§å‡ºï¼Œå»¶è¿Ÿæ‰§è¡Œï¼Œæ¨å´‡ä¾èµ–å°±è¿‘</li>\n<li><strong>CommonJs</strong>ï¼šæ¨¡å—è¾“å‡ºçš„æ˜¯ä¸€ä¸ªå€¼çš„ <code>copy</code>ï¼Œè¿è¡Œæ—¶åŠ è½½ï¼ŒåŠ è½½çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ˆ<code>module.exports</code> å±æ€§ï¼‰ï¼Œè¯¥å¯¹è±¡åªæœ‰åœ¨è„šæœ¬è¿è¡Œå®Œæ‰ä¼šç”Ÿæˆ</li>\n<li><strong>ES6 Module</strong>ï¼šæ¨¡å—è¾“å‡ºçš„æ˜¯ä¸€ä¸ªå€¼çš„å¼•ç”¨ï¼Œç¼–è¯‘æ—¶è¾“å‡ºæ¥å£ï¼Œ<code>ES6</code>æ¨¡å—ä¸æ˜¯å¯¹è±¡ï¼Œå®ƒå¯¹å¤–æ¥å£åªæ˜¯ä¸€ç§é™æ€å®šä¹‰ï¼Œåœ¨ä»£ç é™æ€è§£æé˜¶æ®µå°±ä¼šç”Ÿæˆã€‚</li>\n</ul>\n<h2 id=\"å››ã€æ¡†æ¶ç›¸å…³\"><a href=\"#å››ã€æ¡†æ¶ç›¸å…³\" class=\"headerlink\" title=\"å››ã€æ¡†æ¶ç›¸å…³\"></a>å››ã€æ¡†æ¶ç›¸å…³</h2><h3 id=\"4-1-æ•°æ®åŒå‘ç»‘å®šåŸç†ï¼šå¸¸è§æ•°æ®ç»‘å®šçš„æ–¹æ¡ˆ\"><a href=\"#4-1-æ•°æ®åŒå‘ç»‘å®šåŸç†ï¼šå¸¸è§æ•°æ®ç»‘å®šçš„æ–¹æ¡ˆ\" class=\"headerlink\" title=\"4.1 æ•°æ®åŒå‘ç»‘å®šåŸç†ï¼šå¸¸è§æ•°æ®ç»‘å®šçš„æ–¹æ¡ˆ\"></a>4.1 æ•°æ®åŒå‘ç»‘å®šåŸç†ï¼šå¸¸è§æ•°æ®ç»‘å®šçš„æ–¹æ¡ˆ</h3><ul>\n<li><code>Object.definePropertyï¼ˆvueï¼‰</code>ï¼šåŠ«æŒæ•°æ®çš„ <code>getter</code> å’Œ <code>setter</code></li>\n<li>è„å€¼æ£€æµ‹ï¼ˆ<code>angularjs</code>ï¼‰ï¼šé€šè¿‡ç‰¹å®šäº‹ä»¶è¿›è¡Œè½®å¾ª<br>å‘å¸ƒ&#x2F;è®¢é˜…æ¨¡å¼ï¼šé€šè¿‡æ¶ˆæ¯å‘å¸ƒå¹¶å°†æ¶ˆæ¯è¿›è¡Œè®¢é˜…</li>\n</ul>\n<h3 id=\"4-2-VDOMï¼šä¸‰ä¸ª-part\"><a href=\"#4-2-VDOMï¼šä¸‰ä¸ª-part\" class=\"headerlink\" title=\"4.2 VDOMï¼šä¸‰ä¸ª part\"></a>4.2 VDOMï¼šä¸‰ä¸ª part</h3><ul>\n<li>è™šæ‹ŸèŠ‚ç‚¹ç±»ï¼Œå°†çœŸå® <code>DOM </code>èŠ‚ç‚¹ç”¨ <code>js</code> å¯¹è±¡çš„å½¢å¼è¿›è¡Œå±•ç¤ºï¼Œå¹¶æä¾› <code>render</code> æ–¹æ³•ï¼Œå°†è™šæ‹ŸèŠ‚ç‚¹æ¸²æŸ“æˆçœŸå® <code>DOM</code></li>\n<li>èŠ‚ç‚¹ <code>diff</code> æ¯”è¾ƒï¼šå¯¹è™šæ‹ŸèŠ‚ç‚¹è¿›è¡Œ <code>js</code> å±‚é¢çš„è®¡ç®—ï¼Œå¹¶å°†ä¸åŒçš„æ“ä½œéƒ½è®°å½•åˆ° <code>patch</code> å¯¹è±¡</li>\n<li><code>re-render</code>ï¼šè§£æ <code>patch</code> å¯¹è±¡ï¼Œè¿›è¡Œ <code>re-render</code></li>\n</ul>\n<p><strong>è¡¥å……1ï¼šVDOM çš„å¿…è¦æ€§ï¼Ÿ</strong></p>\n<ul>\n<li><strong>åˆ›å»ºçœŸå®DOMçš„ä»£ä»·é«˜</strong>ï¼šçœŸå®çš„ <code>DOM</code> èŠ‚ç‚¹ <code>node</code> å®ç°çš„å±æ€§å¾ˆå¤šï¼Œè€Œ <code>vnode</code> ä»…ä»…å®ç°ä¸€äº›å¿…è¦çš„å±æ€§ï¼Œç›¸æ¯”èµ·æ¥ï¼Œåˆ›å»ºä¸€ä¸ª <code>vnode</code> çš„æˆæœ¬æ¯”è¾ƒä½ã€‚</li>\n<li><strong>è§¦å‘å¤šæ¬¡æµè§ˆå™¨é‡ç»˜åŠå›æµ</strong>ï¼šä½¿ç”¨ <code>vnode</code> ï¼Œç›¸å½“äºåŠ äº†ä¸€ä¸ªç¼“å†²ï¼Œè®©ä¸€æ¬¡æ•°æ®å˜åŠ¨æ‰€å¸¦æ¥çš„æ‰€æœ‰ <code>node</code> å˜åŒ–ï¼Œå…ˆåœ¨ <code>vnode</code> ä¸­è¿›è¡Œä¿®æ”¹ï¼Œç„¶å <code>diff</code> ä¹‹åå¯¹æ‰€æœ‰äº§ç”Ÿå·®å¼‚çš„èŠ‚ç‚¹é›†ä¸­ä¸€æ¬¡å¯¹ <code>DOM tree</code> è¿›è¡Œä¿®æ”¹ï¼Œä»¥å‡å°‘æµè§ˆå™¨çš„é‡ç»˜åŠå›æµã€‚</li>\n</ul>\n<p><strong>è¡¥å……2ï¼švue ä¸ºä»€ä¹ˆé‡‡ç”¨ vdomï¼Ÿ</strong></p>\n<blockquote>\n<p>å¼•å…¥ <code>Virtual DOM</code> åœ¨æ€§èƒ½æ–¹é¢çš„è€ƒé‡ä»…ä»…æ˜¯ä¸€æ–¹é¢ã€‚</p>\n</blockquote>\n<ul>\n<li>æ€§èƒ½å—åœºæ™¯çš„å½±å“æ˜¯éå¸¸å¤§çš„ï¼Œä¸åŒçš„åœºæ™¯å¯èƒ½é€ æˆä¸åŒå®ç°æ–¹æ¡ˆä¹‹é—´æˆå€çš„æ€§èƒ½å·®è·ï¼Œæ‰€ä»¥ä¾èµ–ç»†ç²’åº¦ç»‘å®šåŠ <code>Virtual DOM</code> å“ªä¸ªçš„æ€§èƒ½æ›´å¥½è¿˜çœŸä¸æ˜¯ä¸€ä¸ªå®¹æ˜“ä¸‹å®šè®ºçš„é—®é¢˜ã€‚</li>\n<li><code>Vue</code> ä¹‹æ‰€ä»¥å¼•å…¥äº† <code>Virtual DOM</code>ï¼Œæ›´é‡è¦çš„åŸå› æ˜¯ä¸ºäº†è§£è€¦ <code>HTML</code>ä¾èµ–ï¼Œè¿™å¸¦æ¥ä¸¤ä¸ªéå¸¸é‡è¦çš„å¥½å¤„æ˜¯ï¼š</li>\n</ul>\n<blockquote>\n<ul>\n<li>ä¸å†ä¾èµ– <code>HTML</code> è§£æå™¨è¿›è¡Œæ¨¡ç‰ˆè§£æï¼Œå¯ä»¥è¿›è¡Œæ›´å¤šçš„ <code>AOT</code> å·¥ä½œæé«˜è¿è¡Œæ—¶æ•ˆç‡ï¼šé€šè¿‡æ¨¡ç‰ˆ <code>AOT</code> ç¼–è¯‘ï¼Œ<code>Vue</code> çš„è¿è¡Œæ—¶ä½“ç§¯å¯ä»¥è¿›ä¸€æ­¥å‹ç¼©ï¼Œè¿è¡Œæ—¶æ•ˆç‡å¯ä»¥è¿›ä¸€æ­¥æå‡ï¼›</li>\n<li>å¯ä»¥æ¸²æŸ“åˆ° <code>DOM</code> ä»¥å¤–çš„å¹³å°ï¼Œå®ç° <code>SSR</code>ã€åŒæ„æ¸²æŸ“è¿™äº›é«˜çº§ç‰¹æ€§ï¼Œ<code>Weex</code>ç­‰æ¡†æ¶åº”ç”¨çš„å°±æ˜¯è¿™ä¸€ç‰¹æ€§ã€‚</li>\n</ul>\n</blockquote>\n<blockquote>\n<p>ç»¼ä¸Šï¼Œ<code>Virtual DOM</code> åœ¨æ€§èƒ½ä¸Šçš„æ”¶ç›Šå¹¶ä¸æ˜¯æœ€ä¸»è¦çš„ï¼Œæ›´é‡è¦çš„æ˜¯å®ƒä½¿å¾— <code>Vue</code> å…·å¤‡äº†ç°ä»£æ¡†æ¶åº”æœ‰çš„é«˜çº§ç‰¹æ€§ã€‚</p>\n</blockquote>\n<h3 id=\"4-3-vue-å’Œ-react-åŒºåˆ«\"><a href=\"#4-3-vue-å’Œ-react-åŒºåˆ«\" class=\"headerlink\" title=\"4.3 vue å’Œ react åŒºåˆ«\"></a>4.3 vue å’Œ react åŒºåˆ«</h3><ul>\n<li>ç›¸åŒç‚¹ï¼šéƒ½æ”¯æŒ <code>ssr</code>ï¼Œéƒ½æœ‰ <code>vdom</code>ï¼Œç»„ä»¶åŒ–å¼€å‘ï¼Œå®ç° <code>webComponents</code> è§„èŒƒï¼Œæ•°æ®é©±åŠ¨ç­‰</li>\n<li>ä¸åŒç‚¹ï¼š<code>vue</code> æ˜¯åŒå‘æ•°æ®æµï¼ˆå½“ç„¶ä¸ºäº†å®ç°å•æ•°æ®æµæ–¹ä¾¿ç®¡ç†ç»„ä»¶çŠ¶æ€ï¼Œ<code>vuex</code> ä¾¿å‡ºç°äº†ï¼‰ï¼Œ<code>react</code> æ˜¯å•å‘æ•°æ®æµã€‚<code>vue </code>çš„ <code>vdom</code> æ˜¯è¿½è¸ªæ¯ä¸ªç»„ä»¶çš„ä¾èµ–å…³ç³»ï¼Œä¸ä¼šæ¸²æŸ“æ•´ä¸ªç»„ä»¶æ ‘ï¼Œ<code>react</code> æ¯å½“åº”è¯¥çŠ¶æ€è¢«æ”¹å˜æ—¶ï¼Œå…¨éƒ¨å­ç»„ä»¶éƒ½ä¼š <code>re-render</code></li>\n</ul>\n<h3 id=\"4-4-ä¸ºä»€ä¹ˆç”¨-vue\"><a href=\"#4-4-ä¸ºä»€ä¹ˆç”¨-vue\" class=\"headerlink\" title=\"4.4 ä¸ºä»€ä¹ˆç”¨ vue\"></a>4.4 ä¸ºä»€ä¹ˆç”¨ vue</h3><blockquote>\n<p>ç®€æ´ã€è½»å¿«ã€èˆ’æœ</p>\n</blockquote>\n<h2 id=\"äº”ã€ç½‘ç»œåŸºç¡€ç±»\"><a href=\"#äº”ã€ç½‘ç»œåŸºç¡€ç±»\" class=\"headerlink\" title=\"äº”ã€ç½‘ç»œåŸºç¡€ç±»\"></a>äº”ã€ç½‘ç»œåŸºç¡€ç±»</h2><h3 id=\"5-1-è·¨åŸŸ\"><a href=\"#5-1-è·¨åŸŸ\" class=\"headerlink\" title=\"5.1 è·¨åŸŸ\"></a>5.1 è·¨åŸŸ</h3><blockquote>\n<p>å¾ˆå¤šç§æ–¹æ³•ï¼Œä½†ä¸‡å˜ä¸ç¦»å…¶å®—ï¼Œéƒ½æ˜¯ä¸ºäº†æå®šåŒæºç­–ç•¥ã€‚é‡ç”¨çš„æœ‰ <code>jsonp</code>ã€<code>iframe</code>ã€<code>cors</code>ã€<code>img</code>ã€H<code>TML5 postMessage</code>ç­‰ç­‰ã€‚å…¶ä¸­ç”¨åˆ° <code>html</code> æ ‡ç­¾è¿›è¡Œè·¨åŸŸçš„åŸç†å°±æ˜¯ <code>html</code> ä¸å—åŒæºç­–ç•¥å½±å“ã€‚ä½†åªæ˜¯æ¥å— <code>Get</code> çš„è¯·æ±‚æ–¹å¼ï¼Œè¿™ä¸ªå¾—æ¸…æ¥šã€‚</p>\n</blockquote>\n<blockquote>\n<p><strong>å»¶ä¼¸1ï¼šimg iframe script æ¥å‘é€è·¨åŸŸè¯·æ±‚æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼Ÿ</strong></p>\n</blockquote>\n<p><strong>1. <code>iframe</code></strong></p>\n<ul>\n<li>ä¼˜ç‚¹ï¼šè·¨åŸŸå®Œæ¯•ä¹‹å<code>DOM</code>æ“ä½œå’Œäº’ç›¸ä¹‹é—´çš„<code>JavaScript</code>è°ƒç”¨éƒ½æ˜¯æ²¡æœ‰é—®é¢˜çš„</li>\n<li>ç¼ºç‚¹ï¼š1.è‹¥ç»“æœè¦ä»¥<code>URL</code>å‚æ•°ä¼ é€’ï¼Œè¿™å°±æ„å‘³ç€åœ¨ç»“æœæ•°æ®é‡å¾ˆå¤§çš„æ—¶å€™éœ€è¦åˆ†å‰²ä¼ é€’ï¼Œå·¨çƒ¦ã€‚2.è¿˜æœ‰ä¸€ä¸ªæ˜¯<code>iframe</code>æœ¬èº«å¸¦æ¥çš„ï¼Œæ¯é¡µé¢å’Œ<code>iframe</code>æœ¬èº«çš„äº¤äº’æœ¬èº«å°±æœ‰å®‰å…¨æ€§é™åˆ¶ã€‚</li>\n</ul>\n<p><strong>2. script</strong></p>\n<ul>\n<li>ä¼˜ç‚¹ï¼šå¯ä»¥ç›´æ¥è¿”å›<code>json</code>æ ¼å¼çš„æ•°æ®ï¼Œæ–¹ä¾¿å¤„ç†</li>\n<li>ç¼ºç‚¹ï¼šåªæ¥å—<code>GET</code>è¯·æ±‚æ–¹å¼</li>\n</ul>\n<p><strong>3. å›¾ç‰‡ping</strong></p>\n<ul>\n<li>ä¼˜ç‚¹ï¼šå¯ä»¥è®¿é—®ä»»ä½•<code>url</code>ï¼Œä¸€èˆ¬ç”¨æ¥è¿›è¡Œç‚¹å‡»è¿½è¸ªï¼Œåšé¡µé¢åˆ†æå¸¸ç”¨çš„æ–¹æ³•</li>\n<li>ç¼ºç‚¹ï¼šä¸èƒ½è®¿é—®å“åº”æ–‡æœ¬ï¼Œåªèƒ½ç›‘å¬æ˜¯å¦å“åº”</li>\n</ul>\n<blockquote>\n<p><strong>å»¶ä¼¸2ï¼šé…åˆ webpack è¿›è¡Œåå‘ä»£ç†ï¼Ÿ</strong></p>\n</blockquote>\n<p><code>webpack</code> åœ¨ <code>devServer</code> é€‰é¡¹é‡Œé¢æä¾›äº†ä¸€ä¸ª <code>proxy</code> çš„å‚æ•°ä¾›å¼€å‘äººå‘˜è¿›è¡Œåå‘ä»£ç†</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&#x27;/api&#x27;</span>: &#123;</span><br><span class=\"line\">  <span class=\"attr\">target</span>: <span class=\"string\">&#x27;http://www.example.com&#x27;</span>, <span class=\"comment\">// your target host</span></span><br><span class=\"line\">  <span class=\"attr\">changeOrigin</span>: <span class=\"literal\">true</span>, <span class=\"comment\">// needed for virtual hosted sites</span></span><br><span class=\"line\">  <span class=\"attr\">pathRewrite</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">&#x27;^/api&#x27;</span>: <span class=\"string\">&#x27;&#x27;</span>  <span class=\"comment\">// rewrite path</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>ç„¶åå†é…åˆ <code>http-proxy-middleware</code> æ’ä»¶å¯¹ <code>api</code> è¯·æ±‚åœ°å€è¿›è¡Œä»£ç†</p>\n</blockquote>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> express = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;express&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">const</span> proxy = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;http-proxy-middleware&#x27;</span>);</span><br><span class=\"line\"><span class=\"comment\">// proxy api requests</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> exampleProxy = <span class=\"title function_\">proxy</span>(options); <span class=\"comment\">// è¿™é‡Œçš„ options å°±æ˜¯ webpack é‡Œé¢çš„ proxy é€‰é¡¹å¯¹åº”çš„æ¯ä¸ªé€‰é¡¹</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// mount `exampleProxy` in web server</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> app = <span class=\"title function_\">express</span>();</span><br><span class=\"line\">app.<span class=\"title function_\">use</span>(<span class=\"string\">&#x27;/api&#x27;</span>, exampleProxy);</span><br><span class=\"line\">app.<span class=\"title function_\">listen</span>(<span class=\"number\">3000</span>);</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>ç„¶åå†ç”¨ <code>nginx</code> æŠŠå…è®¸è·¨åŸŸçš„æºåœ°å€æ·»åŠ åˆ°æŠ¥å¤´é‡Œé¢å³å¯</p>\n</blockquote>\n<blockquote>\n<p>è¯´åˆ° <code>nginx</code> ï¼Œå¯ä»¥å†è°ˆè°ˆ <code>CORS</code> é…ç½®ï¼Œå¤§è‡´å¦‚ä¸‹</p>\n</blockquote>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">location / &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> ($request_method = <span class=\"string\">&#x27;OPTIONS&#x27;</span>) &#123;</span><br><span class=\"line\">    add_header <span class=\"string\">&#x27;Access-Control-Allow-Origin&#x27;</span> <span class=\"string\">&#x27;*&#x27;</span>;  </span><br><span class=\"line\">    add_header <span class=\"string\">&#x27;Access-Control-Allow-Methods&#x27;</span> <span class=\"string\">&#x27;GET, POST, OPTIONS&#x27;</span>; </span><br><span class=\"line\">    add_header <span class=\"string\">&#x27;Access-Control-Allow-Credentials&#x27;</span> <span class=\"string\">&#x27;true&#x27;</span>;</span><br><span class=\"line\">    add_header <span class=\"string\">&#x27;Access-Control-Allow-Headers&#x27;</span> <span class=\"string\">&#x27;DNT, X-Mx-ReqToken, Keep-Alive, User-Agent, X-Requested-With, If-Modified-Since, Cache-Control, Content-Type&#x27;</span>;  </span><br><span class=\"line\">    add_header <span class=\"string\">&#x27;Access-Control-Max-Age&#x27;</span> <span class=\"number\">86400</span>;  </span><br><span class=\"line\">    add_header <span class=\"string\">&#x27;Content-Type&#x27;</span> <span class=\"string\">&#x27;text/plain charset=UTF-8&#x27;</span>;  </span><br><span class=\"line\">    add_header <span class=\"string\">&#x27;Content-Length&#x27;</span> <span class=\"number\">0</span>;  </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">200</span>;  </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"5-2-http-æ— çŠ¶æ€æ— è¿æ¥\"><a href=\"#5-2-http-æ— çŠ¶æ€æ— è¿æ¥\" class=\"headerlink\" title=\"5.2 http æ— çŠ¶æ€æ— è¿æ¥\"></a>5.2 http æ— çŠ¶æ€æ— è¿æ¥</h3><ul>\n<li><code>http</code> åè®®å¯¹äºäº‹åŠ¡å¤„ç†æ²¡æœ‰è®°å¿†èƒ½åŠ›</li>\n<li>å¯¹åŒä¸€ä¸ª<code>url</code>è¯·æ±‚æ²¡æœ‰ä¸Šä¸‹æ–‡å…³ç³»</li>\n<li>æ¯æ¬¡çš„è¯·æ±‚éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œå®ƒçš„æ‰§è¡Œæƒ…å†µå’Œç»“æœä¸å‰é¢çš„è¯·æ±‚å’Œä¹‹åçš„è¯·æ±‚æ˜¯æ— ç›´æ¥å…³ç³»çš„ï¼Œå®ƒä¸ä¼šå—å‰é¢çš„è¯·æ±‚åº”ç­”æƒ…å†µç›´æ¥å½±å“ï¼Œä¹Ÿä¸ä¼šç›´æ¥å½±å“åé¢çš„è¯·æ±‚åº”ç­”æƒ…å†µ</li>\n<li>æœåŠ¡å™¨ä¸­æ²¡æœ‰ä¿å­˜å®¢æˆ·ç«¯çš„çŠ¶æ€ï¼Œå®¢æˆ·ç«¯å¿…é¡»æ¯æ¬¡å¸¦ä¸Šè‡ªå·±çš„çŠ¶æ€å»è¯·æ±‚æœåŠ¡å™¨</li>\n<li>äººç”Ÿè‹¥åªå¦‚åˆè§ï¼Œè¯·æ±‚è¿‡çš„èµ„æºä¸‹ä¸€æ¬¡ä¼šç»§ç»­è¿›è¡Œè¯·æ±‚</li>\n</ul>\n<p><strong>httpåè®®æ— çŠ¶æ€ä¸­çš„ çŠ¶æ€ åˆ°åº•æŒ‡çš„æ˜¯ä»€ä¹ˆï¼Ÿï¼</strong></p>\n<ul>\n<li>ã€çŠ¶æ€ã€‘çš„å«ä¹‰å°±æ˜¯ï¼šå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨åœ¨æŸæ¬¡ä¼šè¯ä¸­äº§ç”Ÿçš„æ•°æ®</li>\n<li>é‚£ä¹ˆå¯¹åº”çš„ã€æ— çŠ¶æ€ã€‘å°±æ„å‘³ç€ï¼šè¿™äº›æ•°æ®ä¸ä¼šè¢«ä¿ç•™</li>\n<li>é€šè¿‡å¢åŠ <code>cookie</code>å’Œ<code>session</code>æœºåˆ¶ï¼Œç°åœ¨çš„ç½‘ç»œè¯·æ±‚å…¶å®æ˜¯æœ‰çŠ¶æ€çš„</li>\n<li>åœ¨æ²¡æœ‰çŠ¶æ€çš„<code>http</code>åè®®ä¸‹ï¼ŒæœåŠ¡å™¨ä¹Ÿä¸€å®šä¼šä¿ç•™ä½ æ¯æ¬¡ç½‘ç»œè¯·æ±‚å¯¹æ•°æ®çš„ä¿®æ”¹ï¼Œä½†è¿™è·Ÿä¿ç•™æ¯æ¬¡è®¿é—®çš„æ•°æ®æ˜¯ä¸ä¸€æ ·çš„ï¼Œä¿ç•™çš„åªæ˜¯ä¼šè¯äº§ç”Ÿçš„ç»“æœï¼Œè€Œæ²¡æœ‰ä¿ç•™ä¼šè¯</li>\n</ul>\n<h3 id=\"5-3-http-cacheï¼šå°±æ˜¯-http-ç¼“å­˜\"><a href=\"#5-3-http-cacheï¼šå°±æ˜¯-http-ç¼“å­˜\" class=\"headerlink\" title=\"5.3 http-cacheï¼šå°±æ˜¯ http ç¼“å­˜\"></a>5.3 http-cacheï¼šå°±æ˜¯ http ç¼“å­˜</h3><p><strong>1. é¦–å…ˆå¾—æ˜ç¡® http ç¼“å­˜çš„å¥½å¤„</strong></p>\n<ul>\n<li>å‡å°‘äº†å†—ä½™çš„æ•°æ®ä¼ è¾“ï¼Œå‡å°‘ç½‘è´¹</li>\n<li>å‡å°‘æœåŠ¡å™¨ç«¯çš„å‹åŠ›</li>\n<li><code>Web</code> ç¼“å­˜èƒ½å¤Ÿå‡å°‘å»¶è¿Ÿä¸ç½‘ç»œé˜»å¡ï¼Œè¿›è€Œå‡å°‘æ˜¾ç¤ºæŸä¸ªèµ„æºæ‰€ç”¨çš„æ—¶é—´</li>\n<li>åŠ å¿«å®¢æˆ·ç«¯åŠ è½½ç½‘é¡µçš„é€Ÿåº¦</li>\n</ul>\n<p><strong>2. å¸¸è§ http ç¼“å­˜çš„ç±»å‹</strong></p>\n<ul>\n<li>ç§æœ‰ç¼“å­˜ï¼ˆä¸€èˆ¬ä¸ºæœ¬åœ°æµè§ˆå™¨ç¼“å­˜ï¼‰</li>\n<li>ä»£ç†ç¼“å­˜</li>\n</ul>\n<p><strong>3. ç„¶åè°ˆè°ˆæœ¬åœ°ç¼“å­˜</strong></p>\n<blockquote>\n<p>æœ¬åœ°ç¼“å­˜æ˜¯æŒ‡æµè§ˆå™¨è¯·æ±‚èµ„æºæ—¶å‘½ä¸­äº†æµè§ˆå™¨æœ¬åœ°çš„ç¼“å­˜èµ„æºï¼Œæµè§ˆå™¨å¹¶ä¸ä¼šå‘é€çœŸæ­£çš„è¯·æ±‚ç»™æœåŠ¡å™¨äº†ã€‚å®ƒçš„æ‰§è¡Œè¿‡ç¨‹æ˜¯</p>\n</blockquote>\n<ul>\n<li>ç¬¬ä¸€æ¬¡æµè§ˆå™¨å‘é€è¯·æ±‚ç»™æœåŠ¡å™¨æ—¶ï¼Œæ­¤æ—¶æµè§ˆå™¨è¿˜æ²¡æœ‰æœ¬åœ°ç¼“å­˜å‰¯æœ¬ï¼ŒæœåŠ¡å™¨è¿”å›èµ„æºç»™æµè§ˆå™¨ï¼Œå“åº”ç æ˜¯<code>200 OK</code>ï¼Œæµè§ˆå™¨æ”¶åˆ°èµ„æºåï¼ŒæŠŠèµ„æºå’Œå¯¹åº”çš„å“åº”å¤´ä¸€èµ·ç¼“å­˜ä¸‹æ¥</li>\n<li>ç¬¬äºŒæ¬¡æµè§ˆå™¨å‡†å¤‡å‘é€è¯·æ±‚ç»™æœåŠ¡å™¨æ—¶å€™ï¼Œæµè§ˆå™¨ä¼šå…ˆæ£€æŸ¥ä¸Šä¸€æ¬¡æœåŠ¡ç«¯è¿”å›çš„å“åº”å¤´ä¿¡æ¯ä¸­çš„<code>Cache-Control</code>ï¼Œå®ƒçš„å€¼æ˜¯ä¸€ä¸ªç›¸å¯¹å€¼ï¼Œå•ä½ä¸ºç§’ï¼Œè¡¨ç¤ºèµ„æºåœ¨å®¢æˆ·ç«¯ç¼“å­˜çš„æœ€å¤§æœ‰æ•ˆæœŸï¼Œè¿‡æœŸæ—¶é—´ä¸ºç¬¬ä¸€æ¬¡è¯·æ±‚çš„æ—¶é—´å‡å»<code>Cache-Control</code>çš„å€¼ï¼Œè¿‡æœŸæ—¶é—´è·Ÿå½“å‰çš„è¯·æ±‚æ—¶é—´æ¯”è¾ƒï¼Œå¦‚æœæœ¬åœ°ç¼“å­˜èµ„æºæ²¡è¿‡æœŸï¼Œé‚£ä¹ˆå‘½ä¸­ç¼“å­˜ï¼Œä¸å†è¯·æ±‚æœåŠ¡å™¨</li>\n<li>å¦‚æœæ²¡æœ‰å‘½ä¸­ï¼Œæµè§ˆå™¨å°±ä¼šæŠŠè¯·æ±‚å‘é€ç»™æœåŠ¡å™¨ï¼Œè¿›å…¥ç¼“å­˜åå•†é˜¶æ®µã€‚</li>\n</ul>\n<blockquote>\n<p>ä¸æœ¬åœ°ç¼“å­˜ç›¸å…³çš„å¤´æœ‰ï¼š<code>Cache-Control</code>ã€<code>Expires</code>ï¼Œ<code>Cache-Control</code>æœ‰å¤šä¸ªå¯é€‰å€¼ä»£è¡¨ä¸åŒçš„æ„ä¹‰ï¼Œè€Œ<code>Expires</code>å°±æ˜¯ä¸€ä¸ªæ—¥æœŸæ ¼å¼çš„ç»å¯¹å€¼ã€‚</p>\n</blockquote>\n<p><strong>3.1 Cache-Control</strong></p>\n<blockquote>\n<p><code>Cache-Control</code>æ˜¯<code>HTPP</code>ç¼“å­˜ç­–ç•¥ä¸­æœ€é‡è¦çš„å¤´ï¼Œå®ƒæ˜¯<code>HTTP/1.1</code>ä¸­å‡ºç°çš„ï¼Œå®ƒç”±å¦‚ä¸‹å‡ ä¸ªå€¼</p>\n</blockquote>\n<ul>\n<li><code>no-cache</code>ï¼šä¸ä½¿ç”¨æœ¬åœ°ç¼“å­˜ã€‚éœ€è¦ä½¿ç”¨ç¼“å­˜åå•†ï¼Œå…ˆä¸æœåŠ¡å™¨ç¡®è®¤è¿”å›çš„å“åº”æ˜¯å¦è¢«æ›´æ”¹ï¼Œå¦‚æœä¹‹å‰çš„å“åº”ä¸­å­˜åœ¨<code>ETag</code>ï¼Œé‚£ä¹ˆè¯·æ±‚çš„æ—¶å€™ä¼šä¸æœåŠ¡ç«¯éªŒè¯ï¼Œå¦‚æœèµ„æºæœªè¢«æ›´æ”¹ï¼Œåˆ™å¯ä»¥é¿å…é‡æ–°ä¸‹è½½</li>\n<li><code>no-store</code>ï¼šç›´æ¥ç¦æ­¢æ¸¸è§ˆå™¨ç¼“å­˜æ•°æ®ï¼Œæ¯æ¬¡ç”¨æˆ·è¯·æ±‚è¯¥èµ„æºï¼Œéƒ½ä¼šå‘æœåŠ¡å™¨å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œæ¯æ¬¡éƒ½ä¼šä¸‹è½½å®Œæ•´çš„èµ„æº</li>\n<li><code>public</code>ï¼šå¯ä»¥è¢«æ‰€æœ‰çš„ç”¨æˆ·ç¼“å­˜ï¼ŒåŒ…æ‹¬ç»ˆç«¯ç”¨æˆ·å’Œ<code>CDN</code>ç­‰ä¸­é—´ä»£ç†æœåŠ¡å™¨ã€‚</li>\n<li><code>private</code>ï¼šåªèƒ½è¢«ç»ˆç«¯ç”¨æˆ·çš„æµè§ˆå™¨ç¼“å­˜ï¼Œä¸å…è®¸<code>CDN</code>ç­‰ä¸­ç»§ç¼“å­˜æœåŠ¡å™¨å¯¹å…¶ç¼“å­˜ã€‚</li>\n<li><code>max-age</code>ï¼šä»å½“å‰è¯·æ±‚å¼€å§‹ï¼Œå…è®¸è·å–çš„å“åº”è¢«é‡ç”¨çš„æœ€é•¿æ—¶é—´ï¼ˆç§’ï¼‰ã€‚</li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># ä¾‹å¦‚ï¼š</span></span><br><span class=\"line\"></span><br><span class=\"line\">Cache-Control: public, max-age=1000 </span><br><span class=\"line\"><span class=\"comment\"># è¡¨ç¤ºèµ„æºå¯ä»¥è¢«æ‰€æœ‰ç”¨æˆ·ä»¥åŠä»£ç†æœåŠ¡å™¨ç¼“å­˜ï¼Œæœ€é•¿æ—¶é—´ä¸º1000ç§’ã€‚</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>3.2 Expires</strong></p>\n<blockquote>\n<p><code>Expires</code>æ˜¯<code>HTTP/1.0</code>å‡ºç°çš„å¤´ä¿¡æ¯ï¼ŒåŒæ ·æ˜¯ç”¨äºå†³å®šæœ¬åœ°ç¼“å­˜ç­–ç•¥çš„å¤´ï¼Œå®ƒæ˜¯ä¸€ä¸ªç»å¯¹æ—¶é—´ï¼Œæ—¶é—´æ ¼å¼æ˜¯å¦‚<code>Mon, 10 Jun 2015 21:31:12 GMT</code>ï¼Œåªè¦å‘é€è¯·æ±‚æ—¶é—´æ˜¯åœ¨<code>Expires</code>ä¹‹å‰ï¼Œé‚£ä¹ˆæœ¬åœ°ç¼“å­˜å§‹ç»ˆæœ‰æ•ˆï¼Œå¦åˆ™å°±ä¼šå»æœåŠ¡å™¨å‘é€è¯·æ±‚è·å–æ–°çš„èµ„æºã€‚å¦‚æœåŒæ—¶å‡ºç°<code>Cache-Controlï¼šmax-age</code>å’Œ<code>Expires</code>ï¼Œé‚£ä¹ˆ<code>max-age</code>ä¼˜å…ˆçº§æ›´é«˜ã€‚ä»–ä»¬å¯ä»¥è¿™æ ·ç»„åˆä½¿ç”¨</p>\n</blockquote>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">Cache-Control: public</span><br><span class=\"line\">Expires: Wed, Jan 10 2018 00:27:04 GMT</span><br></pre></td></tr></table></figure>\n\n<p><strong>3.3 æ‰€è°“çš„ç¼“å­˜åå•†</strong></p>\n<blockquote>\n<p>å½“ç¬¬ä¸€æ¬¡è¯·æ±‚æ—¶æœåŠ¡å™¨è¿”å›çš„å“åº”å¤´ä¸­å­˜åœ¨ä»¥ä¸‹æƒ…å†µæ—¶</p>\n</blockquote>\n<ul>\n<li>æ²¡æœ‰ <code>Cache-Control</code> å’Œ <code>Expires</code></li>\n<li><code>Cache-Control</code> å’Œ <code>Expires</code> è¿‡æœŸäº†</li>\n<li><code>Cache-Control</code> çš„å±æ€§è®¾ç½®ä¸º <code>no-cache</code> æ—¶</li>\n</ul>\n<blockquote>\n<p>é‚£ä¹ˆæµè§ˆå™¨ç¬¬äºŒæ¬¡è¯·æ±‚æ—¶å°±ä¼šä¸æœåŠ¡å™¨è¿›è¡Œåå•†ï¼Œè¯¢é—®æµè§ˆå™¨ä¸­çš„ç¼“å­˜èµ„æºæ˜¯ä¸æ˜¯æ—§ç‰ˆæœ¬ï¼Œéœ€ä¸éœ€è¦æ›´æ–°ï¼Œæ­¤æ—¶ï¼ŒæœåŠ¡å™¨å°±ä¼šåšå‡ºåˆ¤æ–­ï¼Œå¦‚æœç¼“å­˜å’ŒæœåŠ¡ç«¯èµ„æºçš„æœ€æ–°ç‰ˆæœ¬æ˜¯ä¸€è‡´çš„ï¼Œé‚£ä¹ˆå°±æ— éœ€å†æ¬¡ä¸‹è½½è¯¥èµ„æºï¼ŒæœåŠ¡ç«¯ç›´æ¥è¿”å›<code>304 Not Modified</code> çŠ¶æ€ç ï¼Œå¦‚æœæœåŠ¡å™¨å‘ç°æµè§ˆå™¨ä¸­çš„ç¼“å­˜å·²ç»æ˜¯æ—§ç‰ˆæœ¬äº†ï¼Œé‚£ä¹ˆæœåŠ¡å™¨å°±ä¼šæŠŠæœ€æ–°èµ„æºçš„å®Œæ•´å†…å®¹è¿”å›ç»™æµè§ˆå™¨ï¼ŒçŠ¶æ€ç å°±æ˜¯<code>200 Ok</code>ï¼Œé‚£ä¹ˆæœåŠ¡ç«¯æ˜¯æ ¹æ®ä»€ä¹ˆæ¥åˆ¤æ–­æµè§ˆå™¨çš„ç¼“å­˜æ˜¯ä¸æ˜¯æœ€æ–°çš„å‘¢ï¼Ÿå…¶å®æ˜¯æ ¹æ®<code>HTTP</code>çš„å¦å¤–ä¸¤ç»„å¤´ä¿¡æ¯ï¼Œåˆ†åˆ«æ˜¯ï¼š<code>Last-Modified/If-Modified-Since</code> ä¸ <code>ETag/If-None-Match</code>ã€‚</p>\n</blockquote>\n<p><strong>Last-Modified ä¸ If-Modified-Since</strong></p>\n<ul>\n<li>æµè§ˆå™¨ç¬¬ä¸€æ¬¡è¯·æ±‚èµ„æºæ—¶ï¼ŒæœåŠ¡å™¨ä¼šæŠŠèµ„æºçš„æœ€æ–°ä¿®æ”¹æ—¶é—´<code>Last-Modified:Thu, 29 Dec 2011 18:23:55 GMT</code>æ”¾åœ¨å“åº”å¤´ä¸­è¿”å›ç»™æµè§ˆå™¨</li>\n<li>ç¬¬äºŒæ¬¡è¯·æ±‚æ—¶ï¼Œæµè§ˆå™¨å°±ä¼šæŠŠä¸Šä¸€æ¬¡æœåŠ¡å™¨è¿”å›çš„ä¿®æ”¹æ—¶é—´æ”¾åœ¨è¯·æ±‚å¤´<code>If-Modified-Since:Thu, 29 Dec 2011 18:23:55</code>å‘é€ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨å°±ä¼šæ‹¿è¿™ä¸ªæ—¶é—´è·ŸæœåŠ¡å™¨ä¸Šçš„èµ„æºçš„æœ€æ–°ä¿®æ”¹æ—¶é—´è¿›è¡Œå¯¹æ¯”</li>\n</ul>\n<blockquote>\n<p>å¦‚æœä¸¤è€…ç›¸ç­‰æˆ–è€…å¤§äºæœåŠ¡å™¨ä¸Šçš„æœ€æ–°ä¿®æ”¹æ—¶é—´ï¼Œé‚£ä¹ˆè¡¨ç¤ºæµè§ˆå™¨çš„ç¼“å­˜æ˜¯æœ‰æ•ˆçš„ï¼Œæ­¤æ—¶ç¼“å­˜ä¼šå‘½ä¸­ï¼ŒæœåŠ¡å™¨å°±ä¸å†è¿”å›å†…å®¹ç»™æµè§ˆå™¨äº†ï¼ŒåŒæ—¶<code>Last-Modified</code>å¤´ä¹Ÿä¸ä¼šè¿”å›ï¼Œå› ä¸ºèµ„æºæ²¡è¢«ä¿®æ”¹ï¼Œè¿”å›äº†ä¹Ÿæ²¡ä»€ä¹ˆæ„ä¹‰ã€‚å¦‚æœæ²¡å‘½ä¸­ç¼“å­˜åˆ™æœ€æ–°ä¿®æ”¹çš„èµ„æºè¿åŒ<code>Last-Modified</code>å¤´ä¸€èµ·è¿”å›</p>\n</blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># ç¬¬ä¸€æ¬¡è¯·æ±‚è¿”å›çš„å“åº”å¤´</span></span><br><span class=\"line\">Cache-Control:max-age=3600</span><br><span class=\"line\">Expires: Fri, Jan 12 2018 00:27:04 GMT</span><br><span class=\"line\">Last-Modified: Wed, Jan 10 2018 00:27:04 GMT</span><br></pre></td></tr></table></figure>\n\n\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># ç¬¬äºŒæ¬¡è¯·æ±‚çš„è¯·æ±‚å¤´ä¿¡æ¯</span></span><br><span class=\"line\">If-Modified-Since: Wed, Jan 10 2018 00:27:04 GMT</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>è¿™ç»„å¤´ä¿¡æ¯æ˜¯åŸºäºèµ„æºçš„ä¿®æ”¹æ—¶é—´æ¥åˆ¤æ–­èµ„æºæœ‰æ²¡æœ‰æ›´æ–°ï¼Œå¦ä¸€ç§æ–¹å¼å°±æ˜¯æ ¹æ®èµ„æºçš„å†…å®¹æ¥åˆ¤æ–­ï¼Œå°±æ˜¯æ¥ä¸‹æ¥è¦è®¨è®ºçš„ <code>ETag</code> ä¸ <code>If-None-Match</code></p>\n</blockquote>\n<p><strong>ETagä¸If-None-Match</strong></p>\n<blockquote>\n<p><code>ETag/If-None-Match</code>ä¸<code>Last-Modified/If-Modified-Since</code>çš„æµç¨‹å…¶å®æ˜¯ç±»ä¼¼çš„ï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯å®ƒåŸºäºèµ„æºçš„å†…å®¹çš„æ‘˜è¦ä¿¡æ¯ï¼ˆæ¯”å¦‚<code>MD5 hash</code>ï¼‰æ¥åˆ¤æ–­</p>\n</blockquote>\n<blockquote>\n<p>æµè§ˆå™¨å‘é€ç¬¬äºŒæ¬¡è¯·æ±‚æ—¶ï¼Œä¼šæŠŠç¬¬ä¸€æ¬¡çš„å“åº”å¤´ä¿¡æ¯<code>ETag</code>çš„å€¼æ”¾åœ¨<code>If-None-Match</code>çš„è¯·æ±‚å¤´ä¸­å‘é€åˆ°æœåŠ¡å™¨ï¼Œä¸æœ€æ–°çš„èµ„æºçš„æ‘˜è¦ä¿¡æ¯å¯¹æ¯”ï¼Œå¦‚æœç›¸ç­‰ï¼Œå–æµè§ˆå™¨ç¼“å­˜ï¼Œå¦åˆ™å†…å®¹æœ‰æ›´æ–°ï¼Œæœ€æ–°çš„èµ„æºè¿åŒæœ€æ–°çš„æ‘˜è¦ä¿¡æ¯è¿”å›ã€‚ç”¨<code>ETag</code>çš„å¥½å¤„æ˜¯å¦‚æœå› ä¸ºæŸç§åŸå› åˆ°æ—¶èµ„æºçš„ä¿®æ”¹æ—¶é—´æ²¡æ”¹å˜ï¼Œé‚£ä¹ˆç”¨<code>ETag</code>å°±èƒ½åŒºåˆ†èµ„æºæ˜¯ä¸æ˜¯æœ‰è¢«æ›´æ–°ã€‚</p>\n</blockquote>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># ç¬¬ä¸€æ¬¡è¯·æ±‚è¿”å›çš„å“åº”å¤´ï¼š</span></span><br><span class=\"line\"></span><br><span class=\"line\">Cache-Control: public, max-age=31536000</span><br><span class=\"line\">ETag: <span class=\"string\">&quot;15f0fff99ed5aae4edffdd6496d7131f&quot;</span></span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># ç¬¬äºŒæ¬¡è¯·æ±‚çš„è¯·æ±‚å¤´ä¿¡æ¯ï¼š</span></span><br><span class=\"line\"></span><br><span class=\"line\">If-None-Match: <span class=\"string\">&quot;15f0fff99ed5aae4edffdd6496d7131f&quot;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"5-4-cookie-å’Œ-session\"><a href=\"#5-4-cookie-å’Œ-session\" class=\"headerlink\" title=\"5.4 cookie å’Œ session\"></a>5.4 cookie å’Œ session</h3><ul>\n<li><code>session</code>ï¼š æ˜¯ä¸€ä¸ªæŠ½è±¡æ¦‚å¿µï¼Œå¼€å‘è€…ä¸ºäº†å®ç°ä¸­æ–­å’Œç»§ç»­ç­‰æ“ä½œï¼Œå°† <code>user agent </code>å’Œ <code>server</code> ä¹‹é—´ä¸€å¯¹ä¸€çš„äº¤äº’ï¼ŒæŠ½è±¡ä¸ºâ€œä¼šè¯â€ï¼Œè¿›è€Œè¡ç”Ÿå‡ºâ€œä¼šè¯çŠ¶æ€â€ï¼Œä¹Ÿå°±æ˜¯ <code>session</code> çš„æ¦‚å¿µ</li>\n<li><code>cookie</code>ï¼šå®ƒæ˜¯ä¸€ä¸ªä¸–çºªå­˜åœ¨çš„ä¸œè¥¿ï¼Œ<code>http</code> åè®®ä¸­å®šä¹‰åœ¨ <code>header</code> ä¸­çš„å­—æ®µï¼Œå¯ä»¥è®¤ä¸ºæ˜¯ <code>session</code> çš„ä¸€ç§åç«¯æ— çŠ¶æ€å®ç°</li>\n</ul>\n<blockquote>\n<p>ç°åœ¨æˆ‘ä»¬å¸¸è¯´çš„ <code>session</code>ï¼Œæ˜¯ä¸ºäº†ç»•å¼€ <code>cookie</code> çš„å„ç§é™åˆ¶ï¼Œé€šå¸¸å€ŸåŠ© <code>cookie</code>æœ¬èº«å’Œåç«¯å­˜å‚¨å®ç°çš„ï¼Œä¸€ç§æ›´é«˜çº§çš„ä¼šè¯çŠ¶æ€å®ç°</p>\n</blockquote>\n<p><code>session</code> çš„å¸¸è§å®ç°è¦å€ŸåŠ©<code>cookie</code>æ¥å‘é€ <code>sessionID</code></p>\n<h3 id=\"5-5-å®‰å…¨é—®é¢˜ï¼Œå¦‚-XSS-å’Œ-CSRF\"><a href=\"#5-5-å®‰å…¨é—®é¢˜ï¼Œå¦‚-XSS-å’Œ-CSRF\" class=\"headerlink\" title=\"5.5 å®‰å…¨é—®é¢˜ï¼Œå¦‚ XSS å’Œ CSRF\"></a>5.5 å®‰å…¨é—®é¢˜ï¼Œå¦‚ XSS å’Œ CSRF</h3><ul>\n<li><code>XSS</code>ï¼šè·¨ç«™è„šæœ¬æ”»å‡»ï¼Œæ˜¯ä¸€ç§ç½‘ç«™åº”ç”¨ç¨‹åºçš„å®‰å…¨æ¼æ´æ”»å‡»ï¼Œæ˜¯ä»£ç æ³¨å…¥çš„ä¸€ç§ã€‚å¸¸è§æ–¹å¼æ˜¯å°†æ¶æ„ä»£ç æ³¨å…¥åˆæ³•ä»£ç é‡Œéšè—èµ·æ¥ï¼Œå†è¯±å‘æ¶æ„ä»£ç ï¼Œä»è€Œè¿›è¡Œå„ç§å„æ ·çš„éæ³•æ´»åŠ¨</li>\n</ul>\n<blockquote>\n<p>é˜²èŒƒï¼šè®°ä½ä¸€ç‚¹ â€œæ‰€æœ‰ç”¨æˆ·è¾“å…¥éƒ½æ˜¯ä¸å¯ä¿¡çš„â€ï¼Œæ‰€ä»¥å¾—åšè¾“å…¥è¿‡æ»¤å’Œè½¬ä¹‰</p>\n</blockquote>\n<ul>\n<li><code>CSRF</code>ï¼šè·¨ç«™è¯·æ±‚ä¼ªé€ ï¼Œä¹Ÿç§° <code>XSRF</code>ï¼Œæ˜¯ä¸€ç§æŒŸåˆ¶ç”¨æˆ·åœ¨å½“å‰å·²ç™»å½•çš„<code>Web</code>åº”ç”¨ç¨‹åºä¸Šæ‰§è¡Œéæœ¬æ„çš„æ“ä½œçš„æ”»å‡»æ–¹æ³•ã€‚ä¸ <code>XSS</code> ç›¸æ¯”ï¼Œ<code>XSS</code>åˆ©ç”¨çš„æ˜¯ç”¨æˆ·å¯¹æŒ‡å®šç½‘ç«™çš„ä¿¡ä»»ï¼Œ<code>CSRF</code>åˆ©ç”¨çš„æ˜¯ç½‘ç«™å¯¹ç”¨æˆ·ç½‘é¡µæµè§ˆå™¨çš„ä¿¡ä»»ã€‚</li>\n</ul>\n<blockquote>\n<p>é˜²èŒƒï¼šç”¨æˆ·æ“ä½œéªŒè¯ï¼ˆéªŒè¯ç ï¼‰ï¼Œé¢å¤–éªŒè¯æœºåˆ¶ï¼ˆ<code>token</code>ä½¿ç”¨ï¼‰ç­‰</p>\n</blockquote>\n"}]